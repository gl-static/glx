(self.webpackChunkchatting_webapp=self.webpackChunkchatting_webapp||[]).push([[391],{73859:(e,t,n)=>{"use strict";n.d(t,{F:()=>i}),n(88674);var s=n(35018),r=n(11106),a=n(66356);function i(e,t,n){return async()=>{let i;try{i=await r.je.createPaymentMethod()}catch(e){return e}const o=(0,a.li)(n)(e.confirmCardSetup),l=await o(i.client_secret,{payment_method:{card:t.card,billing_details:{name:t.name,address:{line1:t.address,line2:t.address2,city:t.city,state:t.state,country:(0,s.Cq)(t.country),postal_code:t.postalCode}}}});if(!l)return!1;const{setupIntent:c,error:d}=l;if(d)return!1;if(null==c)return!1;if("succeeded"!==c.status)return!1;try{await r.je.confirmPaymentMethod(c.id)}catch(e){return!1}return!0}}},57799:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var s=n(92337);function r(e){return t=>(t({type:s.MF.DISMISS_NOTICE,data:e}),{data:!0})}},391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>De});var s=n(37703),r=n(14890),a=n(74650),i=n(89980),o=n(38348),l=n(42560),c=n(47590),d=n(93278),u=n(57799),m=(n(73210),n(67294)),p=n(45697),h=n.n(p),f=n(92337),g=n(12266),C=(n(33948),n(44012)),_=n(74806),b=n(46195),E=n(82251),y=n(45288);function v(){return{type:f.MF.TRACK_ANNOUNCEMENT_BAR}}function M(){return{type:f.MF.DISMISS_ANNOUNCEMENT_BAR}}var S=n(33693),w=n(19728),I=n(15558),N=n(67556),R=n(74838),A=n(3598),T=(n(88674),n(43253)),O=n(59925),L=n(85163),P=n(74935),D=n(21843),B=n(47675);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=f.gT.StatTypes,Z={display:"flex",opacity:"0.56",flexWrap:"wrap"};class U extends m.PureComponent{constructor(e){super(e),k(this,"onContactUsClick",(async e=>{if(this.state.saving)return;this.setState({saving:!0,serverError:null});let t=!1;e&&e.target&&e.target.dataset&&e.target.dataset.forceack?(t=!0,(0,O.L9)("admin","click_warn_metric_mailto",{metric:this.props.warnMetricStatus.id})):(0,O.L9)("admin","click_warn_metric_contact_us",{metric:this.props.warnMetricStatus.id});const{error:n}=await this.props.actions.sendWarnMetricAck(this.props.warnMetricStatus.id,t);n?this.setState({serverError:n,saving:!1}):this.onHide()})),k(this,"onHide",(()=>{this.setState({serverError:null,saving:!1}),this.setState({gettingTrialError:null,gettingTrial:!1}),this.props.actions.closeModal(f.r8.WARN_METRIC_ACK),this.props.closeParentComponent&&this.props.closeParentComponent()})),k(this,"renderContactUsError",(()=>{const{serverError:e}=this.state;if(!e)return"";let t="Mattermost Contact Us request.";this.props.warnMetricStatus.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?t="Mattermost Contact Us request.\r\nMy team now has 500 users, and I am considering Mattermost Enterprise Edition.":this.props.warnMetricStatus.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(t="Mattermost Contact Us request.\r\nI am interested in learning more about improving performance with Elasticsearch."),t+="\r\n",t+="Contact "+this.props.user.first_name+" "+this.props.user.last_name,t+="\r\n",t+="Email "+this.props.user.email,t+="\r\n",this.props.stats&&this.props.stats[x.TOTAL_USERS]&&(t+="Registered Users "+this.props.stats[x.TOTAL_USERS],t+="\r\n"),t+="Site URL "+(0,g.fO)(),t+="\r\n",t+="Telemetry Id "+this.props.telemetryId,t+="\r\n",t+="If you have any additional inquiries, please contact support@mattermost.com";const n="mailto:support-advisor@mattermost.com?cc="+this.props.user.email+"&subject="+encodeURIComponent("Mattermost Contact Us request")+"&body="+encodeURIComponent(t);return m.createElement("div",{className:"form-group has-error"},m.createElement("br",null),m.createElement("label",{className:"control-label"},m.createElement(C.Z,{id:"warn_metric_ack_modal.mailto.message",defaultMessage:"Support could not be reached. Please {link}.",values:{link:m.createElement(q,{url:n,messageId:(0,E.t)("warn_metric_ack_modal.mailto.link"),forceAck:!0,defaultMessage:"email us",onClickHandler:this.onContactUsClick})}})))})),this.state={saving:!1,serverError:null,gettingTrial:!1,gettingTrialError:null}}componentDidMount(){L.pu()}render(){let e,t;this.props.warnMetricStatus.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?e=m.createElement(C.Z,{id:"warn_metric_ack_modal.number_of_users.header.title",defaultMessage:"Scaling with Gomlo"}):this.props.warnMetricStatus.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(e=m.createElement(C.Z,{id:"warn_metric_ack_modal.number_of_posts.header.title",defaultMessage:"Improve Performance"})),this.props.warnMetricStatus.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?t=m.createElement(C.Z,{id:"warn_metric_ack_modal.number_of_active_users.description",defaultMessage:"Mattermost strongly recommends that deployments of over {limit}} users take advantage of features such as user management, server clustering, and performance monitoring. Contact us to learn more and let us know how we can help.",values:{limit:this.props.warnMetricStatus.limit}}):this.props.warnMetricStatus.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(t=m.createElement(C.Z,{id:"warn_metric_ack_modal.number_of_posts.description",defaultMessage:"Your Mattermost system has a large number of messages. The default Mattermost database search starts to show performance degradation at around 2.5 million posts. With over 5 million posts, Elasticsearch can help avoid significant performance issues, such as timeouts, with search and at-mentions. Contact us to learn more and let us know how we can help.",values:{limit:this.props.warnMetricStatus.limit}}));const n=m.createElement("div",{style:Z,className:"help__format-text"},m.createElement(C.Z,{id:"warn_metric_ack_modal.subtext",defaultMessage:"By clicking Acknowledge, you will be sharing your information with Mattermost Inc. {link}",values:{link:m.createElement(B.Z,{url:"https://mattermost.com/pl/default-admin-advisory",messageId:(0,E.t)("warn_metric_ack_modal.learn_more.link"),defaultMessage:"Learn more"})}})),s=this.renderContactUsError(),r=m.createElement(T.Z.Footer,null,m.createElement("button",{className:"btn btn-primary save-button","data-dismiss":"modal",disabled:this.state.saving,autoFocus:!0,onClick:this.onContactUsClick},m.createElement(D.Z,{loading:this.state.saving,text:P._u("admin.warn_metric.sending-email","Sending email")},m.createElement(C.Z,{id:"warn_metric_ack_modal.contact_support",defaultMessage:"Acknowledge"}))));return m.createElement(T.Z,{dialogClassName:"a11y__modal",show:this.props.show,keyboard:!1,onHide:this.onHide,onExited:this.onHide,role:"dialog","aria-labelledby":"warnMetricAckHeaderModalLabel"},m.createElement(T.Z.Header,{closeButton:!0},m.createElement(T.Z.Title,{componentClass:"h1",id:"warnMetricAckHeaderModalLabel"},e)),m.createElement(T.Z.Body,null,m.createElement("div",null,t,m.createElement("br",null),s,m.createElement("br",null),n)),r)}}k(U,"propTypes",{telemetryId:h().string,show:h().bool.isRequired,closeParentComponent:h().func,warnMetricStatus:h().any.isRequired,actions:h().shape({closeModal:h().func.isRequired,getStandardAnalytics:h().func.isRequired,sendWarnMetricAck:h().func.isRequired}).isRequired});const q=({defaultMessage:e,messageId:t,onClickHandler:n,url:s,forceAck:r})=>m.createElement("a",{href:s,rel:"noopener noreferrer",target:"_blank","data-forceAck":r,onClick:e=>{n(e)}},m.createElement(C.Z,{id:t,defaultMessage:e}));q.propTypes={defaultMessage:h().string.isRequired,messageId:h().string.isRequired,onClickHandler:h().func.isRequired,url:h().string.isRequired,forceAck:h().bool.isRequired};const F=(0,s.connect)((function(e,t){const n=(0,l.iE)(e);return{stats:e.entities.admin.analytics,user:(0,N.ts)(e),telemetryId:n.DiagnosticId,show:(0,A.g)(e,f.r8.WARN_METRIC_ACK),closeParentComponent:t.closeParentComponent}}),(function(e){return{actions:(0,r.bindActionCreators)({closeModal:R.M,getStandardAnalytics:d.pu,sendWarnMetricAck:d.Zl},e)}}))(U);var j=n(42306);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class W extends m.PureComponent{constructor(...e){super(...e),H(this,"handleClose",(e=>{e.preventDefault(),this.props.handleClose&&this.props.handleClose()}))}componentDidMount(){this.props.actions.incrementAnnouncementBarCount(),document.body.classList.add("announcement-bar--fixed")}componentWillUnmount(){1===this.props.announcementBarCount&&document.body.classList.remove("announcement-bar--fixed"),this.props.actions.decrementAnnouncementBarCount()}render(){if(!this.props.message)return null;let e="announcement-bar";const t={backgroundColor:"",color:""},n={color:""};let s;this.props.color&&this.props.textColor?(t.backgroundColor=this.props.color,t.color=this.props.textColor,n.color=this.props.textColor):this.props.type===f.Mw.CRITICAL?e="announcement-bar announcement-bar-critical":this.props.type===f.Mw.SUCCESS?e="announcement-bar announcement-bar-success":this.props.type===f.Mw.ADVISOR?e="announcement-bar announcement-bar-advisor":this.props.type===f.Mw.ADVISOR_ACK?e="announcement-bar announcement-bar-advisor-ack":this.props.type===f.Mw.GENERAL&&(e="announcement-bar announcement-bar-general"),this.props.showCloseButton&&(s=m.createElement("a",{href:"#",className:"announcement-bar__close",style:n,onClick:this.handleClose},"×"));let r=this.props.message;"string"==typeof r&&(r=m.createElement(y.Z,{id:this.props.message,defaultMessage:""}));const a=m.createElement(w.Z,{id:"announcement-bar__tooltip"},this.props.tooltipMsg?this.props.tooltipMsg:r);return m.createElement("div",{className:e,style:t},m.createElement(I.Z,{delayShow:f.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:a},m.createElement("span",null,this.props.icon?this.props.icon:(()=>this.props.showLinkAsButton&&(this.props.showCloseButton?m.createElement("div",{className:"content__icon"},""):m.createElement("div",{className:"content__icon"},"")))(),r,!this.props.showLinkAsButton&&m.createElement("span",{className:"announcement-bar__link"},this.props.showModal&&m.createElement(C.Z,{id:this.props.modalButtonText,defaultMessage:this.props.modalButtonDefaultText},(e=>m.createElement(j.Z,{accessibilityLabel:e,className:"color--link--adminack",dialogType:F,onClick:()=>(0,O.L9)("admin","click_warn_metric_learn_more"),modalId:f.r8.WARN_METRIC_ACK,dialogProps:{warnMetricStatus:this.props.warnMetricStatus,closeParentComponent:this.props.handleClose}},e)))),this.props.showLinkAsButton&&m.createElement("button",{className:"upgrade-button",onClick:this.props.onButtonClick},m.createElement(C.Z,{id:this.props.modalButtonText,defaultMessage:this.props.modalButtonDefaultText})))),s)}}H(W,"propTypes",{showCloseButton:h().bool,color:h().string,textColor:h().string,type:h().string,message:h().node.isRequired,tooltipMsg:h().node,handleClose:h().func,showModal:h().bool,announcementBarCount:h().number,onButtonClick:h().func,modalButtonText:h().string,modalButtonDefaultText:h().string,showLinkAsButton:h().bool,icon:h().node,actions:h().shape({incrementAnnouncementBarCount:h().func.isRequired,decrementAnnouncementBarCount:h().func.isRequired}).isRequired}),H(W,"defaultProps",{showCloseButton:!1,color:"",textColor:"",type:f.Mw.CRITICAL,showLinkAsButton:!1,isTallBanner:!1});const V=(0,s.connect)((function(e){return{announcementBarCount:(0,S.b)(e)}}),(function(e){return{actions:(0,r.bindActionCreators)({incrementAnnouncementBarCount:v,decrementAnnouncementBarCount:M},e)}}))(W);n(19601);var Y=n(64852);const G=n.p+"files/5212bbecd561ec97c98cbb4e71471ee3.svg";function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const K="__announcement__";class Q extends m.PureComponent{constructor(e){super(e),z(this,"handleDismiss",(()=>{this.props.allowDismissal&&((0,O.L9)("signup","click_dismiss_bar"),localStorage.setItem(K+this.props.text,!0),this.setState({dismissed:!0}),this.props.onDismissal&&this.props.onDismissal())})),this.state={dismissed:!0}}static getDerivedStateFromProps(e){return{dismissed:localStorage.getItem(K+e.text)}}render(){if(this.state.dismissed)return null;const e=this.props,{allowDismissal:t,text:n}=e,s=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["allowDismissal","text"]);return m.createElement(V,Object.assign({},s,{showCloseButton:t,handleClose:this.handleDismiss,message:m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:G,loading:"lazy"}),m.createElement(Y.Z,{message:n,options:{singleline:!0,mentionHighlight:!1}}))}))}}z(Q,"propTypes",{allowDismissal:h().bool.isRequired,text:h().string.isRequired,onDismissal:h().func});const $=n.p+"files/9054075a1cdd8c2a0ed11da3e9632fd0.svg",X=n.p+"files/2aa0257a61023b2faad41b5b075e05b3.svg";var J=n(13208),ee=n(36842);const te=e=>{var t,n,s;const r=()=>{e.actions.dismissNotice(f.MN.LICENSE_EXPIRING)},a=()=>{e.actions.dismissNotice(f.MN.TRIAL_LICENSE_EXPIRING)},i=()=>{e.actions.dismissNotice(f.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS)},o=()=>{e.actions.dismissNotice(f.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS)},l=()=>{e.actions.dismissNotice(f.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS_ACK)},c=()=>{e.actions.dismissNotice(f.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS_ACK)},d={success:"renew_license_banner_success",error:"renew_license_banner_fail"},u=t=>{if(!t||t.id!==f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500&&t.id!==f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M)return null;let n,s="",r="",a=!1,d=null,u=!1;return t.acked?(s=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:$,loading:"lazy"}),m.createElement(C.Z,{id:"announcement_bar.warn_metric_status_ack.text",defaultMessage:"Thank you for contacting Mattermost. We will follow up with you soon."})),t.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?(n=l,d=e.dismissedNumberOfActiveUsersWarnMetricStatusAck):t.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(n=c,d=e.dismissedNumberOfPostsWarnMetricStatusAck),r=f.Mw.ADVISOR_ACK,a=!1,u=!0):(t.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?(s=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:G,loading:"lazy"}),m.createElement(y.Z,{id:"announcement_bar.number_active_users_warn_metric_status.text",defaultMessage:"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.",values:{limit:t.limit}})),n=i,d=e.dismissedNumberOfActiveUsersWarnMetricStatus):t.id===f.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(s=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:G,loading:"lazy"}),m.createElement(y.Z,{id:"announcement_bar.number_of_posts_warn_metric_status.text",defaultMessage:"You now have over {limit} posts. We strongly recommend using advanced features for large-scale servers.",values:{limit:t.limit}})),n=o,d=e.dismissedNumberOfPostsWarnMetricStatus),r=f.Mw.ADVISOR,a=!0,u=!1),{Message:s,DismissFunc:n,IsDismissed:d,Type:r,ShowModal:a,CanCloseBar:u}};if(e.canViewSystemErrors){var p;if((0,b.Ez)(e.license)){const e=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:X,loading:"lazy"}),m.createElement(C.Z,{id:"announcement_bar.error.license_expired",defaultMessage:"Enterprise license is expired and some features may be disabled."}));return m.createElement(V,{type:f.Mw.CRITICAL,message:m.createElement(m.Fragment,null,e,m.createElement(J.Z,{telemetryInfo:d})),tooltipMsg:e})}if((0,b.CH)(e.license)){const e=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:X,loading:"lazy"}),m.createElement(C.Z,{id:"announcement_bar.error.license_expired",defaultMessage:"Enterprise license is expired and some features may be disabled."}));return m.createElement(V,{type:f.Mw.CRITICAL,message:m.createElement(m.Fragment,null,e,m.createElement(J.Z,{telemetryInfo:d})),tooltipMsg:e})}const t=(0,b.fv)(e.license);if((0,b.h$)(e.license)&&void 0!==t&&t<=14&&!e.dismissedExpiringTrialLicense){const e=m.createElement(ee.Z,{buttonTextElement:m.createElement(y.Z,{id:"announcement_bar.error.purchase_a_license_now",defaultMessage:"Purchase a License Now"})});let n=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:G,loading:"lazy"}),m.createElement(y.Z,{id:"announcement_bar.error.trial_license_expiring",defaultMessage:"**There are {days} days left on your free trial.**",values:{days:t}})),s=f.Mw.ANNOUNCEMENT;return t<1&&(n=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:X,loading:"lazy"}),m.createElement(y.Z,{id:"announcement_bar.error.trial_license_expiring_last_day",defaultMessage:"**This is the last day of your free trial. Purchase a license now to continue using E10 & E20 features.**"})),s=f.Mw.CRITICAL),m.createElement(V,{showCloseButton:!0,handleClose:a,type:s,message:m.createElement(m.Fragment,null,n,e),tooltipMsg:n})}if(!(0,b.h$)(e.license)&&(0,b.yq)(e.license)&&!e.dismissedExpiringLicense){var h;const t=m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:G,loading:"lazy"}),m.createElement(C.Z,{id:"announcement_bar.error.license_expiring",defaultMessage:"Enterprise license expires on {date, date, long}.",values:{date:new Date(parseInt(null===(h=e.license)||void 0===h?void 0:h.ExpiresAt,10))}}));return m.createElement(V,{showCloseButton:!0,handleClose:r,type:f.Mw.ANNOUNCEMENT,message:m.createElement(m.Fragment,null,t,m.createElement(J.Z,{telemetryInfo:d})),tooltipMsg:t})}if("false"===(null===(p=e.license)||void 0===p?void 0:p.IsLicensed)&&e.warnMetricsStatus)for(const t of Object.values(e.warnMetricsStatus)){const e=u(t);if(e&&!e.IsDismissed)return m.createElement(V,{showCloseButton:e.CanCloseBar,handleClose:e.DismissFunc,type:e.Type,showModal:e.ShowModal,modalButtonText:(0,E.t)("announcement_bar.error.warn_metric_status.link"),modalButtonDefaultText:"Learn more",warnMetricStatus:t,message:e.Message})}}else if((0,b.Ez)(e.license))return m.createElement(V,{type:f.Mw.CRITICAL,message:m.createElement(m.Fragment,null,m.createElement("img",{className:"advisor-icon",src:X,loading:"lazy"}),m.createElement(C.Z,{id:f.MN.LICENSE_PAST_GRACE,defaultMessage:"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details."}))});const{formatMessage:g}=e.intl;if("true"!==(null===(t=e.config)||void 0===t?void 0:t.SendEmailNotifications)&&"true"===(null===(n=e.config)||void 0===n?void 0:n.EnablePreviewModeBanner)){const e=g({id:f.MN.PREVIEW_MODE,defaultMessage:"Preview Mode: Email notifications have not been configured"});return m.createElement(Q,{allowDismissal:!0,text:e,type:f.Mw.SUCCESS})}if(e.canViewSystemErrors&&""===(null===(s=e.config)||void 0===s?void 0:s.SiteURL)){var _;let t,n;"true"===(null===(_=e.config)||void 0===_?void 0:_.EnableSignUpWithGitLab)?(t=(0,E.t)("announcement_bar.error.site_url_gitlab.full"),n="Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) either on the [System Console](/admin_console/environment/web_server) or, if you're using GitLab Mattermost, in gitlab.rb."):(t=(0,E.t)("announcement_bar.error.site_url.full"),n="Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) on the [System Console](/admin_console/environment/web_server).");const s=g({id:t,defaultMessage:n},{siteURL:e.siteURL});return m.createElement(Q,{allowDismissal:!0,text:s,type:f.Mw.ANNOUNCEMENT})}return null};te.propTypes={license:h().any,canViewSystemErrors:h().bool.isRequired,totalUsers:h().number,dismissedExpiringTrialLicense:h().bool,dismissedExpiringLicense:h().bool,dismissedNumberOfActiveUsersWarnMetricStatus:h().bool,dismissedNumberOfActiveUsersWarnMetricStatusAck:h().bool,dismissedNumberOfPostsWarnMetricStatus:h().bool,dismissedNumberOfPostsWarnMetricStatusAck:h().bool,siteURL:h().string.isRequired,actions:h().shape({dismissNotice:h().func.isRequired}).isRequired};const ne=(0,_.ZP)(te),se=(0,s.connect)((function(e){return{siteURL:(0,g.fO)(),dismissedExpiringTrialLicense:Boolean(e.views.notice.hasBeenDismissed[f.MN.TRIAL_LICENSE_EXPIRING]),dismissedExpiringLicense:Boolean(e.views.notice.hasBeenDismissed[f.MN.LICENSE_EXPIRING]),dismissedNumberOfActiveUsersWarnMetricStatus:Boolean(e.views.notice.hasBeenDismissed[f.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS]),dismissedNumberOfActiveUsersWarnMetricStatusAck:Boolean(e.views.notice.hasBeenDismissed[f.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS_ACK]),dismissedNumberOfPostsWarnMetricStatus:Boolean(e.views.notice.hasBeenDismissed[f.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS]),dismissedNumberOfPostsWarnMetricStatusAck:Boolean(e.views.notice.hasBeenDismissed[f.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS_ACK])}}),(function(e){return{actions:(0,r.bindActionCreators)({dismissNotice:u.G},e)}}))(ne);var re=n(52952);function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ie extends m.PureComponent{constructor(e){super(e),ae(this,"reloadPage",(()=>{window.location.reload()})),this.state={serverVersionOnAppLoad:e.serverVersion}}static getDerivedStateFromProps(e,t){return!t.serverVersionOnAppLoad&&e.serverVersion?{serverVersionOnAppLoad:e.serverVersion}:null}render(){const{serverVersionOnAppLoad:e}=this.state,{serverVersion:t}=this.props;return e?(0,re.p)(e,t)?null:m.createElement(V,{type:f.Mw.ANNOUNCEMENT,message:m.createElement(m.Fragment,null,m.createElement(C.Z,{id:"version_bar.new",defaultMessage:"A new version of Mattermost is available."})," ",m.createElement("a",{onClick:this.reloadPage},m.createElement(C.Z,{id:"version_bar.refresh",defaultMessage:"Refresh the app now"})),".")}):null}}ae(ie,"propTypes",{serverVersion:h().string.isRequired});const oe=(0,s.connect)((function(e){return{serverVersion:e.entities.general.serverVersion}}))(ie);var le=n(28847),ce=n(26961),de=n(36745),ue=n(41609),me=n.n(ue),pe=n(65339),he=n(67530);function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ge extends m.PureComponent{constructor(...e){super(...e),fe(this,"handleButtonClick",(()=>{})),fe(this,"handleClose",(async()=>{(0,O.L9)(f.EA.CLOUD_ADMIN,"click_close_banner_user_limit_reached"),await this.props.actions.savePreferences(this.props.currentUser.id,[{category:f.uP.CLOUD_UPGRADE_BANNER,user_id:this.props.currentUser.id,name:f.gv.HIDE,value:"true"}])})),fe(this,"shouldShowBanner",(()=>{const{userLimit:e,analytics:t,userIsAdmin:n,isCloud:s,subscription:r}=this.props;return null!==r&&"true"!==(null==r?void 0:r.is_paid_tier)&&!!s&&!!n&&!(!e||e>t.TOTAL_USERS||!e)})),fe(this,"isDismissable",(()=>{const{userLimit:e,analytics:t}=this.props;let n=!0;return e<t.TOTAL_USERS&&(n=!1),n})),fe(this,"showModal",(()=>{this.isDismissable()?(0,O.L9)(f.EA.CLOUD_ADMIN,"click_upgrade_banner_user_limit_reached"):(0,O.L9)(f.EA.CLOUD_ADMIN,"click_upgrade_banner_user_limit_exceeded"),this.props.actions.openModal({modalId:f.r8.CLOUD_PURCHASE,dialogType:pe.Z})}))}async componentDidMount(){me()(this.props.analytics)&&await this.props.actions.getStandardAnalytics(),me()(this.props.subscription)||me()(this.props.analytics)||!this.shouldShowBanner()||(this.isDismissable()?(0,O.L9)(f.EA.CLOUD_ADMIN,"bannerview_user_limit_reached"):(0,O.L9)(f.EA.CLOUD_ADMIN,"bannerview_user_limit_exceeded"))}render(){const{userLimit:e,analytics:t,preferences:n}=this.props;if(me()(this.props.analytics))return null;if(!this.shouldShowBanner())return null;if(e===t.TOTAL_USERS&&n.some((e=>e.name===f.gv.HIDE&&"true"===e.value)))return null;const s=this.isDismissable();return m.createElement(V,{type:s?f.Mw.ADVISOR:f.Mw.CRITICAL,showCloseButton:s,handleClose:this.handleClose,onButtonClick:this.showModal,modalButtonText:(0,E.t)("admin.billing.subscription.upgradeMattermostCloud.upgradeButton"),modalButtonDefaultText:"Upgrade Mattermost Cloud",message:s?(0,E.t)("upgrade.cloud_banner_reached"):(0,E.t)("upgrade.cloud_banner_over"),showLinkAsButton:!0})}}fe(ge,"propTypes",{userLimit:h().number.isRequired,userIsAdmin:h().bool.isRequired,preferences:h().array.isRequired,isCloud:h().bool.isRequired,actions:h().shape({savePreferences:h().func.isRequired,getStandardAnalytics:h().func.isRequired,getCloudSubscription:h().func.isRequired,openModal:h().func.isRequired}).isRequired});const Ce=(0,he.Z)(ge),_e=(0,s.connect)((function(e){const t=(0,ce.YX)();return{userLimit:parseInt((0,l.iE)(e).ExperimentalCloudUserLimit,10),analytics:e.entities.admin.analytics,userIsAdmin:(0,i.BW)(e),currentUser:(0,i.ts)(e),isCloud:"true"===(0,l.lJ)(e).Cloud,subscription:e.entities.cloud.subscription,preferences:t(e,f.uP.CLOUD_UPGRADE_BANNER)}}),(function(e){return{actions:(0,r.bindActionCreators)({savePreferences:le.$A,getStandardAnalytics:d.pu,openModal:R.h,getCloudSubscription:de.oR},e)}}))(Ce);var be=n(89262),Ee=n(85769);function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ve extends m.PureComponent{constructor(...e){super(...e),ye(this,"isMostRecentPaymentFailed",(()=>{var e,t;return"failed"===(null===(e=this.props.subscription)||void 0===e||null===(t=e.last_invoice)||void 0===t?void 0:t.status)})),ye(this,"shouldShowBanner",(()=>{const{userIsAdmin:e,isCloud:t,subscription:n}=this.props;return!(null===n||"true"!==(null==n?void 0:n.is_paid_tier)||!t||!e||!(0,Ee.s)(this.props.customer)&&!this.isMostRecentPaymentFailed())})),ye(this,"updatePaymentInfo",(()=>{be.m.push("/admin_console/billing/payment_info")}))}async componentDidMount(){me()(this.props.customer)&&await this.props.actions.getCloudCustomer()}render(){return me()(this.props.customer)||me()(this.props.subscription)?null:this.shouldShowBanner()?m.createElement(V,{type:f.Mw.CRITICAL,showCloseButton:!1,onButtonClick:this.updatePaymentInfo,modalButtonText:(0,E.t)("admin.billing.subscription.updatePaymentInfo"),modalButtonDefaultText:"Update payment info",message:this.isMostRecentPaymentFailed()?(0,E.t)("admin.billing.subscription.mostRecentPaymentFailed"):(0,E.t)("admin.billing.subscription.creditCardExpired"),showLinkAsButton:!0,isTallBanner:!0}):null}}ye(ve,"propTypes",{userIsAdmin:h().bool.isRequired,isCloud:h().bool.isRequired,actions:h().shape({getCloudSubscription:h().func.isRequired,getCloudCustomer:h().func.isRequired}).isRequired});const Me=(0,he.Z)(ve),Se=(0,s.connect)((function(e){return{userIsAdmin:(0,i.BW)(e),isCloud:"true"===(0,l.lJ)(e).Cloud,subscription:e.entities.cloud.subscription,customer:e.entities.cloud.customer}}),(function(e){return{actions:(0,r.bindActionCreators)({savePreferences:le.$A,getStandardAnalytics:d.pu,openModal:R.h,getCloudSubscription:de.oR,getCloudCustomer:de.hS},e)}}))(Me);function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie;!function(e){e[e.TRIAL_14_DAYS=14]="TRIAL_14_DAYS",e[e.TRIAL_3_DAYS=3]="TRIAL_3_DAYS",e[e.TRIAL_2_DAYS=2]="TRIAL_2_DAYS",e[e.TRIAL_1_DAY=1]="TRIAL_1_DAY"}(Ie||(Ie={}));class Ne extends m.PureComponent{constructor(...e){super(...e),we(this,"handleClose",(async()=>{const{daysLeftOnTrial:e}=this.props;let t="";e>Ie.TRIAL_3_DAYS?t="14_days_banner":e<=Ie.TRIAL_3_DAYS&&e>=Ie.TRIAL_1_DAY&&(t="3_days_banner"),(0,O.L9)(f.EA.CLOUD_ADMIN,"dismissed_banner_trial_".concat(e,"_days")),await this.props.actions.savePreferences(this.props.currentUser.id,[{category:f.uP.CLOUD_TRIAL_BANNER,user_id:this.props.currentUser.id,name:f.gv.TRIAL,value:"".concat(t)}])})),we(this,"shouldShowBanner",(()=>{const{isFreeTrial:e,userIsAdmin:t,isCloud:n}=this.props;return e&&t&&n})),we(this,"isDismissable",(()=>{const{daysLeftOnTrial:e}=this.props;let t=!0;return e<=Ie.TRIAL_1_DAY&&(t=!1),t})),we(this,"showModal",(()=>{const{daysLeftOnTrial:e}=this.props;this.isDismissable()?(0,O.L9)(f.EA.CLOUD_ADMIN,"click_subscribe_from_trial_banner_".concat(e,"_days")):(0,O.L9)(f.EA.CLOUD_ADMIN,"click_subscribe_from_banner_trial_ended"),this.props.actions.openModal({modalId:f.r8.CLOUD_PURCHASE,dialogType:pe.Z})}))}async componentDidMount(){if(me()(this.props.analytics)&&await this.props.actions.getStandardAnalytics(),!me()(this.props.subscription)&&!me()(this.props.analytics)&&this.shouldShowBanner()){const{daysLeftOnTrial:e}=this.props;this.isDismissable()?(0,O.L9)(f.EA.CLOUD_ADMIN,"bannerview_trial_".concat(e,"_days")):(0,O.L9)(f.EA.CLOUD_ADMIN,"bannerview_trial_limit_ended")}}render(){const{daysLeftOnTrial:e,preferences:t}=this.props;if(me()(this.props.analytics))return null;if(!this.shouldShowBanner())return null;if(t.some((e=>e.name===f.gv.TRIAL&&"14_days_banner"===e.value))&&e>Ie.TRIAL_3_DAYS||e<=Ie.TRIAL_3_DAYS&&e>=Ie.TRIAL_1_DAY&&t.some((e=>e.name===f.gv.TRIAL&&"3_days_banner"===e.value)))return null;const n=m.createElement(C.Z,{id:"admin.billing.subscription.cloudTrial.moreThan3Days",defaultMessage:"Your trial has started! There are {daysLeftOnTrial} days left",values:{daysLeftOnTrial:e}}),s=m.createElement(C.Z,{id:"admin.billing.subscription.cloudTrial.daysLeftOnTrial",defaultMessage:"There are {daysLeftOnTrial} days left on your free trial",values:{daysLeftOnTrial:e}});let r,a;switch(e){case Ie.TRIAL_3_DAYS:case Ie.TRIAL_2_DAYS:r=s;break;case Ie.TRIAL_1_DAY:r=(0,E.t)("admin.billing.subscription.cloudTrial.lastDay");break;default:r=n,a=m.createElement("i",{className:"icon-check-outline-circle"})}const i=this.isDismissable();return m.createElement(V,{type:i?f.Mw.ADVISOR:f.Mw.CRITICAL,showCloseButton:i,handleClose:this.handleClose,onButtonClick:this.showModal,modalButtonText:(0,E.t)("admin.billing.subscription.cloudTrial.subscribeButton"),modalButtonDefaultText:"Subscribe Now",message:r,showLinkAsButton:!0,icon:a})}}we(Ne,"propTypes",{userIsAdmin:h().bool.isRequired,isFreeTrial:h().bool.isRequired,preferences:h().array.isRequired,daysLeftOnTrial:h().number.isRequired,isCloud:h().bool.isRequired,actions:h().shape({savePreferences:h().func.isRequired,getStandardAnalytics:h().func.isRequired,getCloudSubscription:h().func.isRequired,openModal:h().func.isRequired}).isRequired});const Re=(0,he.Z)(Ne),Ae=(0,s.connect)((function(e){const t=(0,ce.YX)(),n=e.entities.cloud.subscription,s="true"===(0,l.lJ)(e).Cloud;let r=!1,a=0;return s&&"true"===(null==n?void 0:n.is_free_trial)&&(r=!0,a=(0,P.Hq)(n.trial_end_at)),{isFreeTrial:r,daysLeftOnTrial:a,analytics:e.entities.admin.analytics,userIsAdmin:(0,i.BW)(e),currentUser:(0,i.ts)(e),isCloud:s,subscription:n,preferences:t(e,f.uP.CLOUD_TRIAL_BANNER)}}),(function(e){return{actions:(0,r.bindActionCreators)({savePreferences:le.$A,getStandardAnalytics:d.pu,openModal:R.h,getCloudSubscription:de.oR},e)}}))(Re);class Te extends m.PureComponent{render(){let e=null;"true"===this.props.config.EnableBanner&&this.props.config.BannerText.trim()&&(e=m.createElement(Q,{color:this.props.config.BannerColor,textColor:this.props.config.BannerTextColor,allowDismissal:"true"===this.props.config.AllowBannerDismissal,text:this.props.config.BannerText}));let t=null;this.props.latestError&&(t=m.createElement(V,{type:this.props.latestError.error.type,message:this.props.latestError.error.message,showCloseButton:!0,handleClose:this.props.actions.dismissError}));let n=null,s=null,r=null;return"true"===this.props.license.Cloud&&(n=m.createElement(_e,null),s=m.createElement(Se,null),r=m.createElement(Ae,null)),m.createElement(m.Fragment,null,e,t,n,s,r,m.createElement(oe,null),m.createElement(se,{config:this.props.config,license:this.props.license,canViewSystemErrors:this.props.canViewSystemErrors,totalUsers:this.props.totalUsers,user:this.props.user,warnMetricsStatus:this.props.warnMetricsStatus}))}}var Oe,Le,Pe;Oe=Te,Le="propTypes",Pe={license:h().object,config:h().object,user:h().shape({email:h().string.isRequired,email_verified:h().bool}),canViewSystemErrors:h().bool.isRequired,latestError:h().object,totalUsers:h().number,warnMetricsStatus:h().object,actions:h().shape({dismissError:h().func.isRequired}).isRequired},Le in Oe?Object.defineProperty(Oe,Le,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):Oe[Le]=Pe;const De=(0,s.connect)((function(e){const t=(0,o.AN)(e,{permission:a.Pl.MANAGE_SYSTEM}),n=(0,l.lJ)(e),s=(0,l.iE)(e),r=(0,i.ts)(e),c=function(e){return e.errors.filter((e=>e.displayable))}(e),d=(0,l.zG)(e),u=e.entities.admin.analytics.TOTAL_USERS;let m=null;return c&&c.length>=1&&(m=c[0]),{license:n,config:s,user:r,canViewSystemErrors:t,latestError:m,totalUsers:u,warnMetricsStatus:d}}),(function(e){const t=c.YN.bind(null,0);return{actions:(0,r.bindActionCreators)({getStandardAnalytics:d.pu,dismissError:t,dismissNotice:u.G},e)}}))(Te)},36842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),r=n.n(s),a=(n(88674),n(67294)),i=n(59925);const o=e=>a.createElement("button",{className:"annnouncementBar__purchaseNow",onClick:e=>(async e=>{e.preventDefault(),(0,i.L9)("admin","in_trial_purchase_license"),window.open("https://customers.mattermost.com/signup","_blank")})(e)},e.buttonTextElement);o.propTypes={buttonTextElement:r().element.isRequired};const l=o},13208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var s=n(37703),r=n(14890),a=n(74838),i=n(45697),o=n.n(i),l=(n(33948),n(88674),n(67294)),c=n(44012),d=n(11106),u=n(59925),m=n(92337),p=n(45288),h=n(11381);const f=()=>l.createElement("svg",{width:"311",height:"216",viewBox:"0 0 311 216",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{clipPath:"url(#clip0)"},l.createElement("path",{d:"M61.9647 216C96.1868 216 123.929 213.897 123.929 211.302C123.929 208.707 96.1868 206.604 61.9647 206.604C27.7425 206.604 0 208.707 0 211.302C0 213.897 27.7425 216 61.9647 216Z",fill:"#3D3C40",fillOpacity:"0.08"}),l.createElement("path",{d:"M47.3647 47.9266C58.1484 43.348 71.5797 46.2489 84.6968 48.2623C84.8189 45.8241 86.2984 42.8567 84.7486 41.1556C82.8656 39.089 83.039 36.9175 84.172 34.7336C87.0694 29.1489 82.9183 23.2065 78.7269 18.2655C77.7822 17.1543 76.5882 16.2813 75.242 15.7172C73.8958 15.1532 72.4353 14.9141 70.9792 15.0193L63.2149 15.5729C61.3256 15.7076 59.5225 16.4151 58.047 17.6008C56.5715 18.7864 55.4939 20.3936 54.9584 22.2072C53.1044 24.7242 52.1122 27.2343 52.7369 29.7312C49.96 31.6256 49.4934 33.9123 50.7413 36.4901C51.7994 38.1132 51.7881 39.6932 50.6931 41.2294C49.2551 43.188 48.1537 45.3718 47.4341 47.6915L47.3647 47.9266Z",fill:"#152235"}),l.createElement("path",{d:"M303.63 186.728H83.8449C81.8904 186.728 80.0159 185.953 78.6339 184.574C77.2518 183.194 76.4754 181.323 76.4754 179.372C156.148 170.129 234.322 170.129 311 179.372C311 181.323 310.224 183.194 308.842 184.574C307.459 185.953 305.585 186.728 303.63 186.728Z",fill:"#0D1521"}),l.createElement("path",{d:"M311 179.805L76.4754 179.372L103.656 133.718L103.786 133.501V32.8841C103.786 31.6628 104.027 30.4535 104.495 29.3252C104.963 28.1968 105.649 27.1716 106.514 26.308C107.379 25.4445 108.406 24.7595 109.537 24.2922C110.667 23.8248 111.879 23.5844 113.102 23.5845H273.073C274.296 23.5844 275.508 23.8248 276.638 24.2922C277.768 24.7595 278.795 25.4445 279.66 26.308C280.526 27.1716 281.212 28.1968 281.68 29.3252C282.148 30.4535 282.389 31.6628 282.389 32.8841V134.194L311 179.805Z",fill:"#152235"}),l.createElement("path",{d:"M112.89 30.0757C112.085 30.0766 111.314 30.396 110.745 30.9639C110.176 31.5318 109.856 32.3018 109.855 33.1049V124.846C109.856 125.649 110.176 126.419 110.745 126.987C111.314 127.555 112.085 127.875 112.89 127.876H274.586C275.39 127.875 276.162 127.555 276.73 126.987C277.299 126.419 277.619 125.649 277.62 124.846V33.1049C277.619 32.3018 277.299 31.5318 276.731 30.964C276.162 30.3961 275.39 30.0766 274.586 30.0757H112.89Z",fill:"white"}),l.createElement("path",{d:"M113.567 139.992C113.318 139.993 113.075 140.064 112.866 140.198C112.657 140.332 112.49 140.523 112.386 140.748L104.01 158.923C103.919 159.121 103.879 159.338 103.894 159.555C103.91 159.773 103.979 159.983 104.097 160.166C104.214 160.349 104.376 160.5 104.568 160.605C104.759 160.709 104.974 160.764 105.192 160.764H281.317C281.539 160.764 281.757 160.707 281.951 160.6C282.144 160.492 282.307 160.336 282.424 160.148C282.54 159.96 282.606 159.745 282.616 159.524C282.626 159.303 282.579 159.083 282.48 158.885L273.377 140.71C273.269 140.494 273.103 140.312 272.898 140.185C272.692 140.058 272.455 139.991 272.214 139.992H113.567Z",fill:"#0D1521"}),l.createElement("path",{d:"M193.087 28.5612C194.165 28.5612 195.038 27.6893 195.038 26.6138C195.038 25.5384 194.165 24.6665 193.087 24.6665C192.01 24.6665 191.137 25.5384 191.137 26.6138C191.137 27.6893 192.01 28.5612 193.087 28.5612Z",fill:"white"}),l.createElement("path",{d:"M175.776 164.226C175.49 164.226 175.212 164.321 174.985 164.494C174.758 164.668 174.595 164.911 174.52 165.187L172.419 172.976C172.367 173.168 172.36 173.37 172.399 173.566C172.438 173.761 172.521 173.945 172.643 174.103C172.764 174.261 172.92 174.39 173.099 174.478C173.278 174.566 173.475 174.612 173.675 174.612H213.628C213.835 174.612 214.04 174.562 214.224 174.468C214.408 174.373 214.567 174.235 214.687 174.067C214.808 173.898 214.886 173.703 214.915 173.498C214.945 173.293 214.924 173.085 214.857 172.889L212.156 165.1C212.067 164.845 211.901 164.623 211.681 164.467C211.461 164.31 211.197 164.226 210.927 164.226H175.776Z",fill:"#0D1521"}),l.createElement("path",{d:"M282.389 131.987V133.718H103.656L103.79 133.502V131.987H282.389Z",fill:"#0D1521"}),l.createElement("path",{d:"M277.404 60.584C294.163 60.584 307.749 47.0218 307.749 30.292C307.749 13.5622 294.163 0 277.404 0C260.644 0 247.058 13.5622 247.058 30.292C247.058 47.0218 260.644 60.584 277.404 60.584Z",fill:"#0058CC"}),l.createElement("path",{d:"M289.975 43.4908H264.832C264.372 43.4903 263.931 43.3078 263.606 42.9833C263.281 42.6587 263.098 42.2187 263.098 41.7598V26.6138C263.099 26.1548 263.281 25.7149 263.606 25.3903C263.932 25.0658 264.372 24.8833 264.832 24.8828H289.975C290.435 24.8833 290.876 25.0658 291.201 25.3903C291.526 25.7149 291.709 26.1548 291.709 26.6138V41.7598C291.709 42.2187 291.526 42.6587 291.201 42.9833C290.876 43.3078 290.435 43.4903 289.975 43.4908ZM264.832 26.6138V41.7598H289.976L289.975 26.6138L264.832 26.6138Z",fill:"white"}),l.createElement("path",{d:"M285.207 26.6134H269.601V19.6895C269.601 14.6745 272.882 11.0347 277.404 11.0347C281.925 11.0347 285.207 14.6745 285.207 19.6895L285.207 26.6134ZM271.335 24.8824H283.473V19.6895C283.473 15.6129 280.977 12.7656 277.404 12.7656C273.83 12.7656 271.335 15.6129 271.335 19.6895L271.335 24.8824Z",fill:"white"}),l.createElement("path",{d:"M277.404 35.4849C278.361 35.4849 279.138 34.7099 279.138 33.7539C279.138 32.7979 278.361 32.0229 277.404 32.0229C276.446 32.0229 275.67 32.7979 275.67 33.7539C275.67 34.7099 276.446 35.4849 277.404 35.4849Z",fill:"white"}),l.createElement("path",{d:"M256.22 96.7577H131.255C130.642 96.757 130.054 96.5133 129.62 96.0803C129.186 95.6472 128.942 95.06 128.941 94.4476V63.5035C128.942 62.891 129.186 62.3038 129.62 61.8708C130.054 61.4377 130.642 61.1941 131.255 61.1934H256.22C256.834 61.1941 257.422 61.4377 257.856 61.8708C258.289 62.3038 258.534 62.891 258.534 63.5035V94.4476C258.534 95.06 258.289 95.6472 257.856 96.0803C257.422 96.5133 256.834 96.757 256.22 96.7577ZM131.255 62.1174C130.887 62.1178 130.534 62.264 130.274 62.5238C130.014 62.7837 129.867 63.136 129.867 63.5035V94.4476C129.867 94.8151 130.014 95.1674 130.274 95.4272C130.534 95.6871 130.887 95.8332 131.255 95.8336H256.22C256.588 95.8332 256.941 95.6871 257.201 95.4272C257.462 95.1674 257.608 94.8151 257.609 94.4476V63.5035C257.608 63.136 257.462 62.7837 257.201 62.5238C256.941 62.264 256.588 62.1178 256.22 62.1174L131.255 62.1174Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M150.672 87.1982C155.878 87.1982 160.099 82.9851 160.099 77.7881C160.099 72.591 155.878 68.3779 150.672 68.3779C145.466 68.3779 141.246 72.591 141.246 77.7881C141.246 82.9851 145.466 87.1982 150.672 87.1982Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M172.443 71.5147C172.237 71.5143 172.032 71.5546 171.841 71.6333C171.65 71.712 171.477 71.8275 171.331 71.9731C171.185 72.1188 171.069 72.2918 170.99 72.4822C170.91 72.6727 170.87 72.8768 170.87 73.083C170.87 73.2892 170.91 73.4933 170.99 73.6838C171.069 73.8742 171.185 74.0472 171.331 74.1929C171.477 74.3385 171.65 74.454 171.841 74.5327C172.032 74.6113 172.237 74.6517 172.443 74.6514H246.51C246.927 74.6514 247.326 74.4861 247.621 74.192C247.915 73.8979 248.081 73.499 248.081 73.083C248.081 72.667 247.915 72.2681 247.621 71.974C247.326 71.6799 246.927 71.5147 246.51 71.5147H172.443Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M172.443 80.9248C172.027 80.9248 171.627 81.09 171.332 81.3842C171.038 81.6783 170.872 82.0772 170.872 82.4932C170.872 82.9091 171.038 83.308 171.332 83.6022C171.627 83.8963 172.027 84.0615 172.443 84.0615H204.314C204.731 84.0615 205.131 83.8963 205.425 83.6022C205.72 83.308 205.886 82.9091 205.886 82.4932C205.886 82.0772 205.72 81.6783 205.425 81.3842C205.131 81.09 204.731 80.9248 204.314 80.9248H172.443Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M103.348 81.5594L80.2478 93.8193L79.9554 83.6027C87.4953 82.3462 94.6687 80.1586 101.302 76.5971L103.718 70.6385C103.981 69.9892 104.409 69.4194 104.959 68.9851C105.51 68.5508 106.164 68.2668 106.858 68.161C107.551 68.0553 108.26 68.1314 108.916 68.382C109.571 68.6325 110.15 69.0489 110.595 69.5901C111.247 70.382 111.572 71.3916 111.506 72.4143C111.44 73.437 110.987 74.3963 110.239 75.098L103.348 81.5594Z",fill:"#A1616A"}),l.createElement("path",{d:"M46.9042 152.343C46.7357 151.726 46.6999 151.081 46.7992 150.449C46.8985 149.817 47.1307 149.214 47.4804 148.678L52.555 140.904C53.7552 139.065 55.5969 137.737 57.7227 137.177C59.8485 136.617 62.1069 136.865 64.0596 137.874C61.9269 141.497 62.2243 144.677 64.7962 147.439C60.8036 149.385 57.1134 151.896 53.8402 154.895C53.2426 155.302 52.5563 155.56 51.8385 155.648C51.1208 155.737 50.3922 155.653 49.7136 155.403C49.035 155.153 48.426 154.745 47.9374 154.213C47.4487 153.681 47.0944 153.04 46.9042 152.343Z",fill:"#2F2E41"}),l.createElement("path",{d:"M104.401 142.178C103.633 143.456 102.549 144.515 101.253 145.254C99.9568 145.993 98.4923 146.387 96.9998 146.398L63.2878 146.653L61.8257 138.188L76.7388 133.809L64.165 124.177L77.9084 108.122L102.871 131.347C104.33 132.705 105.278 134.521 105.556 136.492C105.835 138.464 105.427 140.471 104.401 142.178Z",fill:"#152235"}),l.createElement("path",{d:"M58.0243 200.072H50.1291C43.0404 151.566 35.8248 102.925 57.1471 84.7705L82.2946 88.8571L79.0781 110.166L65.0422 126.221L58.0243 200.072Z",fill:"#152235"}),l.createElement("path",{d:"M64.9645 211.06C64.3465 211.228 63.6997 211.264 63.0668 211.165C62.4339 211.065 61.8292 210.834 61.2925 210.485L52.72 209.334C50.8779 208.136 49.5473 206.298 48.9863 204.176C48.4254 202.054 48.674 199.799 49.6841 197.85C53.3144 199.979 56.499 199.682 59.2665 197.114C61.2219 201.056 64.4436 200.815 67.5205 204.136C67.9279 204.732 68.1867 205.417 68.2752 206.134C68.3637 206.85 68.2794 207.578 68.0293 208.255C67.7792 208.932 67.3706 209.54 66.8375 210.028C66.3044 210.516 65.6623 210.87 64.9645 211.06Z",fill:"#0058CC"}),l.createElement("path",{d:"M76.7388 52.3693L62.1181 48.8664C64.5464 43.9047 64.7463 38.3837 63.5802 32.5199L73.5222 32.228C73.8337 39.5198 74.7762 46.3321 76.7388 52.3693Z",fill:"#965962"}),l.createElement("path",{d:"M80.7571 97.646C70.1137 104.886 62.5935 97.8937 56.8546 87.1056C57.6521 80.5043 56.3609 72.6044 53.9695 64.0206C52.9059 60.2345 53.303 56.188 55.0823 52.6799C56.8616 49.1718 59.8937 46.4571 63.5802 45.0718L76.154 50.326C86.8306 59.0134 88.932 68.4237 84.9264 78.3486L80.7571 97.646Z",fill:"#0058CC"}),l.createElement("path",{d:"M50.1291 59.6667L38.4326 65.7966L59.194 78.0565L62.0828 85.1698C62.2756 85.6445 62.3695 86.1535 62.3588 86.6657C62.3482 87.1779 62.2331 87.6826 62.0206 88.1489C61.8082 88.6153 61.5028 89.0336 61.1232 89.3783C60.7435 89.7229 60.2975 89.9868 59.8123 90.1538C59.2608 90.3437 58.6728 90.4035 58.0943 90.3286C57.5157 90.2537 56.9624 90.0461 56.4777 89.7221C55.9929 89.3982 55.5899 88.9665 55.3001 88.4611C55.0104 87.9556 54.8417 87.3901 54.8075 86.8088L54.5154 81.8512L28.1279 73.1586C27.2388 72.8657 26.4282 72.3747 25.7574 71.7228C25.0865 71.0709 24.5731 70.2751 24.256 69.3958C23.7938 68.114 23.7702 66.7154 24.1891 65.4189C24.608 64.1224 25.4456 63.0011 26.5709 62.2304L47.7898 47.6987L50.1291 59.6667Z",fill:"#A1616A"}),l.createElement("path",{d:"M61.8257 60.8345C56.9475 58.7004 52.5117 61.0186 46.9126 62.8778L46.0354 47.407C51.595 44.449 56.8957 43.6514 61.8257 45.9475L61.8257 60.8345Z",fill:"#0058CC"}),l.createElement("path",{d:"M67.6611 39.8912C72.8166 39.8912 76.9959 35.7192 76.9959 30.5728C76.9959 25.4264 72.8166 21.2544 67.6611 21.2544C62.5057 21.2544 58.3264 25.4264 58.3264 30.5728C58.3264 35.7192 62.5057 39.8912 67.6611 39.8912Z",fill:"#A1616A"}),l.createElement("path",{d:"M78.8285 29.3971C69.5863 30.3007 62.5438 28.7918 58.0429 24.4956V21.0356H78.0441L78.8285 29.3971Z",fill:"#152235"})),l.createElement("defs",null,l.createElement("clipPath",{id:"clip0"},l.createElement("rect",{width:"311",height:"216",fill:"white"})))),g=e=>l.createElement(h.Z,{onHide:e.onHide,modalHeaderText:""},l.createElement("div",{className:"noInternetConnection__container"},l.createElement("div",{className:"noInternetConnection__image"},l.createElement(f,null)),l.createElement("span",{className:"noInternetConnection__noAccessToInternet"},l.createElement(c.Z,{id:"announcement_bar.warn.no_internet_connection",defaultMessage:"Looks like you do not have access to the internet."})),l.createElement("span",{className:"noInternetConnection__contactSupport"},l.createElement(c.Z,{id:"announcement_bar.warn.contact_support_text",defaultMessage:"To renew your license, contact support at support@mattermost.com."})),l.createElement("span",{className:"noInternetConnection__emailUs"},l.createElement(p.Z,{id:"announcement_bar.warn.email_support",defaultMessage:"[Contact support](!{email}).",values:{email:"mailto:support@mattermost.com"}}))));g.propTypes={onHide:o().func.isRequired};const C=g,_=e=>{const[t,n]=(0,l.useState)("");(0,l.useEffect)((()=>{d.je.getRenewalLink().then((({renewal_link:e})=>{try{e&&/^http[s]?:\/\//.test(e)&&n(e)}catch(e){console.error("No link returned",e)}}))}),[]);const s=()=>{var t;null!==(t=e.telemetryInfo)&&void 0!==t&&t.error&&(0,u.L9)("renew_license",e.telemetryInfo.error),e.actions.openModal({modalId:m.r8.NO_INTERNET_CONNECTION,dialogType:C})};return l.createElement(l.Fragment,null,l.createElement("button",{className:"btn btn-primary annnouncementBar__renewLicense",disabled:e.isDisabled,onClick:n=>(async n=>{n.preventDefault();try{const{status:n}=await d.je.ping();var r;"OK"===n&&""!==t?(null!==(r=e.telemetryInfo)&&void 0!==r&&r.success&&(0,u.L9)("renew_license",e.telemetryInfo.success),window.open(t,"_blank")):s()}catch(e){s()}})(n)},l.createElement(c.Z,{id:"announcement_bar.warn.renew_license_now",defaultMessage:"Renew license now"})))};_.propTypes={telemetryInfo:o().shape({success:o().string.isRequired,error:o().string.isRequired}),actions:o().shape({openModal:o().func.isRequired}).isRequired,isDisabled:o().bool};const b=_,E=(0,s.connect)(null,(function(e){return{actions:(0,r.bindActionCreators)({openModal:a.h},e)}}))(b)},67530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),r=n.n(s),a=n(41609),i=n.n(a),o=(n(88674),n(67294));const l=function(e){var t,n,s,a,l;return n=t=class extends o.Component{async componentDidMount(){const{subscription:e,actions:{getSubscriptionStats:t,getCloudSubscription:n},isCloud:s,userIsAdmin:r,subscriptionStats:a}=this.props;i()(a)&&s&&t&&await t(),i()(e)&&s&&r&&n&&await n()}render(){return o.createElement(e,this.props)}},s=t,a="propTypes",l={isCloud:r().bool.isRequired,actions:r().shape({getCloudSubscription:r().func,getSubscriptionStats:r().func}).isRequired,userIsAdmin:r().bool},a in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,n}},89996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var s=n(45697),r=n.n(s),a=(n(33948),n(19601),n(67294)),i=n(14504),o=n(94184),l=n.n(o);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={input:e=>d(d({},e),{},{color:"var(--center-channel-color)"}),control:e=>d(d({},e),{},{border:"none",boxShadow:"none",padding:"0 2px",cursor:"pointer"}),indicatorSeparator:e=>d(d({},e),{},{display:"none"})},p=e=>a.createElement("div",{className:"DropdownInput__indicatorsContainer"},a.createElement(i.wx.IndicatorsContainer,e,a.createElement("i",{className:"icon icon-chevron-down"}))),h=e=>a.createElement("div",{className:"DropdownInput__controlContainer"},a.createElement(i.wx.Control,e)),f=e=>a.createElement("div",{className:l()("DropdownInput__option",{selected:e.isSelected,focused:e.isFocused})},a.createElement(i.wx.Option,e)),g=e=>{const{value:t,placeholder:n,className:s,addon:r,name:o,textPrefix:c,legend:u,onChange:g,styles:C,options:_,error:b}=e,E=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["value","placeholder","className","addon","name","textPrefix","legend","onChange","styles","options","error"]),[y,v]=(0,a.useState)(!1),M=Boolean(y||t);return a.createElement("div",{className:"DropdownInput Input_container"},a.createElement("fieldset",{className:l()("Input_fieldset",s,{Input_fieldset___error:b,Input_fieldset___legend:M})},a.createElement("legend",{className:l()("Input_legend",{Input_legend___focus:M})},M?u||n:null),a.createElement("div",{className:"Input_wrapper",onFocus:t=>{const{onFocus:n}=e;v(!0),n&&n(t)},onBlur:t=>{const{onBlur:n}=e;v(!1),n&&n(t)}},c&&a.createElement("span",null,c),a.createElement(i.ZP,Object.assign({id:"DropdownInput_".concat(o),options:_,placeholder:y?"":n,components:{IndicatorsContainer:p,Option:f,Control:h},className:l()("Input",s,{Input__focus:M}),classNamePrefix:"DropDown",value:t,onChange:g,styles:d(d({},m),C)},E))),r),(e=>e?a.createElement("div",{className:"Input___error"},a.createElement("i",{className:"icon icon-alert-outline"}),a.createElement("span",null,e)):null)(b))};g.propTypes={legend:r().string,error:r().string,onChange:r().func.isRequired};const C=g},47675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),r=n.n(s),a=n(67294),i=n(44012);const o=({url:e,messageId:t,defaultMessage:n})=>a.createElement("a",{href:e,rel:"noopener noreferrer",target:"_blank"},a.createElement(i.Z,{id:t,defaultMessage:n}));o.propTypes={url:r().string,messageId:r().string,defaultMessage:r().string},o.defaultProps={url:"",messageId:"",defaultMessage:""};const l=o},50696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),r=n.n(s),a=(n(19601),n(67294)),i=n(94184),o=n.n(i);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(e){super(e),l(this,"textRef",void 0),l(this,"onFocus",(e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)})),l(this,"onBlur",(e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),this.validateInput(),t&&t(e)})),l(this,"onChange",(e=>{const{onChange:t}=this.props;this.setState({error:""}),t&&t(e)})),l(this,"onClick",(()=>{this.textRef.current&&this.textRef.current.focus()})),l(this,"validateInput",(()=>{const{value:e,required:t}=this.props;this.setState({error:""}),!t||null!=e&&""!==e||this.setState({error:"This field is required"})})),this.state={focused:!1,error:""},this.textRef=a.createRef()}renderError(e){return e?a.createElement("div",{className:"Input___error"},a.createElement("i",{className:"icon icon-alert-outline"}),a.createElement("span",null,e)):null}renderInfo(){return this.props.info?a.createElement("div",{className:"Input___info"},this.props.info):null}render(){const e=this.props,{value:t,placeholder:n,className:s,error:r,hasError:i,addon:l,name:c,textPrefix:d}=e,u=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["value","placeholder","className","error","hasError","addon","name","textPrefix"]),{focused:m,error:p}=this.state,h=Boolean(m||t),f=r||p;return a.createElement("div",{className:"Input_container"},a.createElement("fieldset",{className:o()("Input_fieldset",s,{Input_fieldset___error:f||i,Input_fieldset___legend:h})},a.createElement("legend",{className:o()("Input_legend",{Input_legend___focus:h})},h?n:null),a.createElement("div",{className:"Input_wrapper"},d&&a.createElement("span",null,d),a.createElement("input",Object.assign({id:"input_".concat(c),className:o()("Input form-control",s,{Input__focus:h}),value:t,placeholder:m?"":n,name:c},u,{onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onClick:this.onClick,ref:this.textRef}))),l),f?this.renderError(f):this.renderInfo())}}l(c,"propTypes",{info:r().string,error:r().string,required:r().bool,hasError:r().bool,addon:r().element,textPrefix:r().string})},31876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),r=n.n(s),a=n(67294);const i=n.p+"files/2c5822f8df09cab9d59c37cf805af370.png",o=n.p+"files/85f92b639485f3804bb173daab1383a1.png",l=n.p+"files/9dec2b83083c1216ab4e0367f21224d2.jpg",c=n.p+"files/24f51892c8813505b11ad2c26740ee7a.png",d=n.p+"files/ad02dc088755e3884a5b5c97211665bb.png",u=n.p+"files/a37832275fd33b01dc279fc8788128da.jpg";function m(e){const{brand:t}=e,n=function(e){switch(e){case"amex":return i;case"diners":return o;case"discover":return l;case"jcb":return c;case"mastercard":return d;case"visa":return u}return""}(t);return n?a.createElement("img",{className:"CardImage",src:n,alt:t,loading:"lazy"}):null}m.propTypes={brand:r().string.isRequired}},36585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var s=n(45697),r=n.n(s),a=n(67294),i=n(35018),o=n(44012),l=n(89996),c=n(50696),d=n(74935),u=n(66331),m=n(84276),p=(n(19601),n(86664));function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={hidePostalCode:!0,style:{base:{fontFamily:"Open Sans",fontSize:"14px",opacity:"0.5",fontSmoothing:"antialiased"}}},g="This field is required",C="Please enter a valid credit card";class _ extends a.PureComponent{constructor(e){super(e),h(this,"onFocus",(()=>{const{onFocus:e}=this.props;this.setState({focused:!0}),e&&e()})),h(this,"onBlur",(()=>{const{onBlur:e}=this.props;this.setState({focused:!1}),this.validateInput(),e&&e()})),h(this,"onChange",(e=>{this.setState({error:"",empty:e.empty,complete:e.complete}),this.props.onCardInputChange&&this.props.onCardInputChange(e)})),h(this,"validateInput",(()=>{const{required:e}=this.props,{empty:t,complete:n}=this.state;let s="";this.setState({error:""}),e&&t?s=g:n||(s=C),this.setState({error:s})})),this.state={focused:!1,error:"",empty:!0,complete:!1}}renderError(e){if(!e)return null;let t;return e===g?t=a.createElement(o.Z,{id:"payment.field_required",defaultMessage:"This field is required"}):e===C&&(t=a.createElement(o.Z,{id:"payment.invalid_card_number",defaultMessage:"Please enter a valid credit card"})),a.createElement("div",{className:"Input___error"},a.createElement("i",{className:"icon icon-alert-outline"}),t)}getCard(){var e;return null===(e=this.props.elements)||void 0===e?void 0:e.getElement(p.CardElement)}render(){const e=this.props,{className:t,error:n}=e,s=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["className","error"]),{empty:r,focused:i,error:l}=this.state;let c=t?"Input_fieldset ".concat(t):"Input_fieldset",d=t?"Input_fieldset Input_fieldset___error ".concat(t):"Input_fieldset Input_fieldset___error";const u=Boolean(i||!r);c=u?c+" Input_fieldset___legend":c,d=u?d+" Input_fieldset___legend":d;const m=n||l;return a.createElement("div",{className:"Input_container"},a.createElement("fieldset",{className:m?d:c},a.createElement("legend",{className:u?"Input_legend Input_legend___focus":"Input_legend"},a.createElement(o.Z,{id:"payment.card_number",defaultMessage:"Card Number"})),a.createElement(p.CardElement,Object.assign({},s,{options:f,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.onChange}))),this.renderError(m))}}h(_,"propTypes",{onCardInputChange:r().func,error:r().string,required:r().bool,forwardedRef:r().any});const b=e=>a.createElement(p.ElementsConsumer,null,(({elements:t})=>a.createElement(_,Object.assign({ref:e.forwardedRef,elements:t},e))));b.propTypes={error:r().string,required:r().bool,forwardedRef:r().any};const E=b;var y=n(31876);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends a.PureComponent{constructor(e){super(e),S(this,"cardRef",void 0),S(this,"resetState",(()=>{this.setState(this.getResetState())})),S(this,"getResetState",((e=this.props)=>{const{initialBillingDetails:t,paymentMethod:n}=e,s=t||{};return{address:s.address,address2:s.address2,city:s.city,state:s.state,country:(0,i.oY)(s.country||"")||(0,i.oY)("US")||"",postalCode:s.postalCode,name:s.name,changePaymentMethod:null==n}})),S(this,"handleInputChange",(e=>{const t=e.target,n={[t.name]:t.value};this.setState(n);const{onInputChange:s}=this.props;var r;s&&s(M(M(M({},this.state),n),{},{card:null===(r=this.cardRef.current)||void 0===r?void 0:r.getCard()}))})),S(this,"handleCardInputChange",(e=>{this.props.onCardInputChange&&this.props.onCardInputChange(e)})),S(this,"handleStateChange",(e=>{const t={state:e};var n;this.setState(t),this.props.onInputChange&&this.props.onInputChange(M(M(M({},this.state),t),{},{card:null===(n=this.cardRef.current)||void 0===n?void 0:n.getCard()}))})),S(this,"handleCountryChange",(e=>{const t={country:e.value};var n;this.setState(t),this.props.onInputChange&&this.props.onInputChange(M(M(M({},this.state),t),{},{card:null===(n=this.cardRef.current)||void 0===n?void 0:n.getCard()}))})),S(this,"onBlur",(()=>{const{onInputBlur:e}=this.props;var t;e&&e(M(M({},this.state),{},{card:null===(t=this.cardRef.current)||void 0===t?void 0:t.getCard()}))})),S(this,"changePaymentMethod",(e=>{e.preventDefault(),this.setState({changePaymentMethod:!0})})),this.cardRef=a.createRef(),this.state=this.getResetState(e)}componentDidUpdate(e){null!=e.paymentMethod||null==this.props.paymentMethod?void 0===e.initialBillingDetails&&void 0!==this.props.initialBillingDetails&&this.resetState():this.resetState()}render(){const{className:e,paymentMethod:t,buttonFooter:n}=this.props,{changePaymentMethod:s}=this.state;let r;if(s)r=a.createElement(a.Fragment,null,a.createElement("div",{className:"form-row"},a.createElement(E,{forwardedRef:this.cardRef,required:!0,onBlur:this.onBlur,onCardInputChange:this.handleCardInputChange})),a.createElement("div",{className:"form-row"},a.createElement(c.Z,{name:"name",type:"text",value:this.state.name,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.name_on_card","Name on Card"),required:!0})),a.createElement("div",{className:"section-title"},a.createElement(o.Z,{id:"payment_form.billing_address",defaultMessage:"Billing address"})),a.createElement(l.Z,{onChange:this.handleCountryChange,value:this.state.country?{value:this.state.country,label:this.state.country}:void 0,options:u.o.map((e=>({value:e.name,label:e.name}))),legend:d._u("payment_form.country","Country"),placeholder:d._u("payment_form.country","Country"),name:"billing_dropdown"}),a.createElement("div",{className:"form-row"},a.createElement(c.Z,{name:"address",type:"text",value:this.state.address,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.address","Address"),required:!0})),a.createElement("div",{className:"form-row"},a.createElement(c.Z,{name:"address2",type:"text",value:this.state.address2,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.address_2","Address 2")})),a.createElement("div",{className:"form-row"},a.createElement(c.Z,{name:"city",type:"text",value:this.state.city,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.city","City"),required:!0})),a.createElement("div",{className:"form-row"},a.createElement("div",{className:"form-row-third-1 selector"},a.createElement(m.Z,{country:this.state.country,state:this.state.state,onChange:this.handleStateChange,onBlur:this.onBlur})),a.createElement("div",{className:"form-row-third-2"},a.createElement(c.Z,{name:"postalCode",type:"text",value:this.state.postalCode,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.zipcode","Zip/Postal Code"),required:!0}))),s?n:null);else{let e=null;if(t){let n=a.createElement(o.Z,{id:"payment_form.no_credit_card",defaultMessage:"No credit card added"});t.last_four&&(n=a.createElement(a.Fragment,null,a.createElement(y.Z,{brand:t.card_brand}),"Card ending in ".concat(t.last_four),a.createElement("br",null),"Expires ".concat(t.exp_month,"/").concat(t.exp_year)));let s=a.createElement("i",null,a.createElement(o.Z,{id:"payment_form.no_billing_address",defaultMessage:"No billing address added"}));this.state.state&&(s=a.createElement(a.Fragment,null,this.state.address,this.state.address2,a.createElement("br",null),"".concat(this.state.city,", ").concat(this.state.state,", ").concat(this.state.country),a.createElement("br",null),this.state.postalCode)),e=a.createElement(a.Fragment,null,a.createElement("div",{className:"PaymentForm-saved-card"},n),a.createElement("div",{className:"PaymentForm-saved-address"},s))}r=a.createElement("div",{id:"console_payment_saved",className:"PaymentForm-saved"},a.createElement("div",{className:"PaymentForm-saved-title"},a.createElement(o.Z,{id:"payment_form.saved_payment_method",defaultMessage:"Saved Payment Method"})),e,a.createElement("button",{className:"Form-btn-link PaymentForm-change",onClick:this.changePaymentMethod},a.createElement(o.Z,{id:"payment_form.change_payment_method",defaultMessage:"Change Payment Method"})))}return a.createElement("form",{id:"payment_form",className:"PaymentForm ".concat(e)},a.createElement("div",{className:"section-title"},a.createElement(o.Z,{id:"payment_form.credit_card",defaultMessage:"Credit Card"})),r)}}S(w,"propTypes",{className:r().string,onCardInputChange:r().func,onInputChange:r().func,onInputBlur:r().func,buttonFooter:r().element}),S(w,"defaultProps",{showSaveCard:!1,className:""})},84276:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),r=n.n(s),a=n(67294),i=n(86896),o=n(35018),l=n(89996),c=n(50696);const d=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"PR",name:"Puerto Rico"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],u=[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland and Labrador"},{code:"NT",name:"Northwest Territories"},{code:"NS",name:"Nova Scotia"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Quebec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon Territory"}];function m(e){const{formatMessage:t}=(0,i.Z)();let n=[];return e.country===(0,o.oY)("US")?n=d:e.country===(0,o.oY)("CA")&&(n=u),n.length>0?a.createElement(l.Z,{onChange:t=>{e.onChange(t.value)},value:e.state?{value:e.state,label:e.state}:void 0,options:n.map((e=>({value:e.code,label:e.name}))),legend:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),placeholder:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),name:"billing_dropdown"}):a.createElement(c.Z,{name:"state",type:"text",value:e.state,onChange:t=>{e.onChange(t.target.value)},onBlur:e.onBlur,placeholder:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),required:!0})}m.propTypes={country:r().string.isRequired,state:r().string.isRequired,onChange:r().func.isRequired,onBlur:r().func}},66356:(e,t,n)=>{"use strict";function s(e){return e}function r(e){return async(e,t,n)=>({setupIntent:{id:"testid",status:"succeeded"}})}n.d(t,{li:()=>a,wW:()=>i,Yw:()=>o}),n(88674);const a=e=>e?r:s,i="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i&display=swap",o="pk_test_ttEpW6dCHksKyfAFzh6MvgBj"},65339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var s=n(37703),r=n(14890),a=n(42560),i=n(36745),o=n(47244),l=n(3598),c=n(2354),d=n(92337),u=n(74838),m=n(73859),p=n(45697),h=n.n(p),f=(n(88674),n(67294)),g=n(44012),C=n(97894),_=n(86664);const b=n.p+"files/f32f0094939e8e78a6b887a0f8a886df.svg";var E=n(43163),y=n(56417);const v=n.p+"files/561d2a7b1b180f1bc0585b0eb2fa1d00.svg";var M=n(43610),S=n(59925),w=n(66356),I=n(75872),N=n(86486),R=n(60087),A=n(74935),T=n(36585);const O=n.p+"files/14fe300f70a0993958a9522ecd37592d.svg",L=n.p+"files/7cbbc5e4d6268cc9fc562eb04f9739bc.svg";var P=n(82251);const D=n.p+"files/a633c8db75b2a15e13d980069d2e3298.svg";var B,k=n(94184),x=n.n(k);function Z(e){const{icon:t,title:n,subtitle:s,date:r,error:a,buttonText:i,buttonHandler:o,linkText:l,linkURL:c,footer:d,className:u}=e;let m=null;i&&o&&(m=f.createElement("div",{className:x()("IconMessage-button",a?"error":"")},f.createElement("button",{id:"login_button",className:"btn btn-primary Form-btn",onClick:o},f.createElement(g.Z,{id:i}))));let p=null;return l&&c&&(p=f.createElement("div",{className:"IconMessage-link"},f.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},f.createElement(g.Z,{id:l})))),f.createElement("div",{id:"payment_complete_header",className:"IconMessage"},f.createElement("div",{className:x()("content",u||"")},f.createElement("img",{className:"IconMessage-img",src:t,alt:"Payment icon",loading:"lazy"}),f.createElement("h3",{className:"IconMessage-h3"},f.createElement(g.Z,{id:n})),f.createElement("div",{className:x()("IconMessage-sub",a||"")},s?f.createElement(g.Z,{id:s,values:{date:r}}):null),m,p,d))}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Z.propTypes={icon:h().string.isRequired,title:h().string.isRequired,subtitle:h().string,date:h().string,error:h().bool,buttonText:h().string,buttonHandler:h().func,linkText:h().string,linkURL:h().string,footer:h().element,className:h().string},Z.defaultProps={error:!1,subtitle:"",date:"",className:""},function(e){e[e.PROCESSING=0]="PROCESSING",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED"}(B||(B={}));class q extends f.PureComponent{constructor(e){super(e),U(this,"intervalId",void 0),U(this,"updateProgress",(()=>{let{progress:e}=this.state;e>=95?clearInterval(this.intervalId):(e+=1,this.setState({progress:e>95?95:e}))})),U(this,"savePaymentMethod",(async()=>{const e=new Date,{stripe:t,addPaymentMethod:n,billingDetails:s,isDevMode:r}=this.props;if(!await n(await t,s,r))return void this.setState({error:!0,state:B.FAILED});const a=(new Date).valueOf()-e.valueOf();a<5e3?setTimeout(this.completePayment,5e3-a):this.completePayment()})),U(this,"completePayment",(()=>{clearInterval(this.intervalId),this.setState({state:B.SUCCESS,progress:100})})),U(this,"handleGoBack",(()=>{clearInterval(this.intervalId),this.setState({progress:0,error:!1,state:B.PROCESSING}),this.props.onBack()})),this.intervalId={},this.state={progress:0,error:!1,state:B.PROCESSING}}componentDidMount(){this.savePaymentMethod(),this.intervalId=setInterval(this.updateProgress,52.63157894736842)}componentWillUnmount(){clearInterval(this.intervalId)}render(){const{state:e,progress:t,error:n}=this.state,s=f.createElement("div",{className:"ProcessPayment-progress"},f.createElement("div",{className:"ProcessPayment-progress-fill",style:{width:"".concat(t,"%")}}));switch(e){case B.PROCESSING:return f.createElement(Z,{title:(0,P.t)("admin.billing.subscription.verifyPaymentInformation"),subtitle:"",icon:D,footer:s});case B.SUCCESS:return(0,S.tF)(d.EA.CLOUD_PURCHASING,"pageview_payment_success"),f.createElement(Z,{title:(0,P.t)("admin.billing.subscription.upgradedSuccess"),subtitle:(0,P.t)("admin.billing.subscription.nextBillingDate"),date:(0,A.Nw)(),error:n,icon:O,buttonText:(0,P.t)("admin.billing.subscription.letsGo"),buttonHandler:this.props.onClose,className:"success"});case B.FAILED:return(0,S.tF)(d.EA.CLOUD_PURCHASING,"pageview_payment_failed"),f.createElement(Z,{title:(0,P.t)("admin.billing.subscription.paymentVerificationFailed"),subtitle:(0,P.t)("admin.billing.subscription.paymentFailed"),icon:L,error:n,buttonText:(0,P.t)("admin.billing.subscription.goBackTryAgain"),buttonHandler:this.handleGoBack,linkText:(0,P.t)("admin.billing.subscription.privateCloudCard.contactSupport"),linkURL:this.props.contactSupportLink});default:return null}}}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let W;U(q,"propTypes",{stripe:h().instanceOf(Promise).isRequired,isDevMode:h().bool.isRequired,contactSupportLink:h().string.isRequired,addPaymentMethod:h().func.isRequired,onBack:h().func.isRequired,onClose:h().func.isRequired});class V extends f.PureComponent{constructor(e){super(e),H(this,"modal",f.createRef()),H(this,"onPaymentInput",(e=>{this.setState({paymentInfoIsValid:(0,R.b)(e)&&this.state.cardInputComplete}),this.setState({billingDetails:e})})),H(this,"handleCardInputChange",(e=>{this.setState({paymentInfoIsValid:(0,R.b)(this.state.billingDetails)&&e.complete}),this.setState({cardInputComplete:e.complete})})),H(this,"handleSubmitClick",(async()=>{this.setState({processing:!0,paymentInfoIsValid:!1})})),H(this,"purchaseScreen",(()=>{let e,t;return this.props.isFreeTrial?(e=f.createElement(g.Z,{defaultMessage:"Provide Your Payment Details",id:"admin.billing.subscription.providePaymentDetails"}),t=f.createElement(g.Z,{defaultMessage:"Subscribe",id:"admin.billing.subscription.cloudTrial.subscribe"})):(e=f.createElement(g.Z,{defaultMessage:"Upgrade your Mattermost Cloud Susbcription",id:"admin.billing.subscription.upgradeCloudSubscription"}),t=f.createElement(g.Z,{defaultMessage:"Upgrade",id:"admin.billing.subscription.upgrade"})),f.createElement("div",{className:this.state.processing?"processing":""},f.createElement("div",{className:"LHS"},f.createElement("div",{className:"title"},e),f.createElement("img",{className:"image",alt:"upgrade",src:b}),f.createElement("div",{className:"footer-text"},f.createElement(g.Z,{defaultMessage:"Questions?",id:"admin.billing.subscription.questions"})),f.createElement("a",{className:"footer-text",onClick:()=>(0,S.L9)(d.EA.CLOUD_PURCHASING,"click_contact_support"),href:this.props.contactSupportLink,rel:"noopener noreferrer",target:"_new"},f.createElement(g.Z,{defaultMessage:"Contact Support",id:"admin.billing.subscription.privateCloudCard.contactSupport"}))),f.createElement("div",{className:"central-panel"},f.createElement(T.Z,{className:"normal-text",onInputChange:this.onPaymentInput,onCardInputChange:this.handleCardInputChange})),f.createElement("div",{className:"RHS"},f.createElement("div",{className:"price-container"},f.createElement("div",{className:"bold-text"},f.createElement(g.Z,{defaultMessage:"Mattermost Cloud",id:"admin.billing.subscription.mattermostCloud"})),f.createElement("div",{className:"price-text"},"$".concat(this.state.productPrice||0),f.createElement("span",{className:"monthly-text"},f.createElement(g.Z,{defaultMessage:" /user/month",id:"admin.billing.subscription.perUserPerMonth"}))),f.createElement("div",{className:"footer-text"},f.createElement(g.Z,{defaultMessage:"Payment begins: {beginDate}",id:"admin.billing.subscription.payamentBegins",values:{beginDate:(0,A.Nw)()}})),f.createElement("button",{disabled:!this.state.paymentInfoIsValid,onClick:this.handleSubmitClick},t),f.createElement("div",{className:"fineprint-text"},f.createElement("span",null,f.createElement(g.Z,{defaultMessage:"Your total is calculated at the end of the billing cycle based on the number of enabled users. You’ll only be charged if you exceed the free tier limits. ",id:"admin.billing.subscription.disclaimer"}))," ",f.createElement("a",{href:d.Xq.BILLING_DOCS,target:"_new",rel:"noopener noreferrer"},f.createElement(g.Z,{defaultMessage:"See how billing works.",id:"admin.billing.subscription.howItWorks"})))),f.createElement("div",{className:"footer-text"},f.createElement(g.Z,{defaultMessage:"Need other billing options?",id:"admin.billing.subscription.otherBillingOption"})),f.createElement("a",{className:"footer-text",onClick:()=>{(0,S.L9)(d.EA.CLOUD_PURCHASING,"click_contact_sales")},href:this.props.contactSalesLink,target:"_new",rel:"noopener noreferrer"},f.createElement(g.Z,{defaultMessage:"Contact Sales",id:"admin.billing.subscription.privateCloudCard.contactSales"})),f.createElement("div",{className:"logo"},f.createElement("img",{src:M.Z}))))})),this.state={paymentInfoIsValid:!1,productPrice:0,billingDetails:null,cardInputComplete:!1,processing:!1}}static getDerivedStateFromProps(e,t){let n=0;if(e.products){const t=Object.keys(e.products);t.length>0&&(n=e.products[t[0]].price_per_seat)}return j(j({},t),{},{productPrice:n})}componentDidMount(){(0,S.tF)(d.EA.CLOUD_PURCHASING,"pageview_purchase"),this.props.actions.getCloudProducts(),this.props.actions.getClientConfig()}render(){return W||(W=(0,C.loadStripe)(w.Yw)),f.createElement(_.Elements,{options:{fonts:[{cssSrc:w.wW}]},stripe:W},f.createElement(I.Z,null,f.createElement(N.Z,{show:Boolean(this.props.show),onClose:()=>{(0,S.L9)(d.EA.CLOUD_PURCHASING,"click_close_purchasing_screen"),this.props.actions.getCloudSubscription(),this.props.actions.closeModal()},ref:this.modal,ariaLabelledBy:"purchase_modal_title"},f.createElement("div",{className:"PurchaseModal"},this.state.processing?f.createElement("div",null,f.createElement(q,{stripe:W,billingDetails:this.state.billingDetails,addPaymentMethod:this.props.actions.completeStripeAddPaymentMethod,isDevMode:this.props.isDevMode,onClose:()=>{this.props.actions.getCloudSubscription(),this.props.actions.closeModal()},onBack:()=>{this.setState({processing:!1})},contactSupportLink:this.props.contactSalesLink})):null,this.purchaseScreen(),f.createElement("div",null,f.createElement("img",{className:"waves",src:E.Z}),f.createElement("img",{className:"blue-dots",src:y.Z}),f.createElement("img",{className:"lower-blue-dots",src:v}))))))}}H(V,"propTypes",{show:h().bool.isRequired,isDevMode:h().bool.isRequired,contactSupportLink:h().string.isRequired,contactSalesLink:h().string.isRequired,isFreeTrial:h().bool.isRequired,actions:h().shape({closeModal:h().func.isRequired,getCloudProducts:h().func.isRequired,completeStripeAddPaymentMethod:h().func.isRequired,getClientConfig:h().func.isRequired,getCloudSubscription:h().func.isRequired}).isRequired});const Y=(0,s.connect)((function(e){const t=e.entities.cloud.subscription;return{show:(0,l.g)(e,d.r8.CLOUD_PURCHASE),products:e.entities.cloud.products,isDevMode:"true"===(0,a.iE)(e).EnableDeveloper,contactSupportLink:(0,c.id)(e,c.IM.Technical),isFreeTrial:"true"===(null==t?void 0:t.is_free_trial),contactSalesLink:(0,c.id)(e,c.IM.Sales)}}),(function(e){return{actions:(0,r.bindActionCreators)({closeModal:()=>(0,u.M)(d.r8.CLOUD_PURCHASE),getCloudProducts:i.nt,completeStripeAddPaymentMethod:m.F,getClientConfig:o.Zb,getCloudSubscription:i.oR},e)}}))(V)},75872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s,r,a,i=n(67294),o=n(73935),l=n(45697),c=n.n(l);class d extends i.PureComponent{constructor(e){super(e),this.el=document.createElement("div")}componentDidMount(){const e=document.getElementById("root-portal");e&&e.appendChild(this.el)}componentWillUnmount(){const e=document.getElementById("root-portal");e&&e.removeChild(this.el)}render(){return o.createPortal(this.props.children,this.el)}}s=d,r="propTypes",a={children:c().node},r in s?Object.defineProperty(s,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[r]=a},95939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),r=n(86896),a=n(82251);function i(e){const{formatMessage:t}=(0,r.Z)();return s.createElement("span",e,s.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:(0,a.t)("generic_icons.close"),defaultMessage:"Close Icon"})},s.createElement("path",{fillRule:"nonzero",d:"M18 7.209L16.791 6 12 10.791 7.209 6 6 7.209 10.791 12 6 16.791 7.209 18 12 13.209 16.791 18 18 16.791 13.209 12z"})))}},86486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s=n(45697),r=n.n(s),a=(n(33948),n(67294)),i=n(66660),o=n(74806),l=n(95939),c=n(86896);function d(e){const{formatMessage:t}=(0,c.Z)();return a.createElement("span",e,a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.back",defaultMessage:"Back Icon"})},a.createElement("path",{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"})))}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{constructor(...e){super(...e),u(this,"modal",a.createRef()),u(this,"enforceFocus",(()=>{setTimeout((()=>{const e=document.activeElement;this.modal&&this.modal.current&&!this.modal.current.contains(e)&&this.modal.current.focus()}))})),u(this,"handleKeypress",(e=>{"Escape"===e.key&&this.props.show&&this.close()})),u(this,"close",(()=>{this.props.onClose()}))}componentDidMount(){document.addEventListener("keydown",this.handleKeypress),document.addEventListener("focus",this.enforceFocus,!0),this.enforceFocus()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeypress),document.removeEventListener("focus",this.enforceFocus,!0)}render(){return a.createElement(i.Z,{in:this.props.show,classNames:"FullScreenModal",mountOnEnter:!0,unmountOnExit:!0,timeout:100,appear:!0},a.createElement(a.Fragment,null,a.createElement("div",{className:"FullScreenModal",ref:this.modal,tabIndex:-1,"aria-modal":!0,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,role:"dialog"},this.props.onGoBack&&a.createElement("button",{onClick:this.props.onGoBack,className:"back","aria-label":this.props.intl.formatMessage({id:"full_screen_modal.back",defaultMessage:"Back"})},a.createElement(d,{id:"backIcon"})),a.createElement("button",{onClick:this.close,className:"close-x","aria-label":this.props.intl.formatMessage({id:"full_screen_modal.close",defaultMessage:"Close"})},a.createElement(l.Z,{id:"closeIcon"})),this.props.children),a.createElement("div",{tabIndex:0,style:{display:"none"}})))}}u(m,"propTypes",{show:r().bool.isRequired,onClose:r().func.isRequired,onGoBack:r().func,children:r().node.isRequired,ariaLabel:r().string,ariaLabelledBy:r().string,intl:r().any.isRequired});const p=(0,o.ZP)(m,{forwardRef:!0});p.displayName="injectIntl(FullScreenModal)";const h=p},2354:(e,t,n)=>{"use strict";n.d(t,{IM:()=>a,sV:()=>i,id:()=>o});var s=n(42560),r=n(89980);let a,i;function o(e,t,n){const a=(0,s.iE)(e).CWSUrl,i=(0,r.ts)(e),o="".concat(i.first_name," ").concat(i.last_name),l=n?"&inquiry-issue=".concat(n):"";return"".concat(a,"/cloud/contact-us?email=").concat(encodeURIComponent(i.email),"&name=").concat(encodeURIComponent(o),"&inquiry=").concat(t).concat(l)}!function(e){e.Technical="technical",e.Sales="sales",e.Billing="billing"}(a||(a={})),function(e){e.CancelAccount="cancel_account",e.TrialQuestions="trial_questions"}(i||(i={}))},33693:(e,t,n)=>{"use strict";function s(e){return e.views.announcementBar.announcementBarState.announcementBarCount}n.d(t,{b:()=>s})},3598:(e,t,n)=>{"use strict";function s(e,t){return e.views.modals.modalState[t]&&e.views.modals.modalState[t].open}n.d(t,{g:()=>s})},60087:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});const s=e=>null!=e&&Boolean(e.address&&e.city&&e.state&&e.country&&e.postalCode&&e.name)},85769:(e,t,n)=>{"use strict";function s(e){if(!e)return!1;const t=e.payment_method.exp_year;return!!t&&new Date(t,e.payment_method.exp_month,1)<=new Date}n.d(t,{s:()=>s})},66331:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});const s=(0,n(35018).Yu)().sort(((e,t)=>e.name>t.name?1:-1))},46195:(e,t,n)=>{"use strict";n.d(t,{yq:()=>a,fv:()=>i,CH:()=>o,Ez:()=>l,h$:()=>c});var s=n(30381),r=n.n(s);function a(e){return"true"===e.IsLicensed&&parseInt(e.ExpiresAt,10)-Date.now()<=5184e6}function i(e){if("true"!==e.IsLicensed)return;const t=new Date(parseInt(null==e?void 0:e.ExpiresAt,10));return r()(t).startOf("day").diff(r()().startOf("day"),"days")}function o(e){if("true"!==e.IsLicensed)return!1;const t=new Date(parseInt(null==e?void 0:e.ExpiresAt,10));return r()(t).startOf("day").diff(r()().startOf("day"),"days")<0}function l(e){return"true"===e.IsLicensed&&Date.now()-parseInt(e.ExpiresAt,10)>864e6}function c(e){return"true"===e.IsLicensed&&parseInt(e.ExpiresAt,10)-parseInt(e.StartsAt,10)<=26208e5}},52952:(e,t,n)=>{"use strict";function s(e,t){return e===t||(e||"").split(".").slice(0,-2).join(".")===(t||"").split(".").slice(0,-2).join(".")}function r(e,t){if(e===t)return!0;const n=(e||"").split(".").filter((e=>null!==/^[0-9]+$/.exec(e))),s=(t||"").split(".").filter((e=>null!==/^[0-9]+$/.exec(e)));for(let e=0;e<Math.max(n.length,s.length);e++){if((n[e]||0)>(s[e]||0))return!0;if((n[e]||0)<(s[e]||0))return!1}return!0}n.d(t,{p:()=>s,l:()=>r}),n(23123)},56417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=n.p+"files/228bff4301724dfe4fdc5bfc15e84f43.svg"},43610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=n.p+"files/63ee9f55a9acf5209476b0e0e97de80b.svg"},43163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=n.p+"files/52fd1c66da2cc4e23dfa5a212c645db2.svg"}}]);