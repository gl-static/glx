(self.webpackChunkchatting_webapp=self.webpackChunkchatting_webapp||[]).push([[290],{85163:(e,t,n)=>{"use strict";n.d(t,{KB:()=>_,O$:()=>E,W3:()=>C,$d:()=>y,iB:()=>v,rm:()=>w,KZ:()=>S,jI:()=>T,yT:()=>P,Is:()=>M,go:()=>N,wg:()=>I,xT:()=>R,sW:()=>A,kO:()=>O,iz:()=>L,vy:()=>D,KO:()=>k,Du:()=>x,nU:()=>U,GA:()=>Z,rX:()=>j,r3:()=>F,oQ:()=>H,pu:()=>q,a6:()=>B,DF:()=>G,JJ:()=>V,h5:()=>W,sv:()=>z,yX:()=>Y,sg:()=>K,T8:()=>J,SP:()=>Q,X$:()=>X,d5:()=>$,OT:()=>ee,dA:()=>te,d1:()=>ne,Md:()=>se,Sm:()=>ae,gY:()=>ie,K6:()=>re,QQ:()=>oe,r6:()=>le,NB:()=>ce,_9:()=>de,lJ:()=>me,qE:()=>ue,UV:()=>pe}),n(88674);var s=n(93278),a=n(18493),i=n(11754),r=n(11106),o=n(60871),l=n(59925),c=n(34288),d=n(56775),m=n(72009),u=n(92337);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=m.Z.dispatch,b=m.Z.getState;async function _(e,t){const{data:n,error:a}=await f(s.KB());n&&e?(f(s.iE()),f(s.Bd()),e(n)):a&&t&&t(h({id:a.server_error_id},a))}async function E(e,t,n){const{data:s,error:i}=await a.zP(e,!1)(f,b);s&&t?t(s):i&&n&&n(h({id:i.server_error_id},i))}async function C(e,t){const{data:n,error:a}=await s.W3()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function y(e,t){const{data:n,error:a}=await s.Av()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function v(e,t){const{data:n,error:a}=await s.dc()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function w(e,t){const{data:n,error:a}=await s.p3()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function S(e,t,n){const{data:s,error:i}=await a.qS(e)(f,b);s&&t?t(s):i&&n&&n(h({id:i.server_error_id},i))}function T(e){return(0,o.Vs)({clientFunc:r.je.getOAuthAppInfo,params:[e]})}function P({responseType:e,clientId:t,redirectUri:n,state:s,scope:a}){return(0,o.Vs)({clientFunc:r.je.authorizeOAuthApp,params:[e,t,n,s,a]})}async function M(e,t,n,s,i,r,o){const{data:l,error:c}=await a.w0(e,t,s,i,n)(f,b);l&&r?r(l):c&&o&&o(h({id:c.server_error_id},c))}async function N(e,t,n,s,i,r){const{data:o,error:l}=await a.gh(s,e,t,n)(f,b);o&&i?i(o):l&&r&&r(h({id:l.server_error_id},l))}async function I(e,t,n,s,i){const{data:r,error:o}=await a.HH(e,t,n)(f,b);r?(r.follow_link&&(0,c.gc)(r.follow_link),s&&s(r)):o&&i&&i(h({id:o.server_error_id},o))}async function R(e,t,n){const{data:a,error:i}=await s.xT(e)(f,b);a&&t?t(a):i&&n&&n(h({id:i.server_error_id},i))}async function A(e,t){const{data:n,error:a}=await s.sW()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function O(e,t,n){const{data:a,error:i}=await s.kO(e)(f,b);a&&t?t("saml-public.crt"):i&&n&&n(h({id:i.server_error_id},i))}async function L(e,t,n){const{data:a,error:i}=await s.iz(e)(f,b);a&&t?t("saml-private.key"):i&&n&&n(h({id:i.server_error_id},i))}async function D(e,t,n){const{data:a,error:i}=await s.vy(e)(f,b);a&&t?t("ldap-public.crt"):i&&n&&n(h({id:i.server_error_id},i))}async function k(e,t,n){const{data:a,error:i}=await s.KO(e)(f,b);a&&t?t("ldap-private.key"):i&&n&&n(h({id:i.server_error_id},i))}async function x(e,t,n){const{data:a,error:i}=await s.Du(e)(f,b);a&&t?t("saml-idp.crt"):i&&n&&n(h({id:i.server_error_id},i))}async function U(e,t){const{data:n,error:a}=await s.nU()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function Z(e,t){const{data:n,error:a}=await s.GA()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function j(e,t){const{data:n,error:a}=await s.rX()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function F(e,t){const{data:n,error:a}=await s.r3()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function H(e,t){const{data:n,error:a}=await s.oQ()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function q(e){await s.pu(e)(f,b)}async function B(e){await s.a6(e)(f,b)}async function G(e){await s.DF(e)(f,b)}async function V(e){await s.JJ(e)(f,b)}async function W(e){await s.h5(e)(f,b)}async function z(e,t,n){const{data:a,error:i}=await s.bC(e)(f,b);a&&t?t(a):i&&n&&n(h({id:i.server_error_id},i))}async function Y(e,t){const{data:n,error:a}=await s.yX()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function K(e,t){const{data:n,error:a}=await s.MA()(f,b);n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}async function J(e,t){const n=(0,o.Vs)({clientFunc:r.je.purgeBleveIndexes,params:[]}),{data:s,error:a}=await f(n);s&&e?e(s):a&&t&&t(h({id:a.server_error_id},a))}function Q(e){return{type:u.MF.SET_NAVIGATION_BLOCKED,blocked:e}}function X(e){return{type:u.MF.DEFER_NAVIGATION,onNavigationConfirmed:e}}function $(){return{type:u.MF.CANCEL_NAVIGATION}}function ee(){return(e,t)=>{const n=(0,d.zJ)(t());n&&n(),e({type:u.MF.CONFIRM_NAVIGATION})}}async function te(e,t){const{data:n,error:s}=await f(i.dA());n&&e?e(n):s&&t&&t(h({id:s.server_error_id},s))}async function ne(e,t){const{data:n,error:a}=await f(s.Sf());n&&e?e(n):a&&t&&t(h({id:a.server_error_id},a))}function se(e,t){return n=>{n({type:u.MF.RECEIVED_ADMIN_CONSOLE_REDUCER,data:{pluginId:e,reducer:t}})}}function ae(e){return t=>{t({type:u.MF.REMOVED_ADMIN_CONSOLE_REDUCER,data:{pluginId:e}})}}async function ie(e,t,n){const{data:a,error:i}=await f(s.gY(n));a&&e?e(a):i&&t&&t(h({id:i.server_error_id},i))}function re(e,t,n,{showTitle:s}){return a=>{a({type:u.MF.RECEIVED_ADMIN_CONSOLE_CUSTOM_COMPONENT,data:{pluginId:e,key:t,component:n,options:{showTitle:s}}})}}async function oe(e,t,n){const{data:a,error:i}=await f(s.QQ(n));a&&e?e(a):i&&t&&t(h({id:i.server_error_id},i))}async function le(e,t,n){const{data:a,error:i}=await s.r6(n)(f,b);a&&e?e("saml-idp.crt"):i&&t&&t(h({id:i.server_error_id},i))}function ce(){return async()=>((0,l.L9)("api","upgrade_to_e0_requested"),await r.je.upgradeToEnterprise())}function de(){return async()=>await r.je.upgradeToEnterpriseStatus()}function me(){return async()=>await r.je.restartServer()}function ue(){return async()=>await r.je.ping()}function pe(e,t,n,s){return async()=>{try{return(0,l.L9)("api","api_request_trial_license",{from_page:s}),{data:await r.je.doFetch("".concat(r.je.getBaseRoute(),"/trial-license"),{method:"POST",body:JSON.stringify({users:e,terms_accepted:t,receive_emails_accepted:n})})}}catch(e){return{error:e.message}}}}},4205:(e,t,n)=>{"use strict";n.d(t,{cW:()=>oe,H7:()=>ce,ex:()=>me,J3:()=>de,Rv:()=>le}),n(88674);var s=n(11106),a=n(50766),i=n(74838),r=n(37703),o=n(14890),l=n(45697),c=n.n(l),d=(n(33948),n(67294)),m=n(74806),u=n(93183),p=n(43253),h=n(44012),g=n(84319),f=n(77555),b=n(92094),_=n(41244),E=n(74935),C=n(26961),y=n(63951),v=n(47715),w=(n(41817),n(32023),n(19601),n(23122)),S=n(59030),T=n(28958),P=n(51116),M=n(52166),N=n(92684),I=(n(39714),n(14504));function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L=n(60820).default,D={menuPortal:e=>A(A({},e),{},{zIndex:9999})},k={isClearable:!0,openMenuOnFocus:!1,classNamePrefix:"react-select-auto react-select",menuPortalTarget:document.body,styles:D};class x extends d.PureComponent{constructor(e){super(e),O(this,"onChange",(e=>{this.props.onChange(e)})),O(this,"loadDynamicOptions",(async e=>this.props.performLookup(this.props.field.name,e))),this.state={field:e.field,refreshNonce:Math.random().toString()}}static getDerivedStateFromProps(e,t){return e.field!==t.field?{field:e.field,refreshNonce:Math.random().toString()}:null}renderDynamicSelect(){const{field:e}=this.props,t=e.hint||"",n=this.props.value;return d.createElement("div",{className:"react-select"},d.createElement(L,Object.assign({id:"MultiInput_".concat(e.name),loadOptions:this.loadDynamicOptions,defaultOptions:!0,isMulti:e.multiselect||!1,placeholder:t,value:n,onChange:this.onChange},k)))}renderStaticSelect(){const{field:e}=this.props,t=e.hint||"",n=e.options,s=this.props.value;return d.createElement("div",{className:"react-select"},d.createElement(I.ZP,Object.assign({id:"MultiInput_".concat(e.name),options:n,isMulti:e.multiselect||!1,placeholder:t,value:s,onChange:this.onChange},k)))}render(){const{field:e,label:t,helpText:n}=this.props;let s;if("dynamic_select"===e.type)s=this.renderDynamicSelect();else{if("static_select"!==e.type)return null;s=this.renderStaticSelect()}return d.createElement("div",{className:"form-group"},d.createElement("label",null,t),d.createElement(d.Fragment,{key:this.state.refreshNonce},s,d.createElement("div",{className:"help-text"},n)))}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O(x,"propTypes",{label:c().node.isRequired,helpText:c().node.isRequired,onChange:c().func.isRequired,performLookup:c().func.isRequired});class Z extends d.PureComponent{constructor(e){super(e),U(this,"providers",[]),U(this,"handleSelected",(e=>{const{name:t,field:n,onChange:s}=this.props;if(n.type===a.T1.USER){const n=e;let a=n.username;this.props.teammateNameDisplay&&(a=(0,w.fw)(n,this.props.teammateNameDisplay)),s(t,{label:a,value:n.id})}else if(n.type===a.T1.CHANNEL){const n=e;s(t,{label:n.display_name,value:n.id})}else s(t,e)})),U(this,"setProviders",(()=>{const{actions:e,field:t}=this.props;let n=[];t.type===a.T1.USER?n=[new S.Z(e.autocompleteUsers)]:t.type===a.T1.CHANNEL&&(n=[new T.Z(e.autocompleteChannels)]),this.providers=n})),this.setProviders()}render(){const{field:e,name:t,value:n,onChange:s,errorText:i,listComponent:r}=this.props,o=e.hint||"",l=e.modal_label||e.label;let c=e.modal_label||e.label;e.is_required&&(c=d.createElement(d.Fragment,null,l,d.createElement("span",{className:"error-text"}," *")));const m=e.description;let u=m;if(i&&(u=d.createElement(d.Fragment,null,m,d.createElement("div",{className:"error-text mt-3"},i))),"text"===e.type){const a=e.subtype||"text";let i=e.max_length;i||(i="textarea"===a?3e3:150);let r="input";a&&P.Z.validTypes.includes(a)&&(r=a);const l=n;return d.createElement(P.Z,{autoFocus:this.props.autoFocus,id:t,disabled:e.readonly,type:r,label:c,maxLength:i,value:l||"",placeholder:o,helpText:u,onChange:s,resizable:!1})}if(e.type===a.T1.CHANNEL||e.type===a.T1.USER){let n;return this.props.value&&(n=this.props.value.label),d.createElement(M.Z,{id:t,disabled:e.readonly,providers:this.providers,onSelected:this.handleSelected,label:c,helpText:u,placeholder:o,value:n,listComponent:r})}if(e.type===a.T1.STATIC_SELECT||e.type===a.T1.DYNAMIC_SELECT)return d.createElement(x,Object.assign({},this.props,{field:e,label:c,helpText:u,onChange:this.handleSelected,value:this.props.value}));if(e.type===a.T1.BOOL){const a=n;return d.createElement(N.Z,{autoFocus:this.props.autoFocus,id:t,disabled:e.readonly,label:c,value:a||!1,helpText:u,placeholder:o,onChange:s})}return null}}U(Z,"propTypes",{name:c().string.isRequired,errorText:c().node,teammateNameDisplay:c().string,onChange:c().func.isRequired,autoFocus:c().bool,listComponent:c().elementType,performLookup:c().func.isRequired,actions:c().shape({autocompleteChannels:c().func.isRequired,autocompleteUsers:c().func.isRequired}).isRequired}),U(Z,"defaultProps",{listComponent:_.Z});const j=(0,r.connect)((function(e){return{teammateNameDisplay:(0,C.kl)(e)}}),(function(e){return{actions:(0,o.bindActionCreators)({autocompleteChannels:y.J3,autocompleteUsers:v.w5},e)}}))(Z);var F=n(64852);const H={singleline:!1,mentionHighlight:!1},q=e=>d.createElement(F.Z,{message:e.value,options:H});q.propTypes={id:c().string,value:c().string.isRequired};const B=q;function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z=e=>{const t={};return e&&e.fields&&e.fields.forEach((e=>{t[e.name]=e.value||null})),t};class Y extends d.PureComponent{constructor(e){super(e),W(this,"updateErrors",((e,t,n)=>{let s=!1;const a={};return n&&(s=!0,a.formError=n),t&&Object.keys(t).length>=0&&(0,g.T)(t,e)&&(s=!0,a.fieldErrors=t),s&&this.setState(a),s})),W(this,"handleSubmit",(async(e,t,n)=>{e.preventDefault();const{fields:s}=this.props.form,i=this.state.values;t&&n&&(i[t]=n);const r={},o=K(s);if(null==o||o.forEach((e=>{const t=(0,g.c)(e,i[e.name]);t&&(r[e.name]=d.createElement(h.Z,{id:t.id,defaultMessage:t.defaultMessage,values:t.values}))})),this.setState({fieldErrors:r}),0!==Object.keys(r).length)return;const l={values:i};this.setState({submitting:!0});const c=await this.props.actions.submit(l);if(c.error){var m;const e=c.error,t=e.error;return void(this.updateErrors(o,null===(m=e.data)||void 0===m?void 0:m.errors,t)||this.handleHide(!1))}const u=c.data;this.setState({submitting:!1});let p=!1,f=!1;switch(u.type){case a.Bp.FORM:f=!0;break;case a.Bp.OK:case a.Bp.NAVIGATE:break;default:p=!0,this.updateErrors([],void 0,this.context.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:u.type}))}p||f?this.setState({submitting:!1}):this.handleHide(!0)})),W(this,"performLookup",(async(e,t)=>{var n;const s=this.context.intl,i=this.props.form.fields.find((t=>t.name===e));if(!i)return[];const r=await this.props.actions.performLookupCall(i,this.state.values,t);if(r.error){const e=r.error.error||s.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error."});return this.setState({fieldErrors:V(V({},this.state.fieldErrors),{},{[i.name]:e})}),[]}const o=r.data;switch(o.type){case a.Bp.OK:return(null===(n=o.data)||void 0===n?void 0:n.items)||[];case a.Bp.FORM:case a.Bp.NAVIGATE:{const e=s.formatMessage({id:"apps.error.responses.unexpected_type",defaultMessage:"App response type was not expected. Response type: {type}."},{type:o.type});return this.setState({fieldErrors:V(V({},this.state.fieldErrors),{},{[i.name]:e})}),[]}default:{const e=s.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:o.type});return this.setState({fieldErrors:V(V({},this.state.fieldErrors),{},{[i.name]:e})}),[]}}})),W(this,"onHide",(()=>{this.handleHide(!1)})),W(this,"handleHide",((e=!1)=>{const{form:t}=this.props;!e&&t.submit_on_cancel,this.setState({show:!1})})),W(this,"onChange",((e,t)=>{const n=this.props.form.fields.find((t=>t.name===e));if(!n)return;const s=V(V({},this.state.values),{},{[e]:t});n.refresh&&this.props.actions.refreshOnSelect(n,s).then((e=>{if(e.error){var t;const n=e.error,s=n.error,a=null===(t=n.data)||void 0===t?void 0:t.errors,i=K(this.props.form.fields);return void this.updateErrors(i,a,s)}const n=e.data;switch(n.type){case a.Bp.FORM:return;case a.Bp.OK:case a.Bp.NAVIGATE:return void this.updateErrors([],void 0,this.context.intl.formatMessage({id:"apps.error.responses.unexpected_type",defaultMessage:"App response type was not expected. Response type: {type}."},{type:n.type}));default:this.updateErrors([],void 0,this.context.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:n.type}))}})),this.setState({values:s})}));const{form:t}=e,n=z(t);this.state={show:!0,values:n,formError:null,fieldErrors:{},submitting:!1,form:t}}static getDerivedStateFromProps(e,t){return e.form!==t.form?{values:z(e.form),form:e.form}:null}renderModal(){const{fields:e,header:t}=this.props.form;return d.createElement(p.Z,{id:"appsModal",dialogClassName:"a11y__modal about-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,backdrop:"static",role:"dialog","aria-labelledby":"appsModalLabel"},d.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},d.createElement(p.Z.Header,{closeButton:!0,style:{borderBottom:e&&e.length?"":"0px"}},d.createElement(p.Z.Title,{componentClass:"h1",id:"appsModalLabel"},this.renderHeader())),(e||t)&&d.createElement(p.Z.Body,null,this.renderBody()),d.createElement(p.Z.Footer,null,this.renderFooter())))}renderEmbedded(){const{fields:e,header:t}=this.props.form;return d.createElement("form",{onSubmit:this.handleSubmit},d.createElement("div",null,this.renderHeader()),(e||t)&&d.createElement("div",null,this.renderBody()),d.createElement("div",null,this.renderFooter()))}renderHeader(){const{title:e,icon:t}=this.props.form;let n;return t&&(n=d.createElement("img",{id:"appsModalIconUrl",alt:"modal title icon",className:"more-modal__image",width:"36",height:"36",src:t})),d.createElement(d.Fragment,null,n,e)}renderElements(){const{isEmbedded:e,form:t}=this.props,{fields:n}=t;return n?n.filter((e=>e.name!==t.submit_buttons)).map(((t,n)=>d.createElement(j,{field:t,key:t.name,autoFocus:0===n,name:t.name,errorText:this.state.fieldErrors[t.name],value:this.state.values[t.name],performLookup:this.performLookup,onChange:this.onChange,listComponent:e?b.Z:_.Z}))):null}renderBody(){const{fields:e,header:t}=this.props.form;return(e||t)&&d.createElement(d.Fragment,null,t&&d.createElement(B,{id:"appsModalHeader",value:t}),this.renderElements())}renderFooter(){const{fields:e}=this.props.form,t=d.createElement(h.Z,{id:"interactive_dialog.submit",defaultMessage:"Submit"});let n=[d.createElement(f.Z,{id:"appsModalSubmit",key:"submit",type:"submit",autoFocus:!e||0===e.length,className:"btn btn-primary save-button",spinning:this.state.submitting,spinningText:(0,E._u)("interactive_dialog.submitting","Submitting...")},t)];if(this.props.form.submit_buttons){const t=null==e?void 0:e.find((e=>e.name===this.props.form.submit_buttons));if(t){var s;const e=null===(s=t.options)||void 0===s?void 0:s.map((e=>d.createElement(f.Z,{id:"appsModalSubmit"+e.value,key:e.value,type:"submit",className:"btn btn-primary save-button",spinningText:(0,E._u)("interactive_dialog.submitting","Submitting..."),onClick:n=>this.handleSubmit(n,t.name,e.value)},e.label)));e&&(n=e)}}return d.createElement(d.Fragment,null,this.state.formError&&d.createElement("div",{className:"error-text"},this.state.formError),d.createElement("button",{id:"appsModalCancel",type:"button",className:"btn btn-link cancel-button",onClick:this.onHide},d.createElement(h.Z,{id:"interactive_dialog.cancel",defaultMessage:"Cancel"})),n)}render(){return this.props.isEmbedded?this.renderEmbedded():this.renderModal()}}function K(e){return null==e?void 0:e.map((e=>({name:e.name,type:e.type,subtype:e.subtype,optional:!e.is_required})))}W(Y,"propTypes",{isEmbedded:c().bool,onHide:c().func.isRequired,actions:c().shape({submit:c().func.isRequired,performLookupCall:c().func.isRequired,refreshOnSelect:c().func.isRequired}).isRequired});const J=(0,m.ZP)(Y);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ee extends d.PureComponent{constructor(e){super(e),$(this,"submitForm",(async e=>{const t=e=>this.props.intl.formatMessage({id:"apps.error.form.submit.pretext",defaultMessage:"There has been an error submitting the modal. Contact the app developer. Details: {details}"},{details:e}),{form:n}=this.state;if(!n){const e=this.props.intl.formatMessage({id:"apps.error.form.no_form",defaultMessage:"`form` is not defined"});return{error:(0,u.ts)(t(e))}}const s=this.getCall();if(!s){const e=this.props.intl.formatMessage({id:"apps.error.form.no_call",defaultMessage:"`call` is not defined"});return{error:(0,u.ts)(t(e))}}const i=await this.props.actions.doAppCall(X(X({},s),{},{values:e.values}),a._L.SUBMIT,this.props.intl);if(i.error)return i;const r=i.data;switch(r.type){case a.Bp.OK:r.markdown&&this.props.actions.postEphemeralCallResponseForContext(r,r.markdown,s.context);break;case a.Bp.FORM:this.setState({form:r.form});break;case a.Bp.NAVIGATE:default:return{error:(0,u.ts)(t(this.props.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:r.type})))}}return i})),$(this,"refreshOnSelect",(async(e,t)=>{const n=e=>this.props.intl.formatMessage({id:"apps.error.form.refresh",defaultMessage:"There has been an error updating the modal. Contact the app developer. Details: {details}"},{details:e}),{form:s}=this.state;if(!s)return{error:(0,u.ts)(n(this.props.intl.formatMessage({id:"apps.error.form.no_form",defaultMessage:"`form` is not defined."})))};const i=this.getCall();if(!i)return{error:(0,u.ts)(n(this.props.intl.formatMessage({id:"apps.error.form.no_call",defaultMessage:"`call` is not defined."})))};if(!e.refresh)return{error:(0,u.ts)(n(this.props.intl.formatMessage({id:"apps.error.form.refresh_no_refresh",defaultMessage:"Called refresh on no refresh field."})))};const r=await this.props.actions.doAppCall(X(X({},i),{},{selected_field:e.name,values:t}),a._L.FORM,this.props.intl);if(r.error)return r;const o=r.data;switch(o.type){case a.Bp.FORM:this.setState({form:o.form});break;case a.Bp.OK:case a.Bp.NAVIGATE:return{error:(0,u.ts)(n(this.props.intl.formatMessage({id:"apps.error.responses.unexpected_type",defaultMessage:"App response type was not expected. Response type: {type}."},{type:o.type})))};default:return{error:(0,u.ts)(n(this.props.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:o.type})))}}return r})),$(this,"performLookupCall",(async(e,t,n)=>{const s=this.props.intl,i=this.getCall();return i?this.props.actions.doAppCall(X(X({},i),{},{values:t,selected_field:e.name,query:n}),a._L.LOOKUP,s):{error:(0,u.ts)((e=>s.formatMessage({id:"apps.error.form.refresh",defaultMessage:"There has been an error fetching the select fields. Contact the app developer. Details: {details}"},{details:e}))(s.formatMessage({id:"apps.error.form.no_call",defaultMessage:"`call` is not defined."})))}})),$(this,"getCall",(()=>{var e;const{form:t}=this.state,{call:n}=this.props;return n?X(X(X({},n),null==t?void 0:t.call),{},{expand:X(X({},null==t||null===(e=t.call)||void 0===e?void 0:e.expand),n.expand)}):null})),$(this,"onHide",(()=>{this.props.onHide()})),this.state={form:e.form}}render(){if(!this.getCall())return null;const{form:e}=this.state;return e?d.createElement(J,{form:e,onHide:this.onHide,actions:{submit:this.submitForm,performLookupCall:this.performLookupCall,refreshOnSelect:this.refreshOnSelect}}):null}}$(ee,"propTypes",{onHide:c().func.isRequired,actions:c().shape({}).isRequired});const te=(0,m.ZP)(ee),ne=(0,r.connect)(null,(function(e){return{actions:(0,o.bindActionCreators)({doAppCall:oe,postEphemeralCallResponseForContext:de},e)}}))(te);var se=n(92337),ae=n(12266),ie=n(89262),re=n(34288);function oe(e,t,n){return async r=>{try{const o=await s.je.executeAppCall(e,t),l=o.type||a.Bp.OK;switch(l){case a.Bp.OK:return{data:o};case a.Bp.ERROR:return{error:o};case a.Bp.FORM:if(!o.form){const e=n.formatMessage({id:"apps.error.responses.form.no_form",defaultMessage:"Response type is `form`, but no form was included in response."});return{error:(0,u.ts)(e)}}return t===a._L.SUBMIT&&r(function(e,t){return(0,i.h)({modalId:se.r8.APPS_MODAL,dialogType:ne,dialogProps:{form:e,call:t}})}(o.form,e)),{data:o};case a.Bp.NAVIGATE:if(!o.navigate_to_url){const e=n.formatMessage({id:"apps.error.responses.navigate.no_url",defaultMessage:"Response type is `navigate`, but no url was included in response."});return{error:(0,u.ts)(e)}}if(t!==a._L.SUBMIT){const e=n.formatMessage({id:"apps.error.responses.navigate.no_submit",defaultMessage:"Response type is `navigate`, but the call was not a submission."});return{error:(0,u.ts)(e)}}return(0,ae.or)(o.navigate_to_url,(0,ae.fO)())?(window.open(o.navigate_to_url),{data:o}):(ie.m.push(o.navigate_to_url.slice((0,ae.fO)().length)),{data:o});default:{const e=n.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:l});return{error:(0,u.ts)(e)}}}}catch(e){const t=e.message||n.formatMessage({id:"apps.error.responses.unexpected_error",defaultMessage:"Received an unexpected error."});return{error:(0,u.ts)(t)}}}}function le(e,t,n){var s;return(0,re.Cl)(t,n.channel_id,n.root_id||n.id,null===(s=e.app_metadata)||void 0===s?void 0:s.bot_user_id)}function ce(e,t,n){var s;return(0,re.Cl)(t,n,"",null===(s=e.app_metadata)||void 0===s?void 0:s.bot_user_id)}function de(e,t,n){var s;return(0,re.Cl)(t,n.channel_id,n.root_id||n.post_id,null===(s=e.app_metadata)||void 0===s?void 0:s.bot_user_id)}function me(e,t,n){var s;return(0,re.Cl)(t,n.channel_id,n.root_id,null===(s=e.app_metadata)||void 0===s?void 0:s.bot_user_id)}},73859:(e,t,n)=>{"use strict";n.d(t,{F:()=>r}),n(88674);var s=n(35018),a=n(11106),i=n(66356);function r(e,t,n){return async()=>{let r;try{r=await a.je.createPaymentMethod()}catch(e){return e}const o=(0,i.li)(n)(e.confirmCardSetup),l=await o(r.client_secret,{payment_method:{card:t.card,billing_details:{name:t.name,address:{line1:t.address,line2:t.address2,city:t.city,state:t.state,country:(0,s.Cq)(t.country),postal_code:t.postalCode}}}});if(!l)return!1;const{setupIntent:c,error:d}=l;if(d)return!1;if(null==c)return!1;if("succeeded"!==c.status)return!1;try{await a.je.confirmPaymentMethod(c.id)}catch(e){return!1}return!0}}},77905:(e,t,n)=>{"use strict";n.d(t,{P:()=>T}),n(88674),n(73210),n(23157);var s=n(11106),a=n(80722),i=n(28847),r=n(70493),o=n(89980),l=n(16146),c=n(62696),d=n(70082),m=n(50766),u=n(74838),p=n(34288),h=n(34959),g=n(12266),f=n(74935),b=n(47470),_=n(92337),E=n(89262),C=n(96269),y=n(90747),v=n(84094),w=n(82251),S=n(4205);function T(e,t){return async(n,T)=>{const P=T();let M=e,N=M.indexOf(" ");N<0&&(N=M.length);const I=M.substring(0,N).toLowerCase();switch(M=I+" "+M.substring(N,M.length).trim(),I){case"/search":return n(h._8(M.substring(N+1,M.length))),{data:!0};case"/shortcuts":return b.tq()?{error:{message:(0,f._u)("create_post.shortcutsNotSupported","Keyboard shortcuts are not supported on your device")}}:(p.kk(),{data:!0});case"/leave":{if(t.channel_id&&(t.root_id||t.parent_id))return n(p.Cl("/leave is not supported in reply threads. Use it in the center channel instead.",t.channel_id,t.parent_id)),{data:!0};const e=(0,r.TB)(P)||{};if(e.type===_.gT.PRIVATE_CHANNEL)return p.EK(e),{data:!0};if(e.type===_.gT.DM_CHANNEL||e.type===_.gT.GM_CHANNEL){const t=(0,o.rc)(P);let s,c;e.type===_.gT.DM_CHANNEL?(s=(0,f.aU)(e),c=_.gT.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW):(s=e.id,c=_.gT.Preferences.CATEGORY_GROUP_CHANNEL_SHOW);const d=(0,l.ev)(P),m=(0,r.fG)(P,d),u=(0,l.gm)(P);return E.m.push("".concat(u,"/group/").concat(m)),n((0,i.$A)(t,[{category:c,name:s,user_id:t,value:"false"}])),(0,r.Dp)(P,e.id)&&n((0,a.Dn)(e.id)),{data:!0}}break}case"/settings":return n((0,u.h)({modalId:_.r8.USER_SETTINGS,dialogType:C.Z})),{data:!0};case"/collapse":case"/expand":n(h.ip()),n(h.eY())}if((0,c.D)(P)){const e=()=>T(),s=e=>({error:{message:e}}),a=new y.nr({dispatch:n,getState:e},v.zx,t.channel_id,t.root_id);if(a.isAppCommand(M))try{const{call:e,errorMessage:i}=await a.composeCallFromCommand(M);if(!e)return s(i);const r=await n((0,S.cW)(e,m._L.SUBMIT,v.zx));if(r.error)return s(r.error.error||v.zx.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error."}));const o=r.data;switch(o.type){case m.Bp.OK:return o.markdown&&n((0,S.ex)(o,o.markdown,t)),{data:!0};case m.Bp.FORM:case m.Bp.NAVIGATE:return{data:!0};default:return s((0,f.Us)((0,w.t)("apps.error.responses.unknown_type"),"App response type not supported. Response type: {type}.",{type:o.type}))}}catch(e){return s(e.message||(0,f._u)("apps.error.unknown","Unknown error."))}}let R;try{R=await s.je.executeCommand(M,t)}catch(e){return{error:e}}const A=R.goto_location&&(0,g.lt)(R.goto_location);return"/logout"===M.trim()?(p.gc(A?R.goto_location:"/"),{data:!0}):(R.trigger_id&&n({type:d.bK.RECEIVED_DIALOG_TRIGGER_ID,data:R.trigger_id}),A&&(R.goto_location.startsWith("/")?E.m.push(R.goto_location):R.goto_location.startsWith((0,g.fO)())?E.m.push(R.goto_location.substr((0,g.fO)().length)):window.open(R.goto_location)),{data:!0})}}},34288:(e,t,n)=>{"use strict";n.d(t,{UF:()=>ee,Gx:()=>H,Fy:()=>B,bH:()=>X,gc:()=>$,mc:()=>ne,Q0:()=>J,Cl:()=>K,VB:()=>V,r1:()=>W,EK:()=>z,_t:()=>Y,kk:()=>G,JI:()=>q}),n(88674),n(33948);var s=n(81375),a=n(80722),i=n(18493),r=n(42560),o=n(16146),l=n(89980),c=n(70493),d=n(62696),m=n(70082),u=n(526),p=n(89262),h=n(34959),g=n(72657),f=n(47715),b=n(53497),_=n(65097),E=(n(2535),n(58008)),C=n(37780),y=n(6602),v=n(67844),w=n(91384),S=n(72009),T=n(24493),P=n(58194),M=n(92337),N=n(88136),I=n(74935),R=n(45697),A=n.n(R),O=n(67294),L=n(43253),D=n(38122),k=n(15240);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends O.PureComponent{constructor(e){super(e),x(this,"onHide",(()=>{this.setState({show:!1})})),this.state={show:!0}}render(){let e;return this.props.elements&&(e=this.props.elements.map((e=>O.createElement(k.Z.ItemSubMenu,{key:e.id,id:e.id,text:e.text,subMenu:e.subMenu,action:e.action,filter:e.filter,root:!1})))),O.createElement(L.Z,{dialogClassName:"SubMenuModal a11y__modal mobile-sub-menu",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,enforceFocus:!1,id:"submenuModal",role:"dialog"},O.createElement(L.Z.Body,{onClick:this.onHide},O.createElement(D.Z,null,O.createElement(k.Z,{openLeft:!0,ariaLabel:I._u("post_info.submenu.mobile","mobile submenu").toLowerCase()},e),O.createElement("div",null))))}}x(U,"propTypes",{onHide:A().func.isRequired});var Z=n(74838);const j=S.Z.dispatch,F=S.Z.getState;function H(e){function t(e){const t=F(),n=(0,l.rc)(t),i=e.team_id||(0,o.ev)(t),r=(0,v.aC)(t),p=(0,v.kV)(t)===M.Hp.PIN,h=(0,v.kV)(t)===M.Hp.CHANNEL_FILES,g=(0,c.Or)(t,e.id),_=(0,c.gO)(t);j((0,a.mx)(e.id));const E=T.Z.getPreviousChannelName(n,i);E!==e.name&&(T.Z.setPenultimateChannelName(n,i,E),T.Z.setPreviousChannelName(n,i,e.name)),r&&p&&j((0,b.D5)(M.Hp.PIN,e.id)),r&&h&&j((0,b.D5)(M.Hp.CHANNEL_FILES,e.id)),_&&(0,f.D3)(),j((0,s.$C)([{type:m.d4.SELECT_CHANNEL,data:e.id},{type:M.MF.SELECT_CHANNEL_WITH_MEMBER,data:e.id,channel:e,member:g||{}}])),(0,d.D)(t)&&j((0,u.W)(n,e.id))}e.fake?async function(e,n,s){const i=F(),r=(0,l.rc)(i),o=I.aU(e),c=await(0,a.Gc)(r,o)(j,F);"data"in c?t(c.data):p.m.push("/")}(e):t(e)}function q(e,t=Date.now()){return{type:M.MF.UPDATE_CHANNEL_LAST_VIEWED_AT,channel_id:e,last_viewed_at:t}}function B(){j((0,b.Lg)())}function G(){C.Z.handleViewAction({type:M.MF.TOGGLE_SHORTCUTS_MODAL,value:!0})}function V(e){C.Z.handleViewAction({type:M.MF.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,value:!0,channel:e})}function W(e){C.Z.handleViewAction({type:M.MF.TOGGLE_GET_PUBLIC_LINK_MODAL,value:!0,fileId:e})}function z(e){C.Z.handleViewAction({type:M.MF.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,value:e})}function Y(e){const t={ModalId:M.r8.MOBILE_SUBMENU,dialogType:U,dialogProps:{elements:e}};j((0,Z.h)(t))}function K(e,t,n,s){return(a,i)=>{const r=I.u3(),o={id:I.Ox(),user_id:s||"0",channel_id:t||(0,c.gO)(i()),message:e,type:M.tk.EPHEMERAL,create_at:r,update_at:r,root_id:n,parent_id:n,props:{}};return a((0,h.$T)(o))}}function J(e,t,n,s,a="",i){const r={id:I.Ox(),user_id:e.id,channel_id:s||(0,c.gO)(F()),message:"",type:M.tk.EPHEMERAL_ADD_TO_CHANNEL,create_at:i,update_at:i,root_id:a,parent_id:a,props:{username:e.username,addedUsername:t,addedUserId:n}};j((0,h.$T)(r))}let Q=0;function X(e,t){return j((async(n,s)=>{const a=s(),i=(0,r.iE)(a),o=Date.now(),l=(0,c.Bw)(a),d=l?l.member_count:0,m=I.Zg(i.TimeBetweenUserTypingUpdatesMilliseconds),u=I.Zg(i.MaxNotificationsPerChannel);return o-Q>m&&d<u&&"true"===i.EnableUserTypingMessages&&(P.Z.userTyping(e,t),Q=o),{data:!0}}))}function $(e="/",t=!0,n=!0){n&&T.Z.setWasLoggedIn(!1),j((0,i.kS)()).then((()=>{t&&w.Z.signalLogout(),w.Z.clear(),(0,g.eI)(),E.xv(),(0,_.v)(),p.m.push(e)})).catch((()=>{p.m.push(e)}))}function ee(e){j({type:M.MF.BROWSER_CHANGE_FOCUS,focus:e})}async function te(e,t){let n=F(),s=null;const i=(0,o.kQ)(n,t.id);if(!i||0===Object.keys(i).length)return null;let r=(0,c.iC)(n,t.id);r&&0!==Object.keys(r).length||(await j((0,a.oO)(t.id)),n=F(),r=(0,c.iC)(n,t.id));const l=T.Z.getPreviousChannelName(e.id,t.id);let d;return s=r[l],void 0===s&&(s=(0,c.Ag)(n).find((e=>e.name===l))),s&&(d=(0,c.Or)(n,s.id)),s&&d||(await j((0,a.Ft)(t.name,l)),n=F(),r=(0,c.iC)(n,t.id),s=r[l],d=(0,c.Or)(n,s&&s.id)),s&&d||(s=r[(0,c.fG)(n,t.id)],d=(0,c.Or)(n,s&&s.id)),s&&d?s:null}async function ne(){let e=F(),t=(0,l.ts)(e);if((I.Qr((0,o.gb)(e))||!t)&&(await j((0,i.f9)()),e=F(),t=(0,l.ts)(e)),!t)return;const n=(0,y.B)(e),s=T.Z.getPreviousTeamId(t.id);let r,c=(0,o.Dc)(e);if(0!==c.length){if(s&&(r=(0,o.VP)(e,s)),r&&0===r.delete_at){const e=await te(t,r);if(e)return j((0,a.QE)(e.id)),void p.m.push("/".concat(r.name,"/group/").concat(e.name))}c=(0,N.Z)(c,n);for(const e of c){const n=await te(t,e);if(n)return j((0,a.QE)(n.id)),void p.m.push("/".concat(e.name,"/group/").concat(n.name))}p.m.push("/select_team")}else p.m.push("/select_team")}},73787:(e,t,n)=>{"use strict";function s(e){return async(t,n)=>{const s=n().plugins.components.MessageWillBePosted;if(!s||0===s.length)return{data:e};let a=e;for(const e of s){const t=await e.hook(a);if(t){if(t.error)return{error:t.error};a=t.post}}return{data:a}}}function a(e,t){return async(n,s)=>{const a=s().plugins.components.SlashCommandWillBePosted;if(!a||0===a.length)return{data:{message:e,args:t}};let i=e,r=t;for(const e of a){const t=await e.hook(i,r);if(t){if(t.error)return{error:t.error};if(i=t.message,r=t.args,0===Object.keys(t).length)break}}return{data:{message:i,args:r}}}}n.d(t,{H:()=>s,J:()=>a}),n(88674),n(33948)},15433:(e,t,n)=>{"use strict";n.d(t,{Yz:()=>I,NL:()=>R,j9:()=>A,qZ:()=>O,$B:()=>L,TL:()=>D,e2:()=>k,yp:()=>x,D2:()=>U,cX:()=>Z,e_:()=>j,Nz:()=>F,RE:()=>H,AV:()=>q,WW:()=>B,Kx:()=>G,fB:()=>V}),n(88674),n(19601);var s=n(81375),a=n(80722),i=n(92405),r=n(70082),o=n(18493),l=n(11754),c=n(74650),d=n(70493),m=n(16146),u=n(89980),p=n(85357),h=n(91150),g=n(71816),f=n(16165),b=n(63951),_=n(12083),E=n(76908),C=n(16403),y=n(89262),v=n(92337),w=n(74935),S=n(24493),T=n(47667);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(){return e=>{e({type:v.MF.UPDATE_MOBILE_VIEW,data:(0,w.tq)()})}}function R(){return async(e,t)=>{const n=t(),s=(0,d.TB)(n)||{},a=(0,d.p7)(n),i=(0,d.wV)(n),r=Object.assign({},a,i);let o=(0,g.ZO)(r,(0,_.fj)(n));return s.id===o.id&&(o=(0,g.ZO)(r,(0,d.fG)(n,(0,m.ev)(n)))),e(O(o))}}function A(e){return async(t,n)=>{const s=n();return t(O((0,d.mr)(s,e)))}}function O(e){return async(t,n)=>{const s=n(),a=(0,m.gm)(s);if(e.fake||e.userId){const n=e.userId?e.name:e.display_name,i=(0,u.dQ)(s,n);if(!i)return{error:!0};if((await t((0,b.Pn)(i.id))).error)return{error:!0};y.m.push("".concat(a,"/messages/@").concat(e.name))}else if(e.type===v.gT.GM_CHANNEL){const t=(0,d.mr)(s,e.id);y.m.push("".concat(a,"/group/").concat(t.name))}else y.m.push("".concat(a,"/group/").concat(e.name));return{data:!0}}}function L(e){return async(t,n)=>{const s=n(),i=(0,u.rc)(s),r=(0,m.ev)(s);return t((0,a.JJ)(i,r,e))}}function D(e){return async(t,n)=>{let s=n();const i=(0,u.rc)(s),o=(0,m.kA)(s),c=(0,d.mr)(s,e);(0,d.Dp)(s,e)&&t((0,a.Dn)(e));const p=(0,m.gm)(s);(0,T.t2)(c)||S.Z.removePreviousChannelName(i,o.id,s);const{error:h}=await t((0,a.TL)(e));if(h)return{error:h};s=n();const f=S.Z.getPreviousChannelName(i,o.id,s),b=(0,d.p7)(s),_=(0,g.ZO)(b,f);return _&&(0,d.h4)(s)[_.id]||S.Z.removePreviousChannelName(i,o.id,s),0===(0,d.qB)(n()).filter((e=>e.type===v.gT.OPEN_CHANNEL||e.type===v.gT.PRIVATE_CHANNEL)).length?(S.Z.removePreviousChannelName(i,o.id,s),t((0,l.MA)("")),t({type:r.OU.LEAVE_TEAM,data:o}),y.m.push("/")):y.m.push(p),{data:!0}}}function k(e){return async(t,n)=>{const s=n(),a=(0,u.rc)(s);return(0,m.qS)(s).forEach((t=>{const n=S.Z.getPreviousChannelName(a,t.id,s),i=S.Z.getPenultimateChannelName(a,t.id,s);e===n?S.Z.removePreviousChannelName(a,t.id,s):e===i&&S.Z.removePenultimateChannelName(a,t.id,s)})),{data:!0}}}function x(e,t){const n=(0,h.S)();return async(s,a)=>{const i=a(),r=(0,m.ev)(i),l=await s((0,o.w5)(e,r,t)),c=l.data;return c?M(M({},l),{},{data:M(M({},c),{},{users:n(i,c.users||[]),out_of_channel:n(i,c.out_of_channel||[])})}):l}}function U(e,t=!1){return async n=>{const a=Date.now();t&&n({type:v.MF.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.eE.STARTED});const{data:r,error:o}=await n(i.Jh(e));if(o)return t&&n({type:v.MF.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.eE.FAILURE}),{error:o,atLatestMessage:!1,atOldestmessage:!1};const l=[];return l.push({type:v.MF.INCREASE_POST_VISIBILITY,data:e,amount:r.order.length}),t&&l.push({type:v.MF.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.eE.SUCCESS}),""===r.next_post_id&&l.push({type:v.MF.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:a}),n((0,s.$C)(l)),{atLatestMessage:""===r.next_post_id,atOldestmessage:""===r.prev_post_id}}}function Z(e,t){return async n=>{const{data:s,error:a}=await n(i.jM(e,t,c.V8.POST_CHUNK_SIZE/2));return a?{error:a,atLatestMessage:!1,atOldestmessage:!1}:(n({type:v.MF.INCREASE_POST_VISIBILITY,data:e,amount:s.order.length}),{atLatestMessage:""===s.next_post_id,atOldestmessage:""===s.prev_post_id})}}function j(e){return async t=>{const n=Date.now(),{data:s,error:a}=await t(i.Jq(e,0,c.V8.POST_CHUNK_SIZE/2));return a?{error:a,atLatestMessage:!1,atOldestmessage:!1}:(t({type:v.MF.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:n}),{data:s,atLatestMessage:""===s.next_post_id,atOldestmessage:""===s.prev_post_id})}}function F({channelId:e,postId:t,type:n}){return async a=>{const r=v.gT.POST_CHUNK_SIZE/2;let o;a({type:v.MF.LOADING_POSTS,data:!0,channelId:e}),o=n===v.kL.BEFORE_ID?await a(i.d_(e,t,0,r)):await a(i.iS(e,t,0,r));const{data:l}=o,c=[{type:v.MF.LOADING_POSTS,data:!1,channelId:e}];return o.error?{error:o.error,moreToLoad:!0}:(c.push({type:v.MF.INCREASE_POST_VISIBILITY,data:e,amount:l.order.length}),a((0,s.$C)(c)),{moreToLoad:n===v.kL.BEFORE_ID?""!==l.prev_post_id:""!==l.next_post_id})}}function H(e,t,n=!1){return async(a,r)=>{const o=Date.now(),l=r(),d=(0,C.L)(l);let m=t;const u=(0,E.b)(l,e),p=[];u&&u<d.lastDisconnectAt&&(m=u),n&&a({type:v.MF.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.eE.STARTED});const{data:h,error:g}=await a(i.US(e,m));return h&&p.push({type:v.MF.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,channelId:e,time:o}),n&&(g?p.push({type:v.MF.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.eE.FAILURE}):p.push({type:v.MF.PREFETCH_POSTS_FOR_CHANNEL,channelId:e,status:c.eE.SUCCESS})),a((0,s.$C)(p)),{data:h,error:g}}}function q(e,t){return async(n,s)=>{const a=s(),i=(0,p.bt)(a,e);if(!a.entities.posts.postsInChannel[e]||!i)return t&&await new Promise((e=>setTimeout(e,t))),n(U(e,!0));const r=(0,p.xl)(a,i);return n(H(e,r.create_at,!0))}}function B(){return()=>{f.Z.emit(v.GM.POST_LIST_SCROLL_TO_BOTTOM)}}function G(e){return(t,n)=>{(0,d.Zm)(n(),e)||t((0,a.Eo)(e))}}function V(e){return t=>{t({type:v.MF.UPDATE_TOAST_STATUS,data:e})}}},2535:(e,t,n)=>{"use strict";n.d(t,{ZN:()=>a,bA:()=>i,xv:()=>r});var s=n(92337);const a=()=>e=>e({type:s.MF.TOGGLE_LHS}),i=()=>e=>e({type:s.MF.OPEN_LHS}),r=()=>e=>e({type:s.MF.CLOSE_LHS})},57799:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var s=n(92337);function a(e){return t=>(t({type:s.MF.DISMISS_NOTICE,data:e}),{data:!0})}},49725:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,m:()=>o}),n(88674);var s=n(92405),a=n(47590),i=n(92337);function r(e){return async(t,n)=>{const r=await s.dq(e)(t,n);return r.error&&"api.post.update_post.permissions_time_limit.app_error"===r.error.server_error_id&&t((0,a.H)({type:i.Mw.ANNOUNCEMENT,message:r.error.message},!0)),r}}function o(e,t,n,a,r,o){return async a=>(a({type:i.MF.SELECT_ATTACHMENT_MENU_ACTION,postId:e,data:{[t]:{text:r,value:o}}}),a(s.T(e,t,n,o)),{data:!0})}},47566:(e,t,n)=>{"use strict";n.d(t,{X$:()=>p,XJ:()=>b,UU:()=>g,z:()=>f}),n(88674),n(33948),n(19601);var s=n(47244),a=n(73476),i=n(18493),r=n(36745),o=n(11106),l=n(92337);const c=JSON.parse('{"about.buildnumber":"Build Number:","about.cloudEdition":"Cloud","about.copyright":"Copyright 2015 - {currentYear} Chatting, Inc. All rights reserved","about.database":"Database:","about.date":"Build Date:","about.dbversion":"Database Schema Version:","about.enterpriseEditione1":"Enterprise Edition","about.enterpriseEditionLearn":"Learn more about Enterprise Edition at ","about.enterpriseEditionSst":"High trust messaging for the enterprise","about.enterpriseEditionSt":"Modern communication from behind your firewall.","about.hash":"Build Hash:","about.hashee":"EE Build Hash:","about.hashwebapp":"Webapp Build Hash:","about.licensed":"Licensed to:","about.notice":"Chatting is made possible by the open source software used in our [server](!https://about.chatting.gomlo.me/platform-notice-txt/), [desktop](!https://about.chatting.gomlo.me/desktop-notice-txt/) and [mobile](!https://about.chatting.gomlo.me/mobile-notice-txt/) apps.","about.privacy":"Privacy Policy","about.teamEditionLearn":"Join the Chatting community at ","about.teamEditionSt":"All your team communication in one place, instantly searchable and accessible anywhere.","about.teamEditiont0":"Team Edition","about.teamEditiont1":"Enterprise Edition","about.title":"About {appTitle}","about.tos":"Terms of Service","about.version":"Chatting Version:","access_history.title":"Access History","accessibility.button.attachment":"attachment","accessibility.button.dialog":"{dialogName} dialog","accessibility.button.Info":"Info","accessibility.button.Search":"Search","accessibility.sections.centerContent":"message list main region","accessibility.sections.centerFooter":"message input complimentary region","accessibility.sections.channelHeader":"channel header region","accessibility.sections.lhsHeader":"team menu region","accessibility.sections.lhsList":"channel sidebar region","accessibility.sections.lhsNavigator":"channel navigator region","accessibility.sections.rhs":"{regionTitle} complimentary region","accessibility.sections.rhsContent":"message details complimentary region","accessibility.sections.rhsFooter":"reply input region","accessibility.sidebar.types.mention":"mention","accessibility.sidebar.types.mentions":"mentions","accessibility.sidebar.types.private":"private channel","accessibility.sidebar.types.public":"public channel","accessibility.sidebar.types.shared":"shared","accessibility.sidebar.types.unread":"unread","activity_log_modal.android":"Android","activity_log_modal.androidNativeApp":"Android Native App","activity_log_modal.androidNativeClassicApp":"Android Native Classic App","activity_log_modal.desktop":"Native Desktop App","activity_log_modal.iphoneNativeApp":"iPhone Native App","activity_log_modal.iphoneNativeClassicApp":"iPhone Native Classic App","activity_log.activeSessions":"Active Sessions","activity_log.browser":"Browser: {browser}","activity_log.firstTime":"First time active: {date}, {time}","activity_log.lastActivity":"Last activity: {date}, {time}","activity_log.logout":"Log Out","activity_log.moreInfo":"More info","activity_log.os":"OS: {os}","activity_log.sessionId":"Session ID: {id}","activity_log.sessionsDescription":"Sessions are created when you log in through a new browser on a device. Sessions let you use Chatting without having to log in again for a time period specified by the System Admin. To end the session sooner, use the \'Log Out\' button.","add_channels_to_scheme.title":"Add Channels to **Channel Selection** List","add_command.autocomplete":"Autocomplete","add_command.autocomplete.help":"(Optional) Show your slash command on the autocomplete list when someone types / in the input box.","add_command.autocompleteDescription":"Autocomplete Description","add_command.autocompleteDescription.help":"(Optional) Describe your slash command for the autocomplete list.","add_command.autocompleteDescription.placeholder":"Example: \\"Returns search results for patient records\\"","add_command.autocompleteHint":"Autocomplete Hint","add_command.autocompleteHint.help":"(Optional) Specify the arguments associated with your slash command.","add_command.autocompleteHint.placeholder":"Example: [Patient Name]","add_command.cancel":"Cancel","add_command.description":"Description","add_command.description.help":"Describe your incoming webhook.","add_command.displayName":"Title","add_command.displayName.help":"Specify a title, of up to 64 characters, for the slash command settings page.","add_command.doneHelp":"Your slash command is set up. The following token will be sent in the outgoing payload. Please use it to verify the request came from your Chatting team (details at [Slash Commands](!https://docs.chatting.gomlo.me/developer/slash-commands.html)).","add_command.iconUrl":"Response Icon","add_command.iconUrl.help":"(Optional) Enter the URL of a .png or .jpg file to use as the icon when posting responses to this slash command. The file must be at least 128 pixels by 128 pixels. If left blank, your profile picture is used.","add_command.iconUrl.placeholder":"https://www.example.com/myicon.png","add_command.method":"Request Method","add_command.method.get":"GET","add_command.method.help":"Specify the type of request, either POST or GET, sent to the endpoint that Chatting hits to reach your application.","add_command.method.post":"POST","add_command.save":"Save","add_command.saving":"Saving...","add_command.token":"**Token**: {token}","add_command.trigger":"Command Trigger Word","add_command.trigger.help":"Specify a trigger word that is not a built-in command, does not contain spaces, and does not begin with the slash character.","add_command.trigger.helpExamples":"Examples: client, employee, patient, weather","add_command.trigger.helpReserved":"Reserved: {link}","add_command.trigger.helpReservedLinkText":"See built-in slash commands","add_command.trigger.placeholder":"Command trigger e.g. \\"hello\\" not including the slash","add_command.triggerInvalidLength":"A trigger word must contain between {min} and {max} characters","add_command.triggerInvalidSlash":"A trigger word cannot begin with a /","add_command.triggerInvalidSpace":"A trigger word must not contain spaces","add_command.triggerRequired":"A trigger word is required","add_command.url":"Request URL","add_command.url.help":"Specify the callback URL to receive the HTTP POST or GET event request when the slash command is run.","add_command.url.placeholder":"Must start with http:// or https://","add_command.urlRequired":"A request URL is required","add_command.username":"Response Username","add_command.username.help":"(Optional) Specify the name to use when posting responses for this slash command. Usernames can be up to 22 characters, and contain lowercase letters, numbers, and the symbols \\"-\\", \\"_\\", and \\".\\". If left blank, your Chatting username is used.","add_command.username.placeholder":"Username","add_emoji.cancel":"Cancel","add_emoji.customNameTaken":"This name is already in use by a custom emoji. Please choose another name.","add_emoji.failedToAdd":"Something when wrong when adding the custom emoji.","add_emoji.header":"Add","add_emoji.image":"Image","add_emoji.image.button":"Select","add_emoji.image.help":"Specify a .gif, .png, or .jpg file for your emoji. The file can be up to 1 MB. The dimensions are resized automatically to 128 pixels by 128 pixels while maintaining the aspect ratio.","add_emoji.imageRequired":"An image is required for the emoji","add_emoji.imageTooLarge":"Unable to create emoji. Image must be less than 1 MB in size.","add_emoji.name":"Name","add_emoji.name.help":"Specify an emoji name that\'s up to 64 characters. It can contain lowercase letters, numbers, and the symbols \'-\' and \'_\'.","add_emoji.nameInvalid":"An emoji\'s name can only contain lowercase letters, numbers, and the symbols \'-\' and \'_\'.","add_emoji.nameRequired":"A name is required for the emoji","add_emoji.nameTaken":"This name is already in use by a system emoji. Please choose another name.","add_emoji.preview":"Preview","add_emoji.preview.sentence":"This is a sentence with {image} in it.","add_emoji.save":"Save","add_emoji.saving":"Saving...","add_groups_to_channel.title":"Add New Groups to {channelName} Channel","add_groups_to_team.title":"Add New Groups to {teamName} Team","add_incoming_webhook.cancel":"Cancel","add_incoming_webhook.channel":"Channel","add_incoming_webhook.channel.help":"This is the default public or private channel that receives the webhook payloads.  When setting up the webhook, you must belong to the private channel.","add_incoming_webhook.channelLocked":"Lock to this channel","add_incoming_webhook.channelLocked.help":"If set, the incoming webhook can post only to the selected channel.","add_incoming_webhook.channelRequired":"A valid channel is required","add_incoming_webhook.description":"Description","add_incoming_webhook.description.help":"Describe your incoming webhook.","add_incoming_webhook.displayName":"Title","add_incoming_webhook.displayName.help":"Specify a title, of up to 64 characters, for the webhook settings page.","add_incoming_webhook.doneHelp":"Your incoming webhook is set up. Please send data to the following URL (details at [Incoming Webhooks](!https://docs.chatting.gomlo.me/developer/webhooks-incoming.html)).","add_incoming_webhook.icon_url":"Profile Picture","add_incoming_webhook.icon_url.help":"Enter the URL of a .png or .jpg file for the profile picture of this integration when posting. The file should be at least 128 pixels by 128 pixels. If left blank, the profile picture specified by the webhook creator is used.","add_incoming_webhook.save":"Save","add_incoming_webhook.saving":"Saving...","add_incoming_webhook.url":"**URL**: {url}","add_incoming_webhook.username":"Username","add_incoming_webhook.username.help":"Specify the username this integration will post as. Usernames must be in lowercase, be up to 22 characters, and can contain numbers and the symbols \\"-\\", \\"_\\", and \\".\\" . If left blank, the name specified by the webhook creator is used.","add_oauth_app.callbackUrls.help":"Specify the URIs to which the service redirects users after accepting or denying them authorization to your application, and handles authorization codes or access tokens. It must start with http:// or https://.","add_oauth_app.callbackUrlsRequired":"One or more callback URLs are required","add_oauth_app.clientId":"**Client ID**: {id}","add_oauth_app.clientSecret":"**Client Secret**: {secret}","add_oauth_app.description.help":"Describe your OAuth 2.0 application.","add_oauth_app.descriptionRequired":"Description for the OAuth 2.0 application is required.","add_oauth_app.doneHelp":"Your OAuth 2.0 application is set up. Please use the following Client ID and Client Secret when requesting authorization for your application (details at [oAuth 2.0 Applications](!https://docs.chatting.gomlo.me/developer/oauth-2-0-applications.html)).","add_oauth_app.doneUrlHelp":"Here are your authorized redirect URLs.","add_oauth_app.header":"Add","add_oauth_app.homepage.help":"This is the URL for the homepage of the OAuth 2.0 application. Depending on your server configuration, use HTTP or HTTPS in your URL.","add_oauth_app.homepageRequired":"Homepage for the OAuth 2.0 application is required.","add_oauth_app.icon.help":"(Optional) Specify the URL of the image for your OAuth 2.0 application. Use either HTTP or HTTPS in the URL.","add_oauth_app.name.help":"Specify the display name of your OAuth 2.0 application. You can use up to 64 characters.","add_oauth_app.nameRequired":"Name for the OAuth 2.0 application is required.","add_oauth_app.trusted.help":"If true, the OAuth 2.0 application is considered trusted by the Chatting server and does not require the user to accept authorization. If false, a window opens to ask the user to accept or deny the authorization.","add_oauth_app.url":"**URL(s)**: {url}","add_outgoing_webhook.callbackUrls":"Callback URLs (One Per Line)","add_outgoing_webhook.callbackUrls.help":"Specify the URL that messages will be sent to. If the URL is private, add it as a {link}.","add_outgoing_webhook.callbackUrls.helpLinkText":"trusted internal connection","add_outgoing_webhook.callbackUrlsRequired":"One or more callback URLs are required","add_outgoing_webhook.cancel":"Cancel","add_outgoing_webhook.channel":"Channel","add_outgoing_webhook.channel.help":"This field is optional if you specify at least one trigger word. Specify the public channel that delivers the payload to the webhook.","add_outgoing_webhook.content_Type":"Content Type","add_outgoing_webhook.contentType.help1":"Specify the content type by which to send the request.","add_outgoing_webhook.contentType.help2":"For the server to encode the parameters in a URL format in the request body, select application/x-www-form-urlencoded.","add_outgoing_webhook.contentType.help3":"For the server to format the request body as JSON, select application/json.","add_outgoing_webhook.description":"Description","add_outgoing_webhook.description.help":"Describe your outgoing webhook.","add_outgoing_webhook.displayName":"Title","add_outgoing_webhook.displayName.help":"Specify a title for the webhook settings page. The title can contain up to 64 characters.","add_outgoing_webhook.doneHelp":"Your outgoing webhook is set up. The following token will be sent in the outgoing payload. Please use it to verify the request came from your Chatting team (details at  [Outgoing Webhooks](!https://docs.chatting.gomlo.me/developer/webhooks-outgoing.html)).","add_outgoing_webhook.icon_url":"Profile Picture","add_outgoing_webhook.icon_url.help":"Enter the URL of a .png or .jpg file for this integration to use as the profile picture when posting. The file should be at least 128 pixels by 128 pixels. If left blank, the profile picture specified by the webhook creator is used.","add_outgoing_webhook.save":"Save","add_outgoing_webhook.saving":"Saving...","add_outgoing_webhook.token":"**Token**: {token}","add_outgoing_webhook.token.message":"Make sure to add this bot account to teams and channels you want it to interact in. See [documentation](https://chatting.gomlo.me/pl/default-bot-accounts) to learn more.","add_outgoing_webhook.triggerWords":"Trigger Words (One Per Line)","add_outgoing_webhook.triggerWords.help":"Specify the trigger words that send an HTTP POST request to your application.  If you select only channel, this is optional. The trigger can be for the channel, the outgoing webhook, or both but when you set it for both, the message must match both values.","add_outgoing_webhook.triggerWordsOrChannelRequired":"A valid channel or a list of trigger words is required","add_outgoing_webhook.triggerWordsTriggerWhen":"Trigger When","add_outgoing_webhook.triggerWordsTriggerWhen.help":"Specify when to trigger the outgoing webhook.","add_outgoing_webhook.triggerWordsTriggerWhenFullWord":"First word matches a trigger word exactly","add_outgoing_webhook.triggerWordsTriggerWhenStartsWith":"First word starts with a trigger word","add_outgoing_webhook.username":"Username","add_outgoing_webhook.username.help":"Specify the username this integration will post as. Usernames can be up to 22 characters, and contain lowercase letters, numbers and the symbols \\"-\\", \\"_\\", and \\".\\". If left blank, the name specified by the webhook creator is used.","add_teams_to_scheme.confirmation.accept":"Yes, Move Team","add_teams_to_scheme.confirmation.message":"This team is already selected in another team scheme, are you sure you want to move it to this team scheme?","add_teams_to_scheme.confirmation.title":"Team Override Scheme Change?","add_teams_to_scheme.title":"Add Teams to **Team Selection** List","add_user_to_channel_modal.add":"Add","add_user_to_channel_modal.cancel":"Cancel","add_user_to_channel_modal.help":"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.","add_user_to_channel_modal.membershipExistsError":"{name} is already a member of that channel","add_user_to_channel_modal.title":"Add {name} to a Channel","add_users_to_role.title":"Add users to {roleName}","add_users_to_team.title":"Add New Members to {teamName} Team","admin.advance.cluster":"High Availability","admin.advance.metrics":"Performance Monitoring","admin.announcement_banner_feature_discovery.copy":"Create announcement banners to notify all members of important information.","admin.announcement_banner_feature_discovery.title":"Create custom announcement banners with Chatting Enterprise E10","admin.audits.reload":"Reload User Activity Logs","admin.authentication.email":"Email Authentication","admin.authentication.gitlab":"GitLab","admin.authentication.guest_access":"Guest Access (Beta)","admin.authentication.ldap":"AD/LDAP","admin.authentication.mfa":"Multi-factor Authentication","admin.authentication.oauth":"OAuth 2.0","admin.authentication.openid":"OpenID Connect","admin.authentication.saml":"SAML 2.0","admin.authentication.signup":"Signup","admin.banner.heading":"Note:","admin.billing.company_info_display.companyDetails":"Company Details","admin.billing.company_info_display.noCompanyInfo":"There is currently no company information on file.","admin.billing.company_info_display.provideDetails":"Provide your company name and address","admin.billing.company_info_edit.cancel":"Cancel","admin.billing.company_info_edit.company_address":"Company Address","admin.billing.company_info_edit.companyDetails":"Company Details","admin.billing.company_info_edit.sameAsBillingAddress":"Same as Billing Address","admin.billing.company_info_edit.save":"Save info","admin.billing.company_info_edit.title":"Edit Company Information","admin.billing.company_info.add":"Add Company Information","admin.billing.company_info.address":"Address","admin.billing.company_info.address_2":"Address 2","admin.billing.company_info.billingAddress":"Billing Address","admin.billing.company_info.city":"City","admin.billing.company_info.companyAddress":"Company Address","admin.billing.company_info.companyName":"Company name","admin.billing.company_info.country":"Country","admin.billing.company_info.employees":"{employees} employees","admin.billing.company_info.numEmployees":"Number of employees (optional)","admin.billing.company_info.title":"Company Information","admin.billing.company_info.zipcode":"Zip/Postal Code","admin.billing.history.allPaymentsShowHere":"All of your monthly payments will show here","admin.billing.history.date":"Date","admin.billing.history.description":"Description","admin.billing.history.noBillingHistory":"In the future, this is where your billing history will show.","admin.billing.history.pageInfo":"{startRecord} - {endRecord} of {totalRecords}","admin.billing.history.paid":"Paid","admin.billing.history.paymentFailed":"Payment failed","admin.billing.history.pending":"Pending","admin.billing.history.seeHowBillingWorks":"See how billing works","admin.billing.history.status":"Status","admin.billing.history.title":"Billing History","admin.billing.history.total":"Total","admin.billing.history.transactions":"Transactions","admin.billing.history.usersAndRates":"{fullUsers} users at full rate, {partialUsers} users with partial charges","admin.billing.payment_info_display.allCardsAccepted":"All major credit cards are accepted.","admin.billing.payment_info_display.noPaymentInfo":"There are currently no credit cards on file.","admin.billing.payment_info_display.savedPaymentDetails":"Your saved payment details","admin.billing.payment_info_edit.cancel":"Cancel","admin.billing.payment_info_edit.creditCardWarningDescription":"Your credit card will be charged based on the number of users you have at the end of the monthly billing cycle. ","admin.billing.payment_info_edit.creditCardWarningTitle":"NOTE: Your card will not be charged at this time","admin.billing.payment_info_edit.formError":"There are errors in the form above","admin.billing.payment_info_edit.save":"Save credit card","admin.billing.payment_info_edit.serverError":"Something went wrong while saving payment infomation","admin.billing.payment_info_edit.title":"Edit Payment Information","admin.billing.payment_info.add":"Add a Credit Card","admin.billing.payment_info.billingAddress":"Billing Address","admin.billing.payment_info.cardBrandAndDigits":"{brand} ending in {digits}","admin.billing.payment_info.cardExpiry":"Expires {month}/{year}","admin.billing.payment_info.creditCardAboutToExpire":"Your credit card is about to expire","admin.billing.payment_info.creditCardAboutToExpire.description":"Please update your payment information to avoid any disruption.","admin.billing.payment_info.title":"Payment Information","admin.billing.subscription.cancelSubscriptionSection.contactUs":"Contact Us","admin.billing.subscription.cancelSubscriptionSection.description":"At this time, deleting a workspace can only be done with the help of a customer support representative.","admin.billing.subscription.cancelSubscriptionSection.title":"Cancel your subscription","admin.billing.subscription.cloudTrial.daysLeftOnTrial":"There are {daysLeftOnTrial} days left on your free trial","admin.billing.subscription.cloudTrial.lastDay":"This is the last day of your free trial. Your access will expire today at 11:59pm PT.","admin.billing.subscription.cloudTrial.moreThan3Days":"Your trial has started! There are {daysLeftOnTrial} days left","admin.billing.subscription.cloudTrial.subscribe":"Subscribe","admin.billing.subscription.cloudTrial.subscribeButton":"Subscribe Now","admin.billing.subscription.cloudTrial.trialTopMenuNotification":"There are {daysLeftOnTrial} days left on your Cloud trial.","admin.billing.subscription.creditCardExpired":"Your credit card has expired. Update your payment information to avoid disruption.","admin.billing.subscription.creditCardHasExpired":"Your credit card has expired","admin.billing.subscription.creditCardHasExpired.description.avoidAnyDisruption":" to avoid any disruption.","admin.billing.subscription.creditCardHasExpired.description.updatePaymentInformation":"update your payment information","admin.billing.subscription.creditCardHasExpired.please":"Please ","admin.billing.subscription.disclaimer":"Your total is calculated at the end of the billing cycle based on the number of enabled users. You’ll only be charged if you exceed the free tier limits.","admin.billing.subscription.freeTrial.description":"Your free trial will expire in {daysLeftOnTrial} days. Add your payment information to continue after the trial ends.","admin.billing.subscription.freeTrial.lastDay.description":"Your free trial has ended. Add payment information to continue enjoying the benefits of Cloud Professional.","admin.billing.subscription.freeTrial.lastDay.title":"Your free trial ends today","admin.billing.subscription.freeTrial.lessThan3Days.description":"Your free trial will end in {daysLeftOnTrial, number} {daysLeftOnTrial, plural, one {day} other {days}}. Add payment information to continue enjoying the benefits of Cloud Professional.","admin.billing.subscription.freeTrial.title":"You\'re currently on a free trial","admin.billing.subscription.goBackTryAgain":"Go back and try again","admin.billing.subscription.howItWorks":"See how billing works","admin.billing.subscription.letsGo":"Lets go!","admin.billing.subscription.mattermostCloud":"Chatting Cloud","admin.billing.subscription.mostRecentPaymentFailed":"Your most recent payment failed","admin.billing.subscription.nextBillingDate":"Starting {date} you will be charged based on the number of enabled users","admin.billing.subscription.otherBillingOption":"Need other billing options?","admin.billing.subscription.payamentBegins":"Payment begins: {beginDate}","admin.billing.subscription.paymentFailed":"Payment failed. Please try again or contact support.","admin.billing.subscription.paymentVerificationFailed":"Sorry, the payment verification failed","admin.billing.subscription.perUserPerMonth":" /user/month","admin.billing.subscription.planDetails.currentPlan":"Current Plan","admin.billing.subscription.planDetails.endDate":"End Date: ","admin.billing.subscription.planDetails.features.10GBstoragePerUser":"10 GB storage per user","admin.billing.subscription.planDetails.features.99uptime":"99.0% uptime","admin.billing.subscription.planDetails.features.advanceTeamPermission":"Advanced team permissions","admin.billing.subscription.planDetails.features.channelModeration":"Channel moderation","admin.billing.subscription.planDetails.features.guestAccounts":"Guest Accounts","admin.billing.subscription.planDetails.features.mfaAuthentication":"Google, Gitlab, O365 & MFA Authentication","admin.billing.subscription.planDetails.features.mfaEnforcement":"MFA enforcement","admin.billing.subscription.planDetails.features.multiplatformSso":"Gitlab, Google, and O365 single sign-on","admin.billing.subscription.planDetails.features.readOnlyChannels":"Read-only announcement channels","admin.billing.subscription.planDetails.features.selfServiceDocumentation":"Self-Service documentation and forum support","admin.billing.subscription.planDetails.features.unlimitedIntegrations":"Unlimited Integrations","admin.billing.subscription.planDetails.features.unlimitedTeamsAndChannels":"Unlimited teams, channels, and search history","admin.billing.subscription.planDetails.howBillingWorks":"See how billing works","admin.billing.subscription.planDetails.numberOfSeats":"{numberOfSeats} seats","admin.billing.subscription.planDetails.numberOfSeatsRegistered":"({userCount} currently registered)","admin.billing.subscription.planDetails.perUserPerMonth":"/user/month.","admin.billing.subscription.planDetails.planDetailsName.freeForXOrMoreUsers":"/user/month for {aboveUserLimit} or more users.","admin.billing.subscription.planDetails.productName.cloudProfessional":"Cloud Professional","admin.billing.subscription.planDetails.prolongedOverages":"Prolonged overages may result in additional charges.","admin.billing.subscription.planDetails.seatCountOverages":"Seat count overages","admin.billing.subscription.planDetails.startDate":"Start Date: ","admin.billing.subscription.planDetails.tiers.free":"Free","admin.billing.subscription.planDetails.upToXUsers":"up to {userLimit} users","admin.billing.subscription.planDetails.userCount":"{userCount} users","admin.billing.subscription.planDetails.userCountWithLimit":"{userCount} / {userLimit} users","admin.billing.subscription.privateCloudCard.cloudProfessional.description":"Optimize your processes with VPC Peering, a dedicated AWS account and premium support.","admin.billing.subscription.privateCloudCard.cloudProfessional.title":"Upgrade to Cloud Enterprise","admin.billing.subscription.privateCloudCard.contactSales":"Contact Sales","admin.billing.subscription.privateCloudCard.contactSupport":"Contact Support","admin.billing.subscription.privateCloudCard.freeTrial.description":"We love to work with our customers and their needs. Contact sales for subscription, billing or trial-specific questions.","admin.billing.subscription.privateCloudCard.freeTrial.title":"Questions about your trial?","admin.billing.subscription.providePaymentDetails":"Provide Your Payment Details","admin.billing.subscription.questions":"Questions?","admin.billing.subscription.stateprovince":"State/Province","admin.billing.subscription.title":"Subscriptions","admin.billing.subscription.updatePaymentInfo":"Update Payment Information","admin.billing.subscription.upgrade":"Upgrade","admin.billing.subscription.upgradeCloudSubscription":"Upgrade your Chatting Cloud Subscription","admin.billing.subscription.upgradedSuccess":"Great! You\'re now upgraded","admin.billing.subscription.upgradeChattingCloud.description":"The free tier is **limited to 10 users.** Get access to more users, teams and other great features","admin.billing.subscription.upgradeChattingCloud.title":"Need more users?","admin.billing.subscription.upgradeChattingCloud.upgradeButton":"Upgrade Chatting Cloud","admin.billing.subscription.verifyPaymentInformation":"Verifying your payment information","admin.billing.subscriptions.billing_summary.lastInvoice.downloadInvoice":"Download Invoice","admin.billing.subscriptions.billing_summary.lastInvoice.failed":"Failed","admin.billing.subscriptions.billing_summary.lastInvoice.paid":"Paid","admin.billing.subscriptions.billing_summary.lastInvoice.partialCharges":"Partial charges","admin.billing.subscriptions.billing_summary.lastInvoice.pending":"Pending","admin.billing.subscriptions.billing_summary.lastInvoice.seeBillingHistory":"See Billing History","admin.billing.subscriptions.billing_summary.lastInvoice.taxes":"Taxes","admin.billing.subscriptions.billing_summary.lastInvoice.title":"Last Invoice","admin.billing.subscriptions.billing_summary.lastInvoice.total":"Total","admin.billing.subscriptions.billing_summary.lastInvoice.userCount":" x {users} users","admin.billing.subscriptions.billing_summary.lastInvoice.userCountPartial":"{users} users","admin.billing.subscriptions.billing_summary.lastInvoice.whatArePartialCharges":"What are partial charges?","admin.billing.subscriptions.billing_summary.lastInvoice.whatArePartialCharges.message":"Users who have not been enabled for the full duration of the month are charged at a prorated monthly rate.","admin.billing.subscriptions.billing_summary.noBillingHistory.description":"In the future, this is where your most recent bill summary will show.","admin.billing.subscriptions.billing_summary.noBillingHistory.link":"See how billing works","admin.billing.subscriptions.billing_summary.noBillingHistory.title":"No billing history yet","admin.bleve.bulkIndexingTitle":"Bulk Indexing:","admin.bleve.createJob.help":"All users, channels and posts in the database will be indexed from oldest to newest. Bleve is available during indexing but search results may be incomplete until the indexing job is complete.","admin.bleve.createJob.title":"Index Now","admin.bleve.enableAutocompleteDescription":"When true, Bleve will be used for all autocompletion queries on users and channels using the latest index. Autocompletion results may be incomplete until a bulk index of the existing users and channels database is finished. When false, database autocomplete is used.","admin.bleve.enableAutocompleteTitle":"Enable Bleve for autocomplete queries:","admin.bleve.enableIndexingDescription":"When true, indexing of new posts occurs automatically. Search queries will use database search until \\"Enable Bleve for search queries\\" is enabled. {documentationLink}","admin.bleve.enableIndexingDescription.documentationLinkText":"Learn more about Bleve in our documentation.","admin.bleve.enableIndexingTitle":"Enable Bleve Indexing:","admin.bleve.enableSearchingDescription":"When true, Bleve will be used for all search queries using the latest index. Search results may be incomplete until a bulk index of the existing post database is finished. When false, database search is used.","admin.bleve.enableSearchingTitle":"Enable Bleve for search queries:","admin.bleve.indexDirDescription":"Directory path to use for store bleve indexes.","admin.bleve.indexDirTitle":"Index Directory:","admin.bleve.percentComplete":"{percent}% Complete","admin.bleve.purgeIndexesButton":"Purge Index","admin.bleve.purgeIndexesButton.error":"Failed to purge indexes: {error}","admin.bleve.purgeIndexesButton.label":"Purge Indexes:","admin.bleve.purgeIndexesButton.success":"Indexes purged successfully.","admin.bleve.purgeIndexesHelpText":"Purging will entirely remove the content of the Bleve index directory. Search results may be incomplete until a bulk index of the existing database is rebuilt.","admin.bleve.title":"Bleve","admin.channel_list.archived":"Archived","admin.channel_list.group_sync":"Group Sync","admin.channel_list.manual_invites":"Manual Invites","admin.channel_list.private":"Private","admin.channel_list.public":"Public","admin.channel_settings.channel_detail.archive_confirm.button":"Save and Archive Channel","admin.channel_settings.channel_detail.archive_confirm.message":"Saving will archive the channel from the team and make its contents inaccessible for all users. Are you sure you wish to save and archive this channel?","admin.channel_settings.channel_detail.archive_confirm.title":"Save and Archive Channel","admin.channel_settings.channel_detail.channel_configuration":"Channel Configuration","admin.channel_settings.channel_detail.channelName":"**Name**","admin.channel_settings.channel_detail.channelOrganizations":"**Organizations**","admin.channel_settings.channel_detail.channelOrganizationsMessage":"Shared with trusted organizations","admin.channel_settings.channel_detail.channelTeam":"**Team**","admin.channel_settings.channel_detail.groupsDescription":"Select groups to be added to this channel.","admin.channel_settings.channel_detail.groupsTitle":"Groups","admin.channel_settings.channel_detail.manageDescription":"Choose between inviting members manually or syncing members automatically from groups.","admin.channel_settings.channel_detail.manageTitle":"Channel Management","admin.channel_settings.channel_detail.membersDescription":"A list of users who are currently in the channel right now","admin.channel_settings.channel_detail.membersTitle":"Members","admin.channel_settings.channel_detail.profileDescription":"Summary of the channel, including the channel name.","admin.channel_settings.channel_detail.profileTitle":"Channel Profile","admin.channel_settings.channel_detail.syncedGroupsDescription":"Add and remove channel members based on their group membership.","admin.channel_settings.channel_detail.syncedGroupsTitle":"Synced Groups","admin.channel_settings.channel_details.add_group":"Add Group","admin.channel_settings.channel_details.archiveChannel":"Archive Channel","admin.channel_settings.channel_details.isDefaultDescr":"This default channel cannot be converted into a private channel.","admin.channel_settings.channel_details.isPublic":"Public channel or private channel","admin.channel_settings.channel_details.isPublicDescr":"If `public` the channel is discoverable and any user can join, or if `private` invitations are required. Toggle to convert public channels to private. When Group Sync is enabled, private channels cannot be converted to public.","admin.channel_settings.channel_details.syncGroupMembers":"Sync Group Members","admin.channel_settings.channel_details.syncGroupMembersDescr":"When enabled, adding and removing users from groups will add or remove them from this channel. The only way of inviting members to this channel is by adding the groups they belong to. [Learn More](!https://www.chatting.gomlo.me/pl/default-ldap-group-constrained-team-channel.html)","admin.channel_settings.channel_details.unarchiveChannel":"Unarchive Channel","admin.channel_settings.channel_list.managementHeader":"Management","admin.channel_settings.channel_list.nameHeader":"Name","admin.channel_settings.channel_list.no_channels_found":"No channels found","admin.channel_settings.channel_list.search_channels_errored":"Something went wrong. Try again","admin.channel_settings.channel_list.teamHeader":"Team","admin.channel_settings.channel_moderation.channelMentions":"Channel Mentions","admin.channel_settings.channel_moderation.channelMentions.disabledBoth":"Channel mentions for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.channelMentions.disabledBothDueToCreatePosts":"Guests and members can not use channel mentions without the ability to create posts.","admin.channel_settings.channel_moderation.channelMentions.disabledGuest":"Channel mentions for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.channelMentions.disabledGuestsDueToCreatePosts":"Guests can not use channel mentions without the ability to create posts.","admin.channel_settings.channel_moderation.channelMentions.disabledMember":"Channel mentions for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.channelMentions.disabledMemberDueToCreatePosts":"Members can not use channel mentions without the ability to create posts.","admin.channel_settings.channel_moderation.channelMentionsDesc":"The ability for members and guests to use @all, @here and @group.","admin.channel_settings.channel_moderation.channelMentionsDescMembers":"The ability for members to use @all, @here and @group.","admin.channel_settings.channel_moderation.createPosts":"Create Posts","admin.channel_settings.channel_moderation.createPosts.disabledBoth":"Create posts for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.createPosts.disabledGuest":"Create posts for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.createPosts.disabledMember":"Create posts for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.createPostsDesc":"The ability for members and guests to create posts in the channel.","admin.channel_settings.channel_moderation.createPostsDescMembers":"The ability for members to create posts in the channel.","admin.channel_settings.channel_moderation.guests":"Guests","admin.channel_settings.channel_moderation.manageMembers":"Manage Members","admin.channel_settings.channel_moderation.manageMembers.disabledBoth":"Manage members for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.manageMembers.disabledGuest":"Manage members for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.manageMembers.disabledMember":"Manage members for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.manageMembersDesc":"The ability for members to add and remove people.","admin.channel_settings.channel_moderation.members":"Members","admin.channel_settings.channel_moderation.permissions":"Permissions","admin.channel_settings.channel_moderation.postReactions":"Post Reactions","admin.channel_settings.channel_moderation.postReactions.disabledBoth":"Post reactions for members and guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.postReactions.disabledGuest":"Post reactions for guests are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.postReactions.disabledMember":"Post reactions for members are disabled in [{scheme_name}](../permissions/{scheme_link}).","admin.channel_settings.channel_moderation.postReactionsDesc":"The ability for members and guests to post reactions.","admin.channel_settings.channel_moderation.postReactionsDescMembers":"The ability for members to post reactions.","admin.channel_settings.channel_moderation.subtitle":"Manage the actions available to channel members and guests.","admin.channel_settings.channel_moderation.subtitleMembers":"Manage the actions available to channel members.","admin.channel_settings.channel_moderation.title":"Channel Moderation","admin.channel_settings.channel_row.configure":"Edit","admin.channel_settings.description":"Manage channel settings.","admin.channel_settings.groupsPageTitle":"{siteName} Channels","admin.channel_settings.title":"Channels","admin.channels_feature_discovery.copy":"Decide which channels should be public, private, read-only, or react-only.","admin.channels_feature_discovery.title":"Create read-only channels with Chatting Enterprise E20","admin.cloud.import.header.TrialBadge":"Trial","admin.cluster.ClusterName":"Cluster Name:","admin.cluster.ClusterNameDesc":"The cluster to join by name.  Only nodes with the same cluster name will join together.  This is to support Blue-Green deployments or staging pointing to the same database.","admin.cluster.ClusterNameEx":"E.g.: \\"Production\\" or \\"Staging\\"","admin.cluster.enableDescription":"When true, Chatting will run in High Availability mode. Please see [documentation](!http://docs.chatting.gomlo.me/deployment/cluster.html) to learn more about configuring High Availability for Chatting.","admin.cluster.EnableExperimentalGossipEncryption":"Enable Experimental Gossip encryption:","admin.cluster.EnableExperimentalGossipEncryptionDesc":"When true, all communication through the gossip protocol will be encrypted.","admin.cluster.EnableGossipCompression":"Enable Gossip compression:","admin.cluster.EnableGossipCompressionDesc":"When true, all communication through the gossip protocol will be compresssed. It is recommended to keep this flag disabled.","admin.cluster.enableTitle":"Enable High Availability Mode:","admin.cluster.GossipPort":"Gossip Port:","admin.cluster.GossipPortDesc":"The port used for the gossip protocol.  Both UDP and TCP should be allowed on this port.","admin.cluster.GossipPortEx":"E.g.: \\"8074\\"","admin.cluster.loadedFrom":"This configuration file was loaded from Node ID {clusterId}. Please see the Troubleshooting Guide in our [documentation](!http://docs.chatting.gomlo.me/deployment/cluster.html) if you are accessing the System Console through a load balancer and experiencing issues.","admin.cluster.noteDescription":"Changing properties in this section will require a server restart before taking effect.","admin.cluster.OverrideHostname":"Override Hostname:","admin.cluster.OverrideHostnameDesc":"The default value of \'<blank>\' will attempt to get the Hostname from the OS or use the IP Address.  You can override the hostname of this server with this property.  It is not recommended to override the Hostname unless needed. This property can also be set to a specific IP Address if needed.","admin.cluster.OverrideHostnameEx":"E.g.: \\"app-server-01\\"","admin.cluster.should_not_change":"WARNING: These settings may not sync with the other servers in the cluster. High Availability inter-node communication will not start until you modify the config.json to be identical on all servers and restart Chatting. Please see the [documentation](!http://docs.chatting.gomlo.me/deployment/cluster.html) on how to add or remove a server from the cluster. If you are accessing the System Console through a load balancer and experiencing issues, please see the Troubleshooting Guide in our [documentation](!http://docs.chatting.gomlo.me/deployment/cluster.html).","admin.cluster.status_table.config_hash":"Config File MD5","admin.cluster.status_table.hostname":"Hostname","admin.cluster.status_table.reload":" Reload Cluster Status","admin.cluster.status_table.status":"Status","admin.cluster.status_table.url":"Gossip Address","admin.cluster.status_table.version":"Version","admin.cluster.StreamingPort":"Streaming Port:","admin.cluster.StreamingPortDesc":"The port used for streaming data between servers.","admin.cluster.StreamingPortEx":"E.g.: \\"8075\\"","admin.cluster.unknown":"unknown","admin.cluster.UseIpAddress":"Use IP Address:","admin.cluster.UseIpAddressDesc":"When true, the cluster will attempt to communicate via IP Address vs using the hostname.","admin.compliance_export_feature_discovery.copy":"Run daily compliance reports and export them to a variety of formats consumable by third-party integration tools such as Smarsh (Actiance).","admin.compliance_export_feature_discovery.title":"Run compliance exports with Chatting Enterprise E20","admin.compliance_reports.desc":"Job Name:","admin.compliance_reports.desc_placeholder":"E.g. \\"Audit 445 for HR\\"","admin.compliance_reports.emails":"Emails:","admin.compliance_reports.emails_placeholder":"E.g. \\"bill@example.com, bob@example.com\\"","admin.compliance_reports.from":"From:","admin.compliance_reports.from_placeholder":"E.g. \\"2016-03-11\\"","admin.compliance_reports.keywords":"Keywords:","admin.compliance_reports.keywords_placeholder":"E.g. \\"shorting stock\\"","admin.compliance_reports.reload":"Reload Completed Compliance Reports","admin.compliance_reports.run":"Run Compliance Report","admin.compliance_reports.title":"Compliance Reports","admin.compliance_reports.to":"To:","admin.compliance_reports.to_placeholder":"E.g. \\"2016-03-15\\"","admin.compliance_table.desc":"Description","admin.compliance_table.download":"Download","admin.compliance_table.failed":"Failed","admin.compliance_table.files":"Files","admin.compliance_table.params":"Params","admin.compliance_table.pending":"Pending","admin.compliance_table.records":"Records","admin.compliance_table.status":"Status","admin.compliance_table.success":"Success","admin.compliance_table.timestamp":"Timestamp","admin.compliance_table.type":"Type","admin.compliance_table.userId":"Requested By","admin.compliance.complianceMonitoring":"Compliance Monitoring","admin.compliance.directoryDescription":"Directory to which compliance reports are written. If blank, will be set to ./data/.","admin.compliance.directoryExample":"E.g.: \\"./data/\\"","admin.compliance.directoryTitle":"Compliance Report Directory:","admin.compliance.enableDailyDesc":"When true, Chatting will generate a daily compliance report.","admin.compliance.enableDailyTitle":"Enable Daily Report:","admin.compliance.enableDesc":"When true, Chatting allows compliance reporting from the **Compliance and Auditing** tab. See [documentation](!https://docs.chatting.gomlo.me/administration/compliance.html) to learn more.","admin.compliance.enableTitle":"Enable Compliance Reporting:","admin.compliance.newComplianceExportBanner":"This feature is replaced by a new [Compliance Export]({siteURL}/admin_console/compliance/export) feature, and will be removed in a future release. We recommend migrating to the new system.","admin.complianceExport.createJob.help":"Initiates a Compliance Export job immediately.","admin.complianceExport.createJob.title":"Run Compliance Export Job Now","admin.complianceExport.exportFormat.actiance":"Actiance XML","admin.complianceExport.exportFormat.csv":"CSV","admin.complianceExport.exportFormat.description":"Format of the compliance export. Corresponds to the system that you want to import the data into.\\n \\nFor Actiance XML, compliance export files are written to the \\"exports\\" subdirectory of the configured [Local Storage Directory]({siteURL}/admin_console/environment/file_storage). For Global Relay EML, they are emailed to the configured email address.","admin.complianceExport.exportFormat.globalrelay":"Global Relay EML","admin.complianceExport.exportFormat.title":"Export Format:","admin.complianceExport.exportJobStartTime.description":"Set the start time of the daily scheduled compliance export job. Choose a time when fewer people are using your system. Must be a 24-hour time stamp in the form HH:MM.","admin.complianceExport.exportJobStartTime.example":"E.g.: \\"02:00\\"","admin.complianceExport.exportJobStartTime.title":"Compliance Export time:","admin.complianceExport.globalRelayCustomerType.a10.description":"A10/Type 10","admin.complianceExport.globalRelayCustomerType.a9.description":"A9/Type 9","admin.complianceExport.globalRelayCustomerType.description":"Type of Global Relay customer account your organization has.","admin.complianceExport.globalRelayCustomerType.title":"Global Relay Customer Account:","admin.complianceExport.globalRelayEmailAddress.description":"The email address your Global Relay server monitors for incoming compliance exports.","admin.complianceExport.globalRelayEmailAddress.example":"E.g.: \\"globalrelay@chatting.gomlo.me\\"","admin.complianceExport.globalRelayEmailAddress.title":"Global Relay Email Address:","admin.complianceExport.globalRelaySmtpPassword.description":"The password associated with the SMTP username.","admin.complianceExport.globalRelaySmtpPassword.example":"E.g.: \\"globalRelayPassword\\"","admin.complianceExport.globalRelaySmtpPassword.title":"Global Relay SMTP Password:","admin.complianceExport.globalRelaySmtpUsername.description":"The username for authenticating to the Global Relay SMTP server.","admin.complianceExport.globalRelaySmtpUsername.example":"E.g.: \\"globalRelayUser\\"","admin.complianceExport.globalRelaySmtpUsername.title":"Global Relay SMTP Username:","admin.complianceExport.messagesExportedCount":"{count} messages exported.","admin.complianceExport.title":"Compliance Export (Beta)","admin.complianceExport.warningCount":"{count} warning(s) encountered, see warning.txt for details","admin.complianceExport.warningCount.globalrelay":"{count} warning(s) encountered, see log for details","admin.complianceMonitoring.userActivityLogsTitle":"User Activity Logs","admin.connectionSecurityNone":"None","admin.connectionSecurityNoneDescription":"Chatting will connect over an insecure connection.","admin.connectionSecurityStart":"STARTTLS","admin.connectionSecurityStartDescription":"Takes an existing insecure connection and attempts to upgrade it to a secure connection using TLS.","admin.connectionSecurityTitle":"Connection Security:","admin.connectionSecurityTls":"TLS","admin.connectionSecurityTlsDescription":"Encrypts the communication between Chatting and your server.","admin.custom_terms_of_service_feature_discovery.copy":"Create your own terms of service that new users must accept before accessing your Chatting instance on desktop, web, or mobile.","admin.custom_terms_of_service_feature_discovery.title":"Create custom terms of service with Chatting Enterprise E20","admin.customization.androidAppDownloadLinkDesc":"Add a link to download the Android app. Users who access the site on a mobile web browser will be prompted with a page giving them the option to download the app. Leave this field blank to prevent the page from appearing.","admin.customization.androidAppDownloadLinkTitle":"Android App Download Link:","admin.customization.announcement.allowBannerDismissalDesc":"When true, users can dismiss the banner until its next update. When false, the banner is permanently visible until it is turned off by the System Admin.","admin.customization.announcement.allowBannerDismissalTitle":"Allow Banner Dismissal:","admin.customization.announcement.bannerColorTitle":"Banner Color:","admin.customization.announcement.bannerTextColorTitle":"Banner Text Color:","admin.customization.announcement.bannerTextDesc":"Text that will appear in the announcement banner.","admin.customization.announcement.bannerTextTitle":"Banner Text:","admin.customization.announcement.enableBannerDesc":"Enable an announcement banner across all teams.","admin.customization.announcement.enableBannerTitle":"Enable Announcement Banner:","admin.customization.appDownloadLinkDesc":"Add a link to a download page for the Chatting apps. When a link is present, an option to \\"Download Chatting Apps\\" will be added in the Main Menu so users can find the download page. Leave this field blank to hide the option from the Main Menu.","admin.customization.appDownloadLinkTitle":"Chatting Apps Download Page Link:","admin.customization.customUrlSchemes":"Custom URL Schemes:","admin.customization.customUrlSchemesDesc":"Allows message text to link if it begins with any of the comma-separated URL schemes listed. By default, the following schemes will create links: \\"http\\", \\"https\\", \\"ftp\\", \\"tel\\", and \\"mailto\\".","admin.customization.customUrlSchemesPlaceholder":"E.g.: \\"git,smtp\\"","admin.customization.enableCustomEmojiDesc":"Enable users to create custom emoji for use in messages. When enabled, Custom Emoji settings can be accessed by switching to a team and clicking the three dots above the channel sidebar, and selecting \\"Custom Emoji\\".","admin.customization.enableCustomEmojiTitle":"Enable Custom Emoji:","admin.customization.enableEmojiPickerDesc":"The emoji picker allows users to select emoji to add as reactions or use in messages. Enabling the emoji picker with a large number of custom emoji may slow down performance.","admin.customization.enableEmojiPickerTitle":"Enable Emoji Picker:","admin.customization.enableGifPickerDesc":"Allow users to select GIFs from the emoji picker via a Gfycat integration.","admin.customization.enableGifPickerTitle":"Enable GIF Picker:","admin.customization.enableLatexDesc":"Enable rendering of Latex code. If false, Latex code will be highlighted only.","admin.customization.enableLatexTitle":"Enable Latex Rendering:","admin.customization.enableLinkPreviewsDesc":"Display a preview of website content, image links and YouTube links below the message when available. The server must be connected to the internet and have access through the firewall (if applicable) to the websites from which previews are expected. Users can disable these previews from Account Settings > Display > Website Link Previews.","admin.customization.enableLinkPreviewsTitle":"Enable Link Previews:","admin.customization.enableSVGsDesc":"Enable previews for SVG file attachments and allow them to appear in messages.","admin.customization.enableSVGsTitle":"Enable SVGs:","admin.customization.gfycatApiKey":"Gfycat API Key:","admin.customization.gfycatApiKeyDescription":"Request an API key at [https://developers.gfycat.com/signup/#](!https://developers.gfycat.com/signup/#). Enter the client ID you receive via email to this field. When blank, uses the default API key provided by Gfycat.","admin.customization.gfycatApiSecret":"Gfycat API Secret:","admin.customization.gfycatApiSecretDescription":"The API secret generated by Gfycat for your API key. When blank, uses the default API secret provided by Gfycat.","admin.customization.iosAppDownloadLinkDesc":"Add a link to download the iOS app. Users who access the site on a mobile web browser will be prompted with a page giving them the option to download the app. Leave this field blank to prevent the page from appearing.","admin.customization.iosAppDownloadLinkTitle":"iOS App Download Link:","admin.customization.restrictLinkPreviewsDesc":"Link previews and image link previews will not be shown for the above list of comma-separated domains.","admin.customization.restrictLinkPreviewsExample":"E.g.: \\"internal.mycompany.com, images.example.com\\"","admin.customization.restrictLinkPreviewsTitle":"Disable link previews from these domains:","admin.data_grid.empty":"No items found","admin.data_grid.loading":"Loading","admin.data_grid.paginatorCount":"{startCount, number} - {endCount, number} of {total, number}","admin.data_retention_feature_discovery.copy":"Hold on to your data only as long as you need to. Create data retention jobs for select channels and teams to automatically delete disposable data.","admin.data_retention_feature_discovery.title":"Create data retention schedules with Chatting Enterprise E20","admin.data_retention.channel_team_counts":"{team_count} {team_count, plural, one {team} other {teams}}, {channel_count} {channel_count, plural, one {channel} other {channels}}","admin.data_retention.channel_team_counts_empty":"N/A","admin.data_retention.confirmChangesModal.clarification":"Once deleted, messages and files cannot be retrieved.","admin.data_retention.confirmChangesModal.confirm":"Confirm Settings","admin.data_retention.confirmChangesModal.description":"Are you sure you want to apply the following data retention policy:","admin.data_retention.confirmChangesModal.description.itemFileDeletion":"All files will be permanently deleted after {days} days.","admin.data_retention.confirmChangesModal.description.itemFileIndefinite":"All files will be retained indefinitely.","admin.data_retention.confirmChangesModal.description.itemMessageDeletion":"All messages will be permanently deleted after {days} days.","admin.data_retention.confirmChangesModal.description.itemMessageIndefinite":"All messages will be retained indefinitely.","admin.data_retention.confirmChangesModal.title":"Confirm data retention policy","admin.data_retention.createJob.help":"Initiates a Data Retention deletion job immediately.","admin.data_retention.createJob.instructions":"Daily time to check policies and run delete job:","admin.data_retention.createJob.title":"Run Deletion Job Now","admin.data_retention.custom_policy.cancel":"Cancel","admin.data_retention.custom_policy.channel_selector.addChannels":"Add channels","admin.data_retention.custom_policy.channel_selector.subTitle":"Add channels that will follow this retention policy.","admin.data_retention.custom_policy.channel_selector.title":"Assigned channels","admin.data_retention.custom_policy.form.durationInput.error":"Error parsing message retention.","admin.data_retention.custom_policy.form.input":"Policy name","admin.data_retention.custom_policy.form.input.error":"Policy name can\'t be blank.","admin.data_retention.custom_policy.form.subTitle":"Give your policy a name and configure retention settings.","admin.data_retention.custom_policy.form.teamsError":"You must add a team or a channel to the policy.","admin.data_retention.custom_policy.form.title":"Name and retention","admin.data_retention.custom_policy.save":"Save","admin.data_retention.custom_policy.serverError":"There are errors in the form above","admin.data_retention.custom_policy.team_selector.addTeams":"Add teams","admin.data_retention.custom_policy.team_selector.subTitle":"Add teams that will follow this retention policy.","admin.data_retention.custom_policy.team_selector.title":"Assigned teams","admin.data_retention.custom_policy.teams.remove":"Remove","admin.data_retention.customPolicies.addPolicy":"Add policy","admin.data_retention.customPolicies.subTitle":"Customize how long specific teams and channels will keep messages.","admin.data_retention.customPolicies.title":"Custom retention policies","admin.data_retention.customPoliciesTable.appliedTo":"Applied to","admin.data_retention.customPoliciesTable.channelMessages":"Channel messages","admin.data_retention.customPoliciesTable.description":"Description","admin.data_retention.customTitle":"Custom Retention Policy","admin.data_retention.deletionJobStartTime.description":"Set the start time of the daily scheduled data retention job. Choose a time when fewer people are using your system. Must be a 24-hour time stamp in the form HH:MM.","admin.data_retention.deletionJobStartTime.example":"E.g.: \\"02:00\\"","admin.data_retention.deletionJobStartTime.title":"Data Deletion Time:","admin.data_retention.enableFileDeletion.description":"Set how long Chatting keeps file uploads in channels and direct messages.","admin.data_retention.enableFileDeletion.title":"File Retention:","admin.data_retention.enableMessageDeletion.description":"Set how long Chatting keeps messages in channels and direct messages.","admin.data_retention.enableMessageDeletion.title":"Message Retention:","admin.data_retention.fileRetentionDays.description":"Set how many days file uploads are kept in Chatting. Files older than the duration you set will be deleted nightly. The minimum time is one day.","admin.data_retention.fileRetentionDays.example":"E.g.: \\"60\\"","admin.data_retention.form.channelAndDirectMessageRetention":"Channel & direct message retention","admin.data_retention.form.days":"Days","admin.data_retention.form.fileRetention":"File retention","admin.data_retention.form.keepForever":"Keep forever","admin.data_retention.form.text":"Applies to all teams and channels, but does not apply to custom retention policies.","admin.data_retention.form.years":"Years","admin.data_retention.global_policy.form.numberError":"You must add a number greater than or equal to 1.","admin.data_retention.globalPoliciesTable.channelMessages":"Channel messages","admin.data_retention.globalPoliciesTable.delete":"Delete","admin.data_retention.globalPoliciesTable.description":"Description","admin.data_retention.globalPoliciesTable.edit":"Edit","admin.data_retention.globalPoliciesTable.files":"Files","admin.data_retention.globalPolicy.subTitle":"Keep messages and files for a set amount of time.","admin.data_retention.globalPolicy.title":"Global retention policy","admin.data_retention.globalPolicyTitle":"Global Retention Policy","admin.data_retention.jobCreation.subTitle":"Daily log of messages and files removed based on the policies defined above.","admin.data_retention.jobCreation.title":"Policy log","admin.data_retention.jobTimeAM":"{time} AM (UTC)","admin.data_retention.jobTimePM":"{time} PM (UTC)","admin.data_retention.keepFilesForTime":"Keep files for a set amount of time","admin.data_retention.keepFilesIndefinitely":"Keep all files indefinitely","admin.data_retention.keepMessageForTime":"Keep messages for a set amount of time","admin.data_retention.keepMessagesIndefinitely":"Keep all messages indefinitely","admin.data_retention.messageRetentionDays.description":"Set how many days messages are kept in Chatting. Messages, including file attachments older than the duration you set will be deleted nightly. The minimum time is one day.","admin.data_retention.messageRetentionDays.example":"E.g.: \\"60\\"","admin.data_retention.note.description":"Caution: Once a message or a file is deleted, the action is irreversible. Please be careful when setting up a custom data retention policy. See {documentationLink} to learn more.","admin.data_retention.note.description.documentationLinkText":"documentation","admin.data_retention.retention_days":"{count} {count, plural, one {day} other {days}}","admin.data_retention.retention_years":"{count} {count, plural, one {year} other {years}}","admin.data_retention.settings.title":"Data Retention Policies","admin.data_retention.title":"Data Retention Policy","admin.database.title":"Database","admin.developer.title":"Developer Settings","admin.elasticsearch.bulkIndexingTitle":"Bulk Indexing:","admin.elasticsearch.connectionUrlDescription":"The address of the Elasticsearch server. {documentationLink}","admin.elasticsearch.connectionUrlExample":"E.g.: \\"https://elasticsearch.example.org:9200\\"","admin.elasticsearch.connectionUrlExample.documentationLinkText":"Please see documentation with server setup instructions.","admin.elasticsearch.connectionUrlTitle":"Server Connection Address:","admin.elasticsearch.createJob.help":"All users, channels and posts in the database will be indexed from oldest to newest. Elasticsearch is available during indexing but search results may be incomplete until the indexing job is complete.","admin.elasticsearch.createJob.title":"Index Now","admin.elasticsearch.elasticsearch_test_button":"Test Connection","admin.elasticsearch.enableAutocompleteDescription":"Requires a successful connection to the Elasticsearch server. When true, Elasticsearch will be used for all autocompletion queries on users and channels using the latest index. Autocompletion results may be incomplete until a bulk index of the existing users and channels database is finished. When false, database autocomplete is used.","admin.elasticsearch.enableAutocompleteTitle":"Enable Elasticsearch for autocomplete queries:","admin.elasticsearch.enableIndexingDescription":"When true, indexing of new posts occurs automatically. Search queries will use database search until \\"Enable Elasticsearch for search queries\\" is enabled. {documentationLink}","admin.elasticsearch.enableIndexingDescription.documentationLinkText":"Learn more about Elasticsearch in our documentation.","admin.elasticsearch.enableIndexingTitle":"Enable Elasticsearch Indexing:","admin.elasticsearch.enableSearchingDescription":"Requires a successful connection to the Elasticsearch server. When true, Elasticsearch will be used for all search queries using the latest index. Search results may be incomplete until a bulk index of the existing post database is finished. When false, database search is used.","admin.elasticsearch.enableSearchingTitle":"Enable Elasticsearch for search queries:","admin.elasticsearch.password":"E.g.: \\"yourpassword\\"","admin.elasticsearch.passwordDescription":"(Optional) The password to authenticate to the Elasticsearch server.","admin.elasticsearch.passwordTitle":"Server Password:","admin.elasticsearch.percentComplete":"{percent}% Complete","admin.elasticsearch.purgeIndexesButton":"Purge Indexes","admin.elasticsearch.purgeIndexesButton.error":"Failed to purge indexes: {error}","admin.elasticsearch.purgeIndexesButton.label":"Purge Indexes:","admin.elasticsearch.purgeIndexesButton.success":"Indexes purged successfully.","admin.elasticsearch.purgeIndexesHelpText":"Purging will entirely remove the indexes on the Elasticsearch server. Search results may be incomplete until a bulk index of the existing database is rebuilt.","admin.elasticsearch.skipTLSVerificationDescription":"When true, Chatting will not require the Elasticsearch certificate to be signed by a trusted Certificate Authority.","admin.elasticsearch.skipTLSVerificationTitle":"Skip TLS Verification:","admin.elasticsearch.sniffDescription":"When true, sniffing finds and connects to all data nodes in your cluster automatically.","admin.elasticsearch.sniffTitle":"Enable Cluster Sniffing:","admin.elasticsearch.testConfigSuccess":"Test successful. Configuration saved.","admin.elasticsearch.testHelpText":"Tests if the Chatting server can connect to the Elasticsearch server specified. Testing the connection only saves the configuration if the test is successful. See log file for more detailed error messages.","admin.elasticsearch.title":"Elasticsearch","admin.elasticsearch.usernameDescription":"(Optional) The username to authenticate to the Elasticsearch server.","admin.elasticsearch.usernameExample":"E.g.: \\"elastic\\"","admin.elasticsearch.usernameTitle":"Server Username:","admin.email.agreeHPNS":" I understand and accept the Chatting Hosted Push Notification Service [Terms of Service](!https://about.chatting.gomlo.me/hpns-terms/) and [Privacy Policy](!https://about.chatting.gomlo.me/hpns-privacy/).","admin.email.allowEmailSignInDescription":"When true, Chatting allows users to sign in using their email and password.","admin.email.allowEmailSignInTitle":"Enable sign-in with email: ","admin.email.allowSignupDescription":"When true, Chatting allows account creation using email and password. This value should be false only when you want to limit sign up to a single sign-on service like AD/LDAP, SAML or GitLab.","admin.email.allowSignupTitle":"Enable account creation with email: ","admin.email.allowUsernameSignInDescription":"When true, users with email login can sign in using their username and password. This setting does not affect AD/LDAP login.","admin.email.allowUsernameSignInTitle":"Enable sign-in with username: ","admin.email.easHelp":"Learn more about compiling and deploying your own mobile apps from an [Enterprise App Store](!https://about.chatting.gomlo.me/default-enterprise-app-store).","admin.email.mhpns":"Use HPNS connection with uptime SLA to send notifications to iOS and Android apps","admin.email.mhpnsHelp":"Download [Chatting iOS app](!https://about.chatting.gomlo.me/mattermost-ios-app/) from iTunes. Download [Chatting Android app](!https://about.chatting.gomlo.me/mattermost-android-app/) from Google Play. Learn more about [HPNS](!https://about.chatting.gomlo.me/default-hpns/).","admin.email.mtpns":"Use TPNS connection to send notifications to iOS and Android apps","admin.email.mtpnsHelp":"Download [Chatting iOS app](!https://about.chatting.gomlo.me/mattermost-ios-app/) from iTunes. Download [Chatting Android app](!https://about.chatting.gomlo.me/mattermost-android-app/) from Google Play. Learn more about [TPNS](!https://about.chatting.gomlo.me/default-tpns/).","admin.email.pushOff":"Do not send push notifications","admin.email.pushOffHelp":"Please see [documentation on push notifications](!https://about.chatting.gomlo.me/default-mobile-push-notifications/) to learn more about setup options.","admin.email.pushServerEx":"E.g.: \\"https://push-test.chatting.gomlo.me\\"","admin.email.pushServerTitle":"Push Notification Server:","admin.email.pushTitle":"Enable Push Notifications: ","admin.email.requireVerificationDescription":"Typically set to true in production. When true, Chatting requires email verification after account creation prior to allowing login. Developers may set this field to false to skip sending verification emails for faster development.","admin.email.requireVerificationTitle":"Require Email Verification: ","admin.email.selfPush":"Manually enter Push Notification Service location","admin.environment.fileStorage":"File Storage","admin.environment.imageProxy":"Image Proxy","admin.environment.notifications":"Notifications","admin.environment.notifications.contents.full":"Send full message contents","admin.environment.notifications.contents.generic":"Send generic description with only sender name","admin.environment.notifications.contents.help":"**Send full message contents** - Sender name and channel are included in email notifications. Typically used for compliance reasons if Chatting contains confidential information and policy dictates it cannot be stored in email.\\n  **Send generic description with only sender name** - Only the name of the person who sent the message, with no information about channel name or message contents are included in email notifications. Typically used for compliance reasons if Chatting contains confidential information and policy dictates it cannot be stored in email.","admin.environment.notifications.contents.label":"Email Notification Contents:","admin.environment.notifications.enable.help":"Typically set to true in production. When true, Chatting attempts to send email notifications. When false, email invitations and user account setting change emails are still sent as long as the SMTP server is configured. Developers may set this field to false to skip email setup for faster development.","admin.environment.notifications.enable.label":"Enable Email Notifications:","admin.environment.notifications.enableConfirmNotificationsToChannel.help":"When true, users will be prompted to confirm when posting @group, @all and group mentions in channels with over five members. When false, no confirmation is required.","admin.environment.notifications.enableConfirmNotificationsToChannel.label":"Show @group and @all and group mention confirmation dialog:","admin.environment.notifications.enableEmailBatching.help":"When true, users will have email notifications for multiple direct messages and mentions combined into a single email. Batching will occur at a default interval of 15 minutes, configurable in Account Settings > Notifications.","admin.environment.notifications.enableEmailBatching.label":"Enable Email Batching:","admin.environment.notifications.enablePreviewModeBanner.help":"When true, the Preview Mode banner is displayed so users are aware that email notifications are disabled. When false, the Preview Mode banner is not displayed to users.","admin.environment.notifications.enablePreviewModeBanner.label":"Enable Preview Mode Banner:","admin.environment.notifications.feedbackEmail.help":"Email address displayed on email account used when sending notification emails from Chatting.","admin.environment.notifications.feedbackEmail.label":"Notification From Address:","admin.environment.notifications.feedbackEmail.placeholder":"Ex: \\"mattermost@yourcompany.com\\", \\"admin@yourcompany.com\\"","admin.environment.notifications.feedbackOrganization.help":"Organization name and address displayed on email notifications from Chatting, such as \\"© ABC Corporation, 565 Knight Way, Palo Alto, California, 94305, USA\\". If the field is left empty, the organization name and address will not be displayed.","admin.environment.notifications.feedbackOrganization.label":"Notification Footer Mailing Address:","admin.environment.notifications.feedbackOrganization.placeholder":"Ex: \\"© ABC Corporation, 565 Knight Way, Palo Alto, California, 94305, USA\\"","admin.environment.notifications.notificationDisplay.help":"Display name on email account used when sending notification emails from Chatting.","admin.environment.notifications.notificationDisplay.label":"Notification Display Name:","admin.environment.notifications.notificationDisplay.placeholder":"Ex: \\"Chatting Notification\\", \\"System\\", \\"No-Reply\\"","admin.environment.notifications.pushContents.full":"Full message content sent in the notification payload","admin.environment.notifications.pushContents.generic":"Generic description with sender and channel names","admin.environment.notifications.pushContents.genericNoChannel":"Generic description with only sender name","admin.environment.notifications.pushContents.help":"**Generic description with only sender name** - Includes only the name of the person who sent the message in push notifications, with no information about channel name or message contents.\\n **Generic description with sender and channel names** - Includes the name of the person who sent the message and the channel it was sent in, but not the message contents.\\n **Full message content sent in the notification payload** - Includes the message contents in the push notification payload that is relayed through Apple\'s Push Notification Service (APNS) or Google\'s Firebase Cloud Messaging (FCM). It is **highly recommended** this option only be used with an \\"https\\" protocol to encrypt the connection and protect confidential information sent in messages.","admin.environment.notifications.pushContents.idLoaded":"Full message content fetched from the server on receipt","admin.environment.notifications.pushContents.label":"Push Notification Contents:","admin.environment.notifications.pushContents.withIdLoaded.help":"**Generic description with only sender name** - Includes only the name of the person who sent the message in push notifications, with no information about channel name or message contents.\\n **Generic description with sender and channel names** - Includes the name of the person who sent the message and the channel it was sent in, but not the message contents.\\n **Full message content sent in the notification payload** - Includes the message contents in the push notification payload that is relayed through Apple\'s Push Notification Service (APNS) or Google\'s Firebase Cloud Messaging (FCM). It is **highly recommended** this option only be used with an \\"https\\" protocol to encrypt the connection and protect confidential information sent in messages.\\n**Full message content fetched from the server on receipt** - The notification payload relayed through APNS or FCM contains no message content, instead it contains a unique message ID used to fetch message content from the server when a push notification is received by a device. If the server cannot be reached, a generic notification will be displayed.","admin.environment.notifications.replyToAddress.help":"Email address used in the Reply-To header when sending notification emails from Chatting.","admin.environment.notifications.replyToAddress.label":"Notification Reply-To Address:","admin.environment.notifications.replyToAddress.placeholder":"Ex: \\"mattermost@yourcompany.com\\", \\"admin@yourcompany.com\\"","admin.environment.pushNotificationServer":"Push Notification Server","admin.environment.smtp":"SMTP","admin.environment.smtp.connectionSecurity.option.none":"None","admin.environment.smtp.connectionSecurity.option.starttls":"STARTTLS","admin.environment.smtp.connectionSecurity.option.tls":"TLS (Recommended)","admin.environment.smtp.connectionSecurity.title":"Connection Security:","admin.environment.smtp.connectionSmtpTest":"Test Connection","admin.environment.smtp.enableSecurityFixAlert.description":"When true, System Administrators are notified by email if a relevant security fix alert has been announced in the last 12 hours. Requires email to be enabled.","admin.environment.smtp.enableSecurityFixAlert.title":"Enable Security Alerts:","admin.environment.smtp.skipServerCertificateVerification.description":"When true, Chatting will not verify the email server certificate.","admin.environment.smtp.skipServerCertificateVerification.title":"Skip Server Certificate Verification:","admin.environment.smtp.smtpAuth.description":"When true, SMTP Authentication is enabled.","admin.environment.smtp.smtpAuth.title":"Enable SMTP Authentication:","admin.environment.smtp.smtpFail":"Connection unsuccessful: {error}","admin.environment.smtp.smtpPassword.description":"Obtain this credential from administrator setting up your email server.","admin.environment.smtp.smtpPassword.placeholder":"Ex: \\"yourpassword\\", \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.environment.smtp.smtpPassword.title":"SMTP Server Password:","admin.environment.smtp.smtpPort.description":"Port of SMTP email server.","admin.environment.smtp.smtpPort.placeholder":"Ex: \\"25\\", \\"465\\", \\"587\\"","admin.environment.smtp.smtpPort.title":"SMTP Server Port:","admin.environment.smtp.smtpServer.description":"Location of SMTP email server.","admin.environment.smtp.smtpServer.placeholder":"Ex: \\"smtp.yourcompany.com\\", \\"email-smtp.us-east-1.amazonaws.com\\"","admin.environment.smtp.smtpServer.title":"SMTP Server:","admin.environment.smtp.smtpSuccess":"No errors were reported while sending an email. Please check your inbox to make sure.","admin.environment.smtp.smtpUsername.description":"Obtain this credential from administrator setting up your email server.","admin.environment.smtp.smtpUsername.placeholder":"Ex: \\"admin@yourcompany.com\\", \\"AKIADTOVBGERKLCBV\\"","admin.environment.smtp.smtpUsername.title":"SMTP Server Username:","admin.environment.smtp.testing":"Testing...","admin.environment.webServer":"Web Server","admin.experimental.allowCustomThemes.desc":"Enables the **Display > Theme > Custom Theme** section in Account Settings.","admin.experimental.allowCustomThemes.title":"Allow Custom Themes:","admin.experimental.clientSideCertCheck.desc":"When **primary**, after the client side certificate is verified, user’s email is retrieved from the certificate and is used to log in without a password. When **secondary**, after the client side certificate is verified, user’s email is retrieved from the certificate and matched against the one supplied by the user. If they match, the user logs in with regular email/password credentials.","admin.experimental.clientSideCertCheck.title":"Client-Side Certification Login Method:","admin.experimental.clientSideCertEnable.desc":"Enables client-side certification for your Chatting server. See [documentation](!https://docs.chatting.gomlo.me/deployment/certificate-based-authentication.html) to learn more.","admin.experimental.clientSideCertEnable.title":"Enable Client-Side Certification:","admin.experimental.closeUnusedDirectMessages.desc":"When true, direct message conversations with no activity for 7 days will be hidden from the sidebar. When false, conversations remain in the sidebar until they are manually closed. These settings are only available if **Enable Legacy Sidebar** is **Enabled**.","admin.experimental.closeUnusedDirectMessages.title":"Autoclose Direct Messages in Sidebar:","admin.experimental.collapsedThreads.default_off":"Enabled (Default Off)","admin.experimental.collapsedThreads.default_on":"Enabled (Default On)","admin.experimental.collapsedThreads.desc":"When enabled (default on), this setting enables collapsed reply threads for all users on this server. Users can disable the feature in Account Settings > Display > Collapsed Reply Threads (Beta). When enabled (default off), users must enable collapsed reply threads in Account Settings. When disabled, users cannot access collapsed reply threads. [Learn more about collapsed reply threads](!https://about.chatting.gomlo.me/default-threads).","admin.experimental.collapsedThreads.off":"Disabled","admin.experimental.collapsedThreads.title":"Collapsed Reply Threads","admin.experimental.defaultTheme.desc":"Set a default theme that applies to all new users on the system.","admin.experimental.defaultTheme.title":"Default Theme:","admin.experimental.emailBatchingBufferSize.desc":"Specify the maximum number of notifications batched into a single email.","admin.experimental.emailBatchingBufferSize.example":"E.g.: \\"256\\"","admin.experimental.emailBatchingBufferSize.title":"Email Batching Buffer Size:","admin.experimental.emailBatchingInterval.desc":"Specify the maximum frequency, in seconds, which the batching job checks for new notifications. Longer batching intervals will increase performance.","admin.experimental.emailBatchingInterval.example":"E.g.: \\"30\\"","admin.experimental.emailBatchingInterval.title":"Email Batching Interval:","admin.experimental.emailSettingsLoginButtonBorderColor.desc":"Specify the color of the email login button border for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.emailSettingsLoginButtonBorderColor.title":"Email Login Button Border Color:","admin.experimental.emailSettingsLoginButtonColor.desc":"Specify the color of the email login button for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.emailSettingsLoginButtonColor.title":"Email Login Button Color:","admin.experimental.emailSettingsLoginButtonTextColor.desc":"Specify the color of the email login button text for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.emailSettingsLoginButtonTextColor.title":"Email Login Button Text Color:","admin.experimental.enableChannelViewedMessages.desc":"This setting determines whether `channel_viewed` WebSocket events are sent, which synchronize unread notifications across clients and devices. Disabling the setting in larger deployments may improve server performance.","admin.experimental.enableChannelViewedMessages.title":"Enable Channel Viewed WebSocket Messages:","admin.experimental.enableLegacySidebar.desc":"When enabled, users cannot access new sidebar features including custom, collapsible categories and unread channel filtering. We recommend only enabling the legacy sidebar if users are experiencing breaking changes or bugs.","admin.experimental.enableLegacySidebar.title":"Enable Legacy Sidebar","admin.experimental.enablePreviewFeatures.desc":"When true, preview features can be enabled from **Account Settings > Advanced > Preview pre-release features**. When false, disables and hides preview features from **Account Settings > Advanced > Preview pre-release features**.","admin.experimental.enablePreviewFeatures.title":"Enable Preview Features:","admin.experimental.enableSharedChannels.desc":"When true, users who have permission to manage shared channels can configure another Chatting server to synchronize and share a channel. Disabling shared channels stops synchronizing the channel with the other Chatting server, however the channel continues to function for local users per normal channel behavior.","admin.experimental.enableSharedChannels.title":"Enable Shared Channels:","admin.experimental.enableThemeSelection.desc":"Enables the **Display > Theme** tab in Account Settings so users can select their theme.","admin.experimental.enableThemeSelection.title":"Enable Theme Selection:","admin.experimental.enableTutorial.desc":"When true, users are prompted with a tutorial when they open Chatting for the first time after account creation. When false, the tutorial is disabled, and users are placed in Town Square when they open Chatting for the first time after account creation.","admin.experimental.enableTutorial.title":"Enable Tutorial:","admin.experimental.enableUserDeactivation.desc":"When true, users may deactivate their own account from **Account Settings > Advanced**. If a user deactivates their own account, they will get an email notification confirming they were deactivated. When false, users may not deactivate their own account.","admin.experimental.enableUserDeactivation.title":"Enable Account Deactivation:","admin.experimental.enableUserTypingMessages.desc":"This setting determines whether \\"user is typing...\\" messages are displayed below the message box. Disabling the setting in larger deployments may improve server performance.","admin.experimental.enableUserTypingMessages.title":"Enable User Typing Messages:","admin.experimental.enableXToLeaveChannelsFromLHS.desc":"When true, users can leave Public and Private Channels by clicking the “x” beside the channel name. When false, users must use the **Leave Channel** option from the channel menu to leave channels. These settings are only available if **Enable Legacy Sidebar** is **Enabled**.","admin.experimental.enableXToLeaveChannelsFromLHS.title":"Enable X to Leave Channels from Left-Hand Sidebar:","admin.experimental.experimentalChannelOrganization.desc":"Enables channel sidebar organization options in **Account Settings > Sidebar > Channel grouping and sorting** including options for grouping unread channels, sorting channels by most recent post and combining all channel types into a single list. These settings are only available if **Enable Legacy Sidebar** is **Enabled**.","admin.experimental.experimentalChannelOrganization.title":"Channel Grouping and Sorting","admin.experimental.experimentalEnableAuthenticationTransfer.desc":"When true, users can change their sign-in method to any that is enabled on the server, either via Account Settings or the APIs. When false, Users cannot change their sign-in method, regardless of which authentication options are enabled.","admin.experimental.experimentalEnableAuthenticationTransfer.title":"Allow Authentication Transfer:","admin.experimental.experimentalEnableAutomaticReplies.desc":"When true, users can enable Automatic Replies in **Account Settings > Notifications**. Users set a custom message that will be automatically sent in response to Direct Messages. When false, disables the Automatic Direct Message Replies feature and hides it from Account Settings.","admin.experimental.experimentalEnableAutomaticReplies.title":"Enable Automatic Replies:","admin.experimental.experimentalEnableDefaultChannelLeaveJoinMessages.desc":"This setting determines whether team leave/join system messages are posted in the default town-square channel.","admin.experimental.experimentalEnableDefaultChannelLeaveJoinMessages.title":"Enable Default Channel Leave/Join System Messages:","admin.experimental.experimentalEnableHardenedMode.desc":"Enables a hardened mode for Chatting that makes user experience trade-offs in the interest of security. See [documentation](!https://docs.chatting.gomlo.me/administration/config-settings.html#enable-hardened-mode-experimental) to learn more.","admin.experimental.experimentalEnableHardenedMode.title":"Enable Hardened Mode:","admin.experimental.experimentalFeatures":"Experimental Features","admin.experimental.experimentalHideTownSquareinLHS.desc":"When true, hides Town Square in the left-hand sidebar if there are no unread messages in the channel. When false, Town Square is always visible in the left-hand sidebar even if all messages have been read. These settings are only available if **Enable Legacy Sidebar** is **Enabled**.","admin.experimental.experimentalHideTownSquareinLHS.title":"Town Square is Hidden in Left-Hand Sidebar:","admin.experimental.experimentalPrimaryTeam.desc":"The primary team of which users on the server are members. When a primary team is set, the options to join other teams or leave the primary team are disabled.","admin.experimental.experimentalPrimaryTeam.example":"E.g.: \\"teamname\\"","admin.experimental.experimentalPrimaryTeam.title":"Primary Team:","admin.experimental.experimentalTimezone.desc":"Select the timezone used for timestamps in the user interface and email notifications. When true, the Timezone setting is visible in the Account Settings and a time zone is automatically assigned in the next active session. When false, the Timezone setting is hidden in the Account Settings.","admin.experimental.experimentalTimezone.title":"Timezone:","admin.experimental.experimentalTownSquareIsReadOnly.desc":"When true, only System Admins can post in Town Square. Other members are not able to post, reply, upload files, emoji react or pin messages to Town Square, nor are they able to change the channel name, header or purpose. When false, anyone can post in Town Square.","admin.experimental.experimentalTownSquareIsReadOnly.title":"Town Square is Read-Only:","admin.experimental.experimentalUseNewSAMLLibrary.desc":"Enable an updated SAML Library, which does not require the XML Security Library (xmlsec1) to be installed. Warning: Not all providers have been tested. If you experience issues, please contact support: [https://about.chatting.gomlo.me/support/](!https://about.chatting.gomlo.me/support/). Changing this setting requires a server restart before taking effect.","admin.experimental.experimentalUseNewSAMLLibrary.title":"Use Improved SAML Library (Beta):","admin.experimental.ldapSettingsLoginButtonBorderColor.desc":"Specify the color of the AD/LDAP login button border for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.ldapSettingsLoginButtonBorderColor.title":"AD/LDAP Login Button Border Color:","admin.experimental.ldapSettingsLoginButtonColor.desc":"Specify the color of the AD/LDAP login button for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.ldapSettingsLoginButtonColor.title":"AD/LDAP Login Button Color:","admin.experimental.ldapSettingsLoginButtonTextColor.desc":"Specify the color of the AD/LDAP login button text for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.ldapSettingsLoginButtonTextColor.title":"AD/LDAP Login Button Text Color:","admin.experimental.linkMetadataTimeoutMilliseconds.desc":"The number of milliseconds to wait for metadata from a third-party link. Used with Post Metadata.","admin.experimental.linkMetadataTimeoutMilliseconds.example":"E.g.: \\"5000\\"","admin.experimental.linkMetadataTimeoutMilliseconds.title":"Link Metadata Timeout:","admin.experimental.samlSettingsLoginButtonBorderColor.desc":"Specify the color of the SAML login button border for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.samlSettingsLoginButtonBorderColor.title":"SAML login Button Border Color:","admin.experimental.samlSettingsLoginButtonColor.desc":"Specify the color of the SAML login button for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.samlSettingsLoginButtonColor.title":"SAML Login Button Color:","admin.experimental.samlSettingsLoginButtonTextColor.desc":"Specify the color of the SAML login button text for white labeling purposes. Use a hex code with a #-sign before the code. This setting only applies to the mobile apps.","admin.experimental.samlSettingsLoginButtonTextColor.title":"SAML login Button Text Color:","admin.experimental.timeBetweenUserTypingUpdatesMilliseconds.desc":"The number of milliseconds to wait between emitting user typing websocket events.","admin.experimental.timeBetweenUserTypingUpdatesMilliseconds.example":"E.g.: \\"5000\\"","admin.experimental.timeBetweenUserTypingUpdatesMilliseconds.title":"User Typing Timeout:","admin.experimental.useChannelInEmailNotifications.desc":"When true, channel and team name appears in email notification subject lines. Useful for servers using only one team. When false, only team name appears in email notification subject line.","admin.experimental.useChannelInEmailNotifications.title":"Use Channel Name in Email Notifications:","admin.experimental.userStatusAwayTimeout.desc":"This setting defines the number of seconds after which the user’s status indicator changes to \\"Away\\", when they are away from Chatting.","admin.experimental.userStatusAwayTimeout.example":"E.g.: \\"300\\"","admin.experimental.userStatusAwayTimeout.title":"User Status Away Timeout:","admin.false":"false","admin.feature_flags.flag":"Flag","admin.feature_flags.flag_value":"Value","admin.feature_flags.introBanner":"Feature flag values displayed here show the status of features enabled on this server. The values here are only for use debugging by the Chatting support team.","admin.feature_flags.title":"Feature Flags","admin.field_names.allowBannerDismissal":"Allow banner dismissal","admin.field_names.bannerColor":"Banner color","admin.field_names.bannerText":"Banner text","admin.field_names.bannerTextColor":"Banner text color","admin.field_names.enableBanner":"Enable Announcement banner","admin.field_names.enableCommands":"Enable Custom Slash Commands","admin.field_names.enableConfirmNotificationsToChannel":"Show @group and @all confirmation dialog","admin.field_names.enableIncomingWebhooks":"Enable Incoming Webhooks","admin.field_names.enableOAuthServiceProvider":"Enable OAuth 2.0 Service Provider","admin.field_names.enableOutgoingWebhooks":"Enable Outgoing Webhooks","admin.field_names.enablePostIconOverride":"Enable integrations to override profile picture icons","admin.field_names.enablePostUsernameOverride":"Enable integrations to override usernames","admin.field_names.enableUserAccessTokens":"Enable Personal Access Tokens","admin.field_names.enableUserCreation":"Enable Account Creation","admin.field_names.maxChannelsPerTeam":"Max Channels Per Team","admin.field_names.maxNotificationsPerChannel":"Max Notifications Per Channel","admin.field_names.maxUsersPerTeam":"Max Users Per Team","admin.field_names.postEditTimeLimit":"Edit post time limit","admin.field_names.restrictCreationToDomains":"Restrict account creation to specified email domains","admin.field_names.restrictDirectMessage":"Enable users to open Direct Message channels with","admin.field_names.teammateNameDisplay":"Teammate Name Display","admin.file_upload.chooseFile":"Choose File","admin.file_upload.noFile":"No file uploaded","admin.file_upload.uploadFile":"Upload","admin.file.enableFileAttachments":"Allow File Sharing:","admin.file.enableFileAttachmentsDesc":"When false, disables file sharing on the server. All file and image uploads on messages are forbidden across clients and devices, including mobile.","admin.file.enableMobileDownloadDesc":"When false, disables file downloads on mobile apps. Users can still download files from a mobile web browser.","admin.file.enableMobileDownloadTitle":"Allow File Downloads on Mobile:","admin.file.enableMobileUploadDesc":"When false, disables file uploads on mobile apps. If Allow File Sharing is set to true, users can still upload files from a mobile web browser.","admin.file.enableMobileUploadTitle":"Allow File Uploads on Mobile:","admin.filter.all_teams":"All Teams","admin.filter.apply":"Apply","admin.filter.count_more":"+{count, number} more","admin.filter.filters":"Filters","admin.filter.no_results":"No items match","admin.filter.reset":"Reset filters","admin.filter.reset_teams":"Reset to all teams","admin.filter.showing_all_teams":"Showing all teams","admin.filter.title":"Filter by","admin.general.localization.availableLocalesDescription":"Set which languages are available for users in Account Settings (leave this field blank to have all supported languages available). If you\'re manually adding new languages, the **Default Client Language** must be added before saving this setting.\\n \\nWould like to help with translations? Join the [Chatting Translation Server](!http://translate.chatting.gomlo.me/) to contribute.","admin.general.localization.availableLocalesNoResults":"No results found","admin.general.localization.availableLocalesNotPresent":"The default client language must be included in the available list","admin.general.localization.availableLocalesTitle":"Available Languages:","admin.general.localization.clientLocaleDescription":"Default language for newly created users and pages where the user hasn\'t logged in.","admin.general.localization.clientLocaleTitle":"Default Client Language:","admin.general.localization.serverLocaleDescription":"Default language for system messages. Changing this will require a server restart before taking effect.","admin.general.localization.serverLocaleTitle":"Default Server Language:","admin.general.log":"Logging","admin.gitlab.authTitle":"Auth Endpoint:","admin.gitlab.clientIdDescription":"Obtain this value via the instructions above for logging into GitLab.","admin.gitlab.clientIdExample":"E.g.: \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.gitlab.clientIdTitle":"Application ID:","admin.gitlab.clientSecretDescription":"Obtain this value via the instructions above for logging into GitLab.","admin.gitlab.clientSecretExample":"E.g.: \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.gitlab.clientSecretTitle":"Application Secret Key:","admin.gitlab.discoveryEndpointDesc":"The URL of the discovery document for OpenID Connect with GitLab.","admin.gitlab.enableDescription":"When true, Chatting allows team creation and account signup using GitLab OAuth.\\n \\n1. Log in to your GitLab account and go to Profile Settings -> Applications.\\n2. Enter Redirect URIs \\"\'<your-mattermost-url>\'/login/gitlab/complete\\" (example: http://localhost:8065/login/gitlab/complete) and \\"\'<your-mattermost-url>\'/signup/gitlab/complete\\".\\n3. Then use \\"Application Secret Key\\" and \\"Application ID\\" fields from GitLab to complete the options below.\\n4. Complete the Endpoint URLs below.","admin.gitlab.EnableMarkdownDesc":"1. Log in to your GitLab account and go to Profile Settings -> Applications.\\n2. Enter Redirect URIs \\"\'<your-mattermost-url>\'/login/gitlab/complete\\" (example: http://localhost:8065/login/gitlab/complete) and \\"\'<your-mattermost-url>\'/signup/gitlab/complete\\".\\n3. Then use \\"Application Secret Key\\" and \\"Application ID\\" fields from GitLab to complete the options below.\\n4. Complete the Endpoint URLs below.","admin.gitlab.enableTitle":"Enable authentication with GitLab: ","admin.gitlab.siteUrl":"GitLab Site URL: ","admin.gitlab.siteUrlDescription":"Enter the URL of your GitLab instance, e.g. https://example.com:3000. If your GitLab instance is not set up with SSL, start the URL with http:// instead of https://.","admin.gitlab.siteUrlExample":"E.g.: https://","admin.gitlab.tokenTitle":"Token Endpoint:","admin.gitlab.userTitle":"User API Endpoint:","admin.google.authTitle":"Auth Endpoint:","admin.google.clientIdDescription":"The Client ID you received when registering your application with Google.","admin.google.clientIdExample":"E.g.: \\"7602141235235-url0fhs1mayfasbmop5qlfns8dh4.apps.googleusercontent.com\\"","admin.google.clientIdTitle":"Client ID:","admin.google.clientSecretDescription":"The Client Secret you received when registering your application with Google.","admin.google.clientSecretExample":"E.g.: \\"H8sz0Az-dDs2p15-7QzD231\\"","admin.google.clientSecretTitle":"Client Secret:","admin.google.discoveryEndpointDesc":"The URL of the discovery document for OpenID Connect with Google.","admin.google.EnableMarkdownDesc":"1. [Log in](!https://accounts.google.com/login) to your Google account.\\n2. Go to [https://console.developers.google.com](!https://console.developers.google.com), click **Credentials** in the left hand side.\\n 3. Under the **Credentials** header, click **Create credentials**, choose **OAuth client ID** and select **Web Application**.\\n 4. Enter \\"Chatting - your-company-name\\" as the **Name**.\\n 5. Under **Authorized redirect URIs** enter **your-mattermost-url/signup/google/complete** (example: http://localhost:8065/signup/google/complete). Click **Create**.\\n 6. Paste the **Client ID** and **Client Secret** to the fields below, then click **Save**.\\n 7. Go to the [Google People API](!https://console.developers.google.com/apis/library/people.googleapis.com) and click *Enable*.","admin.google.tokenTitle":"Token Endpoint:","admin.google.userTitle":"User API Endpoint:","admin.group_settings.filters.isConfigured":"Is Configured","admin.group_settings.filters.isLinked":"Is Linked","admin.group_settings.filters.isUnconfigured":"Is Not Configured","admin.group_settings.filters.isUnlinked":"Is Not Linked","admin.group_settings.group_detail.duplicateMentionNameError":"Group mention is already taken.","admin.group_settings.group_detail.group_configuration":"Group Configuration","admin.group_settings.group_detail.groupProfileDescription":"The name for this group.","admin.group_settings.group_detail.groupProfileTitle":"Group Profile","admin.group_settings.group_detail.groupTeamsAndChannelsDescription":"Set default teams and channels for group members. Teams added will include default channels, town-square, and off-topic. Adding a channel without setting the team will add the implied team to the listing below.","admin.group_settings.group_detail.groupTeamsAndChannelsTitle":"Team and Channel Membership","admin.group_settings.group_detail.groupUsersDescription":"Listing of users in Chatting associated with this group.","admin.group_settings.group_detail.groupUsersTitle":"Users","admin.group_settings.group_detail.introBanner":"Configure default teams and channels and view users belonging to this group.","admin.group_settings.group_detail.invalid_length":"Name must be 1 to 64 lowercase alphanumeric characters.","admin.group_settings.group_detail.invalidOrReservedMentionNameError":"Only letters (a-z), numbers (0-9), periods, dashes and underscores are allowed.","admin.group_settings.group_details.add_channel":"Add Channel","admin.group_settings.group_details.add_team":"Add Team","admin.group_settings.group_details.add_team_or_channel":"Add Team or Channel","admin.group_settings.group_details.group_mention.name":"Group Mention:","admin.group_settings.group_details.group_profile.name":"Name:","admin.group_settings.group_details.group_teams_and_channels_row.privateChannel":"Channel (Private)","admin.group_settings.group_details.group_teams_and_channels_row.privateTeam":"Team (Private)","admin.group_settings.group_details.group_teams_and_channels_row.publicChannel":"Channel","admin.group_settings.group_details.group_teams_and_channels_row.publicTeam":"Team","admin.group_settings.group_details.group_teams_and_channels_row.remove":"Remove","admin.group_settings.group_details.group_teams_and_channels_row.remove.confirm_body":"Removing this membership will prevent future users in this group from being added to the {name} {displayType}.","admin.group_settings.group_details.group_teams_and_channels_row.remove.confirm_button":"Yes, Remove","admin.group_settings.group_details.group_teams_and_channels_row.remove.confirm_header":"Remove Membership from the {name} {displayType}?","admin.group_settings.group_details.group_teams_and_channels.no-teams-or-channels-speicified":"No teams or channels specified yet","admin.group_settings.group_details.group_users.email":"Email:","admin.group_settings.group_details.group_users.no-users-found":"No users found","admin.group_settings.group_details.menuAriaLabel":"Add Team or Channel Menu","admin.group_settings.group_profile.group_teams_and_channels.assignedRoles":"Assigned Roles","admin.group_settings.group_profile.group_teams_and_channels.name":"Name","admin.group_settings.group_profile.group_teams_and_channels.type":"Type","admin.group_settings.group_profile.group_users.ldapConnector":"AD/LDAP Connector is configured to sync and manage this group and its users. [Click here to view]({siteURL}/admin_console/authentication/ldap)","admin.group_settings.group_row.configure":"Configure","admin.group_settings.group_row.edit":"Edit","admin.group_settings.group_row.link_failed":"Link failed","admin.group_settings.group_row.linked":"Linked","admin.group_settings.group_row.linking":"Linking","admin.group_settings.group_row.not_linked":"Not Linked","admin.group_settings.group_row.unlink_failed":"Unlink failed","admin.group_settings.group_row.unlinking":"Unlinking","admin.group_settings.groups_list.link_selected":"Link Selected Groups","admin.group_settings.groups_list.mappingHeader":"Chatting Linking","admin.group_settings.groups_list.nameHeader":"Name","admin.group_settings.groups_list.no_groups_found":"No groups found","admin.group_settings.groups_list.paginatorCount":"{startCount, number} - {endCount, number} of {total, number}","admin.group_settings.groups_list.unlink_selected":"Unlink Selected Groups","admin.group_settings.groupsPageTitle":"Groups","admin.group_settings.introBanner":"Groups are a way to organize users and apply actions to all users within that group.\\nFor more information on Groups, please see [documentation](!https://www.chatting.gomlo.me/default-ad-ldap-groups).","admin.group_settings.ldapGroupsDescription":"Connect AD/LDAP and create groups in Chatting. To get started, configure group attributes on the [AD/LDAP]({siteURL}/admin_console/authentication/ldap) configuration page.","admin.group_settings.ldapGroupsTitle":"AD/LDAP Groups","admin.group_settings.need_groupname":"You must specify a group mention.","admin.group_teams_and_channels_row.channelAdmin":"Channel Admin","admin.group_teams_and_channels_row.member":"Member","admin.group_teams_and_channels_row.teamAdmin":"Team Admin","admin.groups_feature_discovery.copy":"Use AD/LDAP groups to organize and apply actions to multiple users at once. Manage team and channel memberships, permissions, and more.","admin.groups_feature_discovery.title":"Synchronize your Active Directory/LDAP groups with Chatting Enterprise E20","admin.guest_access_feature_discovery.copy":"Collaborate with users outside of your organization while tightly controlling their access channels and team members.","admin.guest_access_feature_discovery.title":"Enable guest accounts with Chatting Enterprise E10","admin.guest_access.disableConfirmButton":"Save and Disable Guest Access","admin.guest_access.disableConfirmMessage":"Disabling guest access will revoke all current Guest Account sessions. Guests will no longer be able to login and new guests cannot be invited into Chatting. Guest users will be marked as inactive in user lists. Enabling this feature will not reinstate previous guest accounts. Are you sure you wish to remove these users?","admin.guest_access.disableConfirmTitle":"Save and Disable Guest Access?","admin.guest_access.disableConfirmWarning":"All current guest account sessions will be revoked, and marked as inactive","admin.guest_access.enableDescription":"When true, external guest can be invited to channels within teams. Please see [Permissions Schemes](../user_management/permissions/system_scheme) for which roles can invite guests.","admin.guest_access.enableTitle":"Enable Guest Access: ","admin.guest_access.mfaDescription":"When true, [multi-factor authentication](!https://docs.chatting.gomlo.me/deployment/auth.html) for guests is required for login. New guest users will be required to configure MFA on signup. Logged in guest users without MFA configured are redirected to the MFA setup page until configuration is complete.\\n \\nIf your system has guest users with login methods other than AD/LDAP and email, MFA must be enforced with the authentication provider outside of Chatting.","admin.guest_access.mfaDescriptionMFANotEnabled":"[Multi-factor authentication](./mfa) is currently not enabled.","admin.guest_access.mfaDescriptionMFANotEnforced":"[Multi-factor authentication](./mfa) is currently not enforced.","admin.guest_access.mfaTitle":"Enforce Multi-factor Authentication: ","admin.guest_access.whitelistedDomainsDescription":"(Optional) Guest accounts can be created at the system level from this list of allowed guest domains.","admin.guest_access.whitelistedDomainsExample":"E.g.: \\"company.com, othercorp.org\\"","admin.guest_access.whitelistedDomainsTitle":"Whitelisted Guest Domains:","admin.image.amazonS3BucketDescription":"Name you selected for your S3 bucket in AWS.","admin.image.amazonS3BucketExample":"E.g.: \\"mattermost-media\\"","admin.image.amazonS3BucketTitle":"Amazon S3 Bucket:","admin.image.amazonS3EndpointDescription":"Hostname of your S3 Compatible Storage provider. Defaults to \\"s3.amazonaws.com\\".","admin.image.amazonS3EndpointExample":"E.g.: \\"s3.amazonaws.com\\"","admin.image.amazonS3EndpointTitle":"Amazon S3 Endpoint:","admin.image.amazonS3IdDescription":"(Optional) Only required if you do not want to authenticate to S3 using an [IAM role](!https://about.chatting.gomlo.me/default-iam-role). Enter the Access Key ID provided by your Amazon EC2 administrator.","admin.image.amazonS3IdExample":"E.g.: \\"AKIADTOVBGERKLCBV\\"","admin.image.amazonS3IdTitle":"Amazon S3 Access Key ID:","admin.image.amazonS3PathPrefixDescription":"Prefix you selected for your S3 bucket in AWS.","admin.image.amazonS3PathPrefixExample":"E.g.: \\"subdir1\\" or you can leave it empty.","admin.image.amazonS3PathPrefixTitle":"Amazon S3 Path Prefix:","admin.image.amazonS3RegionDescription":"AWS region you selected when creating your S3 bucket. If no region is set, Chatting attempts to get the appropriate region from AWS, or sets it to \'us-east-1\' if none found.","admin.image.amazonS3RegionExample":"E.g.: \\"us-east-1\\"","admin.image.amazonS3RegionTitle":"Amazon S3 Region:","admin.image.amazonS3SecretDescription":"(Optional) The secret access key associated with your Amazon S3 Access Key ID.","admin.image.amazonS3SecretExample":"E.g.: \\"jcuS8PuvcpGhpgHhlcpT1Mx42pnqMxQY\\"","admin.image.amazonS3SecretTitle":"Amazon S3 Secret Access Key:","admin.image.amazonS3SSEDescription":"When true, encrypt files in Amazon S3 using server-side encryption with Amazon S3-managed keys. See [documentation](!https://about.chatting.gomlo.me/default-server-side-encryption) to learn more.","admin.image.amazonS3SSETitle":"Enable Server-Side Encryption for Amazon S3:","admin.image.amazonS3SSLDescription":"When false, allow insecure connections to Amazon S3. Defaults to secure connections only.","admin.image.amazonS3SSLTitle":"Enable Secure Amazon S3 Connections:","admin.image.amazonS3TraceDescription":"(Development Mode) When true, log additional debugging information to the system logs.","admin.image.amazonS3TraceTitle":"Enable Amazon S3 Debugging:","admin.image.archiveRecursionDescription":"When enabled, content of documents within ZIP files will be returned in search results. This may have an impact on server performance for large files.","admin.image.archiveRecursionTitle":"Enable searching content of documents within ZIP files:","admin.image.enableProxy":"Enable Image Proxy:","admin.image.enableProxyDescription":"When true, enables an image proxy for loading all Markdown images.","admin.image.extractContentDescription":"When enabled, supported document types are searchable by their content. Search results for existing documents may be incomplete [until a data migration is executed](!https://www.chatting.gomlo.me/file-content-extraction).","admin.image.extractContentTitle":"Enable document search by content:","admin.image.localDescription":"Directory to which files and images are written. If blank, defaults to ./data/.","admin.image.localExample":"E.g.: \\"./data/\\"","admin.image.localTitle":"Local Storage Directory:","admin.image.maxFileSizeDescription":"Maximum file size for message attachments in megabytes. Caution: Verify server memory can support your setting choice. Large file sizes increase the risk of server crashes and failed uploads due to network interruptions.","admin.image.maxFileSizeExample":"50","admin.image.maxFileSizeTitle":"Maximum File Size:","admin.image.proxyOptions":"Remote Image Proxy Options:","admin.image.proxyOptionsDescription":"Additional options such as the URL signing key. Refer to your image proxy documentation to learn more about what options are supported.","admin.image.proxyType":"Image Proxy Type:","admin.image.proxyTypeDescription":"Configure an image proxy to load all Markdown images through a proxy. The image proxy prevents users from making insecure image requests, provides caching for increased performance, and automates image adjustments such as resizing. See [documentation](!https://about.chatting.gomlo.me/default-image-proxy-documentation) to learn more.","admin.image.proxyURL":"Remote Image Proxy URL:","admin.image.proxyURLDescription":"URL of your remote image proxy server.","admin.image.publicLinkDescription":"32-character salt added to signing of public image links. Randomly generated on install. Click \\"Regenerate\\" to create new salt.","admin.image.publicLinkTitle":"Public Link Salt:","admin.image.shareDescription":"Allow users to share public links to files and images.","admin.image.shareTitle":"Enable Public File Links: ","admin.image.storeAmazonS3":"Amazon S3","admin.image.storeDescription":"Storage system where files and image attachments are saved.\\n \\nSelecting \\"Amazon S3\\" enables fields to enter your Amazon credentials and bucket details.\\n \\nSelecting \\"Local File System\\" enables the field to specify a local file directory.","admin.image.storeLocal":"Local File System","admin.image.storeTitle":"File Storage System:","admin.integrations.botAccounts":"Bot Accounts","admin.integrations.botAccounts.title":"Bot Accounts","admin.integrations.cors":"CORS","admin.integrations.gif":"GIF (Beta)","admin.integrations.integrationManagement":"Integration Management","admin.integrations.integrationManagement.title":"Integration Management","admin.jobTable.cancelButton":"Cancel","admin.jobTable.downloadLink":"Download","admin.jobTable.headerExtraInfo":"Details","admin.jobTable.headerFiles":"Files","admin.jobTable.headerFinishAt":"Finish Time","admin.jobTable.headerRunTime":"Run Time","admin.jobTable.headerStatus":"Status","admin.jobTable.jobId":"Job ID: ","admin.jobTable.lastActivityAt":"Last Activity: ","admin.jobTable.runLengthMinutes":" minutes","admin.jobTable.runLengthSeconds":" seconds","admin.jobTable.statusCanceled":"Canceled","admin.jobTable.statusCanceling":"Canceling...","admin.jobTable.statusError":"Error","admin.jobTable.statusInProgress":"In Progress","admin.jobTable.statusPending":"Pending","admin.jobTable.statusSuccess":"Success","admin.jobTable.statusWarning":"Warning","admin.ldap_feature_discovery.call_to_action.primary":"Start trial","admin.ldap_feature_discovery.call_to_action.secondary":"Learn more","admin.ldap_feature_discovery.copy":"When you connect Chatting with your organization\'s Active Directory/LDAP, users can log in without having to create new usernames and passwords.","admin.ldap_feature_discovery.title":"Integrate Active Directory/LDAP with Chatting Enterprise E10","admin.ldap.adminFilterEx":"E.g.: \\"(objectClass=user)\\"","admin.ldap.adminFilterFilterDesc":"(Optional) Enter an AD/LDAP filter to use for designating System Admins. The users selected by the query will have access to your Chatting server as System Admins. By default, System Admins have complete access to the Chatting System Console.\\n \\nExisting members that are identified by this attribute will be promoted from member to System Admin upon next login. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to members in **System Console > User Management** to ensure access is restricted immediately.\\n \\nNote: If this filter is removed/changed, System Admins that were promoted via this filter will be demoted to members and will not retain access to the System Console. When this filter is not in use, System Admins can be manually promoted/demoted in **System Console > User Management**.","admin.ldap.adminFilterTitle":"Admin Filter:","admin.ldap.baseDesc":"The Base DN is the Distinguished Name of the location where Chatting should start its search for user and group objects in the AD/LDAP tree.","admin.ldap.baseEx":"E.g.: \\"ou=Unit Name,dc=corp,dc=example,dc=com\\"","admin.ldap.baseTitle":"Base DN:","admin.ldap.bindPwdDesc":"Password of the user given in \\"Bind Username\\".","admin.ldap.bindPwdTitle":"Bind Password:","admin.ldap.bindUserDesc":"The username used to perform the AD/LDAP search. This should typically be an account created specifically for use with Chatting. It should have access limited to read the portion of the AD/LDAP tree specified in the Base DN field.","admin.ldap.bindUserTitle":"Bind Username:","admin.ldap.emailAttrDesc":"The attribute in the AD/LDAP server used to populate the email address field in Chatting.","admin.ldap.emailAttrEx":"E.g.: \\"mail\\" or \\"userPrincipalName\\"","admin.ldap.emailAttrTitle":"Email Attribute:","admin.ldap.enableAdminFilterTitle":"Enable Admin Filter","admin.ldap.enableDesc":"When true, Chatting allows login using AD/LDAP","admin.ldap.enableSyncDesc":"When true, Chatting periodically synchronizes users from AD/LDAP. When false, user attributes are updated from AD/LDAP during user login only.","admin.ldap.enableSyncTitle":"Enable Synchronization with AD/LDAP:","admin.ldap.enableTitle":"Enable sign-in with AD/LDAP:","admin.ldap.firstnameAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the first name of users in Chatting. When set, users cannot edit their first name, since it is synchronized with the LDAP server. When left blank, users can set their first name in Account Settings.","admin.ldap.firstnameAttrEx":"E.g.: \\"givenName\\"","admin.ldap.firstnameAttrTitle":"First Name Attribute:","admin.ldap.groupDisplayNameAttributeDesc":"The attribute in the AD/LDAP server used to populate the group display names.","admin.ldap.groupDisplayNameAttributeEx":"E.g.: \\"cn\\"","admin.ldap.groupDisplayNameAttributeTitle":"Group Display Name Attribute:","admin.ldap.groupFilterEx":"E.g.: \\"(objectClass=group)\\"","admin.ldap.groupFilterFilterDesc":"(Optional) Enter an AD/LDAP filter to use when searching for group objects. Only the groups selected by the query will be available to Chatting. From [User Management > Groups]({siteURL}/admin_console/user_management/groups), select which AD/LDAP groups should be linked and configured.","admin.ldap.groupFilterTitle":"Group Filter:","admin.ldap.groupIdAttributeDesc":"The attribute in the AD/LDAP server used as a unique identifier for Groups. This should be a AD/LDAP attribute with a value that does not change such as `entryUUID` for LDAP or `objectGUID` for Active Directory.","admin.ldap.groupIdAttributeEx":"E.g.: \\"objectGUID\\" or \\"entryUUID\\"","admin.ldap.groupIdAttributeTitle":"Group ID Attribute:","admin.ldap.guestFilterEx":"E.g.: \\"(objectClass=user)\\"","admin.ldap.guestFilterFilterDesc":"(Optional) Requires Guest Access to be enabled before being applied. Enter an AD/LDAP filter to use when searching for guest objects. Only the users selected by the query will be able to access Chatting as Guests. Guests are prevented from accessing teams or channels upon logging in until they are assigned a team and at least one channel.\\n \\nNote: If this filter is removed/changed, active guests will not be promoted to a member and will retain their Guest role. Guests can be promoted in **System Console > User Management**.\\n \\n \\nExisting members that are identified by this attribute as a guest will be demoted from a member to a guest when they are asked to login next. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to guests in **System Console > User Management ** to ensure access is restricted immediately.","admin.ldap.guestFilterTitle":"Guest Filter:","admin.ldap.idAttrDesc":"The attribute in the AD/LDAP server used as a unique identifier in Chatting. It should be an AD/LDAP attribute with a value that does not change such as `uid` for LDAP or `objectGUID` for Active Directory. If a user\'s ID Attribute changes, it will create a new Chatting account unassociated with their old one.\\n \\nIf you need to change this field after users have already logged in, use the [mattermost ldap idmigrate](!https://about.chatting.gomlo.me/default-mattermost-ldap-idmigrate) CLI tool.","admin.ldap.idAttrEx":"E.g.: \\"objectGUID\\" or \\"uid\\"","admin.ldap.idAttrTitle":"ID Attribute: ","admin.ldap.jobExtraInfo.addedGroupMembers":"Added {groupMemberAddCount, number} group members.","admin.ldap.jobExtraInfo.deactivatedUsers":"Deactivated {deleteCount, number} users.","admin.ldap.jobExtraInfo.deletedGroupMembers":"Deleted {groupMemberDeleteCount, number} group members.","admin.ldap.jobExtraInfo.deletedGroups":"Deleted {groupDeleteCount, number} groups.","admin.ldap.jobExtraInfo.updatedUsers":"Updated {updateCount, number} users.","admin.ldap.lastnameAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the last name of users in Chatting. When set, users cannot edit their last name, since it is synchronized with the LDAP server. When left blank, users can set their last name in Account Settings.","admin.ldap.lastnameAttrEx":"E.g.: \\"sn\\"","admin.ldap.lastnameAttrTitle":"Last Name Attribute:","admin.ldap.ldap_test_button":"AD/LDAP Test","admin.ldap.loginAttrDesc":"The attribute in the AD/LDAP server used to log in to Chatting. Normally this attribute is the same as the \\"Username Attribute\\" field above.\\n \\nIf your team typically uses domain/username to log in to other services with AD/LDAP, you may enter domain/username in this field to maintain consistency between sites.","admin.ldap.loginAttrTitle":"Login ID Attribute: ","admin.ldap.loginIdAttrEx":"E.g.: \\"sAMAccountName\\"","admin.ldap.loginNameDesc":"The placeholder text that appears in the login field on the login page. Defaults to \\"AD/LDAP Username\\".","admin.ldap.loginNameEx":"E.g.: \\"AD/LDAP Username\\"","admin.ldap.loginNameTitle":"Login Field Name:","admin.ldap.maxPageSizeEx":"E.g.: \\"2000\\"","admin.ldap.maxPageSizeHelpText":"The maximum number of users the Chatting server will request from the AD/LDAP server at one time. 0 is unlimited.","admin.ldap.maxPageSizeTitle":"Maximum Page Size:","admin.ldap.nicknameAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the nickname of users in Chatting. When set, users cannot edit their nickname, since it is synchronized with the LDAP server. When left blank, users can set their nickname in Account Settings.","admin.ldap.nicknameAttrEx":"E.g.: \\"nickname\\"","admin.ldap.nicknameAttrTitle":"Nickname Attribute:","admin.ldap.pictureAttrDesc":"The attribute in the AD/LDAP server used to populate the profile picture in Chatting.","admin.ldap.pictureAttrEx":"E.g.: \\"thumbnailPhoto\\" or \\"jpegPhoto\\"","admin.ldap.pictureAttrTitle":"Profile Picture Attribute:","admin.ldap.portDesc":"The port Chatting will use to connect to the AD/LDAP server. Default is 389.","admin.ldap.portEx":"E.g.: \\"389\\"","admin.ldap.portTitle":"AD/LDAP Port:","admin.ldap.positionAttrDesc":"(Optional) The attribute in the AD/LDAP server used to populate the position field in Chatting. When set, users cannot edit their position, since it is synchronized with the LDAP server. When left blank, users can set their position in Account Settings.","admin.ldap.positionAttrEx":"E.g.: \\"title\\"","admin.ldap.positionAttrTitle":"Position Attribute:","admin.ldap.privateKeyFileFileDesc":"The private key file for TLS Certificate. If using TLS client certificates as primary authentication mechanism. This will be provided by your LDAP Authentication Provider.","admin.ldap.privateKeyFileFileRemoveDesc":"Remove the private key file for TLS Certificate.","admin.ldap.privateKeyFileTitle":"Private Key:","admin.ldap.publicCertificateFileDesc":"The public certificate file for TLS Certificate. If using TLS client certificates as primary authentication mechanism.  This will be provided by your LDAP Authentication Provider.","admin.ldap.publicCertificateFileRemoveDesc":"Remove the public certificate file for TLS Certificate.","admin.ldap.publicCertificateFileTitle":"Public Certificate:","admin.ldap.queryDesc":"The timeout value for queries to the AD/LDAP server. Increase if you are getting timeout errors caused by a slow AD/LDAP server.","admin.ldap.queryEx":"E.g.: \\"60\\"","admin.ldap.queryTitle":"Query Timeout (seconds):","admin.ldap.remove.privKey":"Remove TLS Certificate Private Key","admin.ldap.remove.sp_certificate":"Remove Service Provider Certificate","admin.ldap.removing.certificate":"Removing Certificate...","admin.ldap.removing.privKey":"Removing Private Key...","admin.ldap.serverDesc":"The domain or IP address of AD/LDAP server.","admin.ldap.serverEx":"E.g.: \\"10.0.0.23\\"","admin.ldap.serverTitle":"AD/LDAP Server:","admin.ldap.skipCertificateVerification":"Skip Certificate Verification:","admin.ldap.skipCertificateVerificationDesc":"Skips the certificate verification step for TLS or STARTTLS connections. Skipping certificate verification is not recommended for production environments where TLS is required.","admin.ldap.sync_button":"AD/LDAP Synchronize Now","admin.ldap.syncIntervalHelpText":"AD/LDAP Synchronization updates Chatting user information to reflect updates on the AD/LDAP server. For example, when a user\'s name changes on the AD/LDAP server, the change updates in Chatting when synchronization is performed. Accounts removed from or disabled in the AD/LDAP server have their Chatting accounts set to \\"Inactive\\" and have their account sessions revoked. Chatting performs synchronization on the interval entered. For example, if 60 is entered, Chatting synchronizes every 60 minutes.","admin.ldap.syncIntervalTitle":"Synchronization Interval (minutes):","admin.ldap.syncNowHelpText":"Initiates an AD/LDAP synchronization immediately. See the table below for status of each synchronization. Please review \\"System Console > Logs\\" and [documentation](!https://chatting.gomlo.me/default-ldap-docs) to troubleshoot errors.","admin.ldap.testFailure":"AD/LDAP Test Failure: {error}","admin.ldap.testHelpText":"Tests if the Chatting server can connect to the AD/LDAP server specified. Please review \\"System Console > Logs\\" and [documentation](!https://chatting.gomlo.me/default-ldap-docs) to troubleshoot errors.","admin.ldap.testSuccess":"AD/LDAP Test Successful","admin.ldap.uploading.certificate":"Uploading Certificate...","admin.ldap.uploading.privateKey":"Uploading Private Key...","admin.ldap.userFilterDisc":"(Optional) Enter an AD/LDAP filter to use when searching for user objects. Only the users selected by the query will be able to access Chatting. For Active Directory, the query to filter out disabled users is (&(objectCategory=Person)(!(UserAccountControl:1.2.840.113556.1.4.803:=2))).","admin.ldap.userFilterEx":"E.g.: \\"(objectClass=user)\\"","admin.ldap.userFilterTitle":"User Filter:","admin.ldap.usernameAttrDesc":"The attribute in the AD/LDAP server used to populate the username field in Chatting. This may be the same as the Login ID Attribute.","admin.ldap.usernameAttrEx":"E.g.: \\"sAMAccountName\\"","admin.ldap.usernameAttrTitle":"Username Attribute:","admin.license.choose":"Choose File","admin.license.edition":"Edition: ","admin.license.enterprise-edition-license":"Enterprise Edition License:","admin.license.enterprise.restart":"Restart Server","admin.license.enterprise.restarting":"Restarting","admin.license.enterprise.upgrade":"Upgrade to Enterprise Edition","admin.license.enterprise.upgrade.accept-terms":"By clicking **Upgrade to Enterprise Edition**, I agree to the terms of the Chatting Enterprise Edition License.","admin.license.enterprise.upgrading":"Upgrading {percentage}%","admin.license.key":"License Key: ","admin.license.keyRemove":"Remove Enterprise License and Downgrade Server","admin.license.noFile":"No file uploaded","admin.license.removing":"Removing License...","admin.license.renewalCard.description":"Renew your Enterprise license through the Customer Portal to avoid any disruption.","admin.license.renewalCard.licensedUsersNum":"**Licensed Users:** {licensedUsersNum}","admin.license.renewalCard.licenseExpired":"License expired on {date, date, long}.","admin.license.renewalCard.licenseExpiring":"License expires in {days} days on {date, date, long}.","admin.license.renewalCard.reviewNumbers":"Review your numbers below to ensure you renew for the right number of users.","admin.license.renewalCard.usersNumbers":"**Active Users:** {activeUsersNum}","admin.license.title":"Edition and License","admin.license.trial-request.accept-terms":"By clicking **Start trial**, I agree to the [Chatting Software Evaluation Agreement](!https://chatting.gomlo.me/software-evaluation-agreement/), [Privacy Policy](!https://chatting.gomlo.me/privacy-policy/), and receiving product emails.","admin.license.trial-request.error":"Trial license could not be retrieved. Visit [https://chatting.gomlo.me/trial/](https://chatting.gomlo.me/trial/) to request a license.","admin.license.trial-request.loading":"Getting trial","admin.license.trial-request.submit":"Start trial","admin.license.trialCard.contactSales":"Contact sales","admin.license.trialCard.description":"Your free trial will expire in **{daysCount} {daysCount, plural, one {day} other {days}}**. Visit our customer portal to purchase a license now to continue using E10 & E20 features after trial ends.","admin.license.trialCard.description.expiringToday":"Your free trial expires **Today at {time}**. Visit our customer portal to purchase a license now to continue using E10 & E20 features after trial ends","admin.license.trialCard.licenseExpiring":"You’re currently on a free trial of our E20 license.","admin.license.trialCard.purchase_license":"Purchase a license","admin.license.type":"License: ","admin.license.upgraded-restart":"You have upgraded your binary to mattermost enterprise, please restart the server to start using the new binary. You can do it right here:","admin.license.upload":"Upload","admin.license.uploadDesc":"Upload a license key for Chatting Enterprise Edition to upgrade this server. [Visit us online](!http://chatting.gomlo.me) to learn more about the benefits of Enterprise Edition or to purchase a key.","admin.license.uploading":"Uploading License...","admin.lockTeammateNameDisplay":"Lock Teammate Name Display for all users: ","admin.lockTeammateNameDisplayHelpText":"When true, disables users\' ability to change settings under Main Menu > Account Settings > Display > Teammate Name Display.","admin.log.consoleDescription":"Typically set to false in production. Developers may set this field to true to output log messages to console based on the console level option.  If true, server writes messages to the standard output stream (stdout). Changing this setting requires a server restart before taking effect.","admin.log.consoleJsonTitle":"Output console logs as JSON:","admin.log.consoleTitle":"Output logs to console: ","admin.log.enableDiagnostics":"Enable Diagnostics and Error Reporting:","admin.log.enableDiagnosticsDescription":"Enable this feature to improve the quality and performance of Chatting by sending error reporting and diagnostic information to Chatting, Inc. Read our [privacy policy](!https://about.chatting.gomlo.me/default-privacy-policy/) to learn more.","admin.log.enableWebhookDebugging":"Enable Webhook Debugging:","admin.log.enableWebhookDebuggingDescription":"When true, sends webhook debug messages to the server logs. To also output the request body of incoming webhooks, set {boldedLogLevel} to \'DEBUG\'.","admin.log.fileDescription":"Typically set to true in production. When true, logged events are written to the mattermost.log file in the directory specified in the File Log Directory field. The logs are rotated at 10,000 lines and archived to a file in the same directory, and given a name with a datestamp and serial number. For example, mattermost.2017-03-31.001. Changing this setting requires a server restart before taking effect.","admin.log.fileJsonTitle":"Output file logs as JSON:","admin.log.fileLevelDescription":"This setting determines the level of detail at which log events are written to the log file. ERROR: Outputs only error messages. INFO: Outputs error messages and information around startup and initialization. DEBUG: Prints high detail for developers working on debugging issues.","admin.log.fileLevelTitle":"File Log Level:","admin.log.fileTitle":"Output logs to file: ","admin.log.jsonDescription":"When true, logged events are written in a machine readable JSON format. Otherwise they are printed as plain text. Changing this setting requires a server restart before taking effect.","admin.log.levelDescription":"This setting determines the level of detail at which log events are written to the console. ERROR: Outputs only error messages. INFO: Outputs error messages and information around startup and initialization. DEBUG: Prints high detail for developers working on debugging issues.","admin.log.levelTitle":"Console Log Level:","admin.log.locationDescription":"The location of the log files. If blank, they are stored in the ./logs directory. The path that you set must exist and Chatting must have write permissions in it. Changing this setting requires a server restart before taking effect.","admin.log.locationPlaceholder":"Enter your file location","admin.log.locationTitle":"File Log Directory:","admin.log.logLevel":"Log Level","admin.logs.bannerDesc":"To look up users by User ID or Token ID, go to User Management > Users and paste the ID into the search filter.","admin.logs.next":"Next","admin.logs.prev":"Previous","admin.logs.reload":"Reload","admin.logs.title":"Server Logs","admin.manage_roles.additionalRoles":"Select additional permissions for the account. [Read more about roles and permissions](!https://about.chatting.gomlo.me/default-permissions).","admin.manage_roles.allowUserAccessTokens":"Allow this account to generate [personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens).","admin.manage_roles.allowUserAccessTokensDesc":"Removing this permission doesn\'t delete existing tokens. To delete them, go to the user\'s Manage Tokens menu.","admin.manage_roles.cancel":"Cancel","admin.manage_roles.manageRolesTitle":"Manage Roles","admin.manage_roles.postAllPublicRole":"Access to post to all Chatting public channels.","admin.manage_roles.postAllPublicRoleTitle":"post:channels","admin.manage_roles.postAllRole":"Access to post to all Chatting channels including direct messages.","admin.manage_roles.postAllRoleTitle":"post:all","admin.manage_roles.save":"Save","admin.manage_roles.saveError":"Unable to save roles.","admin.manage_roles.systemAdmin":"System Admin","admin.manage_roles.systemMember":"Member","admin.manage_tokens.manageTokensTitle":"Manage Personal Access Tokens","admin.manage_tokens.userAccessTokensDescription":"Personal access tokens function similarly to session tokens and can be used by integrations to [interact with this Chatting server](!https://about.chatting.gomlo.me/default-api-authentication). Tokens are disabled if the user is deactivated. Learn more about [personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens).","admin.manage_tokens.userAccessTokensIdLabel":"Token ID: ","admin.manage_tokens.userAccessTokensNameLabel":"Token Description: ","admin.manage_tokens.userAccessTokensNone":"No personal access tokens.","admin.member_list_group.name":"Name","admin.member_list_group.notFound":"No users found","admin.metrics.enableDescription":"When true, Chatting will enable performance monitoring collection and profiling. Please see [documentation](!http://docs.chatting.gomlo.me/deployment/metrics.html) to learn more about configuring performance monitoring for Chatting.","admin.metrics.enableTitle":"Enable Performance Monitoring:","admin.metrics.listenAddressDesc":"The address the server will listen on to expose performance metrics.","admin.metrics.listenAddressEx":"E.g.: \\":8067\\"","admin.metrics.listenAddressTitle":"Listen Address:","admin.mfa.bannerDesc":"[Multi-factor authentication](!https://docs.chatting.gomlo.me/deployment/auth.html) is available for accounts with AD/LDAP or email login. If other login methods are used, MFA should be configured with the authentication provider.","admin.nav.administratorsGuide":"Administrator\'s Guide","admin.nav.commercialSupport":"Commercial Support","admin.nav.menuAriaLabel":"Admin Console Menu","admin.nav.switch":"Team Selection","admin.nav.troubleshootingForum":"Troubleshooting Forum","admin.notices.enableAdminNoticesDescription":"When enabled, System Admins will receive notices about available server upgrades and relevant system administration features. [Learn more about notices](!https://about.chatting.gomlo.me/default-notices) in our documentation.","admin.notices.enableAdminNoticesTitle":"Enable Admin Notices: ","admin.notices.enableEndUserNoticesDescription":"When enabled, all users will receive notices about available client upgrades and relevant end user features to improve user experience. [Learn more about notices](!https://about.chatting.gomlo.me/default-notices) in our documentation.","admin.notices.enableEndUserNoticesTitle":"Enable End User Notices: ","admin.oauth.gitlab":"GitLab","admin.oauth.google":"Google Apps","admin.oauth.off":"Do not allow sign-in via an OAuth 2.0 provider","admin.oauth.office365":"Office 365","admin.oauth.openid":"OpenID Connect (Other)","admin.oauth.providerDescription":"When true, Chatting can act as an OAuth 2.0 service provider allowing Chatting to authorize API requests from external applications. See [documentation](!https://docs.chatting.gomlo.me/developer/oauth-2-0-applications.html) to learn more.","admin.oauth.providerTitle":"Enable OAuth 2.0 Service Provider: ","admin.office365.authTitle":"Auth Endpoint:","admin.office365.clientIdDescription":"The Application/Client ID you received when registering your application with Microsoft.","admin.office365.clientIdExample":"E.g.: \\"adf3sfa2-ag3f-sn4n-ids0-sh1hdax192qq\\"","admin.office365.clientIdTitle":"Application ID:","admin.office365.clientSecretDescription":"The Application Secret Password you generated when registering your application with Microsoft.","admin.office365.clientSecretExample":"E.g.: \\"shAieM47sNBfgl20f8ci294\\"","admin.office365.clientSecretTitle":"Application Secret Password:","admin.office365.directoryIdDescription":"The Directory (tenant) ID you received when registering your application with Microsoft.","admin.office365.directoryIdExample":"E.g.: \\"adf3sfa2-ag3f-sn4n-ids0-sh1hdax192qq\\"","admin.office365.directoryIdTitle":"Directory (tenant) ID:","admin.office365.discoveryEndpointDesc":"The URL of the discovery document for OpenID Connect with Office 365.","admin.office365.EnableMarkdownDesc":"1. [Log in](!https://login.microsoftonline.com/) to your Microsoft or Office 365 account. Make sure it`s the account on the same [tenant](!https://msdn.microsoft.com/en-us/library/azure/jj573650.aspx#Anchor_0) that you would like users to log in with.\\n2. Go to [https://apps.dev.microsoft.com](!https://apps.dev.microsoft.com), click **Go to Azure Portal** > click **New Registration**.\\n3. Use \\"Chatting - your-company-name\\" as the **Application Name**, click **Registration**, paste **Client ID** and **Tenant ID** below.\\n4. Click **Authentication**, under **Platforms**, click **Add Platform**, choose **Web** and enter **your-mattermost-url/signup/office365/complete** (example: http://localhost:8065/signup/office365/complete) under **Redirect URIs**. Also uncheck **Allow Implicit Flow**.\\n5. Click **Certificates & secrets**, Generate **New client secret** and paste secret value in **Client Secret** field below.","admin.office365.tokenTitle":"Token Endpoint:","admin.office365.userTitle":"User API Endpoint:","admin.openid_feature_discovery.copy":"Use OpenID Connect for authentication and single sign-on (SSO) with any service that supports the OIDC specification such as Google, Office 365, Apple, Okta, OneLogin, and more.","admin.openid_feature_discovery.title":"Integrate OpenID Connect with Chatting Enterprise E20","admin.openid.buttonColorDesc":"Specify the color of the OpenID login button for white labeling purposes. Use a hex code with a #-sign before the code.","admin.openid.buttonColorTitle":"Button Color:","admin.openid.buttonTextDesc":"The text that will show on the login button.","admin.openid.buttonTextEx":"Custom Button Text","admin.openid.buttonTextTitle":"Button Name:","admin.openid.clientIdDescription":"Obtaining the Client ID differs across providers. Please check you provider\'s documentation.","admin.openid.clientIdExample":"E.g.: \\"adf3sfa2-ag3f-sn4n-ids0-sh1hdax192qq\\"","admin.openid.clientIdTitle":"Client ID:","admin.openid.clientSecretDescription":"Obtaining the Client Secret differs across providers. Please check you provider\'s documentation.","admin.openid.clientSecretExample":"E.g.: \\"adf3sfa2-ag3f-sn4n-ids0-sh1hdax192qq\\"","admin.openid.clientSecretTitle":"Client Secret:","admin.openid.discovery.placeholder":"https://id.mydomain.com/.well-known/openid-configuration","admin.openid.discoveryEndpointDesc":"Enter the URL of the discovery document of the OpenID Connect provider you want to connect with.","admin.openid.discoveryEndpointTitle":"Discovery Endpoint:","admin.openid.EnableMarkdownDesc":"Follow provider directions for creating an OpenID Application. Most OpenID Connect providers require authorization of all redirect URIs. In the appropriate field, enter your-mattermost-url/signup/openid/complete (example: http://domain.com/signup/openid/complete)","admin.openid.gitlab":"GitLab","admin.openid.google":"Google Apps","admin.openid.off":"Do not allow sign-in via an OpenID provider.","admin.openid.office365":"Office 365","admin.openid.select":"Select service provider:","admin.openIdConvert.heading":"OAuth 2.0 is being deprecated and replaced by OpenID Connect.","admin.openIdConvert.help":"Learn more","admin.openIdConvert.message":"Convert your OAuth 2.0 configuration to the new OpenID Connect standard.","admin.openIdConvert.text":"Convert to OpenID Connect","admin.password.lowercase":"At least one lowercase letter","admin.password.minimumLength":"Minimum Password Length:","admin.password.minimumLengthDescription":"Minimum number of characters required for a valid password. Must be a whole number greater than or equal to {min} and less than or equal to {max}.","admin.password.minimumLengthExample":"E.g.: \\"5\\"","admin.password.number":"At least one number","admin.password.preview":"Error message preview","admin.password.symbol":"At least one symbol (e.g. \\"~!@#$%^&*()\\")","admin.password.uppercase":"At least one uppercase letter","admin.permissions_feature_discovery.copy":"Decide who can perform an array of actions such as creating channels, inviting people, managing and archiving channels, managing webhooks, and more in Permission Schemes.","admin.permissions_feature_discovery.title":"Set role-based permissions with Chatting Enterprise E10","admin.permissions.documentationLinkText":"documentation","admin.permissions.group.convert_public_channel_to_private.description":"Convert public channels to private","admin.permissions.group.convert_public_channel_to_private.name":"Convert Channels","admin.permissions.group.delete_posts.description":"Delete own and others\' posts.","admin.permissions.group.delete_posts.name":"Delete Posts","admin.permissions.group.edit_posts.description":"Edit own and others\' posts.","admin.permissions.group.edit_posts.name":"Edit Posts","admin.permissions.group.guest_create_post.description":"Allow users to create posts.","admin.permissions.group.guest_create_post.name":"Create Posts","admin.permissions.group.guest_create_private_channel.description":"Create new private channels.","admin.permissions.group.guest_create_private_channel.name":"Create Channels","admin.permissions.group.guest_delete_post.description":"Author\'s own posts can be deleted.","admin.permissions.group.guest_delete_post.name":"Delete Own Posts","admin.permissions.group.guest_edit_post.description":"{editTimeLimitButton} after posting, allow users to edit their own posts.","admin.permissions.group.guest_edit_post.name":"Edit Own Posts","admin.permissions.group.guest_reactions.description":"Add and delete reactions on posts.","admin.permissions.group.guest_reactions.name":"Post Reactions","admin.permissions.group.guest_use_channel_mentions.description":"Notify channel members with @all, @group and @here","admin.permissions.group.guest_use_channel_mentions.name":"Channel Mentions","admin.permissions.group.guest_use_group_mentions.description":"Notify group members with a group mention","admin.permissions.group.guest_use_group_mentions.name":"Group Mentions","admin.permissions.group.integrations.description":"Manage OAuth 2.0, slash commands, webhooks and emoji.","admin.permissions.group.integrations.name":"Integrations & Customizations","admin.permissions.group.manage_private_channel_members_and_read_groups.description":"Add and remove private channel members.","admin.permissions.group.manage_private_channel_members_and_read_groups.name":"Manage Channel Members","admin.permissions.group.manage_public_channel_members_and_read_groups.description":"Add and remove public channel members.","admin.permissions.group.manage_public_channel_members_and_read_groups.name":"Manage Channel Members","admin.permissions.group.manage_shared_channels.description":"Manage Shared Channels","admin.permissions.group.manage_shared_channels.name":"Shared Channels","admin.permissions.group.posts.description":"Write, edit and delete posts.","admin.permissions.group.posts.name":"Manage Posts","admin.permissions.group.private_channel.description":"Create and archive channels, manage settings and members.","admin.permissions.group.private_channel.name":"Manage Private Channels","admin.permissions.group.public_channel.description":"Join, create and archive channels, manage settings and members.","admin.permissions.group.public_channel.name":"Manage Public Channels","admin.permissions.group.reactions.description":"Add and delete reactions on posts.","admin.permissions.group.reactions.name":"Post Reactions","admin.permissions.group.send_invites.description":"Add team members, send email invites and share team invite link.","admin.permissions.group.send_invites.name":"Add Team Members","admin.permissions.group.teams_team_scope.description":"Manage team members.","admin.permissions.group.teams_team_scope.name":"Teams","admin.permissions.group.teams.description":"Create teams and manage members.","admin.permissions.group.teams.name":"Teams","admin.permissions.inherited_from":"Inherited from [{name}]().","admin.permissions.introBanner":"Permission Schemes set the default permissions for Team Admins, Channel Admins and everyone else. Learn more about permission schemes in our [documentation](!https://about.chatting.gomlo.me/default-advanced-permissions).","admin.permissions.loadingMoreSchemes":"Loading...","admin.permissions.loadMoreSchemes":"Load more schemes","admin.permissions.permission.assign_system_admin_role.description":"Assign system admin role","admin.permissions.permission.assign_system_admin_role.name":"Assign system admin role","admin.permissions.permission.convert_private_channel_to_public.description":"Convert private channels to public","admin.permissions.permission.convert_private_channel_to_public.name":"Convert Channels","admin.permissions.permission.convert_public_channel_to_private.description":"Convert public channels to private","admin.permissions.permission.convert_public_channel_to_private.name":"Convert Channels","admin.permissions.permission.create_direct_channel.description":"Create direct channel","admin.permissions.permission.create_direct_channel.name":"Create direct channel","admin.permissions.permission.create_emojis.description":"Allow users to create custom emoji.","admin.permissions.permission.create_emojis.name":"Create Custom Emoji","admin.permissions.permission.create_group_channel.description":"Create group channel","admin.permissions.permission.create_group_channel.name":"Create group channel","admin.permissions.permission.create_post.description":"Allow users to create posts.","admin.permissions.permission.create_post.name":"Create Posts","admin.permissions.permission.create_private_channel.description":"Create new private channels.","admin.permissions.permission.create_private_channel.name":"Create Channels","admin.permissions.permission.create_public_channel.description":"Create new public channels.","admin.permissions.permission.create_public_channel.name":"Create Channels","admin.permissions.permission.create_team.description":"Create new teams.","admin.permissions.permission.create_team.name":"Create Teams","admin.permissions.permission.create_user_access_token.description":"Create user access token","admin.permissions.permission.create_user_access_token.name":"Create user access token","admin.permissions.permission.delete_emojis.description":"Allow users to delete custom emoji that they created.","admin.permissions.permission.delete_emojis.name":"Delete Own Custom Emoji","admin.permissions.permission.delete_others_emojis.description":"Allow users to delete custom emoji that were created by other users.","admin.permissions.permission.delete_others_emojis.name":"Delete Others\' Custom Emoji","admin.permissions.permission.delete_others_posts.description":"Posts made by other users can be deleted.","admin.permissions.permission.delete_others_posts.name":"Delete Others\' Posts","admin.permissions.permission.delete_post.description":"Author\'s own posts can be deleted.","admin.permissions.permission.delete_post.name":"Delete Own Posts","admin.permissions.permission.delete_private_channel.description":"Archive private channels.","admin.permissions.permission.delete_private_channel.name":"Archive Channels","admin.permissions.permission.delete_public_channel.description":"Archive public channels.","admin.permissions.permission.delete_public_channel.name":"Archive Channels","admin.permissions.permission.edit_other_users.description":"Edit other users","admin.permissions.permission.edit_other_users.name":"Edit other users","admin.permissions.permission.edit_others_posts.description":"Allow users to edit others\' posts.","admin.permissions.permission.edit_others_posts.name":"Edit Others\' Posts","admin.permissions.permission.edit_post.description":"{editTimeLimitButton} after posting, allow users to edit their own posts.","admin.permissions.permission.edit_post.name":"Edit Own Posts","admin.permissions.permission.import_team.description":"Import team","admin.permissions.permission.import_team.name":"Import team","admin.permissions.permission.invite_guest.description":"Invite guests to channels and send guest email invites.","admin.permissions.permission.invite_guest.name":"Invite guests","admin.permissions.permission.list_team_channels.description":"List team channels","admin.permissions.permission.list_team_channels.name":"List team channels","admin.permissions.permission.list_users_without_team.description":"List users without team","admin.permissions.permission.list_users_without_team.name":"List users without team","admin.permissions.permission.manage_channel_roles.description":"Manage channel roles","admin.permissions.permission.manage_channel_roles.name":"Manage channel roles","admin.permissions.permission.manage_incoming_webhooks.description":"Create, edit, and delete incoming webhooks.","admin.permissions.permission.manage_incoming_webhooks.name":"Manage Incoming Webhooks","admin.permissions.permission.manage_jobs.description":"Manage jobs","admin.permissions.permission.manage_jobs.name":"Manage jobs","admin.permissions.permission.manage_oauth.description":"Create, edit and delete OAuth 2.0 application tokens.","admin.permissions.permission.manage_oauth.name":"Manage OAuth Applications","admin.permissions.permission.manage_outgoing_webhooks.description":"Create, edit, and delete outgoing webhooks.","admin.permissions.permission.manage_outgoing_webhooks.name":"Manage Outgoing Webhooks","admin.permissions.permission.manage_private_channel_properties.description":"Update private channel names, headers and purposes.","admin.permissions.permission.manage_private_channel_properties.name":"Manage Channel Settings","admin.permissions.permission.manage_public_channel_properties.description":"Update public channel names, headers and purposes.","admin.permissions.permission.manage_public_channel_properties.name":"Manage Channel Settings","admin.permissions.permission.manage_roles.description":"Manage roles","admin.permissions.permission.manage_roles.name":"Manage roles","admin.permissions.permission.manage_secure_connections.description":"Create, remove and view secure connections for shared channels","admin.permissions.permission.manage_secure_connections.name":"Manage Secure Connections","admin.permissions.permission.manage_shared_channels.description":"Share, unshare and invite another instance to sync with a shared channel","admin.permissions.permission.manage_shared_channels.name":"Manage Shared Channels","admin.permissions.permission.manage_slash_commands.description":"Create, edit and delete custom slash commands.","admin.permissions.permission.manage_slash_commands.name":"Manage Slash Commands","admin.permissions.permission.manage_system.description":"Manage system","admin.permissions.permission.manage_system.name":"Manage system","admin.permissions.permission.manage_team_roles.description":"Manage team roles","admin.permissions.permission.manage_team_roles.name":"Manage team roles","admin.permissions.permission.manage_team.description":"Manage team","admin.permissions.permission.manage_team.name":"Manage team","admin.permissions.permission.permanent_delete_user.description":"Permanent delete user","admin.permissions.permission.permanent_delete_user.name":"Permanent delete user","admin.permissions.permission.read_channel.description":"Read channel","admin.permissions.permission.read_channel.name":"Read channel","admin.permissions.permission.read_user_access_token.description":"Read user access token","admin.permissions.permission.read_user_access_token.name":"Read user access token","admin.permissions.permission.remove_user_from_team.description":"Remove user from team","admin.permissions.permission.remove_user_from_team.name":"Remove user from team","admin.permissions.permission.revoke_user_access_token.description":"Revoke user access token","admin.permissions.permission.revoke_user_access_token.name":"Revoke user access token","admin.permissions.permission.upload_file.description":"Upload file","admin.permissions.permission.upload_file.name":"Upload file","admin.permissions.permission.use_channel_pinpost.description":"Cho phép người dùng Pin tin nhắn ","admin.permissions.permission.use_channel_pinpost.name":"Pin tin nhắn","admin.permissions.permission.use_channel_mentions.description":"Notify channel members with @all, @group and @here","admin.permissions.permission.use_channel_mentions.name":"Channel Mentions","admin.permissions.permission.use_group_mentions.description":"Notify group members with a group mention","admin.permissions.permission.use_group_mentions.name":"Group Mentions","admin.permissions.permission.view_team.description":"View team","admin.permissions.permission.view_team.name":"View team","admin.permissions.permissionSchemes":"Permission Schemes","admin.permissions.permissionSchemes.cancel":"Cancel","admin.permissions.permissionsSchemeSummary.delete":"Delete","admin.permissions.permissionsSchemeSummary.deleteConfirmButton":"Yes, Delete","admin.permissions.permissionsSchemeSummary.deleteConfirmQuestion":"The permissions in the teams using this scheme will reset to the defaults in the System Scheme. Are you sure you want to delete the {schemeName} scheme?","admin.permissions.permissionsSchemeSummary.deleteSchemeTitle":"Delete {scheme} scheme?","admin.permissions.permissionsSchemeSummary.deleting":"Deleting...","admin.permissions.permissionsSchemeSummary.edit":"Edit","admin.permissions.permissionsSchemeSummary.moreTeams":"+{number} more","admin.permissions.permissionsTree.description":"Description","admin.permissions.permissionsTree.permission":"Permission","admin.permissions.roles.all_users.name":"All Members","admin.permissions.roles.channel_admin.name":"Group Admin","admin.permissions.roles.channel_mod.name":"Group Admin","admin.permissions.roles.channel_user.name":"User","admin.permissions.roles.edit":"Edit","admin.permissions.roles.system_admin.description":"Access to modifying everything.","admin.permissions.roles.system_admin.name":"System Admin","admin.permissions.roles.system_admin.type":"System Role","admin.permissions.roles.system_manager.description":"Slightly less access than system admin.","admin.permissions.roles.system_manager.name":"System Manager","admin.permissions.roles.system_manager.type":"System Role","admin.permissions.roles.system_read_only_admin.description":"Read only access for oversight.","admin.permissions.roles.system_read_only_admin.name":"Viewer","admin.permissions.roles.system_read_only_admin.type":"System Role","admin.permissions.roles.system_user_manager.description":"Enough access to help with user management.","admin.permissions.roles.system_user_manager.name":"User Manager","admin.permissions.roles.system_user_manager.type":"System Role","admin.permissions.roles.system_user.name":"System User","admin.permissions.roles.team_admin.name":"Team Admin","admin.permissions.roles.team_user.name":"Team User","admin.permissions.sysconsole_section_about_edition_and_license.name":"Edition and License","admin.permissions.sysconsole_section_about.description":"The ability to install or upgrade your servers enterprise licensing.","admin.permissions.sysconsole_section_about.name":"About","admin.permissions.sysconsole_section_authentication_email.name":"Email","admin.permissions.sysconsole_section_authentication_guest_access.name":"Guest Access (Beta)","admin.permissions.sysconsole_section_authentication_ldap.name":"AD/LDAP","admin.permissions.sysconsole_section_authentication_mfa.name":"MFA","admin.permissions.sysconsole_section_authentication_openid.name":"OpenID Connect","admin.permissions.sysconsole_section_authentication_password.name":"Password","admin.permissions.sysconsole_section_authentication_saml.name":"SAML 2.0","admin.permissions.sysconsole_section_authentication_signup.name":"Signup","admin.permissions.sysconsole_section_authentication.description":"Review the configuration around how users can signup and access Chatting.","admin.permissions.sysconsole_section_authentication.name":"Authentication","admin.permissions.sysconsole_section_billing.description":"Access subscription details, billing history, company information and payment information.","admin.permissions.sysconsole_section_billing.name":"Billing","admin.permissions.sysconsole_section_compliance_compliance_export.name":"Compliance Export","admin.permissions.sysconsole_section_compliance_compliance_monitoring.name":"Compliance Monitoring","admin.permissions.sysconsole_section_compliance_custom_terms_of_service.name":"Custom Terms of Service","admin.permissions.sysconsole_section_compliance_data_retention_policy.name":"Data Retention Policy","admin.permissions.sysconsole_section_compliance.description":"Review compliance settings such as retention, exports and activity logs.","admin.permissions.sysconsole_section_compliance.name":"Compliance","admin.permissions.sysconsole_section_environment_database.name":"Database","admin.permissions.sysconsole_section_environment_developer.name":"Developer","admin.permissions.sysconsole_section_environment_elasticsearch.name":"Elasticsearch","admin.permissions.sysconsole_section_environment_file_storage.name":"File Storage","admin.permissions.sysconsole_section_environment_high_availability.name":"High Availability","admin.permissions.sysconsole_section_environment_image_proxy.name":"Image Proxy","admin.permissions.sysconsole_section_environment_logging.name":"Logging","admin.permissions.sysconsole_section_environment_performance_monitoring.name":"Performance Monitoring","admin.permissions.sysconsole_section_environment_push_notification_server.name":"Push Notification Server","admin.permissions.sysconsole_section_environment_rate_limiting.name":"Rate Limiting","admin.permissions.sysconsole_section_environment_session_lengths.name":"Session Lengths","admin.permissions.sysconsole_section_environment_smtp.name":"SMTP","admin.permissions.sysconsole_section_environment_web_server.name":"Web Server","admin.permissions.sysconsole_section_environment.description":"Review server environment configuration such as URLs, database and performance.","admin.permissions.sysconsole_section_environment.name":"Environment","admin.permissions.sysconsole_section_experimental_bleve.name":"Bleve","admin.permissions.sysconsole_section_experimental_feature_flags.name":"Feature Flags","admin.permissions.sysconsole_section_experimental_features.name":"Features","admin.permissions.sysconsole_section_experimental.description":"Review the settings of experimental features","admin.permissions.sysconsole_section_experimental.name":"Experimental","admin.permissions.sysconsole_section_integrations_bot_accounts.name":"Bot Accounts","admin.permissions.sysconsole_section_integrations_cors.name":"CORS","admin.permissions.sysconsole_section_integrations_gif.name":"GIF (Beta)","admin.permissions.sysconsole_section_integrations_integration_management.name":"Integration Management","admin.permissions.sysconsole_section_integrations.description":"Review integration configurations such as webhooks, bots and cross-origin requests.","admin.permissions.sysconsole_section_integrations.name":"Integrations","admin.permissions.sysconsole_section_plugins.description":"Review installed plugins and their configuration.","admin.permissions.sysconsole_section_plugins.name":"Plugins (Beta)","admin.permissions.sysconsole_section_reporting_server_logs.name":"Server Logs","admin.permissions.sysconsole_section_reporting_site_statistics.name":"Site Statistics","admin.permissions.sysconsole_section_reporting_team_statistics.name":"Team Statistics","admin.permissions.sysconsole_section_reporting.description":"Review site statistics, team statistics and server logs.","admin.permissions.sysconsole_section_reporting.name":"Reporting","admin.permissions.sysconsole_section_site_announcement_banner.name":"Announcement Banner","admin.permissions.sysconsole_section_site_customization.name":"Customization","admin.permissions.sysconsole_section_site_emoji.name":"Emoji","admin.permissions.sysconsole_section_site_file_sharing_and_downloads.name":"File Sharing and Downloads","admin.permissions.sysconsole_section_site_localization.name":"Localization","admin.permissions.sysconsole_section_site_notices.name":"Notices","admin.permissions.sysconsole_section_site_notifications.name":"Notifications","admin.permissions.sysconsole_section_site_posts.name":"Posts","admin.permissions.sysconsole_section_site_public_links.name":"Public Links","admin.permissions.sysconsole_section_site_users_and_teams.name":"Users and Teams","admin.permissions.sysconsole_section_site.description":"Review site specific configurations such as site name, notification defaults and file sharing.","admin.permissions.sysconsole_section_site.name":"Site Configuration","admin.permissions.sysconsole_section_user_management_channels.name":"Channels","admin.permissions.sysconsole_section_user_management_groups.name":"Groups","admin.permissions.sysconsole_section_user_management_permissions.name":"Permissions","admin.permissions.sysconsole_section_user_management_system_roles.name":"System Roles (Beta)","admin.permissions.sysconsole_section_user_management_teams.name":"Teams","admin.permissions.sysconsole_section_user_management_users.description":"Cannot reset admin passwords","admin.permissions.sysconsole_section_user_management_users.name":"Users","admin.permissions.sysconsole_section_user_management.description":"Review users, groups, teams, channels, permissions and system roles.","admin.permissions.sysconsole_section_user_management.name":"User Management","admin.permissions.system_role_permissions.change_access":"Change role access on a system console section","admin.permissions.system_role_permissions.description":"Level of access to the system console.","admin.permissions.system_role_permissions.hide_subsections":"Hide {subsectionsCount} subsections","admin.permissions.system_role_permissions.mixed_access.title":"Mixed access","admin.permissions.system_role_permissions.no_access.description":"No access to this section and it will be hidden in the navigation.","admin.permissions.system_role_permissions.no_access.title":"No access","admin.permissions.system_role_permissions.read.description":"Can view this section but can\'t edit anything in it","admin.permissions.system_role_permissions.read.title":"Read only","admin.permissions.system_role_permissions.show_subsections":"Show {subsectionsCount} subsections","admin.permissions.system_role_permissions.title":"Privileges","admin.permissions.system_role_permissions.write.description":"Can add, edit and delete anything in this section.","admin.permissions.system_role_permissions.write.title":"Can edit","admin.permissions.system_role_users.add_people":"Add People","admin.permissions.system_role_users.description":"List of people assigned to this system role.","admin.permissions.system_role_users.title":"Assigned People","admin.permissions.systemRoles":"System Roles (Beta)","admin.permissions.systemRolesBannerText":"Manage different levels of access to the system console.","admin.permissions.systemRolesBannerTitle":"Admin Roles","admin.permissions.systemScheme":"System Scheme","admin.permissions.systemScheme.allMembersDescription":"Permissions granted to all members, including administrators and newly created users.","admin.permissions.systemScheme.allMembersTitle":"All Members","admin.permissions.systemScheme.channelAdminsDescription":"Permissions granted to channel creators and any users promoted to Channel Administrator.","admin.permissions.systemScheme.channelAdminsTitle":"Group Administrators","admin.permissions.systemScheme.GuestsDescription":"Permissions granted to guest users.","admin.permissions.systemScheme.GuestsTitle":"Guests","admin.permissions.systemScheme.introBanner":"Configure the default permissions for Team Admins, Channel Admins, Channel Mods and other members. This scheme is inherited by all teams unless a [Team Override Scheme](!/admin_console/user_management/permissions/team_override_scheme) is applied in specific teams.","admin.permissions.systemScheme.resetDefaultsButton":"Reset to Defaults","admin.permissions.systemScheme.resetDefaultsButtonModalBody":"This will reset all selections on this page to their default settings. Are you sure you want to reset?","admin.permissions.systemScheme.resetDefaultsButtonModalTitle":"Reset to Default?","admin.permissions.systemScheme.resetDefaultsConfirmationButton":"Yes, Reset","admin.permissions.systemScheme.systemAdminsDescription":"Full permissions granted to System Administrators.","admin.permissions.systemScheme.systemAdminsTitle":"System Administrators","admin.permissions.systemScheme.teamAdminsDescription":"Permissions granted to team creators and any users promoted to Team Administrator.","admin.permissions.systemScheme.teamAdminsTitle":"Team Administrators","admin.permissions.systemSchemeBannerButton":"Edit Scheme","admin.permissions.systemSchemeBannerText":"Set the default permissions inherited by all teams unless a [Team Override Scheme](!https://about.chatting.gomlo.me/default-team-override-scheme) is applied.","admin.permissions.systemSchemeBannerTitle":"System Scheme","admin.permissions.teamOverrideSchemesBannerText":"Use when specific teams need permission exceptions to the [System Scheme](!https://about.chatting.gomlo.me/default-system-scheme).","admin.permissions.teamOverrideSchemesInProgress":"Migration job in progress: Team Override Schemes are not available until the job server completes the permissions migration. Learn more in the {documentationLink}.","admin.permissions.teamOverrideSchemesNewButton":"New Team Override Scheme","admin.permissions.teamOverrideSchemesNoJobsEnabled":"Migration job on hold: Team Override Schemes are not available until the job server can execute the permissions migration. The job will be automatically started when the job server is enabled. Learn more in the {documentationLink}.","admin.permissions.teamOverrideSchemesNoSchemes":"No team override schemes created.","admin.permissions.teamOverrideSchemesTitle":"Team Override Schemes","admin.permissions.teamScheme":"Team Scheme","admin.permissions.teamScheme.addTeams":"Add Teams","admin.permissions.teamScheme.introBanner":"[Team Override Schemes](!https://about.chatting.gomlo.me/default-team-override-scheme) set the permissions for Team Admins, Channel Admins and other members in specific teams. Use a Team Override Scheme when specific teams need permission exceptions to the [System Scheme](!https://about.chatting.gomlo.me/default-system-scheme).","admin.permissions.teamScheme.noTeams":"No team selected. Please add teams to this list.","admin.permissions.teamScheme.removeTeam":"Remove","admin.permissions.teamScheme.schemeDescriptionLabel":"Scheme Description:","admin.permissions.teamScheme.schemeDescriptionPlaceholder":"Scheme Description","admin.permissions.teamScheme.schemeDetailsDescription":"Set the name and description for this scheme.","admin.permissions.teamScheme.schemeDetailsTitle":"Scheme Details","admin.permissions.teamScheme.schemeNameLabel":"Scheme Name:","admin.permissions.teamScheme.schemeNamePlaceholder":"Scheme Name","admin.permissions.teamScheme.selectTeamsDescription":"Select teams where permission exceptions are required.","admin.permissions.teamScheme.selectTeamsTitle":"Select teams to override permissions","admin.plugin.backToPlugins":"Go back to the Plugins","admin.plugin.choose":"Choose File","admin.plugin.cluster_instance":"Cluster Instance","admin.plugin.customSetting.pluginDisabledWarning":"In order to view this setting, enable the plugin and click Save.","admin.plugin.disable":"Disable","admin.plugin.disabling":"Disabling...","admin.plugin.enable":"Enable","admin.plugin.enable_plugin":"Enable Plugin: ","admin.plugin.enable_plugin.help":"When true, this plugin is enabled.","admin.plugin.enabling":"Enabling...","admin.plugin.error.activate":"Unable to upload the plugin. It may conflict with another plugin on your server.","admin.plugin.error.extract":"Encountered an error when extracting the plugin. Review your plugin file content and try again.","admin.plugin.installedDesc":"Installed plugins on your Chatting server.","admin.plugin.installedTitle":"Installed Plugins: ","admin.plugin.management.title":"Plugin Management","admin.plugin.multiple_versions_warning":"There are multiple versions of this plugin installed across your cluster. Re-install this plugin to ensure it works consistently.","admin.plugin.no_plugins":"No installed plugins.","admin.plugin.remove":"Remove","admin.plugin.remove_modal.desc":"Are you sure you would like to remove the plugin?","admin.plugin.remove_modal.overwrite":"Remove","admin.plugin.remove_modal.title":"Remove plugin?","admin.plugin.removing":"Removing...","admin.plugin.settingsButton":"Settings","admin.plugin.state":"State","admin.plugin.state.failed_to_start":"Failed to start","admin.plugin.state.failed_to_start.description":"This plugin failed to start. Check your system logs for errors.","admin.plugin.state.failed_to_stay_running":"Crashing","admin.plugin.state.failed_to_stay_running.description":"This plugin crashed multiple times and is no longer running. Check your system logs for errors.","admin.plugin.state.not_running":"Not running","admin.plugin.state.not_running.description":"This plugin is not enabled.","admin.plugin.state.running":"Running","admin.plugin.state.running.description":"This plugin is running.","admin.plugin.state.starting":"Starting","admin.plugin.state.starting.description":"This plugin is starting.","admin.plugin.state.stopping":"Stopping","admin.plugin.state.stopping.description":"This plugin is stopping.","admin.plugin.state.unknown":"Unknown","admin.plugin.upload":"Upload","admin.plugin.upload.overwrite_modal.desc":"A plugin with this ID already exists. Would you like to overwrite it?","admin.plugin.upload.overwrite_modal.overwrite":"Overwrite","admin.plugin.upload.overwrite_modal.title":"Overwrite existing plugin?","admin.plugin.uploadAndPluginDisabledDesc":"To enable plugins, set **Enable Plugins** to true. See [documentation](!https://about.chatting.gomlo.me/default-plugin-uploads) to learn more.","admin.plugin.uploadDesc":"Upload a plugin for your Chatting server. See [documentation](!https://about.chatting.gomlo.me/default-plugin-uploads) to learn more.","admin.plugin.uploadDisabledDesc":"Enable plugin uploads in config.json. See [documentation](!https://about.chatting.gomlo.me/default-plugin-uploads) to learn more.","admin.plugin.uploading":"Uploading...","admin.plugin.uploadTitle":"Upload Plugin: ","admin.plugin.version_title":"Version","admin.plugins.pluginManagement":"Plugin Management","admin.plugins.settings.automaticPrepackagedPlugins":"Enable Automatic Prepackaged Plugins:","admin.plugins.settings.automaticPrepackagedPluginsDesc":"When true, the server will detect previously enabled plugins on the server and will automatically install them.","admin.plugins.settings.enable":"Enable Plugins: ","admin.plugins.settings.enableDesc":"When true, enables plugins on your Chatting server. Use plugins to integrate with third-party systems, extend functionality, or customize the user interface of your Chatting server. See [documentation](!https://about.chatting.gomlo.me/default-plugins) to learn more.","admin.plugins.settings.enableMarketplace":"Enable Marketplace:","admin.plugins.settings.enableMarketplaceDesc":"When true, enables System Administrators to install plugins from the [marketplace](!https://chatting.gomlo.me/pl/default-mattermost-marketplace.html).","admin.plugins.settings.enableRemoteMarketplace":"Enable Remote Marketplace:","admin.plugins.settings.enableRemoteMarketplaceDesc":"When true, marketplace fetches latest plugins from the configured Marketplace URL.","admin.plugins.settings.marketplaceUrl":"Marketplace URL:","admin.plugins.settings.marketplaceUrlDesc":"URL of the marketplace server.","admin.plugins.settings.marketplaceUrlDesc.empty":" Marketplace URL is a required field.","admin.plugins.settings.requirePluginSignature":"Require Plugin Signature:","admin.plugins.settings.requirePluginSignatureDesc":"When true, uploading plugins is disabled and may only be installed through the Marketplace. Plugins are always verified during Chatting server startup and initialization. See [documentation](!https://chatting.gomlo.me/pl/default-plugin-signing) to learn more.","admin.privacy.showEmailDescription":"When false, hides the email address of members from everyone except System Administrators.","admin.privacy.showEmailTitle":"Show Email Address: ","admin.privacy.showFullNameDescription":"When false, hides the full name of members from everyone except System Administrators. Username is shown in place of full name.","admin.privacy.showFullNameTitle":"Show Full Name: ","admin.purge.button":"Purge All Caches","admin.purge.purgeDescription":"This will purge all the in-memory caches for things like sessions, accounts, channels, etc. Deployments using High Availability will attempt to purge all the servers in the cluster. Purging the caches may adversely impact performance.","admin.purge.purgeFail":"Purging unsuccessful: {error}","admin.rate.enableLimiterDescription":"When true, APIs are throttled at rates specified below.\\n \\nRate limiting prevents server overload from too many requests. This is useful to prevent third-party applications or malicous attacks from impacting your server.","admin.rate.enableLimiterTitle":"Enable Rate Limiting: ","admin.rate.httpHeaderDescription":"When filled in, vary rate limiting by HTTP header field specified (e.g. when configuring NGINX set to \\"X-Real-IP\\", when configuring AmazonELB set to \\"X-Forwarded-For\\").","admin.rate.httpHeaderExample":"E.g.: \\"X-Real-IP\\", \\"X-Forwarded-For\\"","admin.rate.httpHeaderTitle":"Vary rate limit by HTTP header:","admin.rate.maxBurst":"Maximum Burst Size:","admin.rate.maxBurstDescription":"Maximum number of requests allowed beyond the per second query limit.","admin.rate.maxBurstExample":"E.g.: \\"100\\"","admin.rate.memoryDescription":"Maximum number of users sessions connected to the system as determined by \\"Vary rate limit by remote address\\" and \\"Vary rate limit by HTTP header\\" settings below.","admin.rate.memoryExample":"E.g.: \\"10000\\"","admin.rate.memoryTitle":"Memory Store Size:","admin.rate.noteDescription":"Changing properties in this section will require a server restart before taking effect.","admin.rate.queriesDescription":"Throttles API at this number of requests per second.","admin.rate.queriesExample":"E.g.: \\"10\\"","admin.rate.queriesTitle":"Maximum Queries per Second:","admin.rate.remoteDescription":"When true, rate limit API access by IP address.","admin.rate.remoteTitle":"Vary rate limit by remote address: ","admin.rate.title":"Rate Limiting","admin.rate.varyByUser":"Vary rate limit by user: ","admin.rate.varyByUserDescription":"When true, rate limit API access by user authentication token.","admin.recycle.button":"Recycle Database Connections","admin.recycle.recycleDescription":"Deployments using multiple databases can switch from one master database to another without restarting the Chatting server by updating \\"config.json\\" to the new desired configuration and using the {reloadConfiguration} feature to load the new settings while the server is running. The administrator should then use {featureName} feature to recycle the database connections based on the new settings.","admin.recycle.recycleDescription.featureName":"Recycle Database Connections","admin.recycle.recycleDescription.reloadConfiguration":"Environment > Web Server > Reload Configuration from Disk","admin.recycle.reloadFail":"Recycling unsuccessful: {error}","admin.regenerate":"Regenerate","admin.reload.button":"Reload Configuration From Disk","admin.reload.reloadDescription":"Deployments using multiple databases can switch from one master database to another without restarting the Chatting server by updating \\"config.json\\" to the new desired configuration and using the {featureName} feature to load the new settings while the server is running. The administrator should then use the {recycleDatabaseConnections} feature to recycle the database connections based on the new settings.","admin.reload.reloadDescription.featureName":"Reload Configuration from Disk","admin.reload.reloadDescription.recycleDatabaseConnections":"Environment > Database > Recycle Database Connections","admin.reload.reloadFail":"Reloading unsuccessful: {error}","admin.requestButton.loading":" Loading...","admin.requestButton.requestFailure":"Test Failure: {error}","admin.requestButton.requestSuccess":"Test Successful","admin.reset_email.cancel":"Cancel","admin.reset_email.newEmail":"New Email","admin.reset_email.reset":"Reset","admin.reset_email.titleReset":"Update Email","admin.reset_password.cancel":"Cancel","admin.reset_password.curentPassword":"Current Password","admin.reset_password.missing_current":"Please enter your current password.","admin.reset_password.newPassword":"New Password","admin.reset_password.reset":"Reset","admin.reset_password.titleReset":"Reset Password","admin.reset_password.titleSwitch":"Switch Account to Email/Password","admin.revoke_token_button.delete":"Delete","admin.s3.connectionS3Test":"Test Connection","admin.s3.s3Fail":"Connection unsuccessful: {error}","admin.s3.s3Success":"Connection was successful","admin.s3.testing":"Testing...","admin.saml_feature_discovery.copy":"When you connect Chatting with your organization\'s single sign-on provider, users can access Chatting without having to re-enter their credentials.","admin.saml_feature_discovery.title":"Integrate SAML 2.0 with Chatting Enterprise E20","admin.saml.adminAttrDesc":"(Optional) The attribute in the SAML Assertion for designating System Admins. The users selected by the query will have access to your Chatting server as System Admins. By default, System Admins have complete access to the Chatting System Console.\\n \\nExisting members that are identified by this attribute will be promoted from member to System Admin upon next login. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to members in **System Console > User Management** to ensure access is restricted immediately.\\n \\nNote: If this filter is removed/changed, System Admins that were promoted via this filter will be demoted to members and will not retain access to the System Console. When this filter is not in use, System Admins can be manually promoted/demoted in **System Console > User Management**.","admin.saml.adminAttrEx":"E.g.: \\"usertype=Admin\\" or \\"isAdmin=true\\"","admin.saml.adminAttrTitle":"Admin Attribute:","admin.saml.assertionConsumerServiceURLEx":"E.g.: \\"https://\'<your-mattermost-url>\'/login/sso/saml\\"","admin.saml.assertionConsumerServiceURLPopulatedDesc":"This field is also known as the Assertion Consumer Service URL.","admin.saml.assertionConsumerServiceURLTitle":"Service Provider Login URL:","admin.saml.canonicalAlgorithmDescription.c14":"Specify the Canonicalization algorithm (Canonical XML 1.1).  Please see more information provided at http://www.w3.org/2006/12/xml-c14n11","admin.saml.canonicalAlgorithmDescription.exc":"Specify the Canonicalization algorithm (Exclusive XML Canonicalization 1.0).  Please see more information provided at http://www.w3.org/2001/10/xml-exc-c14n#","admin.saml.canonicalAlgorithmDisplay.n10":"Exclusive XML Canonicalization 1.0 (omit comments)","admin.saml.canonicalAlgorithmDisplay.n11":"Canonical XML 1.1 (omit comments)","admin.saml.canonicalAlgorithmTitle":"Canonicalization Algorithm","admin.saml.emailAttrDesc":"The attribute in the SAML Assertion that will be used to populate the email addresses of users in Chatting.","admin.saml.emailAttrEx":"E.g.: \\"Email\\" or \\"PrimaryEmail\\"","admin.saml.emailAttrTitle":"Email Attribute:","admin.saml.enableAdminAttrTitle":"Enable Admin Attribute:","admin.saml.enableDescription":"When true, Chatting allows login using SAML 2.0. Please see [documentation](!http://docs.chatting.gomlo.me/deployment/sso-saml.html) to learn more about configuring SAML for Chatting.","admin.saml.enableSyncWithLdapDescription":"When true, Chatting periodically synchronizes SAML user attributes, including user deactivation and removal, from AD/LDAP. Enable and configure synchronization settings at **Authentication > AD/LDAP**. When false, user attributes are updated from SAML during user login. See [documentation](!https://about.chatting.gomlo.me/default-saml-ldap-sync) to learn more.","admin.saml.enableSyncWithLdapIncludeAuthDescription":"When true, Chatting will override the SAML ID attribute with the AD/LDAP ID attribute if configured or override the SAML Email attribute with the AD/LDAP Email attribute if SAML ID attribute is not present.  This will allow you automatically migrate users from Email binding to ID binding to prevent creation of new users when an email address changes for a user. Moving from true to false, will remove the override from happening.\\n \\n**Note:** SAML IDs must match the LDAP IDs to prevent disabling of user accounts.  Please review [documentation](!https://docs.chatting.gomlo.me/deployment/sso-saml-ldapsync.html) for more information.","admin.saml.enableSyncWithLdapIncludeAuthTitle":"Override SAML bind data with AD/LDAP information:","admin.saml.enableSyncWithLdapTitle":"Enable Synchronizing SAML Accounts With AD/LDAP:","admin.saml.enableTitle":"Enable Login With SAML 2.0:","admin.saml.encryptDescription":"When false, Chatting will not decrypt SAML Assertions encrypted with your Service Provider Public Certificate. Disabling encryption is not recommended for production environments.","admin.saml.encryptTitle":"Enable Encryption:","admin.saml.firstnameAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the first name of users in Chatting.","admin.saml.firstnameAttrEx":"E.g.: \\"FirstName\\"","admin.saml.firstnameAttrTitle":"First Name Attribute:","admin.saml.getSamlMetadataFromIDPFail":"SAML Metadata URL did not connect and pull data successfully","admin.saml.getSamlMetadataFromIDPFetching":"Fetching...","admin.saml.getSamlMetadataFromIDPSuccess":"SAML Metadata retrieved successfully. Two fields and one certificate have been updated","admin.saml.getSamlMetadataFromIDPUrl":"Get SAML Metadata From IdP","admin.saml.guestAttrDesc":"(Optional) Requires Guest Access to be enabled before being applied. The attribute in the SAML Assertion that will be used to apply a guest role to users in Chatting. Guests are prevented from accessing teams or channels upon logging in until they are assigned a team and at least one channel.\\n \\nNote: If this attribute is removed/changed from your guest user in SAML and the user is still active, they will not be promoted to a member and will retain their Guest role. Guests can be promoted in **System Console > User Management**.\\n \\n \\nExisting members that are identified by this attribute as a guest will be demoted from a member to a guest when they are asked to login next. The next login is based upon Session lengths set in **System Console > Session Lengths**. It is highly recommend to manually demote users to guests in **System Console > User Management ** to ensure access is restricted immediately.","admin.saml.guestAttrEx":"E.g.: \\"usertype=Guest\\" or \\"isGuest=true\\"","admin.saml.guestAttrTitle":"Guest Attribute:","admin.saml.idAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to bind users from SAML to users in Chatting.","admin.saml.idAttrEx":"E.g.: \\"Id\\"","admin.saml.idAttrTitle":"Id Attribute:","admin.saml.idpCertificateFileDesc":"The public authentication certificate issued by your Identity Provider.","admin.saml.idpCertificateFileRemoveDesc":"Remove the public authentication certificate issued by your Identity Provider.","admin.saml.idpCertificateFileTitle":"Identity Provider Public Certificate:","admin.saml.idpDescriptorUrlDesc":"The issuer URL for the Identity Provider you use for SAML requests.","admin.saml.idpDescriptorUrlEx":"E.g.: \\"https://idp.example.org/SAML2/issuer\\"","admin.saml.idpDescriptorUrlTitle":"Identity Provider Issuer URL:","admin.saml.idpMetadataUrlDesc":"The URL where Chatting sends a request to obtain metadata","admin.saml.idpMetadataUrlEx":"E.g.: \\"https://idp.example.org/SAML2/saml/metadata\\"","admin.saml.idpMetadataUrlTitle":"Identity Provider Metadata URL:","admin.saml.idpUrlDesc":"The URL where Chatting sends a SAML request to start login sequence.","admin.saml.idpUrlEx":"E.g.: \\"https://idp.example.org/SAML2/SSO/Login\\"","admin.saml.idpUrlTitle":"SAML SSO URL:","admin.saml.ignoreGuestsLdapSyncDesc":"When true, Chatting will ignore Guest Users who are identified by the Guest Attribute, when synchronizing with AD/LDAP for user deactivation and removal and Guest deactivation will need to be managed manually via System Console > Users.","admin.saml.ignoreGuestsLdapSyncTitle":"Ignore Guest Users when  Synchronizing with AD/LDAP","admin.saml.lastnameAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the last name of users in Chatting.","admin.saml.lastnameAttrEx":"E.g.: \\"LastName\\"","admin.saml.lastnameAttrTitle":"Last Name Attribute:","admin.saml.localeAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the language of users in Chatting.","admin.saml.localeAttrEx":"E.g.: \\"Locale\\" or \\"PrimaryLanguage\\"","admin.saml.localeAttrTitle":"Preferred Language Attribute:","admin.saml.loginButtonTextDesc":"(Optional) The text that appears in the login button on the login page. Defaults to \\"SAML\\".","admin.saml.loginButtonTextEx":"E.g.: \\"OKTA\\"","admin.saml.loginButtonTextTitle":"Login Button Text:","admin.saml.nicknameAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the nickname of users in Chatting.","admin.saml.nicknameAttrEx":"E.g.: \\"Nickname\\"","admin.saml.nicknameAttrTitle":"Nickname Attribute:","admin.saml.positionAttrDesc":"(Optional) The attribute in the SAML Assertion that will be used to populate the position of users in Chatting.","admin.saml.positionAttrEx":"E.g.: \\"Role\\"","admin.saml.positionAttrTitle":"Position Attribute:","admin.saml.privateKeyFileFileDesc":"The private key used to decrypt SAML Assertions from the Identity Provider.","admin.saml.privateKeyFileFileRemoveDesc":"Remove the private key used to decrypt SAML Assertions from the Identity Provider.","admin.saml.privateKeyFileTitle":"Service Provider Private Key:","admin.saml.publicCertificateFileDesc":"The certificate used to generate the signature on a SAML request to the Identity Provider for a service provider initiated SAML login, when Chatting is the Service Provider.","admin.saml.publicCertificateFileRemoveDesc":"Remove the certificate used to generate the signature on a SAML request to the Identity Provider for a service provider initiated SAML login, when Chatting is the Service Provider.","admin.saml.publicCertificateFileTitle":"Service Provider Public Certificate:","admin.saml.remove.idp_certificate":"Remove Identity Provider Certificate","admin.saml.remove.privKey":"Remove Service Provider Private Key","admin.saml.remove.sp_certificate":"Remove Service Provider Certificate","admin.saml.removing.certificate":"Removing Certificate...","admin.saml.removing.privKey":"Removing Private Key...","admin.saml.serviceProviderIdentifierDesc":"The unique identifier for the Service Provider, usually the same as Service Provider Login URL. In ADFS, this MUST match the Relying Party Identifier.","admin.saml.serviceProviderIdentifierEx":"E.g.: \\"https://\'<your-mattermost-url>\'/login/sso/saml\\"","admin.saml.serviceProviderIdentifierTitle":"Service Provider Identifier:","admin.saml.signatureAlgorithmDescription.sha1":"Specify the Signature algorithm used to sign the request (RSAwithSHA1). Please see more information provided at http://www.w3.org/2000/09/xmldsig#rsa-sha1","admin.saml.signatureAlgorithmDescription.sha256":"Specify the Signature algorithm used to sign the request (RSAwithSHA256). Please see more information provided at http://www.w3.org/2001/04/xmldsig-more#rsa-sha256 [section 6.4.2 RSA (PKCS#1 v1.5)]","admin.saml.signatureAlgorithmDescription.sha512":"Specify the Signature algorithm used to sign the request (RSAwithSHA512). Please see more information provided at http://www.w3.org/2001/04/xmldsig-more#rsa-sha512","admin.saml.signatureAlgorithmDisplay.sha1":"RSAwithSHA1","admin.saml.signatureAlgorithmDisplay.sha256":"RSAwithSHA256","admin.saml.signatureAlgorithmDisplay.sha512":"RSAwithSHA512","admin.saml.signatureAlgorithmTitle":"Signature Algorithm","admin.saml.signRequestDescription":"When true, Chatting will sign the SAML request using your private key. When false, Chatting will not sign the SAML request.","admin.saml.signRequestTitle":"Sign Request:","admin.saml.uploading.certificate":"Uploading Certificate...","admin.saml.uploading.privateKey":"Uploading Private Key...","admin.saml.usernameAttrDesc":"The attribute in the SAML Assertion that will be used to populate the username field in Chatting.","admin.saml.usernameAttrEx":"E.g.: \\"Username\\"","admin.saml.usernameAttrTitle":"Username Attribute:","admin.saml.verifyDescription":"When false, Chatting will not verify that the signature sent from a SAML Response matches the Service Provider Login URL. Disabling verification is not recommended for production environments.","admin.saml.verifyTitle":"Verify Signature:","admin.saving":"Saving Config...","admin.security.password":"Password","admin.service.attemptDescription":"Number of login attempts allowed before a user is locked out and required to reset their password via email.","admin.service.attemptExample":"E.g.: \\"10\\"","admin.service.attemptTitle":"Maximum Login Attempts:","admin.service.cmdsDesc":"When true, custom slash commands will be allowed. See [documentation](!http://docs.chatting.gomlo.me/developer/slash-commands.html) to learn more.","admin.service.cmdsTitle":"Enable Custom Slash Commands: ","admin.service.complianceExportDesc":"When true, Chatting will export all messages that were posted in the last 24 hours. The export task is scheduled to run once per day. See [the documentation](!https://about.chatting.gomlo.me/default-compliance-export-documentation) to learn more.","admin.service.complianceExportTitle":"Enable Compliance Export:","admin.service.corsAllowCredentialsDescription":"When true, requests that pass validation will include the Access-Control-Allow-Credentials header.","admin.service.corsAllowCredentialsLabel":"CORS Allow Credentials:","admin.service.corsDebugDescription":"When true, prints messages to the logs to help when developing an integration that uses CORS. These messages will include the structured key value pair \\"source\\":\\"cors\\".","admin.service.CorsDebugLabel":"CORS Debug:","admin.service.corsDescription":"Enable HTTP Cross origin request from a specific domain. Use \\"*\\" if you want to allow CORS from any domain or leave it blank to disable it. Should not be set to \\"*\\" in production.","admin.service.corsEx":"http://example.com","admin.service.corsExposedHeadersDescription":"Whitelist of headers that will be accessible to the requester.","admin.service.corsExposedHeadersTitle":"CORS Exposed Headers:","admin.service.corsHeadersEx":"X-My-Header","admin.service.corsTitle":"Enable cross-origin requests from:","admin.service.developerDesc":"When true, JavaScript errors are shown in a purple bar at the top of the user interface. Not recommended for use in production. ","admin.service.developerTitle":"Enable Developer Mode: ","admin.service.disableBotOwnerDeactivatedTitle":"Disable bot accounts when owner is deactivated:","admin.service.disableBotWhenOwnerIsDeactivated":"When a user is deactivated, disables all bot accounts managed by the user. To re-enable bot accounts, go to [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots).","admin.service.enableBotAccountCreation":"When true, System Admins can create bot accounts for integrations in [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots). Bot accounts are similar to user accounts except they cannot be used to log in. See [documentation](https://chatting.gomlo.me/pl/default-bot-accounts) to learn more.","admin.service.enableBotTitle":"Enable Bot Account Creation: ","admin.service.enforceMfaDesc":"When true, [multi-factor authentication](!https://docs.chatting.gomlo.me/deployment/auth.html) is required for login. New users will be required to configure MFA on signup. Logged in users without MFA configured are redirected to the MFA setup page until configuration is complete.\\n \\nIf your system has users with login methods other than AD/LDAP and email, MFA must be enforced with the authentication provider outside of Chatting.","admin.service.enforceMfaTitle":"Enforce Multi-factor Authentication:","admin.service.extendSessionLengthActivity.helpText":"When true, sessions will be automatically extended when the user is active in their Chatting client. Users sessions will only expire if they are not active in their Chatting client for the entire duration of the session lengths defined in the fields below. When false, sessions will not extend with activity in Chatting. User sessions will immediately expire at the end of the session length or idle timeouts defined below. ","admin.service.extendSessionLengthActivity.label":"Extend session length with activity: ","admin.service.forward80To443":"Forward port 80 to 443:","admin.service.forward80To443Description":"Forwards all insecure traffic from port 80 to secure port 443. Not recommended when using a proxy server.","admin.service.forward80To443Description.disabled":"Forwards all insecure traffic from port 80 to secure port 443. Not recommended when using a proxy server.\\n \\nThis setting cannot be enabled until your server is [listening](#ListenAddress) on port 443.","admin.service.googleDescription":"Set this key to enable the display of titles for embedded YouTube video previews. Without the key, YouTube previews will still be created based on hyperlinks appearing in messages or comments but they will not show the video title. View a [Google Developers Tutorial](!https://www.youtube.com/watch?v=Im69kzhpR3I) for instructions on how to obtain a key and add YouTube Data API v3 as a service to your key.","admin.service.googleExample":"E.g.: \\"7rAh6iwQCkV4cA1Gsg3fgGOXJAQ43QV\\"","admin.service.googleTitle":"Google API Key:","admin.service.iconDescription":"When true, webhooks, slash commands and other integrations, such as [Zapier](!https://docs.chatting.gomlo.me/integrations/zapier.html), will be allowed to change the profile picture they post with. Note: Combined with allowing integrations to override usernames, users may be able to perform phishing attacks by attempting to impersonate other users.","admin.service.iconTitle":"Enable integrations to override profile picture icons:","admin.service.insecureTlsDesc":"When true, any outgoing HTTPS requests will accept unverified, self-signed certificates. For example, outgoing webhooks to a server with a self-signed TLS certificate, using any domain, will be allowed. Note that this makes these connections susceptible to man-in-the-middle attacks.","admin.service.insecureTlsTitle":"Enable Insecure Outgoing Connections: ","admin.service.integrationAdmin":"Restrict managing integrations to Admins:","admin.service.integrationAdminDesc":"When true, webhooks and slash commands can only be created, edited and viewed by Team and System Admins, and OAuth 2.0 applications by System Admins. Integrations are available to all users after they have been created by the Admin.","admin.service.internalConnectionsDesc":"A whitelist of local network addresses that can be requested by the Chatting server on behalf of a client. Care should be used when configuring this setting to prevent unintended access to your local network. See [documentation](!https://chatting.gomlo.me/pl/default-allow-untrusted-internal-connections) to learn more.","admin.service.internalConnectionsEx":"webhooks.internal.example.com 127.0.0.1 10.0.16.0/28","admin.service.internalConnectionsTitle":"Allow untrusted internal connections to: ","admin.service.letsEncryptCertificateCacheFile":"Let\'s Encrypt Certificate Cache File:","admin.service.letsEncryptCertificateCacheFileDescription":"Certificates retrieved and other data about the Let\'s Encrypt service will be stored in this file.","admin.service.listenAddress":"Listen Address:","admin.service.listenDescription":"The address and port to which to bind and listen. Specifying \\":8065\\" will bind to all network interfaces. Specifying \\"127.0.0.1:8065\\" will only bind to the network interface having that IP address. If you choose a port of a lower level (called \\"system ports\\" or \\"well-known ports\\", in the range of 0-1023), you must have permissions to bind to that port. On Linux you can use: \\"sudo setcap cap_net_bind_service=+ep ./bin/mattermost\\" to allow Chatting to bind to well-known ports.","admin.service.listenExample":"E.g.: \\":8065\\"","admin.service.managedResourcePaths":"Managed Resource Paths:","admin.service.managedResourcePathsDescription":"A comma-separated list of paths on the Chatting server that are managed by another service. See [here](!https://docs.chatting.gomlo.me/install/desktop-managed-resources.html) for more information.","admin.service.mfaDesc":"When true, users with AD/LDAP or email login can add multi-factor authentication to their account using Google Authenticator.","admin.service.mfaTitle":"Enable Multi-factor Authentication:","admin.service.minimumHashtagLengthDescription":"Minimum number of characters in a hashtag. This must be greater than or equal to 2. MySQL databases must be configured to support searching strings shorter than three characters, [see documentation](!https://dev.mysql.com/doc/refman/8.0/en/fulltext-fine-tuning.html).","admin.service.minimumHashtagLengthExample":"E.g.: \\"3\\"","admin.service.minimumHashtagLengthTitle":"Minimum Hashtag Length:","admin.service.mobileSessionDays":"Session Length Mobile (days):","admin.service.mobileSessionDaysDesc":"The number of days from the last time a user entered their credentials to the expiry of the user\'s session. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.mobileSessionDaysDesc.extendLength":"Set the number of days from the last activity in Chatting to the expiry of the user’s session on mobile. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.outWebhooksDesc":"When true, outgoing webhooks will be allowed. See [documentation](!http://docs.chatting.gomlo.me/developer/webhooks-outgoing.html) to learn more.","admin.service.outWebhooksTitle":"Enable Outgoing Webhooks: ","admin.service.overrideDescription":"When true, webhooks, slash commands and other integrations, such as [Zapier](!https://docs.chatting.gomlo.me/integrations/zapier.html), will be allowed to change the username they are posting as. Note: Combined with allowing integrations to override profile picture icons, users may be able to perform phishing attacks by attempting to impersonate other users.","admin.service.overrideTitle":"Enable integrations to override usernames:","admin.service.readTimeout":"Read Timeout:","admin.service.readTimeoutDescription":"Maximum time allowed from when the connection is accepted to when the request body is fully read.","admin.service.sessionCache":"Session Cache (minutes):","admin.service.sessionCacheDesc":"The number of minutes to cache a session in memory.","admin.service.sessionDaysEx":"E.g.: \\"30\\"","admin.service.sessionIdleTimeout":"Session Idle Timeout (minutes):","admin.service.sessionIdleTimeoutDesc":"The number of minutes from the last time a user was active on the system to the expiry of the user\'s session. Once expired, the user will need to log in to continue. Minimum is 5 minutes, and 0 is unlimited.\\n \\nApplies to the desktop app and browsers. For mobile apps, use an EMM provider to lock the app when not in use. In High Availability mode, enable IP hash load balancing for reliable timeout measurement.","admin.service.sessionIdleTimeoutEx":"E.g.: \\"60\\"","admin.service.sessionMinutesEx":"E.g.: \\"10\\"","admin.service.siteURL":"Site URL:","admin.service.siteURLDescription":"The URL that users will use to access Chatting. Standard ports, such as 80 and 443, can be omitted, but non-standard ports are required. For example: http://example.com:8065. This setting is required.\\n \\nChatting may be hosted at a subpath. For example: http://example.com:8065/company/mattermost. A restart is required before the server will work correctly.","admin.service.siteURLExample":"E.g.: \\"http://example.com:8065\\"","admin.service.ssoSessionDays":"Session Length SSO (days):","admin.service.ssoSessionDaysDesc":"The number of days from the last time a user entered their credentials to the expiry of the user\'s session. If the authentication method is SAML or GitLab, the user may automatically be logged back in to Chatting if they are already logged in to SAML or GitLab. After changing this setting, the setting will take effect after the next time the user enters their credentials.","admin.service.ssoSessionDaysDesc.extendLength":"Set the number of days from the last activity in Chatting to the expiry of the user’s session for SSO authentication, such as SAML, GitLab and OAuth 2.0. If the authentication method is SAML or GitLab, the user may automatically be logged back in to Chatting if they are already logged in to SAML or GitLab. After changing this setting, the setting will take effect after the next time the user enters their credentials.","admin.service.testingDescription":"When true, /test slash command is enabled to load test accounts, data and text formatting. Changing this requires a server restart before taking effect.","admin.service.testingTitle":"Enable Testing Commands: ","admin.service.testSiteURL":"Test Live URL","admin.service.testSiteURLFail":"Test unsuccessful: {error}","admin.service.testSiteURLSuccess":"Test successful. This is a valid URL.","admin.service.testSiteURLTesting":"Testing...","admin.service.tlsCertFile":"TLS Certificate File:","admin.service.tlsCertFileDescription":"The certificate file to use.","admin.service.tlsKeyFile":"TLS Key File:","admin.service.tlsKeyFileDescription":"The private key file to use.","admin.service.useLetsEncrypt":"Use Let\'s Encrypt:","admin.service.useLetsEncryptDescription":"Enable the automatic retrieval of certificates from Let\'s Encrypt. The certificate will be retrieved when a client attempts to connect from a new domain. This will work with multiple domains.","admin.service.useLetsEncryptDescription.disabled":"Enable the automatic retrieval of certificates from Let\'s Encrypt. The certificate will be retrieved when a client attempts to connect from a new domain. This will work with multiple domains.\\n \\nThis setting cannot be enabled unless the [Forward port 80 to 443](#Forward80To443) setting is set to true.","admin.service.userAccessTokensDescription":"When true, users can create [user access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) for integrations in **Account Settings > Security**. They can be used to authenticate against the API and give full access to the account.\\n\\n To manage who can create personal access tokens or to search users by token ID, go to the **User Management > Users** page.","admin.service.userAccessTokensTitle":"Enable Personal Access Tokens: ","admin.service.webhooksDescription":"When true, incoming webhooks will be allowed. To help combat phishing attacks, all posts from webhooks will be labelled by a BOT tag. See [documentation](!http://docs.chatting.gomlo.me/developer/webhooks-incoming.html) to learn more.","admin.service.webhooksTitle":"Enable Incoming Webhooks: ","admin.service.webSessionDays":"Session Length AD/LDAP and Email (days):","admin.service.webSessionDaysDesc":"The number of days from the last time a user entered their credentials to the expiry of the user\'s session. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.webSessionDaysDesc.extendLength":"Set the number of days from the last activity in Chatting to the expiry of the user’s session when using email and AD/LDAP authentication. After changing this setting, the new session length will take effect after the next time the user enters their credentials.","admin.service.writeTimeout":"Write Timeout:","admin.service.writeTimeoutDescription":"If using HTTP (insecure), this is the maximum time allowed from the end of reading the request headers until the response is written. If using HTTPS, it is the total time from when the connection is accepted until the response is written.","admin.sessionLengths.title":"Session Lengths","admin.set_by_env":"This setting has been set through an environment variable. It cannot be changed through the System Console.","admin.sidebar.about":"About","admin.sidebar.announcement":"Announcement Banner","admin.sidebar.authentication":"Authentication","admin.sidebar.billing":"Billing & Account","admin.sidebar.billing_history":"Billing History","admin.sidebar.blevesearch":"Bleve","admin.sidebar.channels":"Channels","admin.sidebar.company_info":"Company Information","admin.sidebar.compliance":"Compliance","admin.sidebar.complianceExport":"Compliance Export (Beta)","admin.sidebar.complianceMonitoring":"Compliance Monitoring","admin.sidebar.cors":"CORS","admin.sidebar.customization":"Customization","admin.sidebar.customTermsOfService":"Custom Terms of Service (Beta)","admin.sidebar.database":"Database","admin.sidebar.dataRetentionPolicy":"Data Retention Policy","admin.sidebar.dataRetentionSettingsPolicies":"Data Retention Policies","admin.sidebar.developer":"Developer","admin.sidebar.elasticsearch":"Elasticsearch","admin.sidebar.email":"Email","admin.sidebar.emoji":"Emoji","admin.sidebar.environment":"Environment","admin.sidebar.experimental":"Experimental","admin.sidebar.experimentalFeatures":"Features","admin.sidebar.fileSharingDownloads":"File Sharing and Downloads","admin.sidebar.fileStorage":"File Storage","admin.sidebar.filter":"Find settings","admin.sidebar.gif":"GIF (Beta)","admin.sidebar.gitlab":"GitLab","admin.sidebar.groups":"Groups","admin.sidebar.guest_access":"Guest Access (Beta)","admin.sidebar.highAvailability":"High Availability","admin.sidebar.imageProxy":"Image Proxy","admin.sidebar.integrations":"Integrations","admin.sidebar.ldap":"AD/LDAP","admin.sidebar.license":"Edition and License","admin.sidebar.localization":"Localization","admin.sidebar.logging":"Logging","admin.sidebar.logs":"Server Logs","admin.sidebar.metrics":"Performance Monitoring","admin.sidebar.mfa":"MFA","admin.sidebar.notices":"Notices","admin.sidebar.notifications":"Notifications","admin.sidebar.oauth":"OAuth 2.0","admin.sidebar.oauth.tag":"deprecated","admin.sidebar.openid":"OpenID Connect","admin.sidebar.password":"Password","admin.sidebar.payment_info":"Payment Information","admin.sidebar.permissions":"Permissions","admin.sidebar.plugins":"Plugins (Beta)","admin.sidebar.posts":"Posts","admin.sidebar.publicLinks":"Public Links","admin.sidebar.pushNotificationServer":"Push Notification Server","admin.sidebar.rateLimiting":"Rate Limiting","admin.sidebar.reporting":"Reporting","admin.sidebar.saml":"SAML 2.0","admin.sidebar.sessionLengths":"Session Lengths","admin.sidebar.signup":"Signup","admin.sidebar.site":"Site Configuration","admin.sidebar.siteStatistics":"Site Statistics","admin.sidebar.smtp":"SMTP","admin.sidebar.subscription":"Subscription","admin.sidebar.systemRoles":"System Roles (Beta)","admin.sidebar.teams":"Teams","admin.sidebar.teamStatistics":"Team Statistics","admin.sidebar.userManagement":"User Management","admin.sidebar.users":"Users","admin.sidebar.usersAndTeams":"Users and Teams","admin.sidebar.webServer":"Web Server","admin.sidebarHeader.systemConsole":"System Console","admin.site.announcementBanner":"Announcement Banner","admin.site.customization":"Customization","admin.site.emoji":"Emoji","admin.site.fileSharingDownloads":"File Sharing and Downloads","admin.site.localization":"Localization","admin.site.notices":"Notices","admin.site.posts":"Posts","admin.site.public_links":"Public Links","admin.site.usersAndTeams":"Users and Teams","admin.sql.connMaxIdleTimeDescription":"Maximum idle time (in milliseconds) for a connection to the database.","admin.sql.connMaxIdleTimeExample":"E.g.: \\"300000\\"","admin.sql.connMaxIdleTimeTitle":"Maximum Connection Idle Time:","admin.sql.connMaxLifetimeDescription":"Maximum lifetime (in milliseconds) for a connection to the database.","admin.sql.connMaxLifetimeExample":"E.g.: \\"3600000\\"","admin.sql.connMaxLifetimeTitle":"Maximum Connection Lifetime:","admin.sql.dataSource":"Data Source:","admin.sql.dataSourceDescription":"Set the database source in the config.json file.","admin.sql.disableDatabaseSearchDescription":"Disables the use of the database to perform searches. Should only be used when other [search engines](!https://chatting.gomlo.me/pl/default-search-engine) are configured.","admin.sql.disableDatabaseSearchTitle":"Disable database search: ","admin.sql.driverName":"Driver Name:","admin.sql.driverNameDescription":"Set the database driver in the config.json file.","admin.sql.maxConnectionsDescription":"Maximum number of idle connections held open to the database.","admin.sql.maxConnectionsExample":"E.g.: \\"10\\"","admin.sql.maxConnectionsTitle":"Maximum Idle Connections:","admin.sql.maxOpenDescription":"Maximum number of open connections held open to the database.","admin.sql.maxOpenExample":"E.g.: \\"10\\"","admin.sql.maxOpenTitle":"Maximum Open Connections:","admin.sql.noteDescription":"Changing properties in this section will require a server restart before taking effect.","admin.sql.queryTimeoutDescription":"The number of seconds to wait for a response from the database after opening a connection and sending the query. Errors that you see in the UI or in the logs as a result of a query timeout can vary depending on the type of query.","admin.sql.queryTimeoutExample":"E.g.: \\"30\\"","admin.sql.queryTimeoutTitle":"Query Timeout:","admin.sql.traceDescription":"(Development Mode) When true, executing SQL statements are written to the log.","admin.sql.traceTitle":"SQL Statement Logging: ","admin.support.aboutDesc":"The URL for the About link on the Chatting login and sign-up pages. If this field is empty, the About link is hidden from users.","admin.support.aboutTitle":"About Link:","admin.support.emailHelp":"Email address displayed on email notifications and during tutorial for end users to ask support questions.","admin.support.emailTitle":"Support Email:","admin.support.enableAskCommunityDesc":"When true, \\"Ask the community\\" link appears on the Chatting user interface and Main Menu, which allows users to join the Chatting Community to ask questions and help others troubleshoot issues. When false, the link is hidden from users.","admin.support.enableAskCommunityTitle":"Enable Ask Community Link:","admin.support.enableTermsOfServiceHelp":"When true, new users must accept the terms of service before accessing any Chatting teams on desktop, web or mobile. Existing users must accept them after login or a page refresh.\\n \\nTo update terms of service link displayed in account creation and login pages, go to [Site Configuration > Customization](../site_config/customization).","admin.support.enableTermsOfServiceTitle":"Enable Custom Terms of Service:","admin.support.helpDesc":"The URL for the Help link on the Chatting login page, sign-up pages, and Main Menu. If this field is empty, the Help link is hidden from users.","admin.support.helpTitle":"Help Link:","admin.support.privacyDesc":"The URL for the Privacy link on the login and sign-up pages. If this field is empty, the Privacy link is hidden from users.","admin.support.privacyTitle":"Privacy Policy Link:","admin.support.problemDesc":"The URL for the Report a Problem link in the Main Menu. If this field is empty, the link is removed from the Main Menu.","admin.support.problemTitle":"Report a Problem Link:","admin.support.termsDesc":"Link to the terms under which users may use your online service. By default, this includes the \\"Chatting Conditions of Use (End Users)\\" explaining the terms under which Chatting software is provided to end users. If you change the default link to add your own terms for using the service you provide, your new terms must include a link to the default terms so end users are aware of the Chatting Conditions of Use (End User) for Chatting software.","admin.support.termsOfServiceReAcceptanceHelp":"The number of days before Terms of Service acceptance expires, and the terms must be re-accepted.","admin.support.termsOfServiceReAcceptanceTitle":"Re-Acceptance Period:","admin.support.termsOfServiceTextHelp":"Text that will appear in your custom Terms of Service. Supports Markdown-formatted text.","admin.support.termsOfServiceTextTitle":"Custom Terms of Service Text:","admin.support.termsOfServiceTitle":"Custom Terms of Service (Beta)","admin.support.termsTitle":"Terms of Service Link:","admin.system_roles_feature_discovery.copy":"Use System Roles to give designated users read and/or write access to select sections of System Console.","admin.system_roles_feature_discovery.title":"Provide controlled access to the System Console with Chatting Enterprise E20","admin.system_users.allUsers":"All Users","admin.system_users.guest":"Guest","admin.system_users.inactive":"Inactive","admin.system_users.noTeams":"No Teams","admin.system_users.revoke_all_sessions_button":"Revoke All Sessions","admin.system_users.revoke_all_sessions_modal_message":"This action revokes all sessions in the system. All users will be logged out from all devices. Are you sure you want to revoke all sessions?","admin.system_users.revoke_all_sessions_modal_title":"Revoke all sessions in the system","admin.system_users.revokeAllSessions":"Revoke All Sessions","admin.system_users.system_admin":"System Admin","admin.system_users.title":"{siteName} Users","admin.systemUserDetail.teamList.header.name":"Name","admin.systemUserDetail.teamList.header.role":"Role","admin.systemUserDetail.teamList.header.type":"Type","admin.systemUserDetail.teamList.teamRole.admin":"Team Admin","admin.systemUserDetail.teamList.teamRole.guest":"Guest","admin.systemUserDetail.teamList.teamRole.member":"Team Member","admin.systemUserDetail.teamList.teamType.anyoneCanJoin":"Anyone Can Join","admin.systemUserDetail.teamList.teamType.groupSync":"Group Sync","admin.systemUserDetail.teamList.teamType.inviteOnly":"Invite Only","admin.systemUserDetail.title":"User Configuration","admin.team_channel_settings.cancel":"Cancel","admin.team_channel_settings.channel_users_will_be_removed":"{amount, number} {amount, plural, one {User} other {Users}} will be removed from this channel. They are not in groups linked to this channel.","admin.team_channel_settings.convertAndRemoveConfirmModal.cancel":"No, cancel","admin.team_channel_settings.convertAndRemoveConfirmModal.toPrivateConfirm":"Yes, convert channel to private and remove {amount, number} {amount, plural, one {user} other {users}}","admin.team_channel_settings.convertAndRemoveConfirmModal.toPrivateTitle":"Convert channel to a private and remove {amount, number} {amount, plural, one {user} other {users}}?","admin.team_channel_settings.convertAndRemoveConfirmModal.toPublicConfirm":"Yes, convert channel to public and remove {amount, number} {amount, plural, one {user} other {users}}","admin.team_channel_settings.convertAndRemoveConfirmModal.toPublicTitle":"Convert channel to public and remove {amount, number} {amount, plural, one {user} other {users}}","admin.team_channel_settings.convertConfirmModal.cancel":"No, cancel","admin.team_channel_settings.convertConfirmModal.toPrivateConfirm":"Yes, convert to private channel","admin.team_channel_settings.convertConfirmModal.toPrivateMessage":"When you convert **{displayName}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.  \\n \\nAre you sure you want to convert **{displayName}** to a private channel?","admin.team_channel_settings.convertConfirmModal.toPrivateTitle":"Convert {displayName} to a private channel?","admin.team_channel_settings.convertConfirmModal.toPublicConfirm":"Yes, convert to public channel","admin.team_channel_settings.convertConfirmModal.toPublicMessage":"When you convert **{displayName}** to a public channel, history and membership are preserved. Public channels are discoverable and can by joined by users on the system without invitation.  \\n \\nAre you sure you want to convert **{displayName}** to a public channel?","admin.team_channel_settings.convertConfirmModal.toPublicTitle":"Convert {displayName} to a public channel?","admin.team_channel_settings.group_list.membersHeader":"Member Count","admin.team_channel_settings.group_list.nameHeader":"Group Name","admin.team_channel_settings.group_list.no-groups":"No groups specified yet","admin.team_channel_settings.group_list.no-synced-groups":"At least one group must be specified","admin.team_channel_settings.group_list.rolesHeader":"Roles","admin.team_channel_settings.group_row.channelAdmin":"Channel Admin","admin.team_channel_settings.group_row.member":"Member","admin.team_channel_settings.group_row.memberRole":"Member Role","admin.team_channel_settings.group_row.members":"{memberCount, number} {memberCount, plural, one {member} other {members}}","admin.team_channel_settings.group_row.remove":"Remove","admin.team_channel_settings.group_row.teamAdmin":"Team Admin","admin.team_channel_settings.groupMembers.close":"Close","admin.team_channel_settings.list.paginatorCount":"{startCount, number} - {endCount, number} of {total, number}","admin.team_channel_settings.need_domains":"Please specify allowed email domains.","admin.team_channel_settings.need_groups":"You must add at least one group to manage this team by sync group members.","admin.team_channel_settings.need_groups_channel":"You must add at least one group to manage this channel by sync group members.","admin.team_channel_settings.removeConfirmModal.messageChannel":"{amount, number} {amount, plural, one {user} other {users}} will be removed. They are not in groups linked to this channel. Are you sure you wish to remove {amount, plural, one {this user} other {these users}}?","admin.team_channel_settings.removeConfirmModal.messageTeam":"{amount, number} {amount, plural, one {user} other {users}} will be removed. They are not in groups linked to this team. Are you sure you wish to remove {amount, plural, one {this user} other {these users}}?","admin.team_channel_settings.removeConfirmModal.remove":"Save and remove {amount, plural, one {user} other {users}}","admin.team_channel_settings.removeConfirmModal.title":"Save and remove {amount, number} {amount, plural, one {user} other {users}}?","admin.team_channel_settings.saving":"Saving Config...","admin.team_channel_settings.user_list.groupsHeader":"Groups","admin.team_channel_settings.user_list.nameHeader":"Name","admin.team_channel_settings.user_list.roleHeader":"Role","admin.team_channel_settings.users_will_be_removed":"{amount, number} {amount, plural, one {user} other {users}} will be removed from this team. They are not in groups linked to this team.","admin.team_channel_settings.usersToBeRemovedModal.channel_message":"The members listed below are not in any of the groups currently linked to this channel. Because this channel is set to be managed by group sync they will all be removed once saved.","admin.team_channel_settings.usersToBeRemovedModal.close":"Close","admin.team_channel_settings.usersToBeRemovedModal.message":"The members listed below are not in any of the groups currently linked to this team. Because this team is set to be managed by group sync they will all be removed once saved.","admin.team_channel_settings.usersToBeRemovedModal.title":"**{total, number} {total, plural, one {User} other {Users}}** To Be Removed","admin.team_channel_settings.view_removed_users":"View These Users","admin.team_settings.description":"Manage team settings.","admin.team_settings.groupsPageTitle":"{siteName} Teams","admin.team_settings.team_detail.group_configuration":"Team Configuration","admin.team_settings.team_detail.groupsDescription":"Group members will be added to the team.","admin.team_settings.team_detail.groupsTitle":"Groups","admin.team_settings.team_detail.manageDescription":"Choose between inviting members manually or syncing members automatically from groups.","admin.team_settings.team_detail.manageTitle":"Team Management","admin.team_settings.team_detail.membersDescription":"A list of users who are currently in the team right now","admin.team_settings.team_detail.membersTitle":"Members","admin.team_settings.team_detail.profileDescription":"Summary of the team, including team name and description.","admin.team_settings.team_detail.profileNoDescription":"No team description added.","admin.team_settings.team_detail.profileTitle":"Team Profile","admin.team_settings.team_detail.syncedGroupsDescription":"Add and remove team members based on their group membership.","admin.team_settings.team_detail.syncedGroupsTitle":"Synced Groups","admin.team_settings.team_detail.teamDescription":"**Team Description**:","admin.team_settings.team_detail.teamName":"**Team Name**:","admin.team_settings.team_details.add_group":"Add Group","admin.team_settings.team_details.add_members":"Add Members","admin.team_settings.team_details.anyoneCanJoin":"Anyone can join this team","admin.team_settings.team_details.anyoneCanJoinDescr":"This team can be discovered allowing anyone with an account to join this team.","admin.team_settings.team_details.csvDomains":"Comma Separated Email Domain List","admin.team_settings.team_details.groupDetailsToggle":"Enable Group Mentions (Beta)","admin.team_settings.team_details.groupDetailsToggleDescr":"When enabled, this group can be mentioned in other channels and teams. This may result in the group member list being visible to all users.","admin.team_settings.team_details.specificDomains":"Only specific email domains can join this team","admin.team_settings.team_details.specificDomainsDescr":"Users can only join the team if their email matches one of the specified domains","admin.team_settings.team_details.syncGroupMembers":"Sync Group Members","admin.team_settings.team_details.syncGroupMembersDescr":"When enabled, adding and removing users from groups will add or remove them from this team. The only way of inviting members to this team is by adding the groups they belong to. [Learn More](!https://www.chatting.gomlo.me/pl/default-ldap-group-constrained-team-channel.html)","admin.team_settings.team_list.mappingHeader":"Management","admin.team_settings.team_list.nameHeader":"Name","admin.team_settings.team_list.no_teams_found":"No teams found","admin.team_settings.team_list.search_teams_errored":"Something went wrong. Try again","admin.team_settings.team_row.configure":"Edit","admin.team_settings.team_row.managementMethod.anyoneCanJoin":"Anyone Can Join","admin.team_settings.team_row.managementMethod.groupSync":"Group Sync","admin.team_settings.team_row.managementMethod.inviteOnly":"Invite Only","admin.team_settings.title":"Teams","admin.team.brandDesc":"Enable custom branding to show an image of your choice, uploaded below, and some help text, written below, on the login page.","admin.team.brandDescriptionHelp":"Description of service shown in login screens and UI. When not specified, \\"All team communication in one place, searchable and accessible anywhere\\" is displayed.","admin.team.brandDescriptionTitle":"Site Description: ","admin.team.brandImageTitle":"Custom Brand Image:","admin.team.brandTextDescription":"Text that will appear below your custom brand image on your login screen. Supports Markdown-formatted text. Maximum 500 characters allowed.","admin.team.brandTextTitle":"Custom Brand Text:","admin.team.brandTitle":"Enable Custom Branding: ","admin.team.chooseImage":"Select Image","admin.team.customUserStatusesDescription":"When true, users can set a descriptive status message and status emoji visible to all users.","admin.team.customUserStatusesTitle":"Enable Custom Statuses: ","admin.team.editOthersPostsDesc":"When **true**, both Team Admins and System Admins can edit other users\' posts.  When **false**, only System Admins can edit other users\' posts. However, Team Admins and System Admins can always delete other users\' posts.","admin.team.editOthersPostsTitle":"Allow Team Administrators to edit others\' posts:","admin.team.emailInvitationsDescription":"When true users can invite others to the system using email.","admin.team.emailInvitationsTitle":"Enable Email Invitations: ","admin.team.invalidateEmailInvitesDescription":"This will invalidate active email invitations that have not been accepted by the user.  By default email invitations expire after 48 hours.","admin.team.invalidateEmailInvitesFail":"Unable to invalidate pending email invites: {error}","admin.team.invalidateEmailInvitesSuccess":"Pending email invitations invalidated successfully","admin.team.invalidateEmailInvitesTitle":"Invalidate pending email invites","admin.team.maxChannelsDescription":"Maximum total number of channels per team, including both active and archived channels.","admin.team.maxChannelsExample":"E.g.: \\"100\\"","admin.team.maxChannelsTitle":"Max Channels Per Team:","admin.team.maxNotificationsPerChannelDescription":"Maximum total number of users in a channel before users typing messages, @all, @here, and @group no longer send notifications because of performance.","admin.team.maxNotificationsPerChannelExample":"E.g.: \\"1000\\"","admin.team.maxNotificationsPerChannelTitle":"Max Notifications Per Channel:","admin.team.maxUsersDescription":"Maximum total number of users per team, including both active and inactive users.","admin.team.maxUsersExample":"E.g.: \\"25\\"","admin.team.maxUsersTitle":"Max Users Per Team:","admin.team.noBrandImage":"No brand image uploaded","admin.team.openServerDescription":"When true, anyone can signup for a user account on this server without the need to be invited.","admin.team.openServerTitle":"Enable Open Server: ","admin.team.removeBrandImage":"Remove brand image","admin.team.restrict_direct_message_any":"Any user on the Chatting server","admin.team.restrict_direct_message_team":"Any member of the team","admin.team.restrictDescription":"New user accounts are restricted to the above specified email domain (e.g. \\"chatting.gomlo.me\\") or list of comma-separated domains (e.g. \\"corp.chatting.gomlo.me, chatting.gomlo.me\\"). New teams can only be created by users from the above domain(s). This setting affects email login for users.","admin.team.restrictDirectMessage":"Enable users to open Direct Message channels with:","admin.team.restrictDirectMessageDesc":"\'Any user on the Chatting server\' enables users to open a Direct Message channel with any user on the server, even if they are not on any teams together. \'Any member of the team\' limits the ability in the Direct Messages \'More\' menu to only open Direct Message channels with users who are in the same team.\\n \\nNote: This setting only affects the UI, not permissions on the server.","admin.team.restrictExample":"E.g.: \\"corp.chatting.gomlo.me, chatting.gomlo.me\\"","admin.team.restrictGuestDescription":"New user accounts are restricted to the above specified email domain (e.g. \\"chatting.gomlo.me\\") or list of comma-separated domains (e.g. \\"corp.chatting.gomlo.me, chatting.gomlo.me\\"). New teams can only be created by users from the above domain(s). This setting affects email login for users. For Guest users, please add domains under Signup > Guest Access.","admin.team.restrictTitle":"Restrict new system and team members to specified email domains:","admin.team.showFullname":"Show first and last name","admin.team.showNickname":"Show nickname if one exists, otherwise show first and last name","admin.team.showUsername":"Show username (default)","admin.team.siteNameDescription":"Name of service shown in login screens and UI. When not specified, it defaults to \\"Chatting\\".","admin.team.siteNameExample":"E.g.: \\"Chatting\\"","admin.team.siteNameTitle":"Site Name:","admin.team.teamCreationDescription":"When false, only System Administrators can create teams.","admin.team.teamCreationTitle":"Enable Team Creation: ","admin.team.teammateNameDisplay":"Teammate Name Display:","admin.team.teammateNameDisplayDesc":"Set how to display users\' names in posts and the Direct Messages list.","admin.team.upload":"Upload","admin.team.uploadDesc":"Customize your user experience by adding a custom image to your login screen. Recommended maximum image size is less than 2 MB.","admin.team.uploaded":"Uploaded!","admin.team.uploading":"Uploading...","admin.team.userCreationDescription":"When false, the ability to create accounts is disabled. The create account button displays error when pressed.","admin.team.userCreationTitle":"Enable Account Creation: ","admin.true":"true","admin.user_grid.channel_admin":"Admin","admin.user_grid.channel_mod":"Mod","admin.user_grid.guest":"Guest","admin.user_grid.name":"Name","admin.user_grid.new":"New","admin.user_grid.notFound":"No users found","admin.user_grid.remove":"Remove","admin.user_grid.role":"Role","admin.user_grid.shared_member":"Shared Member","admin.user_grid.system_admin":"System Admin","admin.user_grid.team_admin":"Team Admin","admin.user_item.authServiceEmail":"**Sign-in Method:** Email","admin.user_item.authServiceNotEmail":"**Sign-in Method:** {service}","admin.user_item.demoteToGuest":"Demote to Guest","admin.user_item.emailTitle":"**Email:** {email}","admin.user_item.guest":"Guest","admin.user_item.inactive":"Inactive","admin.user_item.makeActive":"Activate","admin.user_item.makeInactive":"Deactivate","admin.user_item.makeMember":"Make Team Member","admin.user_item.makeTeamAdmin":"Make Team Admin","admin.user_item.manageRoles":"Manage Roles","admin.user_item.manageTeams":"Manage Teams","admin.user_item.manageTokens":"Manage Tokens","admin.user_item.member":"Member","admin.user_item.menuAriaLabel":"User Actions Menu","admin.user_item.mfaNo":"**MFA**: No","admin.user_item.mfaYes":"**MFA**: Yes","admin.user_item.promoteToMember":"Promote to Member","admin.user_item.resetEmail":"Update Email","admin.user_item.resetMfa":"Remove MFA","admin.user_item.resetPwd":"Reset Password","admin.user_item.revokeSessions":"Revoke Sessions","admin.user_item.switchToEmail":"Switch to Email/Password","admin.user_item.sysAdmin":"System Admin","admin.user_item.teamAdmin":"Team Admin","admin.user_item.teamMember":"Team Member","admin.user_item.user_id":"**User ID:** {userID}","admin.user_item.userAccessTokenPostAll":"(can create post:all personal access tokens)","admin.user_item.userAccessTokenPostAllPublic":"(can create post:channels personal access tokens)","admin.user_item.userAccessTokenYes":"(can create personal access tokens)","admin.userManagement.userDetail.addTeam":"Add Team","admin.userManagement.userDetail.authenticationMethod":"Authentication Method","admin.userManagement.userDetail.email":"Email","admin.userManagement.userDetail.mfa":"MFA","admin.userManagement.userDetail.teamsSubtitle":"Teams to which this user belongs","admin.userManagement.userDetail.teamsTitle":"Team Membership","admin.userManagement.userDetail.userId":"User ID:","admin.userManagement.userDetail.username":"Username","admin.viewArchivedChannelsHelpText":"(Beta) When true, allows users to view, share and search for content of channels that have been archived. Users can only view the content in channels of which they were a member before the channel was archived.","admin.viewArchivedChannelsTitle":"Allow users to view archived channels:","admin.warn_metric.sending-email":"Sending email","admin.webserverModeDisabled":"Disabled","admin.webserverModeDisabledDescription":"The Chatting server will not serve static files.","admin.webserverModeGzip":"gzip","admin.webserverModeGzipDescription":"The Chatting server will serve static files compressed with gzip.","admin.webserverModeHelpText":"gzip compression applies to static content files. It is recommended to enable gzip to improve performance unless your environment has specific restrictions, such as a web proxy that distributes gzip files poorly.","admin.webserverModeTitle":"Webserver Mode:","admin.webserverModeUncompressed":"Uncompressed","admin.webserverModeUncompressedDescription":"The Chatting server will serve static files uncompressed.","analytics.chart.loading":"Loading...","analytics.chart.meaningful":"Not enough data for a meaningful representation.","analytics.system.activeUsers":"Active Users With Posts","analytics.system.channelTypes":"Channel Types","analytics.system.dailyActiveUsers":"Daily Active Users","analytics.system.info":"Use data for only the chosen team. Exclude posts in direct message channels that are not tied to a team.","analytics.system.infoAndSkippedIntensiveQueries":"Use data for only the chosen team. Exclude posts in direct message channels that are not tied to a team. \\n \\n To maximize performance, some statistics are disabled. You can [re-enable them in config.json](!https://docs.chatting.gomlo.me/administration/statistics.html).","analytics.system.monthlyActiveUsers":"Monthly Active Users","analytics.system.postTypes":"Posts, Files and Hashtags","analytics.system.privateGroups":"Private Channels","analytics.system.publicChannels":"Public Channels","analytics.system.skippedIntensiveQueries":"To maximize performance, some statistics are disabled. You can [re-enable them in config.json](!https://docs.chatting.gomlo.me/administration/statistics.html).","analytics.system.textPosts":"Posts with Text-only","analytics.system.title":"System Statistics","analytics.system.totalBotPosts":"Total Posts from Bots","analytics.system.totalChannels":"Total Channels","analytics.system.totalCommands":"Total Commands","analytics.system.totalFilePosts":"Posts with Files","analytics.system.totalHashtagPosts":"Posts with Hashtags","analytics.system.totalIncomingWebhooks":"Incoming Webhooks","analytics.system.totalMasterDbConnections":"Master DB Conns","analytics.system.totalOutgoingWebhooks":"Outgoing Webhooks","analytics.system.totalPosts":"Total Posts","analytics.system.totalReadDbConnections":"Replica DB Conns","analytics.system.totalSessions":"Total Sessions","analytics.system.totalTeams":"Total Teams","analytics.system.totalUsers":"Total Active Users","analytics.system.totalWebsockets":"WebSocket Conns","analytics.team.activeUsers":"Active Users With Posts","analytics.team.newlyCreated":"Newly Created Users","analytics.team.noTeams":"This server has no teams for which to view statistics.","analytics.team.privateGroups":"Private Channels","analytics.team.publicChannels":"Public Channels","analytics.team.recentUsers":"Recent Active Users","analytics.team.title":"Team Statistics for {team}","analytics.team.totalPosts":"Total Posts","analytics.team.totalUsers":"Total Active Users","announcement_bar.error.email_verification_required":"Check your email inbox to verify the address.","announcement_bar.error.license_expired":"Enterprise license is expired and some features may be disabled.","announcement_bar.error.license_expiring":"Enterprise license expires on {date, date, long}.","announcement_bar.error.past_grace":"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details.","announcement_bar.error.preview_mode":"Preview Mode: Email notifications have not been configured.","announcement_bar.error.purchase_a_license_now":"Purchase a License Now","announcement_bar.error.site_url_gitlab.full":"Please configure your [site URL](https://docs.chatting.gomlo.me/administration/config-settings.html#site-url) either on the [System Console](/admin_console/environment/web_server) or, if you\'re using GitLab Chatting, in gitlab.rb.","announcement_bar.error.site_url.full":"Please configure your [site URL](https://docs.chatting.gomlo.me/administration/config-settings.html#site-url) on the [System Console](/admin_console/environment/web_server).","announcement_bar.error.trial_license_expiring":"**There are {days} days left on your free trial.**","announcement_bar.error.trial_license_expiring_last_day":"**This is the last day of your free trial. Purchase a license now to continue using E10 & E20 features.**","announcement_bar.error.warn_metric_status.link":"Learn more","announcement_bar.notification.email_verified":"Email verified","announcement_bar.number_active_users_warn_metric_status.text":"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.number_of_posts_warn_metric_status.text":"You now have over {limit} posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status_ack.text":"Thank you for contacting Chatting. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts_ack.text":"Thank you for contacting Chatting. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_posts.text":"You now have over 2,000,000 posts. We strongly advise using advanced features to avoid degraded performance.","announcement_bar.warn_metric_status.number_of_users_ack.text":"Thank you for contacting Chatting. We will follow up with you soon.","announcement_bar.warn_metric_status.number_of_users.text":"You now have over 500 users. We strongly recommend using advanced features for large-scale servers.","announcement_bar.warn.contact_support_text":"To renew your license, contact support at support@chatting.gomlo.me.","announcement_bar.warn.email_support":"[Contact support](!{email}).","announcement_bar.warn.no_internet_connection":"Looks like you do not have access to the internet.","announcement_bar.warn.renew_license_now":"Renew license now","api.channel.add_guest.added":"{addedUsername} added to the channel as a guest by {username}.","api.channel.add_member.added":"{addedUsername} added to the channel by {username}.","api.channel.delete_channel.archived":"{username} archived the channel.","api.channel.guest_join_channel.post_and_forget":"{username} joined the channel as a guest.","api.channel.join_channel.post_and_forget":"{username} joined the channel.","api.channel.leave.left":"{username} left the channel.","api.channel.post_convert_channel_to_private.updated_from":"{username} converted the channel from public to private","api.channel.post_update_channel_displayname_message_and_forget.updated_from":"{username} updated the channel display name from: {old} to: {new}","api.channel.post_update_channel_header_message_and_forget.removed":"{username} removed the channel header (was: {old})","api.channel.post_update_channel_header_message_and_forget.updated_from":"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}","api.channel.post_update_channel_header_message_and_forget.updated_to":"{username} updated the channel header to: {new}","api.channel.remove_member.removed":"{removedUsername} was removed from the channel","api.channel.restore_channel.unarchived":"{username} unarchived the channel.","api.team.add_member.added":"{addedUsername} added to the team by {username}","api.team.join_team.post_and_forget":"{username} joined the team.","api.team.leave.left":"{username} left the team.","api.team.remove_user_from_team.removed":"{removedUsername} was removed from the team.","app.channel.post_update_channel_purpose_message.removed":"{username} removed the channel purpose (was: {old})","app.channel.post_update_channel_purpose_message.updated_from":"{username} updated the channel purpose from: {old} to: {new}","app.channel.post_update_channel_purpose_message.updated_to":"{username} updated the channel purpose to: {new}","app.plugin.marketplace_plugins.app_error":"Error connecting to the marketplace server. Please check your settings in the [System Console]({siteURL}/admin_console/plugins/plugin_management).","apps.error":"Error: {error}","apps.error.command.field_missing":"Required fields missing: `{fieldName}`.","apps.error.command.unknown_channel":"Unknown channel for field `{fieldName}`: `{option}`.","apps.error.command.unknown_option":"Unknown option for field `{fieldName}`: `{option}`.","apps.error.command.unknown_user":"Unknown user for field `{fieldName}`: `{option}`.","apps.error.form.no_call":"`call` is not defined.","apps.error.form.no_form":"`form` is not defined.","apps.error.form.refresh":"There has been an error updating the modal. Contact the app developer. Details: {details}","apps.error.form.refresh_no_refresh":"Called refresh on no refresh field.","apps.error.form.submit.pretext":"There has been an error submitting the modal. Contact the app developer. Details: {details}","apps.error.lookup.error_preparing_request":"Error preparing lookup request: {errorMessage}","apps.error.parser":"Parsing error: {error}","apps.error.parser.empty_value":"empty values are not allowed","apps.error.parser.missing_call":"Missing binding call.","apps.error.parser.missing_field_value":"Field value is missing.","apps.error.parser.missing_quote":"Matching double quote expected before end of input.","apps.error.parser.missing_tick":"Matching tick quote expected before end of input.","apps.error.parser.multiple_equal":"Multiple `=` signs are not allowed.","apps.error.parser.no_argument_pos_x":"Unable to identify argument.","apps.error.parser.no_bindings":"No command bindings.","apps.error.parser.no_match":"`{command}`: No matching command found in this workspace.","apps.error.parser.no_slash_start":"Command must start with a `/`.","apps.error.parser.unexpected_error":"Unexpected error.","apps.error.parser.unexpected_flag":"Command does not accept flag `{flagName}`.","apps.error.parser.unexpected_state":"Unreachable: Unexpected state in matchBinding: `{state}`.","apps.error.parser.unexpected_whitespace":"Unreachable: Unexpected whitespace.","apps.error.responses.form.no_form":"Response type is `form`, but no form was included in response.","apps.error.responses.navigate.no_submit":"Response type is `navigate`, but the call was not a submission.","apps.error.responses.navigate.no_url":"Response type is `navigate`, but no url was included in response.","apps.error.responses.unexpected_error":"Received an unexpected error.","apps.error.responses.unexpected_type":"App response type was not expected. Response type: {type}","apps.error.responses.unknown_type":"App response type not supported. Response type: {type}.","apps.error.unknown":"Unknown error occurred.","apps.suggestion.dynamic.error":"Dynamic select error","apps.suggestion.errors.parser_error":"Parsing error","apps.suggestion.no_dynamic":"No data was returned for dynamic suggestions","apps.suggestion.no_static":"No matching options.","apps.suggestion.no_suggestion":"No matching suggestions.","archivedChannelMessage":"You are viewing an **archived channel**. New messages cannot be posted.","atmos/camo":"atmos/camo","audit_table.accountActive":"Account activated","audit_table.accountInactive":"Account deactivated","audit_table.action":"Action","audit_table.attemptedAllowOAuthAccess":"Attempted to allow a new OAuth service access","audit_table.attemptedLicenseAdd":"Attempted to add new license","audit_table.attemptedLogin":"Attempted to login","audit_table.attemptedOAuthToken":"Attempted to get an OAuth access token","audit_table.attemptedPassword":"Attempted to change password","audit_table.attemptedRegisterApp":"Attempted to register a new OAuth Application with ID {id}","audit_table.attemptedReset":"Attempted to reset password","audit_table.attemptedWebhookCreate":"Attempted to create a webhook","audit_table.attemptedWebhookDelete":"Attempted to delete a webhook","audit_table.authenticated":"Successfully authenticated","audit_table.by":" by {username}","audit_table.byAdmin":" by an admin","audit_table.channelCreated":"Created the {channelName} channel","audit_table.channelDeleted":"Archived the channel with the URL {url}","audit_table.establishedDM":"Established a direct message channel with {username}","audit_table.failedExpiredLicenseAdd":"Failed to add a new license as it has either expired or not yet been started","audit_table.failedInvalidLicenseAdd":"Failed to add an invalid license","audit_table.failedLogin":"FAILED login attempt","audit_table.failedOAuthAccess":"Failed to allow a new OAuth service access - the redirect URI did not match the previously registered callback","audit_table.failedPassword":"Failed to change password - tried to update user password who was logged in through OAuth","audit_table.failedWebhookCreate":"Failed to create a webhook - bad channel permissions","audit_table.failedWebhookDelete":"Failed to delete a webhook - inappropriate conditions","audit_table.headerUpdated":"Updated the {channelName} channel header","audit_table.ip":"IP Address","audit_table.licenseRemoved":"Successfully removed a license","audit_table.loginAttempt":" (Login attempt)","audit_table.loginFailure":" (Login failure)","audit_table.logout":"Logged out of your account","audit_table.member":"member","audit_table.nameUpdated":"Updated the {channelName} channel name","audit_table.oauthTokenFailed":"Failed to get an OAuth access token - {token}","audit_table.revokedAll":"Revoked all current sessions for the team","audit_table.sentEmail":"Sent an email to {email} to reset your password","audit_table.session":"Session ID","audit_table.sessionRevoked":"The session with id {sessionId} was revoked","audit_table.successfullLicenseAdd":"Successfully added new license","audit_table.successfullLogin":"Successfully logged in","audit_table.successfullOAuthAccess":"Successfully gave a new OAuth service access","audit_table.successfullOAuthToken":"Successfully added a new OAuth service","audit_table.successfullPassword":"Successfully changed password","audit_table.successfullReset":"Successfully reset password","audit_table.successfullWebhookCreate":"Successfully created a webhook","audit_table.successfullWebhookDelete":"Successfully deleted a webhook","audit_table.timestamp":"Timestamp","audit_table.updatedRol":"Updated user role(s) to ","audit_table.updateGeneral":"Updated the general settings of your account","audit_table.updateGlobalNotifications":"Updated your global notification settings","audit_table.updatePicture":"Updated your profile picture","audit_table.userAdded":"Added {username} to the {channelName} channel","audit_table.userId":"User ID","audit_table.userRemoved":"Removed {username} to the {channelName} channel","audit_table.verified":"Successfully verified your email address","authorize.access":"Allow **{appName}** access?","authorize.allow":"Allow","authorize.app":"The app **{appName}** would like the ability to access and modify your basic information.","authorize.deny":"Deny","authorize.title":"Authorize **{appName}** to Connect to Your **Chatting** User Account","avatars.overflowUnnamedOnly":"{overflowUnnamedCount, plural, =1 {one other} other {# others}}","avatars.overflowUsers":"{overflowUnnamedCount, plural, =0 {{names}} =1 {{names} and one other} other {{names} and # others}}","backstage_list.search":"Search","backstage_navbar.backToChatting":"Back to {siteName}","backstage_sidebar.bots":"Bot Accounts","backstage_sidebar.emoji":"Custom Emoji","backstage_sidebar.integrations":"Integrations","backstage_sidebar.integrations.commands":"Slash Commands","backstage_sidebar.integrations.incoming_webhooks":"Incoming Webhooks","backstage_sidebar.integrations.oauthApps":"OAuth 2.0 Applications","backstage_sidebar.integrations.outgoing_webhooks":"Outgoing Webhooks","billing.subscription.info.headsup":"Just a heads up","billing.subscription.info.headsup.description":"You’re nearing the user limit with the free tier of Chatting Cloud. We’ll let you know if you hit that limit.","billing.subscription.info.mostRecentPaymentFailed":"Your most recent payment failed","billing.subscription.info.mostRecentPaymentFailed.description.avoidAnyDisruption":" to avoid any disruption.","billing.subscription.info.mostRecentPaymentFailed.description.mostRecentPaymentFailed":"It looks your most recent payment failed because the credit card on your account has expired. Please ","billing.subscription.info.mostRecentPaymentFailed.description.updatePaymentInformation":"update your payment information","bot.add.description":"Description","bot.add.description.help":"(Optional) Let others know what this bot does.","bot.add.display_name.help":"(Optional) You can choose to display your bot\'s full name rather than its username.","bot.add.post_all":"post:all","bot.add.post_all.enabled":"Enabled","bot.add.post_all.help":"Bot will have access to post to all Chatting channels including direct messages.","bot.add.post_channels":"post:channels","bot.add.post_channels.enabled":"Enabled","bot.add.post_channels.help":"Bot will have access to post to all Chatting public channels.","bot.add.role":"Role","bot.add.role.admin":"System Admin","bot.add.role.help":"Choose what role the bot should have.","bot.add.role.member":"Member","bot.add.username.help":"You can use lowercase letters, numbers, periods, dashes, and underscores.","bot.create_failed":"Failed to create bot","bot.create_token.close":"Close","bot.edit_failed":"Failed to edit bot","bot.manage.create_token":"Create New Token","bot.manage.disable":"Disable","bot.manage.enable":"Enable","bot.remove_profile_picture":"Remove Bot Icon","bot.token.default.description":"Default Token","bot.token.error.description":"Please enter a description.","bots.add.displayName":"Display Name","bots.add.icon":"Bot Icon","bots.add.username":"Username","bots.disabled":"Disabled","bots.image.upload":"Upload Image","bots.is_bot":"BOT","bots.manage.add":"Add Bot Account","bots.manage.add.cancel":"Cancel","bots.manage.add.create":"Create Bot Account","bots.manage.add.creating":"Creating...","bots.manage.add.invalid_last_char":"Bot usernames cannot have a period as the last character","bots.manage.add.invalid_username":"Usernames have to begin with a lowercase letter and be 3-22 characters long. You can use lowercase letters, numbers, periods, dashes, and underscores.","bots.manage.bot_accounts":"Bot Accounts","bots.manage.created.text":"Your bot account **{botname}** has been created successfully. Please use the following access token to connect to the bot (see [documentation](https://chatting.gomlo.me/pl/default-bot-accounts) for further details).","bots.manage.description":"Use bot accounts to integrate with Chatting through plugins or the API","bots.manage.edit":"Edit","bots.manage.edit.editing":"Updating...","bots.manage.edit.title":"Update","bots.manage.empty":"No bot accounts found","bots.manage.emptySearch":"No bot accounts match **{searchTerm}**","bots.manage.header":"Bot Accounts","bots.manage.help1":"Use {botAccounts} to integrate with Chatting through plugins or the API. Bot accounts are available to everyone on your server. ","bots.manage.help2":"Enable bot account creation in the [System Console]({siteURL}/admin_console/integrations/bot_accounts).","bots.manage.search":"Search Bot Accounts","bots.managed_by":"Managed by ","bots.token.confirm":"Delete","bots.token.confirm_text":"Are you sure you want to delete the token?","bots.token.delete":"Delete Token","call_button.menuAriaLabel":"Call type selector","center_panel.archived.closeChannel":"Close Channel","center_panel.direct.closeDirectMessage":"Close Direct Message","center_panel.direct.closeGroupMessage":"Close Group Message","change_url.close":"Close","change_url.endWithLetter":"URLs must end with a lowercase letter or number.","change_url.helpText":"You can use lowercase letters, numbers, dashes, and underscores.","change_url.invalidDirectMessage":"User IDs are not allowed in channel URLs.","change_url.invalidUrl":"Invalid URL","change_url.longer":"URLs must have at least 2 characters.","change_url.startAndEndWithLetter":"URLs must start and end with a lowercase letter or number.","change_url.startWithLetter":"URLs must start with a lowercase letter or number.","change_url.urlLabel":"Channel URL","channel_flow.alreadyExist":"A channel with that URL already exists","channel_flow.changeUrlTitle":"Change Channel URL","channel_flow.create":"Create Channel","channel_flow.handleTooShort":"Channel URL must be 2 or more lowercase alphanumeric characters","channel_flow.invalidName":"Invalid Channel Name","channel_flow.set_url_title":"Set Channel URL","channel_header.addChannelHeader":"Add a channel description","channel_header.channelFiles":"Channel files","channel_header.channelHasGuests":"This channel has guests","channel_header.channelMembers":"Members","channel_header.convert":"Convert to Private Channel","channel_header.delete":"Archive Channel","channel_header.directchannel.you":"{displayname} (you) ","channel_header.editLink":"Edit","channel_header.flagged":"Saved posts","channel_header.groupConstrained":"Members managed by linked groups.","channel_header.groupMessageHasGuests":"This group message has guests","channel_header.leave":"Leave Channel","channel_header.manageMembers":"Manage Members","channel_header.menuAriaLabel":"Channel Menu","channel_header.mute":"Mute Channel","channel_header.pinnedPosts":"Pinned posts","channel_header.recentMentions":"Recent mentions","channel_header.rename":"Rename","channel_header.search":"Search","channel_header.setHeader":"Edit Banner","channel_header.setPurpose":"Edit Purpose","channel_header.unarchive":"Unarchive Group","channel_header.unmute":"Unmute Group","channel_header.userHelpGuide":"Help","channel_header.viewMembers":"View Members","channel_info.about":"About","channel_info.header":"Header:","channel_info.id":"ID: ","channel_info.notFound":"No Channel Found","channel_info.purpose":"Purpose:","channel_info.url":"URL:","channel_invite.addNewMembers":"Add people to {channel}","channel_loader.posted":"Posted","channel_loader.postedImage":" posted an image","channel_loader.socketError":"Please check connection, Chatting unreachable. If issue persists, ask administrator to check WebSocket port.","channel_loader.someone":"Someone","channel_loader.something":" did something new","channel_loader.unknown_error":"We received an unexpected status code from the server.","channel_loader.uploadedFile":" uploaded a file","channel_loader.uploadedImage":" uploaded an image","channel_members_dropdown.channel_admin":"Admin","channel_members_dropdown.channel_admins":"Group Admins","channel_members_dropdown.channel_mod":"Mod","channel_members_dropdown.channel_mods":"Group Mods","channel_members_dropdown.channel_guest":"Guest","channel_members_dropdown.channel_member":"Member","channel_members_dropdown.channel_members":"Group Members","channel_members_dropdown.make_channel_admin":"Make as Admin","channel_members_dropdown.make_channel_admins":"Make as Admins","channel_members_dropdown.make_channel_mod":"Make as Mod","channel_members_dropdown.make_channel_mods":"Make as Mods","channel_members_dropdown.make_channel_member":"Make as Member","channel_members_dropdown.make_channel_members":"Make as Members","channel_members_dropdown.menuAriaLabel":"Change the role of channel member","channel_members_dropdown.remove_from_channel":"Kick user","channel_members_dropdown.shared_member":"Shared Member","channel_members_modal.addNew":" Add Members","channel_members_modal.members":" Members","channel_modal.cancel":"Cancel","channel_modal.createNew":"Create Channel","channel_modal.descriptionHelp":"Describe how this channel should be used.","channel_modal.displayNameError":"Display name must have at least 2 characters.","channel_modal.edit":"Edit","channel_modal.header":"Header","channel_modal.headerEx":"E.g.: \\"[Link Title](http://example.com)\\"","channel_modal.headerHelp":"Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).","channel_modal.modalTitle":"New Channel","channel_modal.name":"Name","channel_modal.nameEx":"E.g.: \\"Bugs\\", \\"Marketing\\", \\"客户支持\\"","channel_modal.optional":"(optional)","channel_modal.privateHint":" - Only invited members can join this channel","channel_modal.privateName":"Private","channel_modal.publicHint":" - Anyone can join this channel","channel_modal.publicName":"Public","channel_modal.purpose":"Purpose","channel_modal.purposeEx":"E.g.: \\"A channel to file bugs and improvements\\"","channel_modal.type":"Type","channel_notifications.allActivity":"For all activity","channel_notifications.globalDefault":"Global default ({notifyLevel})","channel_notifications.ignoreChannelMentions":"Ignore mentions for @group, @here and @all","channel_notifications.ignoreChannelMentions.help":"When enabled, @group, @here and @all will not trigger mentions or mention notifications in this channel.","channel_notifications.ignoreChannelMentions.off.title":"Off","channel_notifications.ignoreChannelMentions.on.title":"On","channel_notifications.levels.all":"All","channel_notifications.levels.default":"Default","channel_notifications.levels.mention":"Mention","channel_notifications.levels.none":"None","channel_notifications.muteChannel.help":"Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you\'re mentioned.","channel_notifications.muteChannel.off.title":"Off","channel_notifications.muteChannel.on.title":"On","channel_notifications.muteChannel.on.title.collapse":"Mute is enabled. Desktop, email and push notifications will not be sent for this channel.","channel_notifications.muteChannel.settings":"Mute channel","channel_notifications.never":"Never","channel_notifications.onlyMentions":"Only for mentions","channel_notifications.override":"Selecting an option other than \\"Default\\" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.","channel_notifications.overridePush":"Selecting an option other than \\"Global default\\" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.","channel_notifications.preferences":"Notification Preferences for ","channel_notifications.push":"Send mobile push notifications","channel_notifications.sendDesktop":"Send desktop notifications","channel_select.placeholder":"--- Select a channel ---","channel_switch_modal.deactivated":"Deactivated","channel_switch_modal.title":"Switch a chat","channel_toggle_button.private":"Private","channel_toggle_button.public":"Public","channelHeader.addToFavorites":"Add to Favorites","channelHeader.removeFromFavorites":"Remove from Favorites","channelHeader.unmute":"Unmute","claim.email_to_ldap.enterLdapPwd":"Enter the ID and password for your AD/LDAP account","claim.email_to_ldap.enterPwd":"Enter the password for your {site} email account","claim.email_to_ldap.ldapId":"AD/LDAP ID","claim.email_to_ldap.ldapIdError":"Please enter your AD/LDAP ID.","claim.email_to_ldap.ldapPasswordError":"Please enter your AD/LDAP password.","claim.email_to_ldap.ldapPwd":"AD/LDAP Password","claim.email_to_ldap.pwd":"Password","claim.email_to_ldap.pwdError":"Please enter your password.","claim.email_to_ldap.ssoNote":"You must already have a valid AD/LDAP account","claim.email_to_ldap.ssoType":"Upon claiming your account, you will only be able to login with AD/LDAP","claim.email_to_ldap.switchTo":"Switch Account to AD/LDAP","claim.email_to_ldap.title":"Switch Email/Password Account to AD/LDAP","claim.email_to_oauth.enterPwd":"Enter the password for your {site} account","claim.email_to_oauth.pwd":"Password","claim.email_to_oauth.pwdError":"Please enter your password.","claim.email_to_oauth.ssoNote":"You must already have a valid {type} account","claim.email_to_oauth.ssoType":"Upon claiming your account, you will only be able to login with {type} SSO","claim.email_to_oauth.switchTo":"Switch Account to {uiType}","claim.email_to_oauth.title":"Switch Email/Password Account to {uiType}","claim.ldap_to_email.confirm":"Confirm Password","claim.ldap_to_email.email":"After switching your authentication method, you will use {email} to login. Your AD/LDAP credentials will no longer allow access to Chatting.","claim.ldap_to_email.enterLdapPwd":"{ldapPassword}:","claim.ldap_to_email.enterPwd":"New email login password:","claim.ldap_to_email.ldapPasswordError":"Please enter your AD/LDAP password.","claim.ldap_to_email.ldapPwd":"AD/LDAP Password","claim.ldap_to_email.pwd":"Password","claim.ldap_to_email.pwdError":"Please enter your password.","claim.ldap_to_email.pwdNotMatch":"Passwords do not match.","claim.ldap_to_email.switchTo":"Switch account to email/password","claim.ldap_to_email.title":"Switch AD/LDAP Account to Email/Password","claim.oauth_to_email.confirm":"Confirm Password","claim.oauth_to_email.description":"Upon changing your account type, you will only be able to login with your email and password.","claim.oauth_to_email.enterNewPwd":"Enter a new password for your {site} email account","claim.oauth_to_email.enterPwd":"Please enter a password.","claim.oauth_to_email.newPwd":"New Password","claim.oauth_to_email.pwdNotMatch":"Passwords do not match.","claim.oauth_to_email.switchTo":"Switch {type} to Email and Password","claim.oauth_to_email.title":"Switch {type} Account to Email","cloud.upgrade.notrightnow":"Not right now","combined_system_message.added_to_channel.many_expanded":"{users} and {lastUser} were **added to the channel** by {actor}.","combined_system_message.added_to_channel.one":"{firstUser} **added to the channel** by {actor}.","combined_system_message.added_to_channel.one_you":"You were **added to the channel** by {actor}.","combined_system_message.added_to_channel.two":"{firstUser} and {secondUser} **added to the channel** by {actor}.","combined_system_message.added_to_team.many_expanded":"{users} and {lastUser} were **added to the team** by {actor}.","combined_system_message.added_to_team.one":"{firstUser} **added to the team** by {actor}.","combined_system_message.added_to_team.one_you":"You were **added to the team** by {actor}.","combined_system_message.added_to_team.two":"{firstUser} and {secondUser} **added to the team** by {actor}.","combined_system_message.joined_channel.many_expanded":"{users} and {lastUser} **joined the channel**.","combined_system_message.joined_channel.one":"{firstUser} **joined the channel**.","combined_system_message.joined_channel.one_you":"You **joined the channel**.","combined_system_message.joined_channel.two":"{firstUser} and {secondUser} **joined the channel**.","combined_system_message.joined_team.many_expanded":"{users} and {lastUser} **joined the team**.","combined_system_message.joined_team.one":"{firstUser} **joined the team**.","combined_system_message.joined_team.one_you":"You **joined the team**.","combined_system_message.joined_team.two":"{firstUser} and {secondUser} **joined the team**.","combined_system_message.left_channel.many_expanded":"{users} and {lastUser} **left the channel**.","combined_system_message.left_channel.one":"{firstUser} **left the channel**.","combined_system_message.left_channel.one_you":"You **left the channel**.","combined_system_message.left_channel.two":"{firstUser} and {secondUser} **left the channel**.","combined_system_message.left_team.many_expanded":"{users} and {lastUser} **left the team**.","combined_system_message.left_team.one":"{firstUser} **left the team**.","combined_system_message.left_team.one_you":"You **left the team**.","combined_system_message.left_team.two":"{firstUser} and {secondUser} **left the team**.","combined_system_message.removed_from_channel.many_expanded":"{users} and {lastUser} were **removed from the channel**.","combined_system_message.removed_from_channel.one":"{firstUser} was **removed from the channel**.","combined_system_message.removed_from_channel.one_you":"You were **removed from the channel**.","combined_system_message.removed_from_channel.two":"{firstUser} and {secondUser} were **removed from the channel**.","combined_system_message.removed_from_team.many_expanded":"{users} and {lastUser} were **removed from the team**.","combined_system_message.removed_from_team.one":"{firstUser} was **removed from the team**.","combined_system_message.removed_from_team.one_you":"You were **removed from the team**.","combined_system_message.removed_from_team.two":"{firstUser} and {secondUser} were **removed from the team**.","combined_system_message.you":"You","commercial_support.description":"If you\'re experiencing issues, [submit a support ticket.](!{supportLink})\\n \\n**Download Support Packet**\\n \\nWe recommend that you download additional environment details about your Chatting environment to help with troubleshooting. Once downloaded, attach the packet to your support ticket to share with our Customer Support team.","commercial_support.download_support_packet":"Download Support Packet","commercial_support.title":"Commercial Support","commercial_support.warning.banner":"Before downloading the support packet, set **Output Logs to File** to **true** and set **File Log Level** to **DEBUG** [here](!/admin_console/environment/logging).","confirm_modal.cancel":"Cancel","confirm.notification_sent_to_admin.modal_body":"A notification has been sent to your administrator.","confirm.notification_sent_to_admin.modal_done":"Done","confirm.notification_sent_to_admin.modal_title":"Thank you!","convert_channel.cancel":"No, cancel","convert_channel.confirm":"Yes, convert to private channel","convert_channel.question1":"When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.","convert_channel.question2":"The change is permanent and cannot be undone.","convert_channel.question3":"Are you sure you want to convert **{display_name}** to a private channel?","convert_channel.title":"Convert {display_name} to a Private Channel?","copy_url_context_menu.getChannelLink":"Copy Link","create_category_modal.create":"Create","create_category_modal.createCategory":"Create New Category","create_comment.addComment":"Add a comment...","create_comment.comment":"Add Comment","create_comment.commentTitle":"Comment","create_comment.file":"File uploading","create_comment.files":"Files uploading","create_post.comment":"Comment","create_post.deactivated":"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted.","create_post.error_message":"Your message is too long. Character count: {length}/{limit}","create_post.fileProcessing":"Processing...","create_post.icon":"Create a post","create_post.post":"Post","create_post.read_only":"This channel is read-only. Only members with permission can post here.","create_post.send_message":"Send a message","create_post.shortcutsNotSupported":"Keyboard shortcuts are not supported on your device.","create_post.tutorialTip.title":"Sending Messages","create_post.tutorialTip1":"Type here to write a message and press **Enter** to post it.","create_post.tutorialTip2":"Click the **Attachment** button to upload an image or a file.","create_post.write":"Write to {channelDisplayName}","create_team.agreement":"By proceeding to create your account and use {siteName}, you agree to our [Terms of Service]({TermsOfServiceLink}) and [Privacy Policy]({PrivacyPolicyLink}). If you do not agree, you cannot use {siteName}.","create_team.display_name.charLength":"Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description later.","create_team.display_name.nameHelp":"Name your team in any language. Your team name shows in menus and headings.","create_team.display_name.next":"Next","create_team.display_name.required":"This field is required","create_team.display_name.teamName":"Team Name","create_team.team_url.back":"Back to previous step","create_team.team_url.charLength":"Name must be {min} or more characters up to a maximum of {max}","create_team.team_url.creatingTeam":"Creating team...","create_team.team_url.finish":"Finish","create_team.team_url.hint1":"Short and memorable is best","create_team.team_url.hint2":"Use lowercase letters, numbers and dashes","create_team.team_url.hint3":"Must start with a letter and can\'t end in a dash","create_team.team_url.regex":"Use only lower case letters, numbers and dashes. Must start with a letter and can\'t end in a dash.","create_team.team_url.required":"This field is required","create_team.team_url.taken":"This URL [starts with a reserved word](!https://docs.chatting.gomlo.me/help/getting-started/creating-teams.html#team-url) or is unavailable. Please try another.","create_team.team_url.teamUrl":"Team URL","create_team.team_url.unavailable":"This URL is taken or unavailable. Please try another.","create_team.team_url.webAddress":"Choose the web address of your new team:","custom_emoji.header":"Custom Emoji","custom_status.modal_cancel":"Clear Status","custom_status.modal_confirm":"Set Status","custom_status.set_status":"Set a status","custom_status.suggestions.in_a_meeting":"In a meeting","custom_status.suggestions.on_a_vacation":"On a vacation","custom_status.suggestions.out_for_lunch":"Out for lunch","custom_status.suggestions.out_sick":"Out sick","custom_status.suggestions.recent_title":"RECENT","custom_status.suggestions.title":"SUGGESTIONS","custom_status.suggestions.working_from_home":"Working from home","date_separator.today":"Today","date_separator.yesterday":"Yesterday","deactivate_member_modal.deactivate":"Deactivate","deactivate_member_modal.desc":"This action deactivates {username}. They will be logged out and not have access to any teams or channels on this system.\\n","deactivate_member_modal.desc.confirm":" Are you sure you want to deactivate {username}?","deactivate_member_modal.desc.for_users_with_bot_accounts":"This action deactivates {username}.\\n \\n * They will be logged out and not have access to any teams or channels on this system.\\n * Bot accounts they manage will be disabled along with their integrations. To enable them again, go to [Integrations > Bot Accounts]({siteURL}/_redirect/integrations/bots). [Learn more about bot accounts](!https://chatting.gomlo.me/pl/default-bot-accounts).\\n \\n \\n","deactivate_member_modal.sso_warning":"You must also deactivate this user in the SSO provider or they will be reactivated on next login or sync.","deactivate_member_modal.title":"Deactivate {username}","default_channel.purpose":"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","delete_category_modal.delete":"Delete","delete_category_modal.deleteCategory":"Delete this category?","delete_category_modal.helpText":"Channels in **{category_name}** will move back to the Channels and Direct messages categories. You\'re not removed from any channels.","delete_channel.cancel":"Cancel","delete_channel.confirm":"Confirm ARCHIVE Channel","delete_channel.del":"Archive","delete_channel.question":"This will archive the channel from the team and remove it from the user interface. Archived channels can be unarchived if needed again. \\n \\nAre you sure you wish to archive the {display_name} channel?","delete_channel.viewArchived.question":"This will archive the channel from the team. Channel contents will still be accessible by channel members.\\n \\nAre you sure you wish to archive the **{display_name}** channel?","delete_post.cancel":"Cancel","delete_post.comment":"Comment","delete_post.confirm":"Confirm {term} Delete","delete_post.del":"Delete","delete_post.post":"Post","delete_post.question":"Are you sure you want to delete this {term}?","delete_post.warning":"This post has {count, number} {count, plural, one {comment} other {comments}} on it.","demote_to_user_modal.demote":"Demote","demote_to_user_modal.desc":"This action demotes the user {username} to a guest. It will restrict the user\'s ability to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to demote user {username} to guest?","demote_to_user_modal.title":"Demote User {username} to Guest","device_icons.android":"Android Icon","device_icons.apple":"Apple Icon","device_icons.linux":"Linux Icon","device_icons.windows":"Windows Icon","discard_changes_modal.leave":"Yes, Discard","discard_changes_modal.message":"You have unsaved changes, are you sure you want to discard them?","discard_changes_modal.title":"Discard Changes?","dnd_custom_time_picker_modal.date":"Date","dnd_custom_time_picker_modal.defaultMsg":"Disable notifications until","dnd_custom_time_picker_modal.submitButton":"Disable Notifications","dnd_custom_time_picker_modal.time":"Time","edit_category_modal.helpText":"Drag channels into this category to organize your sidebar.","edit_category_modal.placeholder":"Name your category","edit_channel_header_modal.cancel":"Cancel","edit_channel_header_modal.description":"Edit the text appearing next to the channel name in the channel header.","edit_channel_header_modal.error":"The text entered exceeds the character limit. The channel header is limited to {maxLength} characters.","edit_channel_header_modal.save":"Save","edit_channel_header_modal.title":"Edit Header for {channel}","edit_channel_header_modal.title_dm":"Edit Header","edit_channel_header.editHeader":"Edit the Channel Header...","edit_channel_header.previewHeader":"Edit Header","edit_channel_private_purpose_modal.body":"This text appears in the \\"View Info\\" modal of the private channel.","edit_channel_purpose_modal.body":"Describe how this channel should be used. This text appears in the channel list in the \\"More...\\" menu and helps others decide whether to join.","edit_channel_purpose_modal.cancel":"Cancel","edit_channel_purpose_modal.save":"Save","edit_channel_purpose_modal.title1":"Edit Purpose","edit_channel_purpose_modal.title2":"Edit Purpose for ","edit_command.update":"Update","edit_command.updating":"Updating...","edit_post.cancel":"Cancel","edit_post.edit":"Edit {title}","edit_post.editPost":"Edit the post...","edit_post.save":"Save","edit_post.time_limit_button.for_n_seconds":"For {n} seconds","edit_post.time_limit_button.no_limit":"Anytime","edit_post.time_limit_modal.description":"Setting a time limit **applies to all users** who have the \\"Edit Post\\" permissions in any permission scheme.","edit_post.time_limit_modal.invalid_time_limit":"Invalid time limit","edit_post.time_limit_modal.option_label_anytime":"Anytime","edit_post.time_limit_modal.option_label_time_limit.postinput":"seconds after posting","edit_post.time_limit_modal.option_label_time_limit.preinput":"Can edit for","edit_post.time_limit_modal.save_button":"Save Edit Time","edit_post.time_limit_modal.subscript":"Set the length of time users have to edit their messages after posting.","edit_post.time_limit_modal.title":"Configure Global Edit Post Time Limit","email_verify.almost":"{siteName}: You are almost done","email_verify.failed":" Failed to send verification email.","email_verify.notVerifiedBody":"Please verify your email address. Check your inbox for an email.","email_verify.resend":"Resend Email","email_verify.sent":" Verification email sent.","emoji_list.actions":"Actions","emoji_list.add":"Add Custom Emoji","emoji_list.creator":"Creator","emoji_list.delete":"Delete","emoji_list.delete.confirm.button":"Delete","emoji_list.delete.confirm.msg":"This action permanently deletes the custom emoji. Are you sure you want to delete it?","emoji_list.delete.confirm.title":"Delete Custom Emoji","emoji_list.empty":"No Custom Emoji Found","emoji_list.header":"Custom Emoji","emoji_list.help":"Custom emoji are available to everyone on your server. Type \':\' followed by two characters in a message box to bring up the emoji selection menu.","emoji_list.help2":"Tip: If you add #, ##, or ### as the first character on a new line containing emoji, you can use larger sized emoji. To try it out, send a message such as: \'# :smile:\'.","emoji_list.image":"Image","emoji_list.name":"Name","emoji_list.search":"Search Custom Emoji","emoji_picker_item.emoji_aria_label":"{emojiName} emoji","emoji_picker.activity":"Activity","emoji_picker.close":"Close","emoji_picker.custom":"Custom","emoji_picker.emojiPicker":"Emoji Picker","emoji_picker.flags":"Flags","emoji_picker.foods":"Foods","emoji_picker.header":"Emoji Picker","emoji_picker.nature":"Nature","emoji_picker.objects":"Objects","emoji_picker.people":"People","emoji_picker.places":"Places","emoji_picker.recent":"Recently Used","emoji_picker.search":"Search emojis","emoji_picker.search_emoji":"Search for an emoji","emoji_picker.searchResults":"Search Results","emoji_picker.symbols":"Symbols","error.channel_not_found.message":"The channel you\'re requesting is private or does not exist. Please contact an Administrator to be added to the channel.","error.channel_not_found.message_guest":"Your guest account has no channels assigned. Please contact an administrator.","error.channel_not_found.title":"Channel Not Found","error.channelNotFound.guest_link":"Back","error.channelNotFound.link":"Back to {defaultChannelName}","error.generic.link":"Back to {siteName}","error.generic.link_login":"Back to Login Page","error.generic.message":"An error has occurred.","error.generic.title":"Error","error.local_storage.help1":"Enable cookies","error.local_storage.help2":"Turn off private browsing","error.local_storage.help3":"Use a supported browser (IE 11, Chrome 61+, Firefox 60+, Safari 12+, Edge 42+)","error.local_storage.message":"Chatting was unable to load because a setting in your browser prevents the use of its local storage features. To allow Chatting to load, try the following actions:","error.local_storage.title":"Cannot Load Chatting","error.maxFreeUsersReached.description":"New users cannot be added to this workspace because it has reached the user limit for the free version of Chatting Cloud. The system administrator has been notified","error.maxFreeUsersReached.title":"This workspace has reached the user limit.","error.not_found.message":"The page you were trying to reach does not exist","error.not_found.title":"Page Not Found","error.oauth_access_denied":"You must authorize Chatting to log in with {service}.","error.oauth_access_denied.title":"Authorization Error","error.oauth_invalid_param.title":"OAuth Parameter Error","error.oauth_missing_code":"The service provider {service} did not provide an authorization code in the redirect URL.","error.oauth_missing_code.forum":"If you reviewed the above and are still having trouble with configuration, you may post in our {link} where we\'ll be happy to help with issues during setup.","error.oauth_missing_code.forum.link":"Troubleshooting forum","error.oauth_missing_code.gitlab":"For {link} please make sure you followed the setup instructions.","error.oauth_missing_code.gitlab.link":"GitLab","error.oauth_missing_code.google":"For {link} make sure your administrator enabled the Google+ API.","error.oauth_missing_code.google.link":"Google Apps","error.oauth_missing_code.office365":"For {link} make sure the administrator of your Microsoft organization has enabled the Chatting app.","error.oauth_missing_code.office365.link":"Office 365","error.oauth_missing_code.title":"Chatting Needs Your Help","error.plugin_not_found.desc":"The plugin you are looking for does not exist.","error.plugin_not_found.title":"Plugin Not Found","error.team_not_found.message":"The team you\'re requesting is private or does not exist. Please contact your Administrator for an invitation.","error.team_not_found.title":"Team Not Found","file_attachment.thumbnail":"file thumbnail","file_info_preview.size":"Size ","file_info_preview.type":"File type ","file_search_result_item.copy_link":"Copy link","file_search_result_item.download":"Download","file_search_result_item.more_actions":"More Actions","file_search_result_item.open_in_channel":"Open in channel","file_upload.disabled":"File attachments are disabled.","file_upload.drag_folder":"Folders cannot be uploaded. Please drag all files separately.","file_upload.fileAbove":"File above {max}MB cannot be uploaded: {filename}","file_upload.filesAbove":"Files above {max}MB cannot be uploaded: {filenames}","file_upload.generic_error":"There was a problem uploading your files.","file_upload.limited":"Uploads limited to {count, number} files maximum. Please use additional posts for more files.","file_upload.menuAriaLabel":"Upload type selector","file_upload.pasted":"Image Pasted at ","file_upload.upload_files":"Upload files","file_upload.zeroBytesFile":"You are uploading an empty file: {filename}","file_upload.zeroBytesFiles":"You are uploading empty files: {filenames}","filtered_channels_list.search":"Search channels","filtered_user_list.countTotal":"{count, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.countTotalPage":"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total","filtered_user_list.next":"Next","filtered_user_list.prev":"Previous","filtered_user_list.search":"Search users","filtered_user_list.team":"Team:","filtered_user_list.userStatus":"User Status:","flag_post.flag":"Save","flag_post.unflag":"Remove from Saved","full_screen_modal.back":"Back","full_screen_modal.close":"Close","general_button.close":"Close","general_button.esc":"Esc","general_tab.allowedDomains":"Allow only users with a specific email domain to join this team","general_tab.allowedDomains.ariaLabel":"Allowed Domains","general_tab.allowedDomainsEdit":"Click \'Edit\' to add an email domain whitelist.","general_tab.AllowedDomainsExample":"corp.chatting.gomlo.me, chatting.gomlo.me","general_tab.AllowedDomainsInfo":"Users can only join the team if their email matches a specific domain (e.g. \\"chatting.gomlo.me\\") or list of comma-separated domains (e.g. \\"corp.chatting.gomlo.me, chatting.gomlo.me\\").","general_tab.chooseDescription":"Please choose a new description for your team","general_tab.codeDesc":"Click \'Edit\' to regenerate Invite Code.","general_tab.codeLongDesc":"The Invite Code is part of the unique team invitation link which is sent to members you’re inviting to this team. Regenerating the code creates a new invitation link and invalidates the previous link.","general_tab.codeTitle":"Invite Code","general_tab.emptyDescription":"Click \'Edit\' to add a team description.","general_tab.getTeamInviteLink":"Get Team Invite Link","general_tab.no":"No","general_tab.openInviteDesc":"When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team. Changing from \\"Yes\\" to \\"No\\" will regenerate the  invitation code, create a new invitation link and invalidate the previous link.","general_tab.openInviteTitle":"Allow any user with an account on this server to join this team","general_tab.regenerate":"Regenerate","general_tab.required":"This field is required","general_tab.teamDescription":"Team Description","general_tab.teamDescriptionInfo":"Team description provides additional information to help users select the right team. Maximum of 50 characters.","general_tab.teamIcon":"Team Icon","general_tab.teamIconEditHint":"Click \'Edit\' to upload an image.","general_tab.teamIconEditHintMobile":"Click to upload an image","general_tab.teamIconError":"An error occurred while selecting the image.","general_tab.teamIconInvalidFileType":"Only BMP, JPG or PNG images may be used for team icons","general_tab.teamIconLastUpdated":"Image last updated {date}","general_tab.teamIconTooLarge":"Unable to upload team icon. File is too large.","general_tab.teamName":"Team Name","general_tab.teamNameInfo":"Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.","general_tab.teamNameRestrictions":"Team Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description.","general_tab.title":"General Settings","general_tab.yes":"Yes","generic_icons.add":"Add Icon","generic_icons.add-mail":"Add Mail Icon","generic_icons.add-reaction":"Add Reaction Icon","generic_icons.adminOnlyIcon":"Admin View Only Icon","generic_icons.alert":"Alert Icon","generic_icons.archive":"Archive Icon","generic_icons.arrow.down":"Down Arrow Icon","generic_icons.attach":"Attachment Icon","generic_icons.back":"Back Icon","generic_icons.bot":"Bot Icon","generic_icons.breadcrumb":"Breadcrumb Icon","generic_icons.camera":"Camera Icon","generic_icons.channel.arrow-right":"Arrow right","generic_icons.channel.draft":"Channel Draft Icon","generic_icons.channel.private":"Private Channel Icon","generic_icons.channel.public":"Public Channel Icon","generic_icons.close":"Close Icon","generic_icons.collapse":"Collapse Icon","generic_icons.download":"Download Icon","generic_icons.dropdown":"Dropdown Icon","generic_icons.edit":"Edit Icon","generic_icons.elipsisHorizontalIcon":"Ellipsis Horizontal Icon","generic_icons.expand":"Expand Icon","generic_icons.fail":"Faliure Icon","generic_icons.flag":"Save Icon","generic_icons.flagged":"Saved Icon","generic_icons.info":"Info Icon","generic_icons.invite":"Invite Icon","generic_icons.invite_members":"Invite Members Icon","generic_icons.link":"Link Icon","generic_icons.loading":"Loading Icon","generic_icons.logout":"Logout Icon","generic_icons.mail":"Mail Icon","generic_icons.chatting":"Chatting Logo","generic_icons.member":"Member Icon","generic_icons.mention":"Mention Icon","generic_icons.menu":"Menu Icon","generic_icons.message":"Message Icon","generic_icons.muted":"Muted Icon","generic_icons.next":"Next Icon","generic_icons.pin":"Pin Icon","generic_icons.plugin":"Plugin Icon","generic_icons.plugins":"Plugins","generic_icons.previous":"Previous Icon","generic_icons.reload":"Reload Icon","generic_icons.remove":"Remove Icon","generic_icons.reply":"Reply Icon","generic_icons.search":"Search Icon","generic_icons.select":"Select Icon","generic_icons.settings":"Settings Icon","generic_icons.success":"Success Icon","generic_icons.upload":"Upload Icon","generic_icons.userGuide":"Help","generic_icons.warning":"Warning Icon","generic_modal.cancel":"Cancel","generic_modal.confirm":"Confirm","generic.done":"Done","generic.next":"Next","generic.previous":"Previous","get_app.continueToBrowser":"View in Browser","get_app.dontHaveTheDesktopApp":"Don\'t have the Desktop App?","get_app.dontHaveTheMobileApp":"Don\'t have the Mobile App?","get_app.downloadTheAppNow":"Download the app now.","get_app.ifNothingPrompts":"You can view {siteName} in the desktop app or continue in your web browser.","get_app.ifNothingPromptsMobile":"You can view {siteName} in the mobile app or continue in your web browser.","get_app.launching":"Where would you like to view this?","get_app.openingLink":"Opening link in Chatting...","get_app.openingLinkWhiteLabel":"Opening link in the Desktop App...","get_app.openLinkInBrowser":"Or, [open this link in your browser.](!{link})","get_app.redirectedInMoments":"You will be redirected in a few moments.","get_app.rememberMyPreference":"Remember my preference","get_app.systemDialogMessage":"View in Desktop App","get_app.systemDialogMessageMobile":"View in App","get_link.clipboard":" Link copied","get_link.close":"Close","get_link.copy":"Copy Link","get_public_link_modal.help":"The link below allows anyone to see this file without being registered on this server.","get_public_link_modal.title":"Copy Public Link","gif_picker.gfycat":"Search Gfycat","globalThreads.heading":"Followed threads","globalThreads.noThreads.subtitle":"Any threads you are mentioned in or have participated in will show here along with any threads you have followed.","globalThreads.noThreads.title":"No followed threads yet","globalThreads.sidebarLink":"Threads","globalThreads.subtitle":"Threads you’re participating in will automatically show here","globalThreads.threadList.noUnreadThreads":"No unread threads","globalThreads.threadPane.unselectedTitle":"{numUnread, plural, =0 {Looks like you’re all caught up} other {Catch up on your threads}}","globalThreads.title":"{prefix}Threads - {displayName} {siteName}","group_list_modal.addGroupButton":"Add Groups","group_list_modal.removeGroupButton":"Remove Group","groups":"{team} Groups","help.attaching.downloading.description":"Download an attached file by clicking the download icon next to the file thumbnail or by opening the file previewer and clicking **Download**.","help.attaching.downloading.title":"Downloading Files","help.attaching.dragdrop.description":"Upload a file or selection of files by dragging the files from your computer into the right-hand sidebar or center pane. Dragging and dropping attaches the files to the message input box, then you can optionally type a message and press **ENTER** to post.","help.attaching.dragdrop.title":"Drag and Drop","help.attaching.icon.description":"Alternatively, upload files by clicking the grey paperclip icon inside the message input box. This opens up your system file viewer where you can navigate to the desired files and then click **Open** to upload the files to the message input box. Optionally type a message and then press **ENTER** to post.","help.attaching.icon.title":"Attachment Icon","help.attaching.limitations.description":"Chatting supports a maximum of five attached files per post, each with a maximum file size of 50Mb.","help.attaching.limitations.title":"File Size Limitations","help.attaching.methods.description":"Attach a file by drag and drop or by clicking the attachment icon in the message input box.","help.attaching.methods.title":"Attachment Methods","help.attaching.notSupported":"Document preview (Word, Excel, PPT) is not yet supported.","help.attaching.pasting.description":"On Chrome and Edge browsers, it is also possible to upload files by pasting them from the clipboard. This is not yet supported on other browsers.","help.attaching.pasting.title":"Pasting Images","help.attaching.previewer.description":"Chatting has a built in file previewer that is used to view media, download files and share public links. Click the thumbnail of an attached file to open it in the file previewer.","help.attaching.previewer.title":"File Previewer","help.attaching.publicLinks.description":"Public links allow you to share file attachments with people outside your Chatting team. Open the file previewer by clicking on the thumbnail of an attachment, then click **Get Public Link**. This opens a dialog box with a link to copy. When the link is shared and opened by another user, the file will automatically download.","help.attaching.publicLinks.title":"Sharing Public Links","help.attaching.publicLinks2":"If **Get Public Link** is not visible in the file previewer and you prefer the feature enabled, you can request that your System Admin enable the feature from the System Console under **Security** > **Public Links**.","help.attaching.supported.description":"If you are trying to preview a media type that is not supported, the file previewer will open a standard media attachment icon. Supported media formats depend heavily on your browser and operating system, but the following formats are supported by Chatting on most browsers:","help.attaching.supported.title":"Supported Media Types","help.attaching.supportedListItem1":"Images: BMP, GIF, JPG, JPEG, PNG","help.attaching.supportedListItem2":"Video: MP4","help.attaching.supportedListItem3":"Audio: MP3, M4A","help.attaching.supportedListItem4":"Documents: PDF","help.attaching.title":"Attaching Files","help.commands.builtin.description":"The following slash commands are available on all Chatting installations:","help.commands.builtin.title":"Built-in Commands","help.commands.builtin2":"Begin by typing `/` and a list of slash command options appears above the text input box. The autocomplete suggestions help by providing a format example in black text and a short description of the slash command in grey text.","help.commands.custom.description":"Custom slash commands integrate with external applications. For example, a team might configure a custom slash command to check internal health records with `/patient joe smith` or check the weekly weather forecast in a city with `/weather toronto week`. Check with your System Admin or open the autocomplete list by typing `/` to determine if your team configured any custom slash commands.","help.commands.custom.title":"Custom Commands","help.commands.custom2":"Custom slash commands are disabled by default and can be enabled by the System Admin in the **System Console** > **Integrations** > **Webhooks and Commands**. Learn about configuring custom slash commands on the [developer slash command documentation page](!http://docs.chatting.gomlo.me/developer/slash-commands.html).","help.commands.intro1":"Slash commands perform operations in Chatting by typing into the text input box. Enter a `/` followed by a command and some arguments to perform actions.","help.commands.intro2":"Built-in slash commands come with all Chatting installations and custom slash commands are configurable to interact with external applications. Learn about configuring custom slash commands on the [developer slash command documentation page](!http://docs.chatting.gomlo.me/developer/slash-commands.html).","help.commands.title":"Executing Commands","help.composing.deleting.description":"Delete a message by clicking the **[...]** icon next to any message text that you\'ve composed, then click **Delete**. System and Team Admins can delete any message on their system or team.","help.composing.deleting.title":"Deleting a message","help.composing.editing.description":"Edit a message by clicking the **[...]** icon next to any message text that you\'ve composed, then click **Edit**. After making modifications to the message text, press **ENTER** to save the modifications. Message edits do not trigger new @mention notifications, desktop notifications or notification sounds.","help.composing.editing.title":"Editing a Message","help.composing.linking.description":"The **Permalink** feature creates a link to any message. Sharing this link with other users in the channel lets them view the linked message in the Message Archives. Users who are not a member of the channel where the message was posted cannot view the permalink. Get the permalink to any message by clicking the **[...]** icon next to the message text > **Permalink** > **Copy Link**.","help.composing.linking.title":"Linking to a message","help.composing.posting.description":"Write a message by typing into the text input box, then press ENTER to send it. Use SHIFT+ENTER to create a new line without sending a message. To send messages by pressing CTRL+ENTER go to **Main Menu > Account Settings > Send messages on CTRL+ENTER**.","help.composing.posting.title":"Posting a Message","help.composing.posts.description":"Posts can be considered parent messages. They are the messages that often start a thread of replies. Posts are composed and sent from the text input box at the bottom of the center pane.","help.composing.posts.title":"Posts","help.composing.replies.description1":"Reply to a message by clicking the reply icon next to any message text. This action opens the right-hand sidebar where you can see the message thread, then compose and send your reply. Replies are indented slightly in the center pane to indicate that they are child messages of a parent post.","help.composing.replies.description2":"When composing a reply in the right-hand side, click the expand/collapse icon with two arrows at the top of the sidebar to make things easier to read.","help.composing.replies.title":"Replies","help.composing.title":"Sending Messages","help.composing.types.description":"Reply to posts to keep conversations organized in threads.","help.composing.types.title":"Message Types","help.formatting.checklist":"Make a task list by including square brackets:","help.formatting.checklistExample":"- [ ] Item one\\n- [ ] Item two\\n- [x] Completed item","help.formatting.code.description":"Create a code block by indenting each line by four spaces, or by placing ``` on the line above and below your code.","help.formatting.code.title":"Code Block","help.formatting.codeBlock":"Code block","help.formatting.emojis.description":"Open the emoji autocomplete by typing `:`. A full list of emojis can be found [here](!http://www.emoji-cheat-sheet.com/). It is also possible to create your own [Custom Emoji](!http://docs.chatting.gomlo.me/help/settings/custom-emoji.html) if the emoji you want to use doesn\'t exist.","help.formatting.emojis.title":"Emojis","help.formatting.example":"Example:","help.formatting.githubTheme":"**GitHub Theme**","help.formatting.headings.description":"Make a heading by typing # and a space before your title. For smaller headings, use more #\'s.","help.formatting.headings.title":"Headings","help.formatting.headings2":"Alternatively, you can underline the text using `===` or `---` to create headings.","help.formatting.headings2Example":"Large Heading\\n-------------","help.formatting.headingsExample":"## Large Heading\\n### Smaller Heading\\n#### Even Smaller Heading","help.formatting.images.description":"Create in-line images using an `!` followed by the alt text in square brackets and the link in normal brackets. Add hover text by placing it in quotes after the link.","help.formatting.images.title":"In-line Images","help.formatting.imagesExample":"![alt text]({siteURL}/static/images/logo-email.png \\"Chatting horizontal logo\\")\\n\\nand\\n\\n[![Atlassian](https://wac-cdn.atlassian.com/assets/img/favicons/atlassian/favicon.png)](https://travis-ci.org/mattermost/mattermost-server) [![Github](https://github.githubassets.com/favicon.ico)](https://github.com/mattermost/mattermost-server)","help.formatting.inline.description":"Create in-line monospaced font by surrounding it with backticks.","help.formatting.inline.title":"In-line Code","help.formatting.intro":"Markdown makes it easy to format messages. Type a message as you normally would, and use these rules to render it with special formatting.","help.formatting.lines.description":"Create a line by using three `*`, `_`, or `-`.","help.formatting.lines.title":"Lines","help.formatting.linkEx":"[Check out Chatting!](https://about.chatting.gomlo.me/)","help.formatting.links.description":"Create labeled links by putting the desired text in square brackets and the associated link in normal brackets.","help.formatting.links.title":"Links","help.formatting.listExample":"* list item one\\n* list item two\\n    * item two sub-point","help.formatting.lists.description":"Create a list by using `*` or `-` as bullets. Indent a bullet point by adding two spaces in front of it.","help.formatting.lists.title":"Lists","help.formatting.monokaiTheme":"**Monokai Theme**","help.formatting.ordered":"Make it an ordered list by using numbers instead:","help.formatting.orderedExample":"1. Item one\\n2. Item two","help.formatting.quotes.description":"Create block quotes using `>`.","help.formatting.quotes.title":"Block quotes","help.formatting.quotesExample":"`> block quotes` renders as:","help.formatting.quotesRender":"> block quotes","help.formatting.renders":"Renders as:","help.formatting.solirizedDarkTheme":"**Solarized Dark Theme**","help.formatting.solirizedLightTheme":"**Solarized Light Theme**","help.formatting.style.description":"You can use either `_` or `*` around a word to make it italic. Use two to make it bold.","help.formatting.style.listItem1":"`_italics_` renders as _italics_","help.formatting.style.listItem2":"`**bold**` renders as **bold**","help.formatting.style.listItem3":"`**_bold-italic_**` renders as **_bold-italics_**","help.formatting.style.listItem4":"`~~strikethrough~~` renders as ~~strikethrough~~","help.formatting.style.title":"Text Style","help.formatting.supportedSyntax":"Supported languages are: `as`, `applescript`, `osascript`, `scpt`, `bash`, `sh`, `zsh`, `clj`, `boot`, `cl2`, `cljc`, `cljs`, `cljs.hl`, `cljscm`, `cljx`, `hic`, `coffee`, `_coffee`, `cake`, `cjsx`, `cson`, `iced`, `cpp`, `c`, `cc`, `h`, `c++`, `h++`, `hpp`, `cs`, `csharp`, `css`, `d`, `di`, `dart`, `delphi`, `dpr`, `dfm`, `pas`, `pascal`, `freepascal`, `lazarus`, `lpr`, `lfm`, `diff`, `django`, `jinja`, `dockerfile`, `docker`, `erl`, `fortran`, `fsharp`, `fs`, `gcode`, `nc`, `go`, `groovy`, `handlebars`, `hbs`, `html.hbs`, `html.handlebars`, `hs`, `hx`, `java`, `jsp`, `js`, `jsx`, `json`, `jl`, `kt`, `ktm`, `kts`, `less`, `lisp`, `lua`, `mk`, `mak`, `md`, `mkdown`, `mkd`, `matlab`, `m`, `mm`, `objc`, `obj-c`, `ml`, `perl`, `pl`, `php`, `php3`, `php4`, `php5`, `php6`, `ps`, `ps1`, `pp`, `py`, `gyp`, `r`, `ruby`, `rb`, `gemspec`, `podspec`, `thor`, `irb`, `rs`, `scala`, `scm`, `sld`, `scss`, `st`, `styl`, `sql`, `swift`, `tex`, `vbnet`, `vb`, `bas`, `vbs`, `v`, `veo`, `xml`, `html`, `xhtml`, `rss`, `atom`, `xsl`, `plist`, `yaml`","help.formatting.syntax.description":"To add syntax highlighting, type the language to be highlighted after the ``` at the beginning of the code block. Chatting also offers four different code themes (GitHub, Solarized Dark, Solarized Light, Monokai) that can be changed in **Account Settings** > **Display** > **Theme** > **Custom Theme** > **Center Channel Styles**","help.formatting.syntax.title":"Syntax Highlighting","help.formatting.syntaxEx":"```goAA\\npackage main\\nimport \\"fmt\\"\\nfunc main() {\\n    fmt.Println(\\"Hello, 世界\\")\\n}\\n```","help.formatting.tableExample":"| Left-Aligned  | Center Aligned  | Right Aligned |\\n| :------------ |:---------------:| -----:|\\n| Left column 1 | this text       |  $100 |\\n| Left column 2 | is              |   $10 |\\n| Left column 3 | centered        |    $1 |","help.formatting.tables.description":"Create a table by placing a dashed line under the header row and separating the columns with a pipe `|`. (The columns don\'t need to line up exactly for it to work). Choose how to align table columns by including colons `:` within the header row.","help.formatting.tables.title":"Tables","help.formatting.title":"Formatting Text","help.learnMore":"Learn more about:","help.link.attaching":"Attaching Files","help.link.commands":"Executing Commands","help.link.composing":"Composing Messages and Replies","help.link.formatting":"Formatting Messages Using Markdown","help.link.mentioning":"Mentioning Teammates","help.link.messaging":"Basic Messaging","help.mentioning.channel.description":"You can mention an entire channel by typing `@group`. All members of the channel will receive a mention notification that behaves the same way as if the members had been mentioned personally.","help.mentioning.channel.title":"@group","help.mentioning.channelExample":"@group great work on interviews this week. I think we found some excellent potential candidates!","help.mentioning.mentions.description":"Use @mentions to get the attention of specific team members.","help.mentioning.mentions.title":"@Mentions","help.mentioning.recent.description":"Click `@` next to the search box to query for your most recent @mentions and words that trigger mentions. Click **Jump** next to a search result in the right-hand sidebar to jump the center pane to the channel and location of the message with the mention.","help.mentioning.recent.title":"Recent Mentions","help.mentioning.title":"Mentioning Teammates","help.mentioning.triggers.description":"In addition to being notified by @username and @group, you can customize words that trigger mention notifications in **Account Settings** > **Notifications** > **Words that trigger mentions**. By default, you will receive mention notifications on your first name, and you can add more words by typing them into the input box separated by commas. This is useful if you want to be notified of all posts on certain topics, for example, \\"interviewing\\" or \\"marketing\\".","help.mentioning.triggers.title":"Words That Trigger Mentions","help.mentioning.username.description1":"You can mention a teammate by using the `@` symbol plus their username to send them a mention notification.","help.mentioning.username.description2":"Type `@` to bring up a list of team members who can be mentioned. To filter the list, type the first few letters of any username, first name, last name, or nickname. The **Up** and **Down** arrow keys can then be used to scroll through entries in the list, and pressing **ENTER** will select which user to mention. Once selected, the username will automatically replace the full name or nickname. The following example sends a special mention notification to **alice** that alerts her of the channel and message where she has been mentioned. If **alice** is away from Chatting and has [email notifications](!http://docs.chatting.gomlo.me/help/getting-started/configuring-notifications.html#email-notifications) turned on, then she will receive an email alert of her mention along with the message text.","help.mentioning.username.title":"@Username","help.mentioning.usernameCont":"If the user you mentioned does not belong to the channel, a System Message will be posted to let you know. This is a temporary message only seen by the person who triggered it. To add the mentioned user to the channel, go to the dropdown menu beside the channel name and select **Add Members**.","help.mentioning.usernameExample":"@alice how did your interview go with the new candidate?","help.messaging.attach":"**Attach files** by dragging and dropping into Chatting or clicking the attachment icon in the text input box.","help.messaging.emoji":"**Quickly add emoji** by typing \\":\\", which will open an emoji autocomplete. If the existing emoji don\'t cover what you want to express, you can also create your own [Custom Emoji](!http://docs.chatting.gomlo.me/help/settings/custom-emoji.html).","help.messaging.format":"**Format your messages** using Markdown that supports text styling, headings, links, emoticons, code blocks, block quotes, tables, lists and in-line images.","help.messaging.notify":"**Notify teammates** when they are needed by typing `@username`.","help.messaging.reply":"**Reply to messages** by clicking the reply arrow next to the message text.","help.messaging.title":"Messaging Basics","help.messaging.write":"**Write messages** using the text input box at the bottom of Chatting. Press ENTER to send a message. Use SHIFT+ENTER to create a new line without sending a message.","inProduct_notices.adminOnlyMessage":"Visible to Admins only","input.clear":"Clear","installed_command.header":"Slash Commands","installed_commands.add":"Add Slash Command","installed_commands.delete.confirm":"This action permanently deletes the slash command and breaks any integrations using it. Are you sure you want to delete it?","installed_commands.empty":"No commands found","installed_commands.emptySearch":"No commands match **{searchTerm}**","installed_commands.header":"Slash Commands","installed_commands.help":"Use slash commands to connect external tools to Chatting. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.","installed_commands.help.appDirectory":"App Directory","installed_commands.help.buildYourOwn":"Build Your Own","installed_commands.search":"Search Slash Commands","installed_commands.unnamed_command":"Unnamed Slash Command","installed_incoming_webhooks.add":"Add Incoming Webhook","installed_incoming_webhooks.delete.confirm":"This action permanently deletes the incoming webhook and breaks any integrations using it. Are you sure you want to delete it?","installed_incoming_webhooks.empty":"No incoming webhooks found","installed_incoming_webhooks.emptySearch":"No incoming webhooks match **{searchTerm}**","installed_incoming_webhooks.header":"Incoming Webhooks","installed_incoming_webhooks.help":"Use incoming webhooks to connect external tools to Chatting. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.","installed_incoming_webhooks.help.appDirectory":"App Directory","installed_incoming_webhooks.help.buildYourOwn":"Build Your Own","installed_incoming_webhooks.search":"Search Incoming Webhooks","installed_incoming_webhooks.unknown_channel":"A Private Webhook","installed_integrations.callback_urls":"Callback URLs: {urls}","installed_integrations.client_id":"Client ID: **{clientId}**","installed_integrations.client_secret":"Client Secret: **{clientSecret}**","installed_integrations.content_type":"Content-Type: {contentType}","installed_integrations.creation":"Created by {creator} on {createAt, date, full}","installed_integrations.delete":"Delete","installed_integrations.edit":"Edit","installed_integrations.fromApp":"Managed by Apps Framework","installed_integrations.hideSecret":"Hide Secret","installed_integrations.regenSecret":"Regenerate Secret","installed_integrations.regenToken":"Regenerate Token","installed_integrations.showSecret":"Show Secret","installed_integrations.token":"Token: {token}","installed_integrations.triggerWhen":"Trigger When: {triggerWhen}","installed_integrations.triggerWords":"Trigger Words: {triggerWords}","installed_integrations.unnamed_oauth_app":"Unnamed OAuth 2.0 Application","installed_integrations.url":"URL: {url}","installed_oauth_apps.add":"Add OAuth 2.0 Application","installed_oauth_apps.callbackUrls":"Callback URLs (One Per Line)","installed_oauth_apps.cancel":"Cancel","installed_oauth_apps.delete.confirm":"This action permanently deletes the OAuth 2.0 application and breaks any integrations using it. Are you sure you want to delete it?","installed_oauth_apps.description":"Description","installed_oauth_apps.empty":"No OAuth 2.0 Applications found","installed_oauth_apps.emptySearch":"No OAuth 2.0 Applications match **{searchTerm}**","installed_oauth_apps.header":"OAuth 2.0 Applications","installed_oauth_apps.help":"Create {oauthApplications} to securely integrate bots and third-party apps with Chatting. Visit the {appDirectory} to find available self-hosted apps.","installed_oauth_apps.help.appDirectory":"App Directory","installed_oauth_apps.help.oauthApplications":"OAuth 2.0 applications","installed_oauth_apps.homepage":"Homepage","installed_oauth_apps.iconUrl":"Icon URL","installed_oauth_apps.is_trusted":"Is Trusted: **{isTrusted}**","installed_oauth_apps.name":"Display Name","installed_oauth_apps.save":"Save","installed_oauth_apps.saving":"Saving...","installed_oauth_apps.search":"Search OAuth 2.0 Applications","installed_oauth_apps.trusted":"Is Trusted","installed_oauth_apps.trusted.no":"No","installed_oauth_apps.trusted.yes":"Yes","installed_outgoing_webhooks.add":"Add Outgoing Webhook","installed_outgoing_webhooks.delete.confirm":"This action permanently deletes the outgoing webhook and breaks any integrations using it. Are you sure you want to delete it?","installed_outgoing_webhooks.empty":"No outgoing webhooks found","installed_outgoing_webhooks.emptySearch":"No outgoing webhooks match **{searchTerm}**","installed_outgoing_webhooks.header":"Outgoing Webhooks","installed_outgoing_webhooks.help":"Use outgoing webhooks to connect external tools to Chatting. {buildYourOwn} or visit the {appDirectory} to find self-hosted, third-party apps and integrations.","installed_outgoing_webhooks.help.appDirectory":"App Directory","installed_outgoing_webhooks.help.buildYourOwn":"Build your own","installed_outgoing_webhooks.search":"Search Outgoing Webhooks","installed_outgoing_webhooks.unknown_channel":"A Private Webhook","integrations.add":"Add","integrations.command.description":"Slash commands send events to external integrations","integrations.command.title":"Slash Commands","integrations.delete.confirm.button":"Delete","integrations.delete.confirm.title":"Delete Integration","integrations.done":"Done","integrations.edit":"Edit","integrations.header":"Integrations","integrations.help":"Visit the {appDirectory} to find self-hosted, third-party apps and integrations for Chatting.","integrations.help.appDirectory":"App Directory","integrations.incomingWebhook.description":"Incoming webhooks allow external integrations to send messages","integrations.incomingWebhook.title":"Incoming Webhooks","integrations.oauthApps.description":"OAuth 2.0 allows external applications to make authorized requests to the Chatting API","integrations.oauthApps.title":"OAuth 2.0 Applications","integrations.outgoingWebhook.description":"Outgoing webhooks allow external integrations to receive and respond to messages","integrations.outgoingWebhook.title":"Outgoing Webhooks","integrations.successful":"Setup Successful","interactive_dialog.cancel":"Cancel","interactive_dialog.element.optional":"(optional)","interactive_dialog.submit":"Submit","interactive_dialog.submitting":"Submitting...","intro_messages.addGroupsToTeam":"Add other groups to this team","intro_messages.anyMember":" Any member can join and read this channel.","intro_messages.beginning":"Beginning of {name}","intro_messages.creator":"This is the start of the {name} channel, created by {creator} on {date}.","intro_messages.creatorPrivate":"This is the start of the {name} private channel, created by {creator} on {date}.","intro_messages.default":"**Welcome to {display_name}!**\\n \\nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.DM":"This is the start of your direct message history with {teammate}.\\nDirect messages and files shared here are not shown to people outside this area.","intro_messages.GM":"This is the start of your group message history with {names}.\\nMessages and files shared here are not shown to people outside this area.","intro_messages.group_message":"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area.","intro_messages.inviteGropusToChannel.button":"Add groups to this private channel","intro_messages.inviteMembersToChannel.button":"Add members to this channel","intro_messages.inviteMembersToPrivateChannel.button":"Add members to this private channel","intro_messages.inviteOthers":"Invite others to this team","intro_messages.inviteOthersToWorkspace.button":"Invite others to the workspace","intro_messages.inviteOthersToWorkspace.title":"Let’s add some people to the workspace!","intro_messages.noCreator":"This is the start of the {name} channel, created on {date}.","intro_messages.noCreatorPrivate":"This is the start of the {name} private channel, created on {date}.","intro_messages.offTopic":"This is the start of {display_name}, a channel for non-work-related conversations.","intro_messages.onlyInvited":" Only invited members can see this private channel.","intro_messages.purpose":" This channel\'s purpose is: {purpose}","intro_messages.purposePrivate":" This private channel\'s purpose is: {purpose}","intro_messages.readonly.default":"**Welcome to {display_name}!**\\n \\nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.","intro_messages.setHeader":"Set a Header","intro_messages.teammate":"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area.","invitation_modal.confirm.done":"Done","invitation_modal.confirm.guests_title":"**Guests** Invited to **{teamName}**","invitation_modal.confirm.members_subtitle":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_not_sent":"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited","invitation_modal.confirm.members_subtitle_without_sent":"**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent","invitation_modal.confirm.members_subtitle_without_sent_and_not_sent":"No invitation sent","invitation_modal.confirm.members_title":"**Members** Invited to **{teamName}**","invitation_modal.confirm.not-sent-header":"Invitations Not Sent","invitation_modal.confirm.sent-header":"Successful Invites","invitation_modal.guests.add_channels.placeholder":"Search and add channels","invitation_modal.guests.add_channels.title":"Search and Add Channels","invitation_modal.guests.add_people.description":"Add existing guests or send email invites to new guests.","invitation_modal.guests.add_people.description-email-disabled":"Add existing guests.","invitation_modal.guests.add_people.title":"Invite People","invitation_modal.guests.add-channels.description":"Specify the channels the guests have access to.","invitation_modal.guests.custom-message.description":"Create a custom message to make your invite more personal.","invitation_modal.guests.custom-message.link":"Set a custom message","invitation_modal.guests.custom-message.title":"Custom message","invitation_modal.guests.invite_button":"Invite Guests","invitation_modal.guests.search-and-add.placeholder":"Add guests or email addresses","invitation_modal.guests.search-and-add.placeholder-email-disabled":"Add guests","invitation_modal.guests.title":"Invite **Guests** to {teamName}","invitation_modal.guests.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.guests.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.guests.users_emails_input.valid_email":"Invite **{email}** as a guest","invitation_modal.invite_guests.description":"Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of.","invitation_modal.invite_guests.title":"Invite **Guests**","invitation_modal.invite_members.description":"Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.description-email-disabled":"Invite new team members with a link. Team members have access to messages and files in open teams and public channels.","invitation_modal.invite_members.exceeded_max_add_members_batch":"No more than **{text}** people can be invited at once","invitation_modal.invite_members.hit_cloud_user_limit":"You can only invite **{num} more {num, plural, one {member} other {members}}** to the team on the free tier.","invitation_modal.invite_members.title":"Invite **Members**","invitation_modal.invite.more":"Invite More People","invitation_modal.members.invite_button":"Invite Members","invitation_modal.members.or":"OR","invitation_modal.members.search_and_add.title":"Add or Invite People","invitation_modal.members.search-and-add.description":"Add existing members or send email invites to new members.","invitation_modal.members.search-and-add.description-email-disabled":"Add existing members to this team.","invitation_modal.members.search-and-add.placeholder":"Add members or email addresses","invitation_modal.members.search-and-add.placeholder-email-disabled":"Add members","invitation_modal.members.share_link.copy_button":"Copy Link","invitation_modal.members.share_link.description":"Share this link to invite people to this team.","invitation_modal.members.share_link.input":"team invite link","invitation_modal.members.share_link.link_copied":"Link Copied","invitation_modal.members.share_link.title":"Share This Link","invitation_modal.members.title":"Invite **Members** to {teamName}","invitation_modal.members.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email to invite","invitation_modal.members.users_emails_input.no_user_found_matching-email-disabled":"No one found matching **{text}**","invitation_modal.members.users_emails_input.valid_email":"Invite **{email}** as a team member","invitation_modal.title":"Invite people to **{teamName}**","invitation-modal.confirm.details-header":"Details","invitation-modal.confirm.not-valid-channel":"Does not match a valid channel name.","invitation-modal.confirm.not-valid-user-or-email":"Does not match a valid user or email.","invitation-modal.confirm.people-header":"People","invitation-modal.discard-changes.button":"Yes, Discard","invitation-modal.discard-changes.message":"You have unsent invitations, are you sure you want to discard them?","invitation-modal.discard-changes.title":"Discard Changes","invitation-modal.notify-admin.failed":"Failed. Try again later.","invitation-modal.notify-admin.notify":"Notify the admin.","invitation-modal.notify-admin.sending":"Sending...","invitation-modal.notify-admin.sent":"Sent!","invite.guests.added-to-channel":"An invitation email has been sent.","invite.guests.already-all-channels-member":"This person is already a member of all the channels.","invite.guests.already-some-channels-member":"This person is already a member of some of the channels.","invite.guests.new-member":"This guest has been added to the team and {count, plural, one {channel} other {channels}}.","invite.guests.unable-to-add-the-user-to-the-channels":"Unable to add the guest to the channels.","invite.members.added-to-team":"This member has been added to the team.","invite.members.already-member":"This person is already a team member.","invite.members.invite-sent":"An invitation email has been sent.","invite.members.unable-to-add-the-user-to-the-team":"Unable to add the user to the team.","invite.members.user-is-guest":"Contact your admin to make this guest a full member.","invite.members.user-is-not-guest":"This person is already a member.","invite.rate-limit-exceeded":"Invite emails rate limit exceeded.","join_team_group_constrained_denied":"You need to be a member of a linked group to join this team.","join_team_group_constrained_denied_admin":"You need to be a member of a linked group to join this team. You can add a group to this team [here]({siteURL}/admin_console/user_management/groups).","katex.error":"Couldn\'t compile your Latex code. Please review the syntax and try again.","last_users_message.added_to_channel.type":"were **added to the channel** by {actor}.","last_users_message.added_to_team.type":"were **added to the team** by {actor}.","last_users_message.first":"{firstUser} and ","last_users_message.joined_channel.type":"**joined the channel**.","last_users_message.joined_team.type":"**joined the team**.","last_users_message.left_channel.type":"**left the channel**.","last_users_message.left_team.type":"**left the team**.","last_users_message.others":"{numOthers} others ","last_users_message.removed_from_channel.type":"were **removed from the channel**.","last_users_message.removed_from_team.type":"were **removed from the team**.","leave_private_channel_modal.leave":"Yes, leave channel","leave_private_channel_modal.message":"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.","leave_private_channel_modal.title":"Leave Private Channel {channel}","leave_team_modal_guest_only_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest_only_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} on this team.** You won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_guest.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** You won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal_private.desc":"**You will be removed from {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels} } on this team.** If the team is private you won\'t be able to rejoin it the team without an invitation from another team member. Are you sure?","leave_team_modal_public.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels} } on this team.** Are you sure?","leave_team_modal.desc":"**You will be removed from {num_of_public_channels} public { num_of_public_channels,plural,one {channel} other {channels}} and {num_of_private_channels} private { num_of_private_channels,plural,one {channel} other {channels}} on this team.** If the team is private you won\'t be able to rejoin it without an invitation from another team member. Are you sure?","leave_team_modal.no":"No","leave_team_modal.title":"Leave the team?","leave_team_modal.yes":"Yes","list_modal.paginatorCount":"{startCount, number} - {endCount, number} of {total, number} total","loading_screen.loading":"Loading","local":"local","login_mfa.enterToken":"To complete the sign in process, please enter a token from your smartphone\'s authenticator","login_mfa.submit":"Submit","login_mfa.submitting":"Submitting...","login_mfa.token":"MFA Token","login.changed":" Sign-in method changed successfully","login.create":"Create one now.","login.createTeam":"Create a team","login.email":"Email","login.forgot":"I forgot my password.","login.get_terms_error":"Unable to load terms of service. If this issue persists, contact your System Administrator.","login.gitlab":"GitLab","login.google":"Google Apps","login.invalidPassword":"Your password is incorrect.","login.ldapCreate":" Enter your AD/LDAP username and password to create an account.","login.ldapUsername":"AD/LDAP Username","login.ldapUsernameLower":"AD/LDAP username","login.noAccount":"Don\'t have an account? ","login.noEmail":"Please enter your email","login.noEmailLdapUsername":"Please enter your email or {ldapUsername}","login.noEmailUsername":"Please enter your email or username","login.noEmailUsernameLdapUsername":"Please enter your email, username or {ldapUsername}","login.noLdapUsername":"Please enter your {ldapUsername}","login.noMethods":"No sign-in methods are enabled. Please contact your System Administrator.","login.noPassword":"Please enter your password","login.noUsername":"Please enter your username","login.noUsernameLdapUsername":"Please enter your username or {ldapUsername}","login.office365":"Office 365","login.openid":"Open ID","login.or":"or","login.password":"Password","login.passwordChanged":" Password updated successfully","login.placeholderOr":" or ","login.session_expired":"Your session has expired. Please log in again.","login.session_expired.notification":"Session Expired: Please sign in to continue receiving notifications.","login.session_expired.title":"* {siteName} - Session Expired","login.signIn":"Sign in","login.signInLoading":"Signing in...","login.signInWith":"Sign in with:","login.terms_rejected":"You must agree to the terms of service before accessing {siteName}. Please contact your System Administrator for more details.","login.username":"Username","login.userNotFound":"We couldn\'t find an account matching your login credentials.","login.verified":" Email Verified","manage_channel_groups_modal.search_placeholder":"Search groups","manage_team_groups_modal.search_placeholder":"Search groups","marketplace_list.count_total_page":"{startCount, number} - {endCount, number} {total, plural, one {plugin} other {plugins}} of {total, number} total","marketplace_modal.install_plugins":"Install Plugins","marketplace_modal.installing":"Installing...","marketplace_modal.list.configure":"Configure","marketplace_modal.list.install":"Install","marketplace_modal.list.installed":"Installed","marketplace_modal.list.try_again":"Try Again","marketplace_modal.list.update":"Update","marketplace_modal.list.update_available":"Update available:","marketplace_modal.list.update_confirmation.confirm_button":"Update","marketplace_modal.list.update_confirmation.message.current":"You currently have {installedVersion} installed.","marketplace_modal.list.update_confirmation.message.current_with_release_notes":"You currently have {installedVersion} installed. View the [release notes](!{releaseNotesUrl}) to learn about the changes included in this update.","marketplace_modal.list.update_confirmation.message.intro":"Are you sure you want to update the {name} plugin to {version}?","marketplace_modal.list.update_confirmation.message.warning_major_version":"This update may contain breaking changes.","marketplace_modal.list.update_confirmation.message.warning_major_version_with_release_notes":"This update may contain breaking changes. Consult the [release notes](!{releaseNotesUrl}) before upgrading.","marketplace_modal.list.update_confirmation.title":"Confirm Plugin Update","marketplace_modal.no_plugins":"There are no plugins available at this time.","marketplace_modal.no_plugins_installed":"You do not have any plugins installed.","marketplace_modal.search":"Search Marketplace","marketplace_modal.tabs.all_listing":"All","marketplace_modal.tabs.installed_listing":"Installed","marketplace_modal.title":"Marketplace","members_popover.button.message":"message","members_popover.manageMembers":"Manage Members","members_popover.title":"Channel Members","members_popover.viewMembers":"View Members","message_submit_error.invalidCommand":"Command with a trigger of \'\'{command}\'\' not found. ","message_submit_error.sendAsMessageLink":"Click here to send as a message.","mfa.confirm.complete":"**Set up complete!**","mfa.confirm.okay":"Okay","mfa.confirm.secure":"Your account is now secure. Next time you sign in, you will be asked to enter a code from the Google Authenticator app on your phone.","mfa.setup.badCode":"Invalid code. If this issue persists, contact your System Administrator.","mfa.setup.code":"MFA Code","mfa.setup.codeError":"Please enter the code from Google Authenticator.","mfa.setup.required":"**Multi-factor authentication is required on {siteName}.**","mfa.setup.save":"Save","mfa.setup.secret":"Secret: {secret}","mfa.setup.step1":"**Step 1: **On your phone, download Google Authenticator from [iTunes](!https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8\') or [Google Play](!https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en)","mfa.setup.step2":"**Step 2: **Use Google Authenticator to scan this QR code, or manually type in the secret key","mfa.setup.step3":"**Step 3: **Enter the code generated by Google Authenticator","mfa.setupTitle":"Multi-factor Authentication Setup","mobile.set_status.away.icon":"Away Icon","mobile.set_status.dnd.icon":"Do Not Disturb Icon","mobile.set_status.offline.icon":"Offline Icon","mobile.set_status.online.icon":"Online Icon","modal.manual_status.ask":"Do not ask me again","modal.manual_status.auto_responder.message_":"Would you like to switch your status to \\"{status}\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_away":"Would you like to switch your status to \\"Away\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_dnd":"Would you like to switch your status to \\"Do Not Disturb\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_offline":"Would you like to switch your status to \\"Offline\\" and disable Automatic Replies?","modal.manual_status.auto_responder.message_online":"Would you like to switch your status to \\"Online\\" and disable Automatic Replies?","modal.manual_status.button_":"Yes, set my status to \\"{status}\\"","modal.manual_status.button_away":"Yes, set my status to \\"Away\\"","modal.manual_status.button_dnd":"Yes, set my status to \\"Do Not Disturb\\"","modal.manual_status.button_offline":"Yes, set my status to \\"Offline\\"","modal.manual_status.button_online":"Yes, set my status to \\"Online\\"","modal.manual_status.cancel_":"No, keep it as \\"{status}\\"","modal.manual_status.cancel_away":"No, keep it as \\"Away\\"","modal.manual_status.cancel_dnd":"No, keep it as \\"Do Not Disturb\\"","modal.manual_status.cancel_offline":"No, keep it as \\"Offline\\"","modal.manual_status.cancel_ooo":"No, keep it as \\"Out of Office\\"","modal.manual_status.message_":"Would you like to switch your status to \\"{status}\\"?","modal.manual_status.message_away":"Would you like to switch your status to \\"Away\\"?","modal.manual_status.message_dnd":"Would you like to switch your status to \\"Do Not Disturb\\"?","modal.manual_status.message_offline":"Would you like to switch your status to \\"Offline\\"?","modal.manual_status.message_online":"Would you like to switch your status to \\"Online\\"?","modal.manual_status.title_":"Your Status is Set to \\"{status}\\"","modal.manual_status.title_away":"Your Status is Set to \\"Away\\"","modal.manual_status.title_dnd":"Your Status is Set to \\"Do Not Disturb\\"","modal.manual_status.title_offline":"Your Status is Set to \\"Offline\\"","modal.manual_status.title_ooo":"Your Status is Set to \\"Out of Office\\"","more_channels.create":"Create Channel","more_channels.createClick":"Click \'Create New Channel\' to make a new one","more_channels.joining":"Joining...","more_channels.next":"Next","more_channels.noMore":"No more channels to join","more_channels.prev":"Previous","more_channels.show_archived_channels":"Show: Archived Channels","more_channels.show_public_channels":"Show: Public Channels","more_channels.title":"More Channels","more_direct_channels.directchannel.deactivated":"{displayname} - Deactivated","more_direct_channels.directchannel.you":"{displayname} (you)","more_direct_channels.new_convo_note":"This will start a new conversation. If you\'re adding a lot of people, consider creating a private channel instead.","more_direct_channels.new_convo_note.full":"You\'ve reached the maximum number of people for this conversation. Consider creating a private channel instead.","more_direct_channels.title":"Direct Messages","more_public_direct_channels.channels":"Channels","more_public_direct_channels.direct_messages":"Direct Messages","more_public_direct_channels.title":"Channels and Direct Messages","msg_typing.areTyping":"{users} and {last} are typing...","msg_typing.isTyping":"{user} is typing...","multiselect.add":"Add","multiselect.addChannelsPlaceholder":"Search and add channels","multiselect.addGroupsPlaceholder":"Search and add groups","multiselect.adding":"Adding...","multiselect.addTeamsPlaceholder":"Search and add teams","multiselect.go":"Go","multiselect.list.notFound":"No results found matching **{searchQuery}**","multiselect.loading":"Loading...","multiselect.numGroupsRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ","multiselect.numMembers":"{memberOptions, number} of {totalCount, number} members","multiselect.numPeopleRemaining":"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ","multiselect.numRemaining":"You can add {num, number} more","multiselect.placeholder":"Search for people","multiselect.selectChannels":"Use ↑↓ to browse, ↵ to select.","multiselect.selectTeams":"Use ↑↓ to browse, ↵ to select.","navbar_dropdown.about":"About {appTitle}","navbar_dropdown.accountSettings":"Account Settings","navbar_dropdown.addGroupsToTeam":"Add Groups to Team","navbar_dropdown.console":"System Console","navbar_dropdown.create":"Create a Team","navbar_dropdown.emoji":"Custom Emoji","navbar_dropdown.help":"Help","navbar_dropdown.integrations":"Integrations","navbar_dropdown.invitePeople":"Invite People","navbar_dropdown.invitePeopleExtraText":"Add or invite people to the team","navbar_dropdown.join":"Join Another Team","navbar_dropdown.keyboardShortcuts":"Keyboard Shortcuts","navbar_dropdown.leave":"Leave Team","navbar_dropdown.leave.icon":"Leave Team Icon","navbar_dropdown.logout":"Log Out","navbar_dropdown.manageGroups":"Manage Groups","navbar_dropdown.manageMembers":"Manage Members","navbar_dropdown.marketplace":"Marketplace","navbar_dropdown.menuAriaLabel":"main menu","navbar_dropdown.nativeApps":"Download Apps","navbar_dropdown.report":"Report a Problem","navbar_dropdown.switchTo":"Switch to ","navbar_dropdown.teamSettings":"Team Settings","navbar_dropdown.viewMembers":"View Members","navbar.addGroups":"Add Groups","navbar.addMembers":"Add Members","navbar.click":"Click here","navbar.clickToAddHeader":"{clickHere} to add one.","navbar.noHeader":"No channel header yet.","navbar.preferences":"Notification Preferences","navbar.toggle2":"Toggle sidebar","navbar.viewInfo":"View Info","navbar.viewPinnedPosts":"View Pinned Posts","next_steps_view.complete_profile_step.addAPhoto":"Upload avatar","next_steps_view.complete_profile_step.enterYourName":"Enter your name","next_steps_view.complete_profile_step.fullNameCannotBeBlank":"Your name cannot be blank","next_steps_view.complete_profile_step.fullNameTooBig":"Your name must be less than 129 characters","next_steps_view.complete_profile_step.nameWillBeDisplayed":"Your name will be displayed with your messages","next_steps_view.complete_profile_step.pictureError":"Photos must be in BMP, JPG or PNG format. Maximum file size is {max}.","next_steps_view.complete_profile_step.saveProfile":"Save profile","next_steps_view.complete_profile_step.yourFullName":"Your full name","next_steps_view.downloadDesktopAndMobile":"Download the Desktop and Mobile apps","next_steps_view.hereAreSomeNextSteps":"Here are some recommended next steps to help you get started","next_steps_view.invite_members_step.copy_button":"Copy Link","next_steps_view.invite_members_step.emailAddresses":"Email addresses","next_steps_view.invite_members_step.enterEmailAddresses":"Enter email addresses","next_steps_view.invite_members_step.errorSendingEmails":"There was a problem sending your invitations. Please try again.","next_steps_view.invite_members_step.finish":"Finish","next_steps_view.invite_members_step.invalidEmail":"One or more email addresses are invalid","next_steps_view.invite_members_step.invitationsSent":"{num} invitations sent","next_steps_view.invite_members_step.link_copied":"Copied","next_steps_view.invite_members_step.orShareThisLink":"Or share this link to invite members","next_steps_view.invite_members_step.send":"Send","next_steps_view.invite_members_step.sendInvitationsViaEmail":"Send invitations via email","next_steps_view.invite_members_step.shareThisLink":"Share this link to invite members","next_steps_view.invite_members_step.tooManyEmails":"The free tier is limited to {num} members.","next_steps_view.invite_members_step.youCanInviteUpTo":"You can invite up to {members} team members using a space or comma between addresses","next_steps_view.mobile_tips_message":"To configure your workspace, continue on a desktop computer.","next_steps_view.nicelyDone":"Nicely done! You’re all set.","next_steps_view.notificationSetup.notficationsEnabledBody":"This is how notifications from Chatting will appear","next_steps_view.notificationSetup.notficationsEnabledTitle":"Notifications Enabled!","next_steps_view.notificationSetup.setNotifications":"Set up notifications","next_steps_view.oneMoment":"One moment","next_steps_view.otherAreasToExplore":"A few other areas to explore","next_steps_view.seeAllTheApps":"See all the apps","next_steps_view.skipGettingStarted":"Skip Getting Started","next_steps_view.team_profile_step.enterYourNameAndURL":"Enter your team name","next_steps_view.team_profile_step.nameCannotBeBlank":"Team name cannot be blank","next_steps_view.team_profile_step.nameTooBig":"Team name must be less than 64 characters","next_steps_view.team_profile_step.nameWillBeDisplayed":"Your team name will be displayed in your sidebar","next_steps_view.team_profile_step.pictureError":"Photos must be in BMP, JPG or PNG format. Maximum file size is {max}.","next_steps_view.team_profile_step.saveTeam":"Save team","next_steps_view.team_profile_step.teamImage":"Team image","next_steps_view.team_profile_step.teamName":"Team name","next_steps_view.tips.addPlugins.button":"Add plugins","next_steps_view.tips.addPlugins.buttons":"See shortcuts","next_steps_view.tips.addPlugins.texts":"Work more efficiently with Keyboard Shortcuts in Chatting.","next_steps_view.tips.addPluginss":"Learn Keyboard Shortcuts","next_steps_view.tips.configureLogin.texts":"Browse or search through the team members directory","next_steps_view.tips.configureLogins":"See who else is here","next_steps_view.tips.connectPlugins":"Connect your favorite tools","next_steps_view.tips.connectPlugins.text":"Install Chatting plugins to connect with your favorite tools","next_steps_view.tips.exploreChannels":"Explore channels","next_steps_view.tips.exploreChannels.button":"Browse channels","next_steps_view.tips.exploreChannels.text":"See the channels in your workspace or create a new channel.","next_steps_view.tips.getForDefault":"Get Chatting","next_steps_view.tips.getForMac":"Get Chatting for Mac","next_steps_view.tips.getForWindows":"Get Chatting for Windows","next_steps_view.tips.manageWorkspace":"Manage your workspace","next_steps_view.tips.manageWorkspace.button":"Open the system console","next_steps_view.tips.manageWorkspace.text":"Visit the system console to manage users, teams, and plugins","next_steps_view.tips.resolveIncidents":"Resolve incidents faster","next_steps_view.tips.resolveIncidents.button":"Open playbooks","next_steps_view.tips.resolveIncidents.text":"Resolve incidents faster with Chatting Incident Collaboration.","next_steps_view.tips.viewMembers":"View team members","next_steps_view.tipsAndNextSteps":"Tips & Next Steps","next_steps_view.titles.completeProfile":"Complete your profile","next_steps_view.titles.inviteMembers":"Invite members to the team","next_steps_view.titles.preferenceSetup":"Set up your preferences","next_steps_view.titles.teamSetup":"Name your team","next_steps_view.welcomeToChatting":"Welcome to Chatting","no_results.channel_files_filtered.subtitle":"This channel doesn\'t contains any file with the selected file format.","no_results.channel_files_filtered.title":"No files found","no_results.channel_files.subtitle":"Files posted in this channel will show here.","no_results.channel_files.title":"No files yet","no_results.channel_search.subtitle":"Check the spelling or try another search.","no_results.channel_search.title":"No results for {channelName}","no_results.flagged_posts.subtitle":"Saved messages are only visible to you. Mark messages for follow-up or save something for later by clicking the {icon} to save them here.","no_results.flagged_posts.title":"No Saved posts yet","no_results.mentions.subtitle":"Messages where someone mentions you or includes your trigger words are saved here.","no_results.mentions.title":"No mentions yet","no_results.pinned_posts.subtitle":"Pin important messages which are visible to the whole channel. Open the context menu on a message and choose {text} to save it here.","no_results.pinned_posts.title":"No pinned posts yet","notification.dm":"Direct Message","notify_all.confirm":"Confirm","notify_all.question":"By using @all or @group you are about to send notifications to {totalMembers} people. Are you sure you want to do this?","notify_all.question_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?","notify_all.question_timezone":"By using @all or @group you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_groups":"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.question_timezone_one_group":"By using **{mention}** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?","notify_all.title.confirm":"Confirm Sending Notifications to Entire Channel","notify_all.title.confirm_groups":"Confirm sending notifications to groups","numMembers":"{num, number} {num, plural, one {member} other {members}}","password_form.change":"Change my password","password_form.enter":"Enter a new password for your {siteName} account.","password_form.error":"Please enter at least {chars} characters.","password_form.pwd":"Password","password_form.title":"Password Reset","password_send.checkInbox":"Please check your inbox.","password_send.description":"To reset your password, enter the email address you used to sign up","password_send.email":"Email","password_send.error":"Please enter a valid email address.","password_send.link":"If the account exists, a password reset email will be sent to:","password_send.reset":"Reset my password","password_send.title":"Password Reset","passwordRequirements":"Password Requirements:","payment_form.address":"Address","payment_form.address_2":"Address 2","payment_form.billing_address":"Billing address","payment_form.change_payment_method":"Change Payment Method","payment_form.city":"City","payment_form.country":"Country","payment_form.credit_card":"Credit Card","payment_form.name_on_card":"Name on Card","payment_form.no_billing_address":"No billing address added","payment_form.no_credit_card":"No credit card added","payment_form.saved_payment_method":"Saved Payment Method","payment_form.zipcode":"Zip/Postal Code","payment.card_number":"Card Number","payment.field_required":"This field is required","payment.invalid_card_number":"Please enter a valid credit card","pending_post_actions.cancel":"Cancel","pending_post_actions.retry":"Retry","permalink.error.access":"Permalink belongs to a deleted message or to a channel to which you do not have access.","permalink.error.title":"Message Not Found","permalink.show_dialog_warn.description":"You are about to join {channel} without explicitly being added by the channel admin. Are you sure you wish to join this private channel?","permalink.show_dialog_warn.join":"Join","permalink.show_dialog_warn.title":"Join private channel","picture_selector.image.ariaLabel":"Picture selector image","picture_selector.remove_picture":"Remove picture","picture_selector.select_button.ariaLabel":"Select picture","post_body.check_for_out_of_channel_groups_mentions.message":"did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.","post_body.check_for_out_of_channel_mentions.link.and":" and ","post_body.check_for_out_of_channel_mentions.link.private":"add them to this private channel","post_body.check_for_out_of_channel_mentions.link.public":"add them to the channel","post_body.check_for_out_of_channel_mentions.message_last":"? They will have access to all message history.","post_body.check_for_out_of_channel_mentions.message.multiple":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.message.one":"did not get notified by this mention because they are not in the channel. Would you like to ","post_body.check_for_out_of_channel_mentions.others":"{numOthers} others","post_body.commentedOn":"Commented on {name}\'s message: ","post_body.deleted":"(message deleted)","post_body.plusMore":" plus {count, number} other {count, plural, one {file} other {files}}","post_delete.notPosted":"Comment could not be posted","post_delete.okay":"Okay","post_delete.someone":"Someone deleted the message on which you tried to post a comment.","post_header.update_status":"Update your status","post_info.auto_responder":"AUTOMATIC REPLY","post_info.bot":"BOT","post_info.comment_icon.tooltip.reply":"Reply","post_info.del":"Delete","post_info.dot_menu.tooltip.more_actions":"More actions","post_info.edit":"Edit","post_info.guest":"GUEST","post_info.info.view_additional_info":"View additional info","post_info.menuAriaLabel":"Post extra options","post_info.message.show_less":"Show less","post_info.message.show_more":"Show more","post_info.message.visible":"(Only visible to you)","post_info.message.visible.compact":" (Only visible to you)","post_info.permalink":"Copy Link","post_info.pin":"Pin to Channel","post_info.reply":"Reply","post_info.submenu.icon":"submenu icon","post_info.submenu.mobile":"mobile submenu","post_info.system":"System","post_info.tooltip.add_reactions":"Add Reaction","post_info.unpin":"Unpin from Channel","post_info.unread":"Mark as Unread","post_message_view.edited":"(edited)","post_pre_header.flagged":"Saved","post_pre_header.pinned":"Pinned","post.ariaLabel.attachment":", 1 attachment","post.ariaLabel.attachmentMultiple":", {attachmentCount} attachments","post.ariaLabel.message":"At {time} {date}, {authorName} wrote, {message}","post.ariaLabel.messageIsFlagged":", message is saved","post.ariaLabel.messageIsFlaggedAndPinned":", message is saved and pinned","post.ariaLabel.messageIsPinned":", message is pinned","post.ariaLabel.reaction":", 1 reaction","post.ariaLabel.reactionMultiple":", {reactionCount} reactions","post.ariaLabel.replyMessage":"At {time} {date}, {authorName} replied, {message}","postlist.toast.history":"Viewing message history","postlist.toast.newMessages":"{count, number} new {count, plural, one {message} other {messages}}","postlist.toast.newMessagesSince":"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}","postlist.toast.scrollToBottom":"Jump to recents","postlist.toast.scrollToLatest":"Jump to new messages","postlist.toast.searchHint":"Tip: Try {searchShortcut} to search this channel","posts_view.loadMore":"Load More messages","posts_view.newMsg":"New Messages","promote_to_user_modal.desc":"This action promotes the guest {username} to a member. It will allow the user to join public channels and interact with users outside of the channels they are currently members of. Are you sure you want to promote guest {username} to member?","promote_to_user_modal.promote":"Promote","promote_to_user_modal.title":"Promote guest {username} to member","quick_switch_modal.channels":"Channels","quick_switch_modal.channelsShortcut.mac":"- ⌘K","quick_switch_modal.channelsShortcut.windows":"- CTRL+K","quick_switch_modal.help":"Start typing then use TAB to toggle channels/teams, **▲▼** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.help_mobile":"Type to find a channel.","quick_switch_modal.help_no_team":"Type to find a channel. Use **UP/DOWN** to browse, **ENTER** to select, **ESC** to dismiss.","quick_switch_modal.input":"quick switch input","quick_switch_modal.switchChannels":"Switch a chat","quick_switch_modal.teams":"Teams","quick_switch_modal.teamsShortcut.mac":"- ⌘⌥K","quick_switch_modal.teamsShortcut.windows":"- CTRL+ALT+K","reaction_list.addReactionTooltip":"Add a reaction","reaction.add.ariaLabel":"Add a reaction","reaction.clickToAdd":"(click to add)","reaction.clickToRemove":"(click to remove)","reaction.container.ariaLabel":"reactions","reaction.othersReacted":"{otherUsers, number} {otherUsers, plural, one {user} other {users}}","reaction.reacted":"{users} {reactionVerb} with {emoji}","reaction.reactionVerb.user":"reacted","reaction.reactionVerb.users":"reacted","reaction.reactionVerb.you":"reacted","reaction.reactionVerb.youAndUsers":"reacted","reaction.reactWidth.ariaLabel":"react with","reaction.removeReact.ariaLabel":"remove reaction","reaction.usersAndOthersReacted":"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}","reaction.usersReacted":"{users} and {lastUser}","reaction.you":"You","remove_group_confirm_button":"Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}","remove_group_confirm_message":"{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?","remove_group_confirm_title":"Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}","remove_next_steps_modal.confirm":"Remove","remove_next_steps_modal.header":"Remove {title}?","remove_next_steps_modal.helpText":"Access {title} any time through the Main Menu","remove_next_steps_modal.mainText":"This will remove this section from your sidebar, but you can access it later in the Help section of the Main Menu.","removed_channel.channelName":"the channel","removed_channel.from":"Removed from ","removed_channel.okay":"Okay","removed_channel.remover":"{remover} removed you from {channel}","removed_channel.someone":"Someone","rename_category_modal.rename":"Rename","rename_category_modal.renameCategory":"Rename Category","rename_channel.cancel":"Cancel","rename_channel.defaultError":" - Cannot be changed for the default channel","rename_channel.displayName":"Display Name","rename_channel.displayNameHolder":"Enter display name","rename_channel.maxLength":"This field must be less than {maxLength, number} characters","rename_channel.minLength":"Display name must have at least {minLength, number} characters.","rename_channel.save":"Save","rename_channel.title":"Rename Channel","rename_channel.url":"URL","revoke_user_sessions_modal.desc":"This action revokes all sessions for {username}. They will be logged out from all devices. Are you sure you want to revoke all sessions for {username}?","revoke_user_sessions_modal.revoke":"Revoke","revoke_user_sessions_modal.title":"Revoke Sessions for {username}","rhs_card.jump":"Jump","rhs_card.message_by":"Message by {avatar} {user}","rhs_comment.comment":"Comment","rhs_header.backToFlaggedTooltip":"Back to saved posts","rhs_header.backToPinnedTooltip":"Back to pinned posts","rhs_header.backToResultsTooltip":"Back to search results","rhs_header.closeSidebarTooltip":"Close","rhs_header.closeTooltip.icon":"Close Sidebar Icon","rhs_header.collapseSidebarTooltip":"Collapse Sidebar","rhs_header.collapseSidebarTooltip.icon":"Collapse Sidebar Icon","rhs_header.details":"Thread","rhs_header.expandSidebarTooltip":"Expand Sidebar","rhs_header.expandSidebarTooltip.icon":"Expand Sidebar Icon","rhs_root.mobile.add_reaction":"Add Reaction","rhs_root.mobile.flag":"Save","rhs_root.mobile.unflag":"Remove from Saved","rhs_thread.rootPostDeletedMessage.body":"Part of this thread has been deleted due to a data retention policy. You can no longer reply to this thread.","save_button.save":"Save","save_button.saving":"Saving","search_bar.files_tab":"Files","search_bar.messages_tab":"Messages","search_bar.search":"Search","search_bar.search_types.files":"FILES","search_bar.search_types.messages":"MESSAGES","search_bar.usage.search_type_files":"Files","search_bar.usage.search_type_messages":"Messages","search_bar.usage.search_type_question":"What are you searching for?","search_bar.usage.title":"Search options","search_bar.usage.title_files":"File search options","search_bar.usage.title_messages":"Message search options","search_files_list_option.after":"Files after a date","search_files_list_option.before":"Files before a date","search_files_list_option.exclude":"Exclude search terms","search_files_list_option.ext":"Files with a extension","search_files_list_option.from":"Files from a user","search_files_list_option.in":"Files in a channel","search_files_list_option.on":"Files on a date","search_files_list_option.phrases":"Files with phrases","search_header.loading":"Searching...","search_header.title5":"Extra Information","search_item.channelArchived":"Archived","search_item.direct":"Direct Message (with {username})","search_item.file_badge.direct_message":"Direct Message","search_item.file_badge.group_message":"Group Message","search_item.jump":"Jump","search_list_option.after":"Messages after a date","search_list_option.before":"Messages before a date","search_list_option.exclude":"Exclude search terms","search_list_option.from":"Messages from a user","search_list_option.in":"Messages in a channel","search_list_option.on":"Messages on a date","search_list_option.phrases":"Messages with phrases","search_results.channel-files-header":"Recent files","search_results.usage.dataRetention":"Only messages posted in the last {days} days are returned. Contact your System Administrator for more detail.","select_team.icon":"Select Team Icon","select_team.join.icon":"Join Team Icon","select_team.private.icon":"Private Team","setting_item_max.cancel":"Cancel","setting_item_min.edit":"Edit","setting_picture.cancel":"Cancel","setting_picture.help.profile":"Upload a picture in BMP, JPG or PNG format. Maximum file size: {max}","setting_picture.help.team":"Upload a team icon in BMP, JPG or PNG format.\\nSquare images with a solid background color are recommended.","setting_picture.remove":"Remove This Icon","setting_picture.remove_profile_picture":"Remove Profile Picture","setting_picture.save":"Save","setting_picture.select":"Select","setting_picture.uploading":"Uploading...","setting_upload.import":"Import","setting_upload.noFile":"No file selected.","setting_upload.select":"Select file","shared_channel_indicator.tooltip":"Shared with trusted organizations","shared_user_indicator.tooltip":"From a trusted organization","shortcuts.browser.channel_next":"Forward in history:\\tAlt|Right","shortcuts.browser.channel_next.mac":"Forward in history:\\t⌘|]","shortcuts.browser.channel_prev":"Back in history:\\tAlt|Left","shortcuts.browser.channel_prev.mac":"Back in history:\\t⌘|[","shortcuts.browser.font_decrease":"Zoom out:\\tCtrl|-","shortcuts.browser.font_decrease.mac":"Zoom out:\\t⌘|-","shortcuts.browser.font_increase":"Zoom in:\\tCtrl|+","shortcuts.browser.font_increase.mac":"Zoom in:\\t⌘|+","shortcuts.browser.header":"Built-in Browser Commands","shortcuts.browser.highlight_next":"Highlight text to the next line:\\tShift|Down","shortcuts.browser.highlight_prev":"Highlight text to the previous line:\\tShift|Up","shortcuts.browser.input.header":"Works inside an input field","shortcuts.browser.newline":"Create a new line:\\tShift|Enter","shortcuts.files.header":"Files","shortcuts.files.upload":"Upload files:\\tCtrl|U","shortcuts.files.upload.mac":"Upload files:\\t⌘|U","shortcuts.header":"Keyboard Shortcuts\\tCtrl|/","shortcuts.header.mac":"Keyboard Shortcuts\\t⌘|/","shortcuts.info":"Begin a message with / for a list of all the commands at your disposal.","shortcuts.msgs.comp.channel":"Channel:\\t~|[a-z]|Tab","shortcuts.msgs.comp.emoji":"Emoji:\\t:|[a-z]|Tab","shortcuts.msgs.comp.header":"Autocomplete","shortcuts.msgs.comp.last_reaction":"React to last message:\\tCtrl|Shift|⧵","shortcuts.msgs.comp.last_reaction.mac":"React to last message:\\t⌘|Shift|⧵","shortcuts.msgs.comp.username":"Username:\\t@|[a-z]|Tab","shortcuts.msgs.edit":"Edit last message in channel:\\tUp","shortcuts.msgs.header":"Messages","shortcuts.msgs.input.header":"Works inside an empty input field","shortcuts.msgs.markdown.bold":"Bold:\\tCtrl|B","shortcuts.msgs.markdown.bold.mac":"Bold:\\t⌘|B","shortcuts.msgs.markdown.header":"Formatting","shortcuts.msgs.markdown.italic":"Italic:\\tCtrl|I","shortcuts.msgs.markdown.italic.mac":"Italic:\\t⌘|I","shortcuts.msgs.markdown.link":"Link:\\tCtrl|Alt|K","shortcuts.msgs.markdown.link.mac":"Link:\\t⌘|Alt|K","shortcuts.msgs.reply":"Reply to last message in channel:\\tShift|Up","shortcuts.msgs.reprint_next":"Reprint next message:\\tCtrl|Down","shortcuts.msgs.reprint_next.mac":"Reprint next message:\\t⌘|Down","shortcuts.msgs.reprint_prev":"Reprint previous message:\\tCtrl|Up","shortcuts.msgs.reprint_prev.mac":"Reprint previous message:\\t⌘|Up","shortcuts.nav.direct_messages_menu":"Direct messages menu:\\tCtrl|Shift|K","shortcuts.nav.direct_messages_menu.mac":"Direct messages menu:\\t⌘|Shift|K","shortcuts.nav.focus_center":"Set focus to input field:\\tCtrl|Shift|L","shortcuts.nav.focus_center.mac":"Set focus to input field:\\t⌘|Shift|L","shortcuts.nav.header":"Navigation","shortcuts.nav.next":"Next channel:\\tAlt|Down","shortcuts.nav.next.mac":"Next channel:\\t⌥|Down","shortcuts.nav.open_close_sidebar":"Open or close the right sidebar\\tCtrl|.","shortcuts.nav.open_close_sidebar.mac":"Open or close the right sidebar\\t⌘|.","shortcuts.nav.prev":"Previous channel:\\tAlt|Up","shortcuts.nav.prev.mac":"Previous channel:\\t⌥|Up","shortcuts.nav.recent_mentions":"Recent mentions:\\tCtrl|Shift|M","shortcuts.nav.recent_mentions.mac":"Recent mentions:\\t⌘|Shift|M","shortcuts.nav.settings":"Account settings:\\tCtrl|Shift|A","shortcuts.nav.settings.mac":"Account settings:\\t⌘|Shift|A","shortcuts.nav.switcher":"Quick channel switcher:\\tCtrl|K","shortcuts.nav.switcher.mac":"Quick channel switcher:\\t⌘|K","shortcuts.nav.unread_next":"Next unread channel:\\tAlt|Shift|Down","shortcuts.nav.unread_next.mac":"Next unread channel:\\t⌥|Shift|Down","shortcuts.nav.unread_prev":"Previous unread channel:\\tAlt|Shift|Up","shortcuts.nav.unread_prev.mac":"Previous unread channel:\\t⌥|Shift|Up","shortcuts.team_nav.next":"Next team:\\tCtrl|Alt|Down","shortcuts.team_nav.next.mac":"Next team:\\t⌘|⌥|Down","shortcuts.team_nav.prev":"Previous team:\\tCtrl|Alt|Up","shortcuts.team_nav.prev.mac":"Previous team:\\t⌘|⌥|Up","shortcuts.team_nav.switcher":"Switch to a specific team:\\tCtrl|Alt|[1-9]","shortcuts.team_nav.switcher.mac":"Switch to a specific team:\\t⌘|⌥|[1-9]","sidebar_header.tutorial.body1":"The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**.","sidebar_header.tutorial.body2":"Team administrators can also access their **Team Settings** from this menu.","sidebar_header.tutorial.body3":"System administrators will find a **System Console** option to administrate the entire system.","sidebar_header.tutorial.title":"Main Menu","sidebar_left.add_channel_dropdown.browseChannels":"Browse Channels","sidebar_left.add_channel_dropdown.browseOrCreateChannels":"Browse or create channels","sidebar_left.add_channel_dropdown.createCategory":"Create New Category","sidebar_left.add_channel_dropdown.createNewChannel":"Create New Channel","sidebar_left.add_channel_dropdown.dropdownAriaLabel":"Add Channel Dropdown","sidebar_left.channel_filter.filterByUnread":"Filter by unread","sidebar_left.channel_filter.showAllChannels":"Show all channels","sidebar_left.channel_navigator.channelSwitcherLabel":"Channel Switcher","sidebar_left.channel_navigator.goBackLabel":"Back","sidebar_left.channel_navigator.goForwardLabel":"Forward","sidebar_left.channel_navigator.jumpTo":"Find contacts or chat","sidebar_left.sidebar_category_menu.createCategory":"Create New Category","sidebar_left.sidebar_category_menu.deleteCategory":"Delete Category","sidebar_left.sidebar_category_menu.dropdownAriaLabel":"Edit category menu","sidebar_left.sidebar_category_menu.editCategory":"Category options","sidebar_left.sidebar_category_menu.muteCategory":"Mute Category","sidebar_left.sidebar_category_menu.renameCategory":"Rename Category","sidebar_left.sidebar_category_menu.unmuteCategory":"Unmute Category","sidebar_left.sidebar_category.newDropBoxLabel":"Drag channels here...","sidebar_left.sidebar_category.newLabel":"new","sidebar_left.sidebar_channel_menu.addMembers":"Add Members","sidebar_left.sidebar_channel_menu.copyLink":"Copy Link","sidebar_left.sidebar_channel_menu.dropdownAriaLabel":"Edit channel menu","sidebar_left.sidebar_channel_menu.editChannel":"Channel options","sidebar_left.sidebar_channel_menu.favoriteChannel":"Favorite","sidebar_left.sidebar_channel_menu.leaveChannel":"Leave Channel","sidebar_left.sidebar_channel_menu.leaveConversation":"Close Conversation","sidebar_left.sidebar_channel_menu.markAsRead":"Mark as Read","sidebar_left.sidebar_channel_menu.moveTo":"Move to","sidebar_left.sidebar_channel_menu.moveToNewCategory":"New Category","sidebar_left.sidebar_channel_menu.muteChannel":"Mute Channel","sidebar_left.sidebar_channel_menu.muteConversation":"Mute Conversation","sidebar_left.sidebar_channel_menu.unfavoriteChannel":"Unfavorite","sidebar_left.sidebar_channel_menu.unmuteChannel":"Unmute Channel","sidebar_left.sidebar_channel_menu.unmuteConversation":"Unmute Conversation","sidebar_left.sidebar_channel.selectedCount":"{count} selected","sidebar_next_steps.gettingStarted":"Getting Started","sidebar_next_steps.otherAreasToExplore":"A few other areas to explore","sidebar_next_steps.stepsComplete":"{complete} / {total} steps complete","sidebar_next_steps.tipsAndNextSteps":"Tips & Next Steps","sidebar_right_menu.console":"System Console","sidebar_right_menu.flagged":"Saved Posts","sidebar_right_menu.recentMentions":"Recent Mentions","sidebar.allDirectMessages":"All direct messages","sidebar.browseChannelDirectChannel":"Browse channels and direct messages","sidebar.createChannel":"Create a public channel","sidebar.createDirectMessage":"Write a direct message","sidebar.createGroup":"Create a private channel","sidebar.createPublicPrivateChannel":"Create a public or private channel","sidebar.directchannel.you":"{displayname} (you)","sidebar.leave":"Leave the channel","sidebar.moreDmAria":"See more direct messages","sidebar.moreElips":"More...","sidebar.morePublicAria":"See more public channels","sidebar.morePublicDmAria":"See more public channels and direct messages","sidebar.openDirectMessage":"Open a Direct Message","sidebar.removeList":"Remove from this list","sidebar.show":"Show","sidebar.sort":"Sort","sidebar.sortedByRecencyLabel":"Recent activity","sidebar.sortedManually":"Manually","sidebar.team_select":"{siteName} - Join a team","sidebar.tutorialScreen1.body":"**Channels** organize conversations across different topics. They\'re open to everyone on your team. To send private communications use **Direct Messages** for a single person or **Private Channels** for multiple people.","sidebar.tutorialScreen1.title":"Channels","sidebar.tutorialScreen2.body1":"Here are two public channels to start:","sidebar.tutorialScreen2.body2":"**{townsquare}** is a place for team-wide communication. Everyone in your team is a member of this channel.","sidebar.tutorialScreen2.body3":"**{offtopic}** is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.","sidebar.tutorialScreen2.title":"\\"{townsquare}\\" and \\"{offtopic}\\" channels","sidebar.tutorialScreen3.body1":"Click **\\"More...\\"** to create a new channel or join an existing one.","sidebar.tutorialScreen3.body2":"You can also create a new channel by clicking the **\\"+\\" symbol** next to the public or private channel header.","sidebar.tutorialScreen3.title":"Creating and Joining Channels","sidebar.types.alpha":"Groups","sidebar.types.channels":"Groups","sidebar.types.direct":"Direct messages","sidebar.types.direct_messages":"Direct messages","sidebar.types.favorite":"Favorite channel","sidebar.types.favorites":"Favorites","sidebar.types.private":"Private groups","sidebar.types.public":"Public groups","sidebar.types.recent":"Recent activity","sidebar.types.unreads":"Unreads","sidebar.unreads":"More unreads","signup_team_system_console":"Go to System Console","signup_team.guest_without_channels":"Your guest account has no channels assigned. Please contact an administrator.","signup_team.join_open":"Teams you can join: ","signup_team.no_open_teams":"No teams are available to join. Please ask your administrator for an invite.","signup_team.no_open_teams_canCreate":"No teams are available to join. Please create a new team or ask your administrator for an invite.","signup_user_completed.choosePwd":"Choose your password","signup_user_completed.chooseUser":"Choose your username","signup_user_completed.create":"Create Account","signup_user_completed.emailHelp":"Valid email required for sign-up","signup_user_completed.emailIs":"Your email address is **{email}**. You\'ll use this address to sign in to {siteName}.","signup_user_completed.expired":"You\'ve already completed the signup process for this invitation or this invitation has expired.","signup_user_completed.failed_update_user_state":"Please clear your cache and try to log in.","signup_user_completed.haveAccount":"Already have an account?","signup_user_completed.invalid_invite":"The invite link was invalid.  Please speak with your Administrator to receive an invitation.","signup_user_completed.lets":"Let\'s create your account","signup_user_completed.no_open_server":"This server does not allow open signups.  Please speak with your Administrator to receive an invitation.","signup_user_completed.none":"No user creation method has been enabled.  Please contact an administrator for access.","signup_user_completed.required":"This field is required","signup_user_completed.reserved":"This username is reserved, please choose a new one.","signup_user_completed.signIn":"Click here to sign in.","signup_user_completed.userHelp":"You can use lowercase letters, numbers, periods, dashes, and underscores.","signup_user_completed.usernameLength":"Usernames have to begin with a lowercase letter and be {min}-{max} characters long. You can use lowercase letters, numbers, periods, dashes, and underscores.","signup_user_completed.validEmail":"Please enter a valid email address","signup_user_completed.whatis":"What\'s your email address?","signup.email":"Email and Password","signup.email.icon":"Email Icon","signup.gitlab":"GitLab Single Sign-On","signup.google":"Google Account","signup.ldap":"AD/LDAP Credentials","signup.ldap.icon":"AD/LDAP Icon","signup.office365":"Office 365","signup.saml.icon":"SAML Icon","signup.title":"Create an account with:","someting.string":"defaultString","status_dropdown.custom_status.tooltip_clear":"Clear","status_dropdown.dnd_sub_menu_header":"Disable notifications until:","status_dropdown.menuAriaLabel":"set status","status_dropdown.set_away":"Away","status_dropdown.set_custom":"Set a Custom Status","status_dropdown.set_dnd":"Do Not Disturb","status_dropdown.set_dnd.extra":"Disables all notifications","status_dropdown.set_offline":"Offline","status_dropdown.set_online":"Online","status_dropdown.set_ooo":"Out of Office","status_dropdown.set_ooo.extra":"Automatic Replies are enabled","status_dropdown.set_your_status":"Set your status","string.id":"default message","suggestion_list.no_matches":"No items match __{value}__","suggestion.archive":"Archived Channels","suggestion.mention.all":"Notifies everyone in this channel","suggestion.mention.channel":"Notifies everyone in this channel","suggestion.mention.channels":"My Channels","suggestion.mention.groups":"Group Mentions","suggestion.mention.here":"Notifies everyone online in this channel","suggestion.mention.members":"Channel Members","suggestion.mention.morechannels":"Other Channels","suggestion.mention.moremembers":"Other Members","suggestion.mention.nonmembers":"Not in Channel","suggestion.mention.special":"Special Mentions","suggestion.mention.unread.channels":"Unread Channels","suggestion.search.direct":"Direct Messages","suggestion.search.private":"Private Channels","suggestion.search.public":"Public Channels","suggestion.user.isCurrent":"(you)","system_notice.adminVisible":"Only visible to System Admins","system_notice.adminVisible.icon":"Only visible to System Admins Icon","system_notice.body.api3":"If you’ve created or installed integrations in the last two years, find out how [recent changes](!https://about.chatting.gomlo.me/default-apiv3-deprecation-guide) may have affected them.","system_notice.body.ee_upgrade_advice":"Enterprise Edition is recommended to ensure optimal operation and reliability. [Learn more](!https://chatting.gomlo.me/performance).","system_notice.body.ie11_deprecation":"Your browser, IE11, will no longer be supported in an upcoming release. [Find out how to move to another browser in one simple step](!https://forum.chatting.gomlo.me/t/mattermost-is-dropping-support-for-internet-explorer-ie11-in-v5-16/7575).","system_notice.body.permissions":"Some policy and permission System Console settings have moved with the release of [advanced permissions](!https://about.chatting.gomlo.me/default-advanced-permissions) in Enterprise E10 and E20.","system_notice.dont_show":"Don\'t Show Again","system_notice.remind_me":"Remind me Later","system_notice.title":"**Notice**\\nfrom Chatting","system_users_list.count":"{count, number} {count, plural, one {user} other {users}}","system_users_list.countPage":"{startCount, number} - {endCount, number} {count, plural, one {user} other {users}} of {total, number} total","system_users_list.countSearch":"{count, number} {count, plural, one {user} other {users}} of {total, number} total","team_channel_settings.group.group_user_row.numberOfGroups":"{amount, number} {amount, plural, one {Group} other {Groups}}","team_import_tab.failure":" Import failure: ","team_import_tab.import":"Import","team_import_tab.importHelpCliDocsLink":"CLI tool for Slack import","team_import_tab.importHelpDocsLink":"documentation","team_import_tab.importHelpExporterLink":"Slack Advanced Exporter","team_import_tab.importHelpExportInstructions":"Slack > Administration > Workspace settings > Import/Export Data > Export > Start Export","team_import_tab.importHelpLine1":"Slack import to Chatting supports importing of messages in your Slack team\'s public channels.","team_import_tab.importHelpLine2":"To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.","team_import_tab.importHelpLine3":"To import posts with attached files, see {slackAdvancedExporterLink} for details.","team_import_tab.importHelpLine4":"For Slack teams with over 10,000 messages, we recommend using the {cliLink}.","team_import_tab.importing":"Importing...","team_import_tab.importSlack":"Import from Slack (Beta)","team_import_tab.successful":" Import successful: ","team_import_tab.summary":"View Summary","team_member_modal.invitePeople":"Invite People","team_member_modal.members":"{team} Members","team_members_dropdown.confirmDemoteDescription":"If you demote yourself from the System Admin role and there is not another user with System Admin privileges, you\'ll need to re-assign a System Admin by accessing the Chatting server through a terminal and running the following command.","team_members_dropdown.confirmDemoteRoleTitle":"Confirm Demotion from System Admin Role","team_members_dropdown.confirmDemotion":"Confirm Demotion","team_members_dropdown.confirmDemotionCmd":"platform roles system_admin {username}","team_members_dropdown.guest":"Guest","team_members_dropdown.inactive":"Inactive","team_members_dropdown.leave_team":"Remove from Team","team_members_dropdown.makeAdmin":"Make Team Admin","team_members_dropdown.makeMember":"Make Team Member","team_members_dropdown.makeTeamAdmins":"Make Team Admins","team_members_dropdown.makeTeamMembers":"Make Team Members","team_members_dropdown.member":"Member","team_members_dropdown.menuAriaLabel":"Change the role of a team member","team_members_dropdown.systemAdmin":"System Admin","team_members_dropdown.teamAdmin":"Team Admin","team_members_dropdown.teamAdmins":"Team Admins","team_members_dropdown.teamMembers":"Team Members","team_settings_modal.generalTab":"General","team_settings_modal.importTab":"Import","team_settings_modal.title":"Team Settings","team_settings.openInviteDescription.ariaLabel":"Invite Code","team_settings.openInviteDescription.groupConstrained":"No, members of this team are added and removed by linked groups. [Learn More](!https://chatting.gomlo.me/pl/default-ldap-group-constrained-team-channel.html)","team_settings.openInviteSetting.groupConstrained":"No, members of this team are added and removed by linked groups.","team_sidebar.join":"Other teams you can join","team.button.ariaLabel":"{teamName} team","team.button.mentions.ariaLabel":"{teamName} team, {mentionCount} mentions","team.button.name_undefined":"This team does not have a name","team.button.tooltip":"Ctrl+Alt+{order}","team.button.tooltip.mac":"⌘ ⌥ {order}","team.button.unread.ariaLabel":"{teamName} team unread","terms_of_service.agreeButton":"I Agree","terms_of_service.api_error":"Unable to complete the request. If this issue persists, contact your System Administrator.","terms_of_service.disagreeButton":"I Disagree","test":"Button Text","textbox.bold":"**bold**","textbox.edit":"Edit message","textbox.help":"Help","textbox.inlinecode":"`inline code`","textbox.italic":"*italic*","textbox.preformatted":"```preformatted```","textbox.preview":"Preview","textbox.quote":">quote","textbox.strike":"strike","threading.filters.allThreads":"All your threads","threading.filters.unreads":"Unreads","threading.following":"Following","threading.footer.lastReplyAt":"Last reply {formatted}","threading.header.heading":"Thread","threading.notFollowing":"Follow","threading.numNewMessages":"{newReplies, plural, =0 {No unread messages} =1 {One unread message} other {# unread messages}}","threading.numNewReplies":"{newReplies, plural, =1 {# new reply} other {# new replies}}","threading.numReplies":"{totalReplies, plural, =0 {Reply} =1 {# reply} other {# replies}}","threading.threadHeader.menu":"More Actions","threading.threadItem.menu":"Actions","threading.threadList.markRead":"Mark all as read","threading.threadMenu.copy":"Copy link","threading.threadMenu.follow":"Follow thread","threading.threadMenu.followExtra":"You will be notified about replies","threading.threadMenu.markRead":"Mark as read","threading.threadMenu.markUnread":"Mark as unread","threading.threadMenu.openInChannel":"Open in channel","threading.threadMenu.save":"Save","threading.threadMenu.unfollow":"Unfollow thread","threading.threadMenu.unfollowExtra":"You won’t be notified about replies","threading.threadMenu.unsave":"Unsave","timestamp.datetime":"{relativeOrDate} at {time}","tutorial_intro.allSet":"You\'re all set","tutorial_intro.end":"Click \\"Next\\" to enter {channel}. This is the first channel teammates see when they sign up. Use it for posting updates everyone needs to know.","tutorial_intro.invite":"Invite Teammates","tutorial_intro.mobileApps":"Install the apps for {link} for easy access and notifications on the go.","tutorial_intro.mobileAppsLinkText":"PC, Mac, iOS and Android","tutorial_intro.next":"Next","tutorial_intro.screenOne.body1":"Your team communication all in one place, instantly searchable and available anywhere.","tutorial_intro.screenOne.body2":"Keep your team connected to help them achieve what matters most.","tutorial_intro.screenOne.title1":"Welcome to:","tutorial_intro.screenOne.title2":"Chatting","tutorial_intro.screenTwo.body1":"Communication happens in public discussion channels, private channels and direct messages.","tutorial_intro.screenTwo.body2":"Everything is archived and searchable from any web-enabled desktop, laptop or phone.","tutorial_intro.screenTwo.title":"How Chatting Works:","tutorial_intro.skip":"Skip Tutorial","tutorial_intro.support":"Need anything, just email us at ","tutorial_intro.whenReady":" when you\'re ready.","tutorial_tip.next":"Next","tutorial_tip.ok":"Okay","tutorial_tip.out":"Opt out of these tips.","tutorial_tip.seen":"Seen this before? ","unarchive_channel.cancel":"Cancel","unarchive_channel.confirm":"Confirm UNARCHIVE Channel","unarchive_channel.del":"Unarchive","unarchive_channel.viewArchived.question":"Are you sure you wish to unarchive the **{display_name}** channel?","update_command.confirm":"Edit Slash Command","update_command.question":"Your changes may break the existing slash command. Are you sure you would like to update it?","update_command.update":"Update","update_incoming_webhook.update":"Update","update_incoming_webhook.updating":"Updating...","update_oauth_app.confirm":"Edit OAuth 2.0 application","update_oauth_app.question":"Your changes may break the existing OAuth 2.0 application. Are you sure you would like to update it?","update_outgoing_webhook.confirm":"Edit Outgoing Webhook","update_outgoing_webhook.question":"Your changes may break the existing outgoing webhook. Are you sure you would like to update it?","update_outgoing_webhook.update":"Update","upgrade.cloud":"Upgrade Chatting Cloud","upgrade.cloud_banner_over":"You are currently over the user limit for the free tier","upgrade.cloud_banner_reached":"You have reached the user limit for the free tier","upgrade.cloud_modal_body":"The free tier is limited to {num} users. Upgrade Chatting Cloud for more users.","upgrade.cloud_modal_title":"You\'ve reached the user limit","upgradeLink.warn.upgrade_now":"Upgrade now","upload_overlay.info":"Drop a file to upload it.","user_list.notFound":"No users found","user_profile.account.editSettings":"Edit Account Settings","user_profile.account.localTime":"Local Time","user_profile.account.post_was_created":"This post was created by an integration from","user_profile.add_user_to_channel":"Add to a Channel","user_profile.add_user_to_channel.icon":"Add User to Channel Icon","user_profile.custom_status":"Status","user_profile.custom_status.set_status":"Set a status","user_profile.send.dm":"Send Message","user_profile.send.dm.icon":"Send Message Icon","user.settings.advance.confirmDeactivateAccountTitle":"Confirm Deactivation","user.settings.advance.confirmDeactivateDesc":"Are you sure you want to deactivate your account? This can only be reversed by your System Administrator.","user.settings.advance.deactivate_member_modal.deactivateButton":"Yes, deactivate my account","user.settings.advance.deactivateAccountTitle":"Deactivate Account","user.settings.advance.deactivateDesc":"Deactivating your account removes your ability to log in to this server and disables all email and mobile notifications. To reactivate your account, contact your System Administrator.","user.settings.advance.deactivateDescShort":"Click \'Edit\' to deactivate your account","user.settings.advance.enabledFeatures":"{count, number} {count, plural, one {Feature} other {Features}} Enabled","user.settings.advance.formattingDesc":"If enabled, posts will be formatted to create links, show emoji, style the text, and add line breaks. By default, this setting is enabled.","user.settings.advance.formattingTitle":"Enable Post Formatting","user.settings.advance.icon":"Advanced Settings Icon","user.settings.advance.joinLeaveDesc":"When \\"On\\", System Messages saying a user has joined or left a channel will be visible. When \\"Off\\", the System Messages about joining or leaving a channel will be hidden. A message will still show up when you are added to a channel, so you can receive a notification.","user.settings.advance.joinLeaveTitle":"Enable Join/Leave Messages","user.settings.advance.markdown_preview":"Show markdown preview option in message input box","user.settings.advance.off":"Off","user.settings.advance.on":"On","user.settings.advance.onForAllMessages":"On for all messages","user.settings.advance.onForCode":"On only for code blocks starting with ```","user.settings.advance.preReleaseDesc":"Check any pre-released features you\'d like to preview.  You may also need to refresh the page before the setting will take effect.","user.settings.advance.preReleaseTitle":"Preview Pre-release Features","user.settings.advance.sendDesc":"When enabled, CTRL + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendDesc.mac":"When enabled, ⌘ + ENTER will send the message and ENTER inserts a new line.","user.settings.advance.sendTitle":"Send Messages on CTRL+ENTER","user.settings.advance.sendTitle.mac":"Send Messages on ⌘+ENTER","user.settings.advance.title":"Advanced Settings","user.settings.custom_theme.awayIndicator":"Away Indicator","user.settings.custom_theme.buttonBg":"Button BG","user.settings.custom_theme.buttonColor":"Button Text","user.settings.custom_theme.centerChannelBg":"Center Channel BG","user.settings.custom_theme.centerChannelColor":"Center Channel Text","user.settings.custom_theme.centerChannelTitle":"Center Channel Styles","user.settings.custom_theme.codeTheme":"Code Theme","user.settings.custom_theme.copied":"✔ Copied","user.settings.custom_theme.copyPaste":"Copy and paste to share theme colors:","user.settings.custom_theme.copyThemeColors":"Copy Theme Colors","user.settings.custom_theme.dndIndicator":"Do Not Disturb Indicator","user.settings.custom_theme.errorTextColor":"Error Text Color","user.settings.custom_theme.linkButtonTitle":"Link and Button Styles","user.settings.custom_theme.linkColor":"Link Color","user.settings.custom_theme.mentionBg":"Mention Jewel BG","user.settings.custom_theme.mentionColor":"Mention Jewel Text","user.settings.custom_theme.mentionHighlightBg":"Mention Highlight BG","user.settings.custom_theme.mentionHighlightLink":"Mention Highlight Link","user.settings.custom_theme.newMessageSeparator":"New Message Separator","user.settings.custom_theme.onlineIndicator":"Online Indicator","user.settings.custom_theme.sidebarBg":"Sidebar BG","user.settings.custom_theme.sidebarHeaderBg":"Sidebar Header BG","user.settings.custom_theme.sidebarHeaderTextColor":"Sidebar Header Text","user.settings.custom_theme.sidebarTeamBarBg":"Team Sidebar BG","user.settings.custom_theme.sidebarText":"Sidebar Text","user.settings.custom_theme.sidebarTextActiveBorder":"Sidebar Text Active Border","user.settings.custom_theme.sidebarTextActiveColor":"Sidebar Text Active Color","user.settings.custom_theme.sidebarTextHoverBg":"Sidebar Text Hover BG","user.settings.custom_theme.sidebarTitle":"Sidebar Styles","user.settings.custom_theme.sidebarUnreadText":"Sidebar Unread Text","user.settings.display.channeldisplaymode":"Select the width of the center channel.","user.settings.display.channelDisplayTitle":"Channel Display","user.settings.display.clockDisplay":"Clock Display","user.settings.display.collapseDesc":"Set whether previews of image links and image attachment thumbnails show as expanded or collapsed by default. This setting can also be controlled using the slash commands /expand and /collapse.","user.settings.display.collapseDisplay":"Default Appearance of Image Previews","user.settings.display.collapsedReplyThreadsDescription":"When enabled, reply messages are not shown in the channel view. You can still read and reply to threads in the right-hand sidebar. You\'ll be notified about threads you\'re following in a new \\"Threads\\" item in the channel sidebar.","user.settings.display.collapsedReplyThreadsOff":"Off","user.settings.display.collapsedReplyThreadsOn":"On","user.settings.display.collapsedReplyThreadsTitle":"Collapsed Reply Threads (Beta)","user.settings.display.collapseOff":"Collapsed","user.settings.display.collapseOn":"Expanded","user.settings.display.fixedWidthCentered":"Fixed width, centered","user.settings.display.fullScreen":"Full width","user.settings.display.icon":"Display Settings Icon","user.settings.display.language":"Language","user.settings.display.linkPreviewDesc":"When available, the first web link in a message will show a preview of the website content below the message.","user.settings.display.linkPreviewDisplay":"Website Link Previews","user.settings.display.linkPreviewOff":"Off","user.settings.display.linkPreviewOn":"On","user.settings.display.messageDisplayClean":"Standard","user.settings.display.messageDisplayCleanDes":"Easy to scan and read.","user.settings.display.messageDisplayCompact":"Compact","user.settings.display.messageDisplayCompactDes":"Fit as many messages on the screen as we can.","user.settings.display.messageDisplayDescription":"Select how messages in a channel should be displayed.","user.settings.display.messageDisplayTitle":"Message Display","user.settings.display.militaryClock":"24-hour clock (example: 16:00)","user.settings.display.normalClock":"12-hour clock (example: 4:00 PM)","user.settings.display.preferTime":"Select how you prefer time displayed.","user.settings.display.teammateNameDisplay":"This field is handled through your System Administrator. If you want to change it, you need to do so through your System Administrator.","user.settings.display.teammateNameDisplayDescription":"Set how to display other user\'s names in posts and the Direct Messages list.","user.settings.display.teammateNameDisplayFullname":"Show first and last name","user.settings.display.teammateNameDisplayNicknameFullname":"Show nickname if one exists, otherwise show first and last name","user.settings.display.teammateNameDisplayTitle":"Teammate Name Display","user.settings.display.teammateNameDisplayUsername":"Show username","user.settings.display.theme.applyToAllTeams":"Apply new theme to all my teams","user.settings.display.theme.customTheme":"Custom Theme","user.settings.display.theme.describe":"Open to manage your theme","user.settings.display.theme.import":"Import theme colors from Slack","user.settings.display.theme.otherThemes":"See other themes","user.settings.display.theme.themeColors":"Theme Colors","user.settings.display.theme.title":"Theme","user.settings.display.timezone":"Timezone","user.settings.display.title":"Display Settings","user.settings.general.close":"Close","user.settings.general.confirmEmail":"Confirm Email","user.settings.general.currentEmail":"Current Email","user.settings.general.currentPassword":"Current Password","user.settings.general.email":"Email","user.settings.general.emailGitlabCantUpdate":"Login occurs through GitLab. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailGoogleCantUpdate":"Login occurs through Google. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailHelp1":"Email is used for sign-in, notifications, and password reset. Email requires verification if changed.","user.settings.general.emailHelp3":"Email is used for sign-in, notifications, and password reset.","user.settings.general.emailLdapCantUpdate":"Login occurs through AD/LDAP. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailMatch":"The new emails you entered do not match.","user.settings.general.emailOffice365CantUpdate":"Login occurs through Office 365. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailOpenIdCantUpdate":"Login occurs through OpenID Connect. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emailSamlCantUpdate":"Login occurs through SAML. Email cannot be updated. Email address used for notifications is {email}.","user.settings.general.emptyName":"Click \'Edit\' to add your full name","user.settings.general.emptyNickname":"Click \'Edit\' to add a nickname","user.settings.general.emptyPassword":"Please enter your current password.","user.settings.general.emptyPosition":"Click \'Edit\' to add your job title / position","user.settings.general.field_handled_externally":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.general.firstName":"First Name","user.settings.general.fullName":"Full Name","user.settings.general.icon":"General Settings Icon","user.settings.general.imageTooLarge":"Unable to upload profile image. File is too large.","user.settings.general.imageUpdated":"Image last updated {date}","user.settings.general.incorrectPassword":"Your password is incorrect.","user.settings.general.lastName":"Last Name","user.settings.general.loginGitlab":"Login done through GitLab ({email})","user.settings.general.loginGoogle":"Login done through Google ({email})","user.settings.general.loginLdap":"Login done through AD/LDAP ({email})","user.settings.general.loginOffice365":"Login done through Office 365 ({email})","user.settings.general.loginSaml":"Login done through SAML ({email})","user.settings.general.mobile.emptyName":"Click to add your full name","user.settings.general.mobile.emptyNickname":"Click to add a nickname","user.settings.general.mobile.emptyPosition":"Click to add your job title / position","user.settings.general.mobile.uploadImage":"Click to upload an image","user.settings.general.newEmail":"New Email","user.settings.general.nickname":"Nickname","user.settings.general.nicknameExtra":"Use Nickname for a name you might be called that is different from your first name and username. This is most often used when two or more people have similar sounding names and usernames.","user.settings.general.notificationsExtra":"By default, you will receive mention notifications when someone types your first name. Go to {notify} settings to change this default.","user.settings.general.notificationsLink":"Notifications","user.settings.general.position":"Position","user.settings.general.positionExtra":"Use Position for your role or job title. This will be shown in your profile popover.","user.settings.general.profilePicture":"Avatar","user.settings.general.sendAgain":"Send again","user.settings.general.sending":"Sending","user.settings.general.title":"General Settings","user.settings.general.uploadImage":"Click \'Edit\' to upload an image.","user.settings.general.username":"Username","user.settings.general.usernameInfo":"Pick something easy for teammates to recognize and recall.","user.settings.general.usernameReserved":"This username is reserved, please choose a new one.","user.settings.general.usernameRestrictions":"Username must begin with a letter, and contain between {min} to {max} lowercase characters made up of numbers, letters, and the symbols \'.\', \'-\', and \'_\'.","user.settings.general.validEmail":"Please enter a valid email address","user.settings.general.validImage":"Only BMP, JPG or PNG images may be used for profile pictures","user.settings.import_theme.cancel":"Cancel","user.settings.import_theme.importBody":"To import a theme, go to a Slack team and look for \\"Preferences -> Sidebar Theme\\". Open the custom theme option, copy the theme color values and paste them here:","user.settings.import_theme.importHeader":"Import Slack Theme","user.settings.import_theme.submit":"Submit","user.settings.import_theme.submitError":"Invalid format, please try copying and pasting in again.","user.settings.languages.change":"Change interface language","user.settings.languages.promote":"Select which language Chatting displays in the user interface.\\n \\nWould you like to help with translations? Join the [Chatting Translation Server](!http://translate.chatting.gomlo.me/) to contribute.","user.settings.mfa.add":"Add MFA to Account","user.settings.mfa.addHelp":"Adding multi-factor authentication will make your account more secure by requiring a code from your mobile phone each time you sign in.","user.settings.mfa.remove":"Remove MFA from Account","user.settings.mfa.removeHelp":"Removing multi-factor authentication means you will no longer require a phone-based passcode to sign-in to your account.","user.settings.mfa.requiredHelp":"Multi-factor authentication is required on this server. Resetting is only recommended when you need to switch code generation to a new mobile device. You will be required to set it up again immediately.","user.settings.mfa.reset":"Reset MFA on Account","user.settings.mfa.title":"Multi-factor Authentication","user.settings.modal.advanced":"Advanced","user.settings.modal.confirmBtns":"Yes, Discard","user.settings.modal.confirmMsg":"You have unsaved changes, are you sure you want to discard them?","user.settings.modal.confirmTitle":"Discard Changes?","user.settings.modal.display":"Display","user.settings.modal.general":"General","user.settings.modal.notifications":"Notifications","user.settings.modal.security":"Security","user.settings.modal.sidebar":"Sidebar","user.settings.modal.title":"Account Settings","user.settings.notifications.allActivity":"For all activity","user.settings.notifications.autoResponder":"Automatic Direct Message Replies","user.settings.notifications.autoResponderDefault":"Hello, I am out of office and unable to respond to messages.","user.settings.notifications.autoResponderDisabled":"Disabled","user.settings.notifications.autoResponderEnabled":"Enabled","user.settings.notifications.autoResponderHint":"Set a custom message that will be automatically sent in response to Direct Messages. Mentions in Public and Private Channels will not trigger the automated reply. Enabling Automatic Replies sets your status to Out of Office and disables email and push notifications.","user.settings.notifications.autoResponderPlaceholder":"Message","user.settings.notifications.channelWide":"Channel-wide mentions \\"@group\\", \\"@all\\", \\"@here\\"","user.settings.notifications.comments":"Reply notifications","user.settings.notifications.commentsAny":"Trigger notifications on messages in reply threads that I start or participate in","user.settings.notifications.commentsInfo":"In addition to notifications for when you\'re mentioned, select if you would like to receive notifications on reply threads.","user.settings.notifications.commentsNever":"Do not trigger notifications on messages in reply threads unless I\'m mentioned","user.settings.notifications.commentsRoot":"Trigger notifications on messages in threads that I start","user.settings.notifications.desktop":"Send desktop notifications","user.settings.notifications.desktop.allNoSound":"For all activity, without sound","user.settings.notifications.desktop.allSound":"For all activity, with sound","user.settings.notifications.desktop.allSoundHidden":"For all activity","user.settings.notifications.desktop.mentionsNoSound":"For mentions and direct messages, without sound","user.settings.notifications.desktop.mentionsSound":"For mentions and direct messages, with sound","user.settings.notifications.desktop.mentionsSoundHidden":"For mentions and direct messages","user.settings.notifications.desktop.sound":"Notification sound","user.settings.notifications.desktop.title":"Desktop Notifications","user.settings.notifications.email.disabled":"Email notifications are not enabled","user.settings.notifications.email.disabled_long":"Email notifications have not been enabled by your System Administrator.","user.settings.notifications.email.everyHour":"Every hour","user.settings.notifications.email.everyXMinutes":"Every {count, plural, one {minute} other {{count, number} minutes}}","user.settings.notifications.email.immediately":"Immediately","user.settings.notifications.email.never":"Never","user.settings.notifications.email.send":"Send email notifications","user.settings.notifications.emailBatchingInfo":"Notifications received over the time period selected are combined and sent in a single email.","user.settings.notifications.emailInfo":"Email notifications are sent for mentions and direct messages when you are offline or away for more than 5 minutes.","user.settings.notifications.emailNotifications":"Email Notifications","user.settings.notifications.header":"Notifications","user.settings.notifications.icon":"Notification Settings Icon","user.settings.notifications.info":"Desktop notifications are available on Edge, Firefox, Safari, Chrome and Chatting Desktop Apps.","user.settings.notifications.mentionsInfo":"Mentions trigger when someone sends a message that includes your username (\\"@{username}\\") or any of the options selected above.","user.settings.notifications.never":"Never","user.settings.notifications.noWords":"No words configured","user.settings.notifications.off":"Off","user.settings.notifications.on":"On","user.settings.notifications.onlyMentions":"Only for mentions and direct messages","user.settings.notifications.push":"Mobile Push Notifications","user.settings.notifications.push_notification.status":"Trigger push notifications when","user.settings.notifications.sensitiveName":"Your case-sensitive first name \\"{first_name}\\"","user.settings.notifications.sensitiveUsername":"Your non case-sensitive username \\"{username}\\"","user.settings.notifications.sensitiveWords":"Other non case-sensitive words, separated by commas:","user.settings.notifications.soundConfig":"Please configure notification sounds in your browser settings","user.settings.notifications.sounds_info":"Notification sounds are available on Firefox, Edge, Safari, Chrome and Chatting Desktop Apps.","user.settings.notifications.title":"Notification Settings","user.settings.notifications.wordsTrigger":"Words That Trigger Mentions","user.settings.push_notification.allActivity":"For all activity","user.settings.push_notification.allActivityAway":"For all activity when away or offline","user.settings.push_notification.allActivityOffline":"For all activity when offline","user.settings.push_notification.allActivityOnline":"For all activity when online, away or offline","user.settings.push_notification.away":"Away or offline","user.settings.push_notification.disabled":"Push notifications are not enabled","user.settings.push_notification.disabled_long":"Push notifications have not been enabled by your System Administrator.","user.settings.push_notification.info":"Notification alerts are pushed to your mobile device when there is activity in Chatting.","user.settings.push_notification.offline":"Offline","user.settings.push_notification.online":"Online, away or offline","user.settings.push_notification.onlyMentions":"For mentions and direct messages","user.settings.push_notification.onlyMentionsAway":"For mentions and direct messages when away or offline","user.settings.push_notification.onlyMentionsOffline":"For mentions and direct messages when offline","user.settings.push_notification.onlyMentionsOnline":"For mentions and direct messages when online, away or offline","user.settings.push_notification.send":"Send mobile push notifications","user.settings.push_notification.status_info":"Notification alerts are only pushed to your mobile device when your availability matches the selection above.","user.settings.security.active":"Active","user.settings.security.close":"Close","user.settings.security.currentPassword":"Current Password","user.settings.security.currentPasswordError":"Please enter your current password.","user.settings.security.deauthorize":"Deauthorize","user.settings.security.emailPwd":"Email and Password","user.settings.security.gitlab":"GitLab","user.settings.security.google":"Google","user.settings.security.icon":"Security Settings Icon","user.settings.security.inactive":"Inactive","user.settings.security.lastUpdated":"Last updated {date} at {time}","user.settings.security.ldap":"AD/LDAP","user.settings.security.loginGitlab":"Login done through GitLab","user.settings.security.loginGoogle":"Login done through Google Apps","user.settings.security.loginLdap":"Login done through AD/LDAP","user.settings.security.loginOffice365":"Login done through Office 365","user.settings.security.loginSaml":"Login done through SAML","user.settings.security.logoutActiveSessions":"View and Log Out of Active Sessions","user.settings.security.logoutActiveSessions.icon":"Active Sessions Icon","user.settings.security.method":"Sign-in Method","user.settings.security.newPassword":"New Password","user.settings.security.noApps":"No OAuth 2.0 Applications are authorized.","user.settings.security.oauthApps":"OAuth 2.0 Applications","user.settings.security.oauthAppsDescription":"Click \'Edit\' to manage your OAuth 2.0 Applications","user.settings.security.oauthAppsHelp":"Applications act on your behalf to access your data based on the permissions you grant them.","user.settings.security.office365":"Office 365","user.settings.security.oneSignin":"You may only have one sign-in method at a time. Switching sign-in method will send an email notifying you if the change was successful.","user.settings.security.openid":"OpenID","user.settings.security.password":"Password","user.settings.security.passwordError":"Your password must contain between {min} and {max} characters.","user.settings.security.passwordErrorLowercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter.","user.settings.security.passwordErrorLowercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one number.","user.settings.security.passwordErrorLowercaseNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one number, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorLowercaseSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorLowercaseUppercase":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter and at least one uppercase letter.","user.settings.security.passwordErrorLowercaseUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one number.","user.settings.security.passwordErrorLowercaseUppercaseNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, at least one number, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorLowercaseUppercaseSymbol":"Your password must contain between {min} and {max} characters made up of at least one lowercase letter, at least one uppercase letter, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorNumber":"Your password must contain between {min} and {max} characters made up of at least one number.","user.settings.security.passwordErrorNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one number and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorSymbol":"Your password must contain between {min} and {max} characters made up of at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorUppercase":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter.","user.settings.security.passwordErrorUppercaseNumber":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one number.","user.settings.security.passwordErrorUppercaseNumberSymbol":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter, at least one number, and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordErrorUppercaseSymbol":"Your password must contain between {min} and {max} characters made up of at least one uppercase letter and at least one symbol (e.g. \\"~!@#$%^&*()\\").","user.settings.security.passwordGitlabCantUpdate":"Login occurs through GitLab. Password cannot be updated.","user.settings.security.passwordGoogleCantUpdate":"Login occurs through Google Apps. Password cannot be updated.","user.settings.security.passwordLdapCantUpdate":"Login occurs through AD/LDAP. Password cannot be updated.","user.settings.security.passwordMatchError":"The new passwords you entered do not match.","user.settings.security.passwordMinLength":"Invalid minimum length, cannot show preview.","user.settings.security.passwordOffice365CantUpdate":"Login occurs through Office 365. Password cannot be updated.","user.settings.security.passwordSamlCantUpdate":"This field is handled through your login provider. If you want to change it, you need to do so through your login provider.","user.settings.security.retypePassword":"Retype New Password","user.settings.security.saml":"SAML","user.settings.security.switchEmail":"Switch to Using Email and Password","user.settings.security.switchGitlab":"Switch to Using GitLab SSO","user.settings.security.switchGoogle":"Switch to Using Google SSO","user.settings.security.switchLdap":"Switch to Using AD/LDAP","user.settings.security.switchOffice365":"Switch to Using Office 365 SSO","user.settings.security.switchOpenId":"Switch to Using OpenID SSO","user.settings.security.switchSaml":"Switch to Using SAML SSO","user.settings.security.title":"Security Settings","user.settings.security.viewHistory":"View Access History","user.settings.security.viewHistory.icon":"Access History Icon","user.settings.sidebar.after_seven_days":"After 7 days with no new messages","user.settings.sidebar.autoCloseDMDesc":"Direct Message conversations can be reopened with the “+” button in the sidebar or using the Channel Switcher (CTRL+K).","user.settings.sidebar.autoCloseDMTitle":"Automatically Close Direct Messages","user.settings.sidebar.channelSwitcherSectionDesc.mac":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CMD + K.","user.settings.sidebar.channelSwitcherSectionDesc.windows":"The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using CTRL + K.","user.settings.sidebar.channelSwitcherSectionTitle":"Channel Switcher","user.settings.sidebar.favorites":"Favorites grouped separately","user.settings.sidebar.favoritesDesc":"Channels marked as favorites will be grouped separately.","user.settings.sidebar.favoritesShort":"Favorites grouped separately","user.settings.sidebar.groupAndSortChannelsTitle":"Channel Grouping and Sorting","user.settings.sidebar.groupByNone":"Combine all channel types","user.settings.sidebar.groupByNoneShort":"No grouping","user.settings.sidebar.groupByType":"Channels grouped by type","user.settings.sidebar.groupByTypeShort":"Group by channel type","user.settings.sidebar.groupChannelsTitle":"Channel grouping","user.settings.sidebar.groupDesc":"Group channels by type, or combine all types into a list.","user.settings.sidebar.icon":"Sidebar Settings Icon","user.settings.sidebar.limitVisibleGMsDMs.allDirectMessages":"All Direct Messages","user.settings.sidebar.limitVisibleGMsDMsDesc":"You can also change these settings in the direct messages sidebar menu.","user.settings.sidebar.limitVisibleGMsDMsTitle":"Number of direct messages to show","user.settings.sidebar.never":"Never","user.settings.sidebar.off":"Off","user.settings.sidebar.on":"On","user.settings.sidebar.recent":"Recent activity","user.settings.sidebar.showUnreadsCategoryDesc":"When enabled, all unread channels and direct messages will be grouped together in the sidebar.","user.settings.sidebar.showUnreadsCategoryTitle":"Group unread channels separately","user.settings.sidebar.sortAlpha":"Alphabetically","user.settings.sidebar.sortAlphaShort":"sorted alphabetically","user.settings.sidebar.sortChannelsTitle":"Channel sorting","user.settings.sidebar.sortDesc":"Sort channels alphabetically, or by most recent post.","user.settings.sidebar.sortRecent":"Recency","user.settings.sidebar.sortRecentShort":"sorted by recency","user.settings.sidebar.title":"Sidebar Settings","user.settings.sidebar.unreads":"Unreads grouped separately","user.settings.sidebar.unreadsDesc":"Group unread channels separately until read.","user.settings.sidebar.unreadsFavoritesShort":"Unreads and favorites grouped separately","user.settings.sidebar.unreadsShort":"Unreads grouped separately","user.settings.timezones.automatic":"Automatic","user.settings.timezones.promote":"Select the timezone used for timestamps in the user interface and email notifications.","user.settings.tokens.activate":"Enable","user.settings.tokens.cancel":"Cancel","user.settings.tokens.clickToEdit":"Click \'Edit\' to manage your personal access tokens","user.settings.tokens.confirmCopyButton":"Yes, I have copied the token","user.settings.tokens.confirmCopyMessage":"Make sure you have copied and saved the access token below. You won\'t be able to see it again!","user.settings.tokens.confirmCopyTitle":"Copied Your Token?","user.settings.tokens.confirmCreateButton":"Yes, Create","user.settings.tokens.confirmCreateMessage":"You are generating a personal access token with System Admin permissions. Are you sure want to create this token?","user.settings.tokens.confirmCreateTitle":"Create System Admin Personal Access Token","user.settings.tokens.confirmDeleteButton":"Yes, Delete","user.settings.tokens.confirmDeleteMessage":"Any integrations using this token will no longer be able to access the Chatting API. You cannot undo this action. \\n \\nAre you sure want to delete the **{description}** token?","user.settings.tokens.confirmDeleteTitle":"Delete Token?","user.settings.tokens.copy":"Please copy the access token below. You won\'t be able to see it again!","user.settings.tokens.create":"Create Token","user.settings.tokens.deactivate":"Disable","user.settings.tokens.deactivatedWarning":"(Disabled)","user.settings.tokens.delete":"Delete","user.settings.tokens.description":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication).","user.settings.tokens.description_mobile":"[Personal access tokens](!https://about.chatting.gomlo.me/default-user-access-tokens) function similarly to session tokens and can be used by integrations to [authenticate against the REST API](!https://about.chatting.gomlo.me/default-api-authentication). Create new tokens on your desktop.","user.settings.tokens.id":"Token ID: ","user.settings.tokens.name":"Token Description: ","user.settings.tokens.nameHelp":"Enter a description for your token to remember what it does.","user.settings.tokens.nameRequired":"Please enter a description.","user.settings.tokens.save":"Save","user.settings.tokens.title":"Personal Access Tokens","user.settings.tokens.token":"Access Token: ","user.settings.tokens.tokenDesc":"Token Description: ","user.settings.tokens.tokenId":"Token ID: ","user.settings.tokens.tokenLoading":"Loading...","user.settings.tokens.userAccessTokensNone":"No personal access tokens.","userGuideHelp.askTheCommunity":"Ask the community","userGuideHelp.helpResources":"Help resources","userGuideHelp.keyboardShortcuts":"Keyboard shortcuts","userGuideHelp.reportAProblem":"Report a problem","version_bar.new":"A new version of Chatting is available.","version_bar.refresh":"Refresh the app now","view_image_popover.download":"Download","view_image_popover.file":"File {count, number} of {total, number}","view_image_popover.open":"Open","view_image_popover.publicLink":"Get a public link","view_image.loading":"Loading ","view_image.zoom_in":"Zoom In","view_image.zoom_out":"Zoom Out","view_image.zoom_reset":"Reset Zoom","warn_metric_ack_modal.contact_support":"Acknowledge","warn_metric_ack_modal.learn_more.link":"Learn more","warn_metric_ack_modal.mailto.link":"email us","warn_metric_ack_modal.mailto.message":"Support could not be reached. Please {link}.","warn_metric_ack_modal.number_of_active_users.description":"Chatting strongly recommends that deployments of over {limit} users take advantage of features such as user management, server clustering and performance monitoring. Contact us to learn more and let us know how we can help.","warn_metric_ack_modal.number_of_posts.description":"Your Chatting system has a large number of messages. The default Chatting database search starts to show performance degradation at around 2.5 million posts. With over 5 million posts, Elasticsearch can help avoid significant performance issues, such as timeouts, with search and at-mentions. Contact us to learn more and let us know how we can help.","warn_metric_ack_modal.number_of_posts.header.title":"Improve Performance","warn_metric_ack_modal.number_of_users.header.title":"Scaling with Chatting","warn_metric_ack_modal.subtext":"By clicking Acknowledge, you will be sharing your information with Chatting Inc. {link}","web.footer.about":"About","web.footer.help":"Help","web.footer.privacy":"Privacy","web.footer.terms":"Terms","web.header.back":"Back","web.header.logout":"Logout","web.root.signup_info":"All team communication in one place, searchable and accessible anywhere","widgets.channels_input.empty":"No channels found","widgets.channels_input.loading":"Loading","widgets.users_emails_input.loading":"Loading","widgets.users_emails_input.no_user_found_matching":"No one found matching **{text}**, type email address","widgets.users_emails_input.valid_email":"Add **{email}**","yourcomputer":"Your computer"}');var d=n(6602);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return async e=>{var t,n;const o=[e((0,s.Zb)()),e((0,s.ut)())],l=await Promise.all(o);return document.cookie.indexOf("".concat(a.Z.COOKIE.SESSION_USER,"="))>-1&&l.push(await e(i.f9())),"true"===(null===(t=l[1])||void 0===t||null===(n=t.data)||void 0===n?void 0:n.Cloud)&&l.push(await e((0,r.F3)())),l}}const h={};function g(e,t){return h[e]=t,(e,n)=>{const s=n(),a=(0,d.B)(s),i=(0,d.F)(s,a),r={};Object.assign(r,i),i&&(Object.assign(r,t(a)),e({type:l.MF.RECEIVED_TRANSLATIONS,data:{locale:a,translations:r}}))}}function f(e){Reflect.deleteProperty(h,e)}function b(e,t){return async n=>{const s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c);if(Object.values(h).forEach((t=>{Object.assign(s,t(e))})),"en"!==e)try{const e=await o.je.getTranslations(t);Object.assign(s,e)}catch(e){console.error(e)}n({type:l.MF.RECEIVED_TRANSLATIONS,data:{locale:e,translations:s}})}}},85206:(e,t,n)=>{"use strict";n.d(t,{Gl:()=>a,Tm:()=>i,CY:()=>r,dN:()=>o,fo:()=>l,v4:()=>c,vk:()=>d,b2:()=>m});var s=n(92337);function a(e){return{type:s.ai.SET_MODAL_SEARCH,data:e}}function i(e={}){return{type:s.ai.SET_MODAL_FILTERS,data:e}}function r(e){return{type:s.ai.SET_USER_GRID_SEARCH,data:e}}function o(e={}){return{type:s.ai.SET_USER_GRID_FILTERS,data:e}}function l(e,t="",n=""){return{type:s.ai.SET_SYSTEM_USERS_SEARCH,data:{term:e,team:t,filter:n}}}function c(e){return{type:s.ai.SET_TEAM_LIST_SEARCH,data:e}}function d(e){return{type:s.ai.SET_CHANNEL_LIST_SEARCH,data:e}}function m(e={}){return{type:s.ai.SET_CHANNEL_LIST_FILTERS,data:e}}},10873:(e,t,n)=>{"use strict";n.d(t,{yx:()=>a,v9:()=>i,aw:()=>r,YQ:()=>o});var s=n(92337);function a(e){return{type:s.MF.SET_SHOW_PREVIEW_ON_CREATE_COMMENT,showPreview:e}}function i(e){return{type:s.MF.SET_SHOW_PREVIEW_ON_CREATE_POST,showPreview:e}}function r(e){return{type:s.MF.SET_SHOW_PREVIEW_ON_EDIT_CHANNEL_HEADER_MODAL,showPreview:e}}function o(e){return{type:s.MF.SET_SHOW_PREVIEW_ON_EDIT_POST_MODAL,showPreview:e}}},58008:(e,t,n)=>{"use strict";n.d(t,{xv:()=>ce,j2:()=>le,GL:()=>pe,QI:()=>me,DC:()=>be,iD:()=>ge,lN:()=>fe,x9:()=>Ee,Hb:()=>ue,Jk:()=>_e}),n(33948),n(60285),n(39714),n(15306),n(23123),n(88674),n(23157),n(32023);var s=n(81375),a=n(70082),i=n(74650),r=n(24210),o=n(80722),l=n(36745),c=n(18572),d=n(26961),m=n(60862),u=n(55165),p=n(47244),h=n(92405),g=n(47590),f=n(11754),b=n(18493),_=n(89980),E=n(10806);function C(){return async(e,t)=>{const n=t();let s;try{const t=await e((0,b.AH)());s=new Set(t.data)}catch(e){return{error:e}}s.add((0,_.rc)(n));const i=Object.keys((0,_.Rf)(n)),r=new Set(i.filter((e=>!s.has(e)))),o=[];for(const e of r.values())o.push({type:a.bZ.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e}});return o.length>0&&e((0,E.$C)(o)),{data:!0}}}var y=n(11106),v=n(16146),w=n(42560),S=n(70493),T=n(85357),P=n(38348),M=n(62696),N=n(93278),I=n(526),R=n(67844),A=n(74838),O=n(92337),L=n(53497),D=n(15433),k=n(89262),x=n(63951),U=n(34288),Z=n(34959),j=n(72657),F=n(47715),H=n(72009),q=n(58194),B=n(14788),G=n(12266),V=n(74935),W=n(37703),z=n(45697),Y=n.n(z),K=n(67294),J=n(43253),Q=n(44012);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $ extends K.PureComponent{constructor(e){super(e),X(this,"onHide",(()=>{this.setState({show:!1})})),this.state={show:!0}}render(){let e,t;return e=K.createElement(Q.Z,{id:"removed_channel.channelName",defaultMessage:"the channel"}),this.props.channelName&&(e=this.props.channelName),t=K.createElement(Q.Z,{id:"removed_channel.someone",defaultMessage:"Someone"}),this.props.remover&&(t=this.props.remover),""===this.props.currentUserId?null:K.createElement(J.Z,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"removeFromChannelModalLabel"},K.createElement(J.Z.Header,{closeButton:!0},K.createElement(J.Z.Title,{componentClass:"h1",id:"removeFromChannelModalLabel"},K.createElement(Q.Z,{id:"removed_channel.from",defaultMessage:"Removed from "}),K.createElement("span",{className:"name"},e))),K.createElement(J.Z.Body,null,K.createElement("p",null,K.createElement(Q.Z,{id:"removed_channel.remover",defaultMessage:"{remover} removed you from {channel}",values:{remover:t,channel:e}}))),K.createElement(J.Z.Footer,null,K.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.onHide,id:"removedChannelBtn"},K.createElement(Q.Z,{id:"removed_channel.okay",defaultMessage:"Okay"}))))}}X($,"propTypes",{currentUserId:Y().string.isRequired,onHide:Y().func.isRequired,channelName:Y().string,remover:Y().string});const ee=(0,W.connect)((function(e,t){const n=(0,_.PR)(e,t.removerId);return{currentUserId:(0,_.rc)(e),remover:n&&n.username}}))($);var te=n(72278);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ie=H.Z.dispatch,re=H.Z.getState,oe={};function le(){if(!window.WebSocket)return void console.log("Browser does not support websocket");const e=(0,w.iE)(re());let t="";e.WebsocketURL?t=e.WebsocketURL:(t=new URL((0,G.fO)()),"https:"===t.protocol?t.protocol="wss:":t.protocol="ws:",/:\d+$/.test(t.host)||("wss:"===t.protocol?t.host+=":"+e.WebsocketSecurePort:t.host+=":"+e.WebsocketPort),t=t.toString()),t.length>0&&"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t+=y.je.getUrlVersion()+"/websocket",q.Z.setEventCallback(ve),q.Z.setFirstConnectCallback(Ce),q.Z.setReconnectCallback((()=>pe(!1))),q.Z.setMissedEventCallback((()=>pe(!1))),q.Z.setCloseCallback(ye),q.Z.initialize(t)}function ce(){q.Z.close()}const de={};function me(e,t){de[e]=t}function ue(e){Reflect.deleteProperty(de,e)}function pe(e=!0){e&&(ce(),le()),ie({type:a.P.WEBSOCKET_SUCCESS,timestamp:Date.now()}),(0,B.HC)(),Object.values(de).forEach((e=>{e&&"function"==typeof e&&e()}));const t=re();if(t.entities.teams.currentTeamId){const e=(0,S.gO)(t),n=(0,T.bt)(t,e),s=(0,T.xl)(t,n);ie((0,x.b9)()),ie(Pe()),ie(s?(0,D.RE)(e,s.create_at):(0,h.Jq)(e)),j.Vq(),ie(f.Jw())}t.websocket.lastDisconnectAt&&ie((0,b.Hd)()),ie((async e=>{e({type:O.MF.RESET_WS_ERROR_COUNT})})),ie((0,g.b9)())}let he="";function ge(){clearInterval(he),he=setInterval((()=>{null!=(0,_.ts)(re())&&pe(!1)}),9e5)}function fe(){clearInterval(he)}function be(e,t,n){oe[e]||(oe[e]={}),oe[e][t]=n}function _e(e,t){const n=oe[e];n&&Reflect.deleteProperty(n,t)}function Ee(e){Reflect.deleteProperty(oe,e)}function Ce(){ie((0,s.$C)([{type:a.P.WEBSOCKET_SUCCESS,timestamp:Date.now()},(0,g.b9)()]))}function ye(e){e>7&&ie((0,g.H)({type:"critical",message:O.MN.WEBSOCKET_PORT_ERROR},!0)),ie((0,s.$C)([{type:a.P.WEBSOCKET_FAILURE,timestamp:Date.now()},async e=>{e({type:O.MF.INCREMENT_WS_ERROR_COUNT})}]))}function ve(e){switch(e.event){case O.CF.POSTED:case O.CF.EPHEMERAL_MESSAGE:we(e);break;case O.CF.POST_EDITED:!function(e){const t=JSON.parse(e.data.post);ie((0,h.gh)(t)),(0,h.Gw)([t],ie,re);const n=(0,S.gO)(re());n===e.broadcast.channel_id&&(ie((0,o.mx)(n)),window.isActive&&ie((0,o.SU)(n)))}(e);break;case O.CF.POST_DELETED:!function(e){const t=JSON.parse(e.data.post);ie((0,h.uB)(t)),t.is_pinned&&ie((0,o.mx)(t.channel_id))}(e);break;case O.CF.POST_UNREAD:!function(e){ie({type:O.MF.POST_UNREAD_SUCCESS,data:{lastViewedAt:e.data.last_viewed_at,channelId:e.broadcast.channel_id,msgCount:e.data.msg_count,mentionCount:e.data.mention_count}})}(e);break;case O.CF.LEAVE_TEAM:!function(e){const t=re(),i=[{type:a.bZ.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:e.data.team_id,user_id:e.data.user_id}},{type:a.OU.REMOVE_MEMBER_FROM_TEAM,data:{team_id:e.data.team_id,user_id:e.data.user_id}}],r=(0,S.eB)(t),o=r&&r[e.data.team_id]||[];for(const t of o)i.push({type:a.d4.REMOVE_MEMBER_FROM_CHANNEL,data:{id:t,user_id:e.data.user_id}});ie((0,s.$C)(i));const l=(0,_.ts)(t);if(l.id===e.data.user_id)ie({type:a.OU.LEAVE_TEAM,data:{id:e.data.team_id}}),(0,v.ev)(t)===e.data.team_id&&(n.g.location.pathname.startsWith("/admin_console")||(0,U.mc)()),(0,V.a_)(l)&&ie(C());else{const n=(0,v.VP)(t,e.data.team_id),i=(0,S.E0)(t),r=Object.values(i).some((t=>t[e.data.user_id]));n&&(0,V.a_)(l)&&!r&&ie((0,s.$C)([{type:a.bZ.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:a.OU.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.id,user_id:e.data.user_id}}]))}}(e);break;case O.CF.UPDATE_TEAM:!function(e){ie({type:a.OU.UPDATED_TEAM,data:JSON.parse(e.data.team)})}(e);break;case O.CF.UPDATE_TEAM_SCHEME:ie(f.r8());break;case O.CF.DELETE_TEAM:!function(e){const t=JSON.parse(e.data.team),n=H.Z.getState(),{teams:i}=n.entities.teams;if(t&&i&&i[t.id]&&0===i[t.id].delete_at){const{currentUserId:e}=n.entities.users,{currentTeamId:i,myMembers:r}=n.entities.teams,o=Object.values(r),l=o.find((t=>t.user_id===e&&t.team_id===i));let c="";if(t&&l&&t.id===l.team_id){const e={};(0,v.Dc)(n).forEach((t=>{e[t.id]=t}));for(let n=0;n<o.length;n++){const s=o[n].team_id;if(e&&e[s]&&0===e[s].delete_at&&t.id!==s){c=s;break}}}if(ie((0,s.$C)([{type:a.OU.RECEIVED_TEAM_DELETED,data:{id:t.id}},{type:a.OU.UPDATED_TEAM,data:t}])),c){ie({type:a.OU.SELECT_TEAM,data:c});const e=re(),t=(0,S.fG)(e,c);k.m.push("".concat((0,v.g4)(e),"/group/").concat(t))}else k.m.push("/")}}(e);break;case O.CF.ADDED_TO_TEAM:!async function(e){await ie(f.VP(e.data.team_id)),await ie(f.r8()),await ie(f.Jw())}(e);break;case O.CF.USER_ADDED:ie(function(e){return async(t,n)=>{const s=n(),i=(0,w.iE)(s),r=(0,w.lJ)(s),l="true"===i.ExperimentalTimezone,c=(0,S.gO)(s);c===e.broadcast.channel_id&&(t((0,o.mx)(c)),t({type:a.bZ.RECEIVED_PROFILE_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===(null==r?void 0:r.IsLicensed)&&"true"===(null==r?void 0:r.LDAPGroups)&&t((0,o.am)(c,l)));const d=(0,v.ev)(n()),m=(0,_.rc)(n());d===e.data.team_id&&m===e.data.user_id&&t(Se(e.broadcast.channel_id)),"true"===r.Cloud&&(0,_.BW)(n())&&t((0,N.pu)())}}(e));break;case O.CF.USER_REMOVED:!async function(e){const t=re(),n=(0,S.TB)(t)||{},r=(0,_.ts)(t),l=(0,w.iE)(t),c=(0,w.lJ)(t),d="true"===l.ExperimentalTimezone;if(e.broadcast.user_id===r.id){ie((0,x.b9)());const s=(0,R.s2)(t);e.data.channel_id===s&&ie((0,L.Lg)()),e.data.channel_id===n.id&&(e.data.remover_id===e.broadcast.user_id?(k.m.push((0,v.gm)(t)),await ie({type:a.d4.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}})):((0,_.PR)(t,e.data.remover_id)||ie((0,b.PR)(e.data.remover_id)),ie((0,A.h)({modalId:O.r8.REMOVED_FROM_CHANNEL,dialogType:ee,dialogProps:{channelName:n.display_name,removerId:e.data.remover_id}})),await ie({type:a.d4.LEAVE_CHANNEL,data:{id:e.data.channel_id,user_id:e.broadcast.user_id}}),(0,U.mc)())),(0,V.a_)(r)&&ie(C())}else e.broadcast.channel_id===n.id&&(ie((0,o.mx)(n.id)),ie({type:a.bZ.RECEIVED_PROFILE_NOT_IN_CHANNEL,data:{id:e.broadcast.channel_id,user_id:e.data.user_id}}),"true"===(null==c?void 0:c.IsLicensed)&&"true"===(null==c?void 0:c.LDAPGroups)&&ie((0,o.am)(n.id,d)));if(e.broadcast.user_id!==r.id){const n=(0,S.mr)(t,e.broadcast.channel_id),i=(0,S.E0)(t),o=Object.values(i).some((t=>t[e.data.user_id]));if(n&&(0,V.a_)(r)&&!o){const t=[{type:a.bZ.PROFILE_NO_LONGER_VISIBLE,data:{user_id:e.data.user_id}},{type:a.OU.REMOVE_MEMBER_FROM_TEAM,data:{team_id:n.team_id,user_id:e.data.user_id}}];ie((0,s.$C)(t))}}const m=e.broadcast.channel_id||e.data.channel_id,u=e.broadcast.user_id||e.data.user_id,p=(0,S.mr)(t,m);!p||(0,P.AN)(t,{permission:i.Pl.VIEW_MEMBERS})||(0,P.Rm)(t,{permission:i.Pl.VIEW_MEMBERS,team:p.team_id})||ie((0,s.$C)([{type:a.bZ.RECEIVED_PROFILE_NOT_IN_TEAM,data:{id:p.team_id,user_id:u}},{type:a.OU.REMOVE_MEMBER_FROM_TEAM,data:{team_id:p.team_id,user_id:u}}]))}(e);break;case O.CF.USER_UPDATED:!async function(e){const t=re(),n=(0,_.ts)(t),s=e.data.user,i=(0,w.iE)(t),r=(0,w.lJ)(t),l=(0,V.a_)(s),c="true"===i.ExperimentalTimezone,d="true"===(null==r?void 0:r.IsLicensed)&&"true"===(null==r?void 0:r.LDAPGroups);if(l||c&&d){let e=(0,S.ii)(t);const n=(0,S.gO)(t);let a=e&&e[s.id];a||(await ie((0,o.hg)(n,s.id)),e=(0,S.ii)(re()),a=e&&e[s.id]),a&&(d&&c&&ie((0,o.am)(n,!0)),(0,V.a_)(s)&&ie((0,o.mx)(n)))}n.id===s.id?s.update_at>n.update_at&&(0,b.jo)()(ie,re):ie({type:a.bZ.RECEIVED_PROFILE,data:s})}(e);break;case O.CF.ROLE_ADDED:!function(e){const t=JSON.parse(e.data.role);ie({type:a.dC.RECEIVED_ROLE,data:t})}(e);break;case O.CF.ROLE_REMOVED:!function(e){const t=JSON.parse(e.data.role);ie({type:a.dC.ROLE_DELETED,data:t})}(e);break;case O.CF.CHANNEL_SCHEME_UPDATED:!function(e){ie((0,o.Or)(e.broadcast.channel_id))}(e);break;case O.CF.MEMBERROLE_UPDATED:!function(e){const t=JSON.parse(e.data.member),n=t.roles.split(" ");ie((0,c.k3)(n)),ie({type:a.OU.RECEIVED_MY_TEAM_MEMBER,data:t})}(e);break;case O.CF.ROLE_UPDATED:!function(e){const t=JSON.parse(e.data.role);ie({type:a.dC.RECEIVED_ROLE,data:t})}(e);break;case O.CF.CHANNEL_CREATED:ie(function(e){return async(t,n)=>{const s=e.data.channel_id,a=e.data.team_id,i=n();if((0,v.ev)(i)===a){let e=(0,S.mr)(i,s);e||(await t((0,o.Ao)(s)),e=(0,S.mr)(n(),s)),t((0,r.Sn)(e,!1))}}}(e));break;case O.CF.CHANNEL_DELETED:!function(e){const t=re(),n="true"===(0,w.iE)(t).ExperimentalViewArchivedChannels;if((0,S.gO)(t)===e.data.channel_id&&!n){const e=(0,v.gm)(t),n=(0,v.ev)(t),s=(0,S.fG)(t,n);k.m.push(e+"/group/"+s)}ie({type:a.d4.RECEIVED_CHANNEL_DELETED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,deleteAt:e.data.delete_at,viewArchivedChannels:n}})}(e);break;case O.CF.CHANNEL_UNARCHIVED:!function(e){const t=re(),n="true"===(0,w.iE)(t).ExperimentalViewArchivedChannels;ie({type:a.d4.RECEIVED_CHANNEL_UNARCHIVED,data:{id:e.data.channel_id,team_id:e.broadcast.team_id,viewArchivedChannels:n}})}(e);break;case O.CF.CHANNEL_CONVERTED:!function(e){const t=e.data.channel_id;if(t){const e=(0,S.mr)(re(),t);e&&ie({type:a.d4.RECEIVED_CHANNEL,data:se(se({},e),{},{type:i.LQ.PRIVATE_CHANNEL})})}}(e);break;case O.CF.CHANNEL_UPDATED:ie(function(e){return(t,n)=>{const s=JSON.parse(e.data.channel);t({type:a.d4.RECEIVED_CHANNEL,data:s});const i=n();s.id===(0,S.gO)(i)&&k.m.replace("".concat((0,v.gm)(i),"/group/").concat(s.name))}}(e));break;case O.CF.CHANNEL_MEMBER_UPDATED:!function(e){const t=JSON.parse(e.data.channelMember),n=t.roles.split(" ");ie((0,c.k3)(n)),ie({type:a.d4.RECEIVED_MY_CHANNEL_MEMBER,data:t})}(e);break;case O.CF.DIRECT_ADDED:case O.CF.GROUP_ADDED:ie(function(e){return Se(e.broadcast.channel_id)}(e));break;case O.CF.PREFERENCE_CHANGED:!function(e){const t=JSON.parse(e.data.preference);ie({type:a.wT.RECEIVED_PREFERENCES,data:[t]}),Te(t)&&(0,F.D3)()}(e);break;case O.CF.PREFERENCES_CHANGED:!function(e){const t=JSON.parse(e.data.preferences);ie({type:a.wT.RECEIVED_PREFERENCES,data:t}),-1!==t.findIndex(Te)&&(0,F.D3)()}(e);break;case O.CF.PREFERENCES_DELETED:!function(e){const t=JSON.parse(e.data.preferences);ie({type:a.wT.DELETED_PREFERENCES,data:t})}(e);break;case O.CF.TYPING:ie(function(e){return async(t,n)=>{const s=n(),a=(0,w.iE)(s),r=(0,_.rc)(s),o=e.data.user_id,l={id:e.broadcast.channel_id+e.data.parent_id,userId:o,now:Date.now()};if(t({type:i.jH.TYPING,data:l}),setTimeout((()=>{t({type:i.jH.STOP_TYPING,data:l})}),parseInt(a.TimeBetweenUserTypingUpdatesMilliseconds,10)),o!==r){const e=await t((0,b.C4)([o]));if(e.data&&e.data.length>0)return}(0,_.ZO)(s,o)!==i.LQ.ONLINE&&t((0,b.W7)([o]))}}(e));break;case O.CF.STATUS_CHANGED:!function(e){ie({type:a.bZ.RECEIVED_STATUSES,data:[{user_id:e.data.user_id,status:e.data.status}]})}(e);break;case O.CF.HELLO:!function(e){(0,p.HD)(e.data.server_version)(ie,re)}(e);break;case O.CF.REACTION_ADDED:!function(e){const t=JSON.parse(e.data.reaction);ie((0,h.Es)(t.emoji_name)),ie({type:a.tk.RECEIVED_REACTION,data:t})}(e);break;case O.CF.REACTION_REMOVED:!function(e){const t=JSON.parse(e.data.reaction);ie({type:a.tk.REACTION_DELETED,data:t})}(e);break;case O.CF.EMOJI_ADDED:!function(e){const t=JSON.parse(e.data.emoji);ie({type:a.Bw.RECEIVED_CUSTOM_EMOJI,data:t})}(e);break;case O.CF.CHANNEL_VIEWED:!function(e){window.isActive&&(0,S.gO)(re())===e.data.channel_id||(0,_.rc)(re())!==e.broadcast.user_id||ie((0,o.Eo)(e.data.channel_id,"",!1))}(e);break;case O.CF.PLUGIN_ENABLED:!function(e){const t=e.data.manifest;(0,B.Os)(t).catch((e=>{console.error(e.message)}))}(e);break;case O.CF.PLUGIN_DISABLED:!function(e){const t=e.data.manifest;(0,B.JS)(t)}(e);break;case O.CF.USER_ROLE_UPDATED:!function(e){const t=H.Z.getState().entities.users.profiles[e.data.user_id];if(t){const s=e.data.roles,i=s.split(" "),r=t.roles.includes(O.gT.PERMISSIONS_SYSTEM_ADMIN)&&!s.includes(O.gT.PERMISSIONS_SYSTEM_ADMIN);H.Z.dispatch({type:a.bZ.RECEIVED_PROFILE,data:se(se({},t),{},{roles:s})}),ie((0,c.k3)(i)),r&&n.g.location.pathname.startsWith("/admin_console")&&(0,U.mc)()}}(e);break;case O.CF.CONFIG_CHANGED:!function(e){H.Z.dispatch({type:a.P.CLIENT_CONFIG_RECEIVED,data:e.data.config})}(e);break;case O.CF.LICENSE_CHANGED:!function(e){H.Z.dispatch({type:a.P.CLIENT_LICENSE_RECEIVED,data:e.data.license})}(e);break;case O.CF.PLUGIN_STATUSES_CHANGED:!function(e){H.Z.dispatch({type:a.lj.RECEIVED_PLUGIN_STATUSES,data:e.data.plugin_statuses})}(e);break;case O.CF.OPEN_DIALOG:!function(e){const t=e.data&&e.data.dialog||{},n=JSON.parse(t);H.Z.dispatch({type:a.bK.RECEIVED_DIALOG,data:n});const s=re().entities.integrations.dialogTriggerId;n.trigger_id===s&&H.Z.dispatch((0,A.h)({modalId:O.r8.INTERACTIVE_DIALOG,dialogType:te.Z}))}(e);break;case O.CF.RECEIVED_GROUP:!function(e){const t=JSON.parse(e.data.group);ie((0,s.$C)([{type:a.kq.RECEIVED_GROUP,data:t},{type:a.kq.RECEIVED_MY_GROUPS,data:[t]}]))}(e);break;case O.CF.RECEIVED_GROUP_ASSOCIATED_TO_TEAM:!function(e){H.Z.dispatch({type:a.kq.RECEIVED_GROUP_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case O.CF.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM:!function(e){H.Z.dispatch({type:a.kq.RECEIVED_GROUP_NOT_ASSOCIATED_TO_TEAM,data:{teamID:e.broadcast.team_id,groups:[{id:e.data.group_id}]}})}(e);break;case O.CF.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL:!function(e){H.Z.dispatch({type:a.kq.RECEIVED_GROUP_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case O.CF.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL:!function(e){H.Z.dispatch({type:a.kq.RECEIVED_GROUP_NOT_ASSOCIATED_TO_CHANNEL,data:{channelID:e.broadcast.channel_id,groups:[{id:e.data.group_id}]}})}(e);break;case O.CF.WARN_METRIC_STATUS_RECEIVED:!function(e){var t=JSON.parse(e.data.warnMetricStatus);let n;t.id===O.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?n=O.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS:t.id===O.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(n=O.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS),H.Z.dispatch((0,s.$C)([{type:a.P.WARN_METRIC_STATUS_RECEIVED,data:t},{type:O.MF.SHOW_NOTICE,data:[n]}]))}(e);break;case O.CF.WARN_METRIC_STATUS_REMOVED:!function(e){H.Z.dispatch({type:a.P.WARN_METRIC_STATUS_REMOVED,data:{id:e.data.warnMetricId}})}(e);break;case O.CF.SIDEBAR_CATEGORY_CREATED:ie(function(e){return(t,n)=>{const s=n();e.broadcast.team_id===(0,v.ev)(s)&&t((0,r.cN)(e.broadcast.team_id))}}(e));break;case O.CF.SIDEBAR_CATEGORY_UPDATED:ie(function(e){return(t,n)=>{const s=n();e.broadcast.team_id===(0,v.ev)(s)&&t((0,r.cN)(e.broadcast.team_id))}}(e));break;case O.CF.SIDEBAR_CATEGORY_DELETED:ie(function(e){return(t,n)=>{const s=n();e.broadcast.team_id===(0,v.ev)(s)&&t((0,r.cN)(e.broadcast.team_id))}}(e));break;case O.CF.SIDEBAR_CATEGORY_ORDER_UPDATED:ie(function(e){return(0,r.yz)(e.broadcast.team_id,e.data.order)}(e));break;case O.CF.USER_ACTIVATION_STATUS_CHANGED:ie(((e,t)=>{const n=t();"true"===(0,w.lJ)(n).Cloud&&((0,_.BW)(n)&&e((0,N.pu)()),e((0,l.F3)()))}));break;case O.CF.CLOUD_PAYMENT_STATUS_UPDATED:ie((e=>e((0,l.oR)())));break;case O.CF.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED:!function(e){const t=JSON.parse(e.data.firstAdminVisitMarketplaceStatus);H.Z.dispatch({type:a.P.FIRST_ADMIN_VISIT_MARKETPLACE_STATUS_RECEIVED,data:t})}(e);break;case O.CF.THREAD_FOLLOW_CHANGED:ie(function(e){return async(t,n)=>{const s=n();!(0,m.bJ)(s,e.data.thread_id)&&e.data.state&&await t((0,u.bJ)((0,_.rc)(s),(0,v.ev)(s),e.data.thread_id,!0)),(0,u.ii)(t,e.data.thread_id,e.broadcast.team_id,e.data.state)}}(e));break;case O.CF.THREAD_READ_CHANGED:ie(function(e){return(t,n)=>{if(e.data.thread_id){var s;const a=null===(s=n().entities.threads.threads)||void 0===s?void 0:s[e.data.thread_id];a&&(0,u.U2)(t,e.data.thread_id,e.broadcast.team_id,e.data.channel_id,{lastViewedAt:e.data.timestamp,prevUnreadMentions:a.unread_mentions,newUnreadMentions:e.data.unread_mentions,prevUnreadReplies:a.unread_replies,newUnreadReplies:e.data.unread_replies})}else(0,u.KA)(t,e.broadcast.team_id)}}(e));break;case O.CF.THREAD_UPDATED:ie(function(e){return(t,n)=>{try{const s=JSON.parse(e.data.thread);(0,u.VS)(t,n,s,e.broadcast.team_id)}catch(e){}}}(e));break;case O.CF.CONTACT_CHANGED:!function(e){const t=e.data.contact;"created"===e.data.event?ie({type:a.AV.NEW_CONTACT,data:t}):ie({type:a.AV.RECEIVED_PROFILE,data:t})}(e);break;case O.CF.APPS_FRAMEWORK_REFRESH_BINDINGS:ie(Pe())}Object.values(oe).forEach((t=>{t&&t.hasOwnProperty(e.event)&&"function"==typeof t[e.event]&&t[e.event](e)}))}const we=function(e){let t,n=[],i=0;const r=()=>{t=null,n.length>0&&ie(function(e){return(t,n)=>{const a=e.map((e=>JSON.parse(e.data.post))),i=(0,d.ym)(n()),r=a.map((e=>(0,h.mU)(e,i)));t((0,s.$C)(r)),t((0,h.el)(a)),(0,h.Gw)(a,t,n)}}(n)),n=[],i=0};return function(e){t&&i>4?(n.push(e)>200&&(n=[],console.log("channel broken because of too many incoming messages")),clearTimeout(t),t=setTimeout(r,100)):(i+=1,ie(function(e){return(t,n)=>{const s=JSON.parse(e.data.post);t((0,Z.$T)(s,e)),(0,h.Gw)([s],t,n),s.user_id!==(0,_.rc)(n())&&!(0,_.m7)(n(),s.user_id)&&e.data.set_online&&t({type:a.bZ.RECEIVED_STATUSES,data:[{user_id:s.user_id,status:O.gg.ONLINE}]})}}(e)),clearTimeout(t),t=setTimeout(r,100))}}();function Se(e){return async t=>{const{data:n,error:s}=await t((0,o.Ao)(e));s||t((0,r.Sn)(n.channel))}}function Te(e){return e.category===O.gT.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW&&"true"===e.value}function Pe(){return(e,t)=>{const n=t();return(0,M.D)(n)&&e((0,I.W)((0,_.rc)(n),(0,S.gO)(n))),{data:!0}}}},58194:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(42560),a=n(72009),i=n(92337);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=3e5,l=new class{constructor(){r(this,"conn",void 0),r(this,"connectionUrl",void 0),r(this,"responseSequence",void 0),r(this,"serverSequence",void 0),r(this,"connectFailCount",void 0),r(this,"eventCallback",void 0),r(this,"responseCallbacks",void 0),r(this,"firstConnectCallback",void 0),r(this,"reconnectCallback",void 0),r(this,"missedEventCallback",void 0),r(this,"errorCallback",void 0),r(this,"closeCallback",void 0),r(this,"connectionId",void 0),this.conn=null,this.connectionUrl=null,this.responseSequence=1,this.serverSequence=0,this.connectFailCount=0,this.eventCallback=null,this.responseCallbacks={},this.firstConnectCallback=null,this.reconnectCallback=null,this.missedEventCallback=null,this.errorCallback=null,this.closeCallback=null,this.connectionId=""}initialize(e=this.connectionUrl,t){if(this.conn)return;if(null==e)return;this.connectFailCount,this.conn=new WebSocket("".concat(e,"?connection_id=").concat(this.connectionId,"&sequence_number=").concat(this.serverSequence)),this.connectionUrl=e;const n="true"===(0,s.iE)(a.Z.getState()).EnableReliableWebSockets;this.conn.onopen=()=>{n||(this.serverSequence=0),t&&this.sendMessage("authentication_challenge",{token:t}),this.connectFailCount>0?!n&&this.reconnectCallback&&this.reconnectCallback():this.firstConnectCallback&&this.firstConnectCallback(),this.connectFailCount=0},this.conn.onclose=()=>{this.conn=null,this.responseSequence=1,this.connectFailCount,this.connectFailCount++,this.closeCallback&&this.closeCallback(this.connectFailCount);let n=3e3;this.connectFailCount>7&&(n=3e3*this.connectFailCount*this.connectFailCount,n>o&&(n=o)),setTimeout((()=>{this.initialize(e,t)}),n)},this.conn.onerror=e=>{this.connectFailCount,this.errorCallback&&this.errorCallback(e)},this.conn.onmessage=e=>{const t=JSON.parse(e.data);if(t.seq_reply)t.error,this.responseCallbacks[t.seq_reply]&&(this.responseCallbacks[t.seq_reply](t),Reflect.deleteProperty(this.responseCallbacks,t.seq_reply));else if(this.eventCallback){var s;if(n){if(t.event===i.CF.HELLO&&this.missedEventCallback&&(""!==this.connectionId&&this.connectionId!==t.data.connection_id&&(this.missedEventCallback(),this.serverSequence=0),this.connectionId=t.data.connection_id),t.seq!==this.serverSequence)return this.connectFailCount=0,this.responseSequence=1,void(null===(s=this.conn)||void 0===s||s.close())}else t.seq!==this.serverSequence&&this.missedEventCallback&&this.missedEventCallback();this.serverSequence=t.seq+1,this.eventCallback(t)}}}setEventCallback(e){this.eventCallback=e}setFirstConnectCallback(e){this.firstConnectCallback=e}setReconnectCallback(e){this.reconnectCallback=e}setMissedEventCallback(e){this.missedEventCallback=e}setErrorCallback(e){this.errorCallback=e}setCloseCallback(e){this.closeCallback=e}close(){this.connectFailCount=0,this.responseSequence=1,this.conn&&this.conn.readyState===WebSocket.OPEN&&(this.conn.onclose=()=>{},this.conn.close(),this.conn=null)}sendMessage(e,t,n){const s={action:e,seq:this.responseSequence++,data:t};n&&(this.responseCallbacks[s.seq]=n),this.conn&&this.conn.readyState===WebSocket.OPEN?this.conn.send(JSON.stringify(s)):this.conn&&this.conn.readyState!==WebSocket.CLOSED||(this.conn=null,this.initialize())}userTyping(e,t,n){const s={channel_id:e,parent_id:t};this.sendMessage("user_typing",s,n)}userUpdateActiveStatus(e,t,n){const s={user_is_active:e,manual:t};this.sendMessage("user_update_active_status",s,n)}getStatuses(e){this.sendMessage("get_statuses",null,e)}getStatusesByIds(e,t){const n={user_ids:e};this.sendMessage("get_statuses_by_ids",n,t)}}},66362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var s=n(37703),a=n(42560),i=n(92337),r=n(3598),o=n(45697),l=n.n(o),c=n(67294),d=n(43253),m=n(44012),u=n(27420),p=n(31848);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends c.PureComponent{constructor(e){super(e),h(this,"doHide",(()=>{this.setState({show:!1})})),h(this,"handleExit",(()=>{this.props.onHide()})),this.state={show:!0}}render(){const e=this.props.config,t=this.props.license;let n=c.createElement(m.Z,{id:"about.teamEditiont0",defaultMessage:"Team Edition"}),s=c.createElement(m.Z,{id:"about.teamEditionSt",defaultMessage:"All your team communication in one place, instantly searchable and accessible anywhere."});"true"===e.BuildEnterpriseReady&&(n=c.createElement(m.Z,{id:"about.teamEditiont1",defaultMessage:"Enterprise Edition"}),s=c.createElement(m.Z,{id:"about.enterpriseEditionSt",defaultMessage:"Modern communication from behind your firewall."}),"true"===t.IsLicensed&&(n=c.createElement(m.Z,{id:"about.enterpriseEditione1",defaultMessage:"Enterprise Edition"})));let a=c.createElement("div",null,c.createElement(m.Z,{id:"about.buildnumber",defaultMessage:"Build Number:"}),c.createElement("span",{id:"buildnumberString"}," "+e.BuildNumber));return isNaN(Number(e.BuildNumber))&&(a=null),c.createElement(d.Z,{dialogClassName:"a11y__modal about-modal",show:this.state.show,onHide:this.doHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"aboutModalLabel"},c.createElement(d.Z.Header,{closeButton:!0},c.createElement(d.Z.Title,{componentClass:"h1",id:"aboutModalLabel"},c.createElement(m.Z,{id:"about.title",values:{appTitle:e.SiteName||"Gomlo"},defaultMessage:"About {appTitle}"}))),c.createElement(d.Z.Body,null,c.createElement("div",{className:"about-modal__content"},c.createElement("div",{className:"about-modal__logo"},c.createElement(u.Z,null)),c.createElement("div",null,c.createElement("h3",{className:"about-modal__title"},n),c.createElement("p",{className:"about-modal__subtitle pb-2"},s),c.createElement("div",{className:"form-group less"},c.createElement("div",null,c.createElement(m.Z,{id:"about.server_version",defaultMessage:"Máy chủ:"}),c.createElement("span",{id:"dbversionString"}," "+e.Version)),a,c.createElement("div",null,c.createElement(m.Z,{id:"about.client_version",defaultMessage:"Phiên bản Web:"})," 1.0.0")))),c.createElement("div",{className:"about-modal__hash"},c.createElement("p",null,c.createElement(m.Z,{id:"about.hash",defaultMessage:"Build hash:"}),c.createElement(p.Z,null),e.BuildHash,c.createElement("br",null),c.createElement(m.Z,{id:"about.hashwebapp",defaultMessage:"Web hash:"}),c.createElement(p.Z,null),this.props.webappBuildHash||"0d7583d52963916a1fa85d00a3ee42382e0716e0\n"),c.createElement("p",null,c.createElement(m.Z,{id:"about.date",defaultMessage:"Build Date:"}),c.createElement(p.Z,null),e.BuildDate))))}}h(g,"propTypes",{onHide:l().func.isRequired,webappBuildHash:l().string,show:l().bool});const f=(0,s.connect)((function(e){const t=i.r8.ABOUT;return{config:(0,a.iE)(e),license:(0,a.lJ)(e),show:(0,r.g)(e,t)}}))(g)},391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>De});var s=n(37703),a=n(14890),i=n(74650),r=n(89980),o=n(38348),l=n(42560),c=n(47590),d=n(93278),m=n(57799),u=(n(73210),n(67294)),p=n(45697),h=n.n(p),g=n(92337),f=n(12266),b=(n(33948),n(44012)),_=n(74806),E=n(46195),C=n(82251),y=n(45288);function v(){return{type:g.MF.TRACK_ANNOUNCEMENT_BAR}}function w(){return{type:g.MF.DISMISS_ANNOUNCEMENT_BAR}}var S=n(33693),T=n(19728),P=n(15558),M=n(67556),N=n(74838),I=n(3598),R=(n(88674),n(43253)),A=n(59925),O=n(85163),L=n(74935),D=n(21843),k=n(47675);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U=g.gT.StatTypes,Z={display:"flex",opacity:"0.56",flexWrap:"wrap"};class j extends u.PureComponent{constructor(e){super(e),x(this,"onContactUsClick",(async e=>{if(this.state.saving)return;this.setState({saving:!0,serverError:null});let t=!1;e&&e.target&&e.target.dataset&&e.target.dataset.forceack?(t=!0,(0,A.L9)("admin","click_warn_metric_mailto",{metric:this.props.warnMetricStatus.id})):(0,A.L9)("admin","click_warn_metric_contact_us",{metric:this.props.warnMetricStatus.id});const{error:n}=await this.props.actions.sendWarnMetricAck(this.props.warnMetricStatus.id,t);n?this.setState({serverError:n,saving:!1}):this.onHide()})),x(this,"onHide",(()=>{this.setState({serverError:null,saving:!1}),this.setState({gettingTrialError:null,gettingTrial:!1}),this.props.actions.closeModal(g.r8.WARN_METRIC_ACK),this.props.closeParentComponent&&this.props.closeParentComponent()})),x(this,"renderContactUsError",(()=>{const{serverError:e}=this.state;if(!e)return"";let t="Mattermost Contact Us request.";this.props.warnMetricStatus.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?t="Mattermost Contact Us request.\r\nMy team now has 500 users, and I am considering Mattermost Enterprise Edition.":this.props.warnMetricStatus.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(t="Mattermost Contact Us request.\r\nI am interested in learning more about improving performance with Elasticsearch."),t+="\r\n",t+="Contact "+this.props.user.first_name+" "+this.props.user.last_name,t+="\r\n",t+="Email "+this.props.user.email,t+="\r\n",this.props.stats&&this.props.stats[U.TOTAL_USERS]&&(t+="Registered Users "+this.props.stats[U.TOTAL_USERS],t+="\r\n"),t+="Site URL "+(0,f.fO)(),t+="\r\n",t+="Telemetry Id "+this.props.telemetryId,t+="\r\n",t+="If you have any additional inquiries, please contact support@mattermost.com";const n="mailto:support-advisor@mattermost.com?cc="+this.props.user.email+"&subject="+encodeURIComponent("Mattermost Contact Us request")+"&body="+encodeURIComponent(t);return u.createElement("div",{className:"form-group has-error"},u.createElement("br",null),u.createElement("label",{className:"control-label"},u.createElement(b.Z,{id:"warn_metric_ack_modal.mailto.message",defaultMessage:"Support could not be reached. Please {link}.",values:{link:u.createElement(F,{url:n,messageId:(0,C.t)("warn_metric_ack_modal.mailto.link"),forceAck:!0,defaultMessage:"email us",onClickHandler:this.onContactUsClick})}})))})),this.state={saving:!1,serverError:null,gettingTrial:!1,gettingTrialError:null}}componentDidMount(){O.pu()}render(){let e,t;this.props.warnMetricStatus.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?e=u.createElement(b.Z,{id:"warn_metric_ack_modal.number_of_users.header.title",defaultMessage:"Scaling with Gomlo"}):this.props.warnMetricStatus.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(e=u.createElement(b.Z,{id:"warn_metric_ack_modal.number_of_posts.header.title",defaultMessage:"Improve Performance"})),this.props.warnMetricStatus.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?t=u.createElement(b.Z,{id:"warn_metric_ack_modal.number_of_active_users.description",defaultMessage:"Mattermost strongly recommends that deployments of over {limit}} users take advantage of features such as user management, server clustering, and performance monitoring. Contact us to learn more and let us know how we can help.",values:{limit:this.props.warnMetricStatus.limit}}):this.props.warnMetricStatus.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(t=u.createElement(b.Z,{id:"warn_metric_ack_modal.number_of_posts.description",defaultMessage:"Your Mattermost system has a large number of messages. The default Mattermost database search starts to show performance degradation at around 2.5 million posts. With over 5 million posts, Elasticsearch can help avoid significant performance issues, such as timeouts, with search and at-mentions. Contact us to learn more and let us know how we can help.",values:{limit:this.props.warnMetricStatus.limit}}));const n=u.createElement("div",{style:Z,className:"help__format-text"},u.createElement(b.Z,{id:"warn_metric_ack_modal.subtext",defaultMessage:"By clicking Acknowledge, you will be sharing your information with Mattermost Inc. {link}",values:{link:u.createElement(k.Z,{url:"https://mattermost.com/pl/default-admin-advisory",messageId:(0,C.t)("warn_metric_ack_modal.learn_more.link"),defaultMessage:"Learn more"})}})),s=this.renderContactUsError(),a=u.createElement(R.Z.Footer,null,u.createElement("button",{className:"btn btn-primary save-button","data-dismiss":"modal",disabled:this.state.saving,autoFocus:!0,onClick:this.onContactUsClick},u.createElement(D.Z,{loading:this.state.saving,text:L._u("admin.warn_metric.sending-email","Sending email")},u.createElement(b.Z,{id:"warn_metric_ack_modal.contact_support",defaultMessage:"Acknowledge"}))));return u.createElement(R.Z,{dialogClassName:"a11y__modal",show:this.props.show,keyboard:!1,onHide:this.onHide,onExited:this.onHide,role:"dialog","aria-labelledby":"warnMetricAckHeaderModalLabel"},u.createElement(R.Z.Header,{closeButton:!0},u.createElement(R.Z.Title,{componentClass:"h1",id:"warnMetricAckHeaderModalLabel"},e)),u.createElement(R.Z.Body,null,u.createElement("div",null,t,u.createElement("br",null),s,u.createElement("br",null),n)),a)}}x(j,"propTypes",{telemetryId:h().string,show:h().bool.isRequired,closeParentComponent:h().func,warnMetricStatus:h().any.isRequired,actions:h().shape({closeModal:h().func.isRequired,getStandardAnalytics:h().func.isRequired,sendWarnMetricAck:h().func.isRequired}).isRequired});const F=({defaultMessage:e,messageId:t,onClickHandler:n,url:s,forceAck:a})=>u.createElement("a",{href:s,rel:"noopener noreferrer",target:"_blank","data-forceAck":a,onClick:e=>{n(e)}},u.createElement(b.Z,{id:t,defaultMessage:e}));F.propTypes={defaultMessage:h().string.isRequired,messageId:h().string.isRequired,onClickHandler:h().func.isRequired,url:h().string.isRequired,forceAck:h().bool.isRequired};const H=(0,s.connect)((function(e,t){const n=(0,l.iE)(e);return{stats:e.entities.admin.analytics,user:(0,M.ts)(e),telemetryId:n.DiagnosticId,show:(0,I.g)(e,g.r8.WARN_METRIC_ACK),closeParentComponent:t.closeParentComponent}}),(function(e){return{actions:(0,a.bindActionCreators)({closeModal:N.M,getStandardAnalytics:d.pu,sendWarnMetricAck:d.Zl},e)}}))(j);var q=n(42306);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends u.PureComponent{constructor(...e){super(...e),B(this,"handleClose",(e=>{e.preventDefault(),this.props.handleClose&&this.props.handleClose()}))}componentDidMount(){this.props.actions.incrementAnnouncementBarCount(),document.body.classList.add("announcement-bar--fixed")}componentWillUnmount(){1===this.props.announcementBarCount&&document.body.classList.remove("announcement-bar--fixed"),this.props.actions.decrementAnnouncementBarCount()}render(){if(!this.props.message)return null;let e="announcement-bar";const t={backgroundColor:"",color:""},n={color:""};let s;this.props.color&&this.props.textColor?(t.backgroundColor=this.props.color,t.color=this.props.textColor,n.color=this.props.textColor):this.props.type===g.Mw.CRITICAL?e="announcement-bar announcement-bar-critical":this.props.type===g.Mw.SUCCESS?e="announcement-bar announcement-bar-success":this.props.type===g.Mw.ADVISOR?e="announcement-bar announcement-bar-advisor":this.props.type===g.Mw.ADVISOR_ACK?e="announcement-bar announcement-bar-advisor-ack":this.props.type===g.Mw.GENERAL&&(e="announcement-bar announcement-bar-general"),this.props.showCloseButton&&(s=u.createElement("a",{href:"#",className:"announcement-bar__close",style:n,onClick:this.handleClose},"×"));let a=this.props.message;"string"==typeof a&&(a=u.createElement(y.Z,{id:this.props.message,defaultMessage:""}));const i=u.createElement(T.Z,{id:"announcement-bar__tooltip"},this.props.tooltipMsg?this.props.tooltipMsg:a);return u.createElement("div",{className:e,style:t},u.createElement(P.Z,{delayShow:g.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:i},u.createElement("span",null,this.props.icon?this.props.icon:(()=>this.props.showLinkAsButton&&(this.props.showCloseButton?u.createElement("div",{className:"content__icon"},""):u.createElement("div",{className:"content__icon"},"")))(),a,!this.props.showLinkAsButton&&u.createElement("span",{className:"announcement-bar__link"},this.props.showModal&&u.createElement(b.Z,{id:this.props.modalButtonText,defaultMessage:this.props.modalButtonDefaultText},(e=>u.createElement(q.Z,{accessibilityLabel:e,className:"color--link--adminack",dialogType:H,onClick:()=>(0,A.L9)("admin","click_warn_metric_learn_more"),modalId:g.r8.WARN_METRIC_ACK,dialogProps:{warnMetricStatus:this.props.warnMetricStatus,closeParentComponent:this.props.handleClose}},e)))),this.props.showLinkAsButton&&u.createElement("button",{className:"upgrade-button",onClick:this.props.onButtonClick},u.createElement(b.Z,{id:this.props.modalButtonText,defaultMessage:this.props.modalButtonDefaultText})))),s)}}B(G,"propTypes",{showCloseButton:h().bool,color:h().string,textColor:h().string,type:h().string,message:h().node.isRequired,tooltipMsg:h().node,handleClose:h().func,showModal:h().bool,announcementBarCount:h().number,onButtonClick:h().func,modalButtonText:h().string,modalButtonDefaultText:h().string,showLinkAsButton:h().bool,icon:h().node,actions:h().shape({incrementAnnouncementBarCount:h().func.isRequired,decrementAnnouncementBarCount:h().func.isRequired}).isRequired}),B(G,"defaultProps",{showCloseButton:!1,color:"",textColor:"",type:g.Mw.CRITICAL,showLinkAsButton:!1,isTallBanner:!1});const V=(0,s.connect)((function(e){return{announcementBarCount:(0,S.b)(e)}}),(function(e){return{actions:(0,a.bindActionCreators)({incrementAnnouncementBarCount:v,decrementAnnouncementBarCount:w},e)}}))(G);n(19601);var W=n(64852);const z=n.p+"files/5212bbecd561ec97c98cbb4e71471ee3.svg";function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const K="__announcement__";class J extends u.PureComponent{constructor(e){super(e),Y(this,"handleDismiss",(()=>{this.props.allowDismissal&&((0,A.L9)("signup","click_dismiss_bar"),localStorage.setItem(K+this.props.text,!0),this.setState({dismissed:!0}),this.props.onDismissal&&this.props.onDismissal())})),this.state={dismissed:!0}}static getDerivedStateFromProps(e){return{dismissed:localStorage.getItem(K+e.text)}}render(){if(this.state.dismissed)return null;const e=this.props,{allowDismissal:t,text:n}=e,s=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["allowDismissal","text"]);return u.createElement(V,Object.assign({},s,{showCloseButton:t,handleClose:this.handleDismiss,message:u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:z}),u.createElement(W.Z,{message:n,options:{singleline:!0,mentionHighlight:!1}}))}))}}Y(J,"propTypes",{allowDismissal:h().bool.isRequired,text:h().string.isRequired,onDismissal:h().func});const Q=n.p+"files/9054075a1cdd8c2a0ed11da3e9632fd0.svg",X=n.p+"files/2aa0257a61023b2faad41b5b075e05b3.svg";var $=n(13208),ee=n(36842);const te=e=>{var t,n,s;const a=()=>{e.actions.dismissNotice(g.MN.LICENSE_EXPIRING)},i=()=>{e.actions.dismissNotice(g.MN.TRIAL_LICENSE_EXPIRING)},r=()=>{e.actions.dismissNotice(g.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS)},o=()=>{e.actions.dismissNotice(g.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS)},l=()=>{e.actions.dismissNotice(g.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS_ACK)},c=()=>{e.actions.dismissNotice(g.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS_ACK)},d={success:"renew_license_banner_success",error:"renew_license_banner_fail"},m=t=>{if(!t||t.id!==g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500&&t.id!==g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M)return null;let n,s="",a="",i=!1,d=null,m=!1;return t.acked?(s=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:Q}),u.createElement(b.Z,{id:"announcement_bar.warn_metric_status_ack.text",defaultMessage:"Thank you for contacting Mattermost. We will follow up with you soon."})),t.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?(n=l,d=e.dismissedNumberOfActiveUsersWarnMetricStatusAck):t.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(n=c,d=e.dismissedNumberOfPostsWarnMetricStatusAck),a=g.Mw.ADVISOR_ACK,i=!1,m=!0):(t.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_ACTIVE_USERS_500?(s=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:z}),u.createElement(y.Z,{id:"announcement_bar.number_active_users_warn_metric_status.text",defaultMessage:"You now have over {limit} users. We strongly recommend using advanced features for large-scale servers.",values:{limit:t.limit}})),n=r,d=e.dismissedNumberOfActiveUsersWarnMetricStatus):t.id===g.Q9.SYSTEM_WARN_METRIC_NUMBER_OF_POSTS_2M&&(s=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:z}),u.createElement(y.Z,{id:"announcement_bar.number_of_posts_warn_metric_status.text",defaultMessage:"You now have over {limit} posts. We strongly recommend using advanced features for large-scale servers.",values:{limit:t.limit}})),n=o,d=e.dismissedNumberOfPostsWarnMetricStatus),a=g.Mw.ADVISOR,i=!0,m=!1),{Message:s,DismissFunc:n,IsDismissed:d,Type:a,ShowModal:i,CanCloseBar:m}};if(e.canViewSystemErrors){var p;if((0,E.Ez)(e.license)){const e=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:X}),u.createElement(b.Z,{id:"announcement_bar.error.license_expired",defaultMessage:"Enterprise license is expired and some features may be disabled."}));return u.createElement(V,{type:g.Mw.CRITICAL,message:u.createElement(u.Fragment,null,e,u.createElement($.Z,{telemetryInfo:d})),tooltipMsg:e})}if((0,E.CH)(e.license)){const e=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:X}),u.createElement(b.Z,{id:"announcement_bar.error.license_expired",defaultMessage:"Enterprise license is expired and some features may be disabled."}));return u.createElement(V,{type:g.Mw.CRITICAL,message:u.createElement(u.Fragment,null,e,u.createElement($.Z,{telemetryInfo:d})),tooltipMsg:e})}const t=(0,E.fv)(e.license);if((0,E.h$)(e.license)&&void 0!==t&&t<=14&&!e.dismissedExpiringTrialLicense){const e=u.createElement(ee.Z,{buttonTextElement:u.createElement(y.Z,{id:"announcement_bar.error.purchase_a_license_now",defaultMessage:"Purchase a License Now"})});let n=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:z}),u.createElement(y.Z,{id:"announcement_bar.error.trial_license_expiring",defaultMessage:"**There are {days} days left on your free trial.**",values:{days:t}})),s=g.Mw.ANNOUNCEMENT;return t<1&&(n=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:X}),u.createElement(y.Z,{id:"announcement_bar.error.trial_license_expiring_last_day",defaultMessage:"**This is the last day of your free trial. Purchase a license now to continue using E10 & E20 features.**"})),s=g.Mw.CRITICAL),u.createElement(V,{showCloseButton:!0,handleClose:i,type:s,message:u.createElement(u.Fragment,null,n,e),tooltipMsg:n})}if(!(0,E.h$)(e.license)&&(0,E.yq)(e.license)&&!e.dismissedExpiringLicense){var h;const t=u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:z}),u.createElement(b.Z,{id:"announcement_bar.error.license_expiring",defaultMessage:"Enterprise license expires on {date, date, long}.",values:{date:new Date(parseInt(null===(h=e.license)||void 0===h?void 0:h.ExpiresAt,10))}}));return u.createElement(V,{showCloseButton:!0,handleClose:a,type:g.Mw.ANNOUNCEMENT,message:u.createElement(u.Fragment,null,t,u.createElement($.Z,{telemetryInfo:d})),tooltipMsg:t})}if("false"===(null===(p=e.license)||void 0===p?void 0:p.IsLicensed)&&e.warnMetricsStatus)for(const t of Object.values(e.warnMetricsStatus)){const e=m(t);if(e&&!e.IsDismissed)return u.createElement(V,{showCloseButton:e.CanCloseBar,handleClose:e.DismissFunc,type:e.Type,showModal:e.ShowModal,modalButtonText:(0,C.t)("announcement_bar.error.warn_metric_status.link"),modalButtonDefaultText:"Learn more",warnMetricStatus:t,message:e.Message})}}else if((0,E.Ez)(e.license))return u.createElement(V,{type:g.Mw.CRITICAL,message:u.createElement(u.Fragment,null,u.createElement("img",{className:"advisor-icon",src:X}),u.createElement(b.Z,{id:g.MN.LICENSE_PAST_GRACE,defaultMessage:"Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details."}))});const{formatMessage:f}=e.intl;if("true"!==(null===(t=e.config)||void 0===t?void 0:t.SendEmailNotifications)&&"true"===(null===(n=e.config)||void 0===n?void 0:n.EnablePreviewModeBanner)){const e=f({id:g.MN.PREVIEW_MODE,defaultMessage:"Preview Mode: Email notifications have not been configured"});return u.createElement(J,{allowDismissal:!0,text:e,type:g.Mw.SUCCESS})}if(e.canViewSystemErrors&&""===(null===(s=e.config)||void 0===s?void 0:s.SiteURL)){var _;let t,n;"true"===(null===(_=e.config)||void 0===_?void 0:_.EnableSignUpWithGitLab)?(t=(0,C.t)("announcement_bar.error.site_url_gitlab.full"),n="Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) either on the [System Console](/admin_console/environment/web_server) or, if you're using GitLab Mattermost, in gitlab.rb."):(t=(0,C.t)("announcement_bar.error.site_url.full"),n="Please configure your [site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) on the [System Console](/admin_console/environment/web_server).");const s=f({id:t,defaultMessage:n},{siteURL:e.siteURL});return u.createElement(J,{allowDismissal:!0,text:s,type:g.Mw.ANNOUNCEMENT})}return null};te.propTypes={license:h().any,canViewSystemErrors:h().bool.isRequired,totalUsers:h().number,dismissedExpiringTrialLicense:h().bool,dismissedExpiringLicense:h().bool,dismissedNumberOfActiveUsersWarnMetricStatus:h().bool,dismissedNumberOfActiveUsersWarnMetricStatusAck:h().bool,dismissedNumberOfPostsWarnMetricStatus:h().bool,dismissedNumberOfPostsWarnMetricStatusAck:h().bool,siteURL:h().string.isRequired,actions:h().shape({dismissNotice:h().func.isRequired}).isRequired};const ne=(0,_.ZP)(te),se=(0,s.connect)((function(e){return{siteURL:(0,f.fO)(),dismissedExpiringTrialLicense:Boolean(e.views.notice.hasBeenDismissed[g.MN.TRIAL_LICENSE_EXPIRING]),dismissedExpiringLicense:Boolean(e.views.notice.hasBeenDismissed[g.MN.LICENSE_EXPIRING]),dismissedNumberOfActiveUsersWarnMetricStatus:Boolean(e.views.notice.hasBeenDismissed[g.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS]),dismissedNumberOfActiveUsersWarnMetricStatusAck:Boolean(e.views.notice.hasBeenDismissed[g.MN.WARN_METRIC_STATUS_NUMBER_OF_USERS_ACK]),dismissedNumberOfPostsWarnMetricStatus:Boolean(e.views.notice.hasBeenDismissed[g.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS]),dismissedNumberOfPostsWarnMetricStatusAck:Boolean(e.views.notice.hasBeenDismissed[g.MN.WARN_METRIC_STATUS_NUMBER_OF_POSTS_ACK])}}),(function(e){return{actions:(0,a.bindActionCreators)({dismissNotice:m.G},e)}}))(ne);var ae=n(52952);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class re extends u.PureComponent{constructor(e){super(e),ie(this,"reloadPage",(()=>{window.location.reload()})),this.state={serverVersionOnAppLoad:e.serverVersion}}static getDerivedStateFromProps(e,t){return!t.serverVersionOnAppLoad&&e.serverVersion?{serverVersionOnAppLoad:e.serverVersion}:null}render(){const{serverVersionOnAppLoad:e}=this.state,{serverVersion:t}=this.props;return e?(0,ae.p)(e,t)?null:u.createElement(V,{type:g.Mw.ANNOUNCEMENT,message:u.createElement(u.Fragment,null,u.createElement(b.Z,{id:"version_bar.new",defaultMessage:"A new version of Mattermost is available."})," ",u.createElement("a",{onClick:this.reloadPage},u.createElement(b.Z,{id:"version_bar.refresh",defaultMessage:"Refresh the app now"})),".")}):null}}ie(re,"propTypes",{serverVersion:h().string.isRequired});const oe=(0,s.connect)((function(e){return{serverVersion:e.entities.general.serverVersion}}))(re);var le=n(28847),ce=n(26961),de=n(36745),me=n(41609),ue=n.n(me),pe=n(65339),he=n(67530);function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fe extends u.PureComponent{constructor(...e){super(...e),ge(this,"handleButtonClick",(()=>{})),ge(this,"handleClose",(async()=>{(0,A.L9)(g.EA.CLOUD_ADMIN,"click_close_banner_user_limit_reached"),await this.props.actions.savePreferences(this.props.currentUser.id,[{category:g.uP.CLOUD_UPGRADE_BANNER,user_id:this.props.currentUser.id,name:g.gv.HIDE,value:"true"}])})),ge(this,"shouldShowBanner",(()=>{const{userLimit:e,analytics:t,userIsAdmin:n,isCloud:s,subscription:a}=this.props;return null!==a&&"true"!==(null==a?void 0:a.is_paid_tier)&&!!s&&!!n&&!(!e||e>t.TOTAL_USERS||!e)})),ge(this,"isDismissable",(()=>{const{userLimit:e,analytics:t}=this.props;let n=!0;return e<t.TOTAL_USERS&&(n=!1),n})),ge(this,"showModal",(()=>{this.isDismissable()?(0,A.L9)(g.EA.CLOUD_ADMIN,"click_upgrade_banner_user_limit_reached"):(0,A.L9)(g.EA.CLOUD_ADMIN,"click_upgrade_banner_user_limit_exceeded"),this.props.actions.openModal({modalId:g.r8.CLOUD_PURCHASE,dialogType:pe.Z})}))}async componentDidMount(){ue()(this.props.analytics)&&await this.props.actions.getStandardAnalytics(),ue()(this.props.subscription)||ue()(this.props.analytics)||!this.shouldShowBanner()||(this.isDismissable()?(0,A.L9)(g.EA.CLOUD_ADMIN,"bannerview_user_limit_reached"):(0,A.L9)(g.EA.CLOUD_ADMIN,"bannerview_user_limit_exceeded"))}render(){const{userLimit:e,analytics:t,preferences:n}=this.props;if(ue()(this.props.analytics))return null;if(!this.shouldShowBanner())return null;if(e===t.TOTAL_USERS&&n.some((e=>e.name===g.gv.HIDE&&"true"===e.value)))return null;const s=this.isDismissable();return u.createElement(V,{type:s?g.Mw.ADVISOR:g.Mw.CRITICAL,showCloseButton:s,handleClose:this.handleClose,onButtonClick:this.showModal,modalButtonText:(0,C.t)("admin.billing.subscription.upgradeMattermostCloud.upgradeButton"),modalButtonDefaultText:"Upgrade Mattermost Cloud",message:s?(0,C.t)("upgrade.cloud_banner_reached"):(0,C.t)("upgrade.cloud_banner_over"),showLinkAsButton:!0})}}ge(fe,"propTypes",{userLimit:h().number.isRequired,userIsAdmin:h().bool.isRequired,preferences:h().array.isRequired,isCloud:h().bool.isRequired,actions:h().shape({savePreferences:h().func.isRequired,getStandardAnalytics:h().func.isRequired,getCloudSubscription:h().func.isRequired,openModal:h().func.isRequired}).isRequired});const be=(0,he.Z)(fe),_e=(0,s.connect)((function(e){const t=(0,ce.YX)();return{userLimit:parseInt((0,l.iE)(e).ExperimentalCloudUserLimit,10),analytics:e.entities.admin.analytics,userIsAdmin:(0,r.BW)(e),currentUser:(0,r.ts)(e),isCloud:"true"===(0,l.lJ)(e).Cloud,subscription:e.entities.cloud.subscription,preferences:t(e,g.uP.CLOUD_UPGRADE_BANNER)}}),(function(e){return{actions:(0,a.bindActionCreators)({savePreferences:le.$A,getStandardAnalytics:d.pu,openModal:N.h,getCloudSubscription:de.oR},e)}}))(be);var Ee=n(89262),Ce=n(85769);function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ve extends u.PureComponent{constructor(...e){super(...e),ye(this,"isMostRecentPaymentFailed",(()=>{var e,t;return"failed"===(null===(e=this.props.subscription)||void 0===e||null===(t=e.last_invoice)||void 0===t?void 0:t.status)})),ye(this,"shouldShowBanner",(()=>{const{userIsAdmin:e,isCloud:t,subscription:n}=this.props;return!(null===n||"true"!==(null==n?void 0:n.is_paid_tier)||!t||!e||!(0,Ce.s)(this.props.customer)&&!this.isMostRecentPaymentFailed())})),ye(this,"updatePaymentInfo",(()=>{Ee.m.push("/admin_console/billing/payment_info")}))}async componentDidMount(){ue()(this.props.customer)&&await this.props.actions.getCloudCustomer()}render(){return ue()(this.props.customer)||ue()(this.props.subscription)?null:this.shouldShowBanner()?u.createElement(V,{type:g.Mw.CRITICAL,showCloseButton:!1,onButtonClick:this.updatePaymentInfo,modalButtonText:(0,C.t)("admin.billing.subscription.updatePaymentInfo"),modalButtonDefaultText:"Update payment info",message:this.isMostRecentPaymentFailed()?(0,C.t)("admin.billing.subscription.mostRecentPaymentFailed"):(0,C.t)("admin.billing.subscription.creditCardExpired"),showLinkAsButton:!0,isTallBanner:!0}):null}}ye(ve,"propTypes",{userIsAdmin:h().bool.isRequired,isCloud:h().bool.isRequired,actions:h().shape({getCloudSubscription:h().func.isRequired,getCloudCustomer:h().func.isRequired}).isRequired});const we=(0,he.Z)(ve),Se=(0,s.connect)((function(e){return{userIsAdmin:(0,r.BW)(e),isCloud:"true"===(0,l.lJ)(e).Cloud,subscription:e.entities.cloud.subscription,customer:e.entities.cloud.customer}}),(function(e){return{actions:(0,a.bindActionCreators)({savePreferences:le.$A,getStandardAnalytics:d.pu,openModal:N.h,getCloudSubscription:de.oR,getCloudCustomer:de.hS},e)}}))(we);function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe;!function(e){e[e.TRIAL_14_DAYS=14]="TRIAL_14_DAYS",e[e.TRIAL_3_DAYS=3]="TRIAL_3_DAYS",e[e.TRIAL_2_DAYS=2]="TRIAL_2_DAYS",e[e.TRIAL_1_DAY=1]="TRIAL_1_DAY"}(Pe||(Pe={}));class Me extends u.PureComponent{constructor(...e){super(...e),Te(this,"handleClose",(async()=>{const{daysLeftOnTrial:e}=this.props;let t="";e>Pe.TRIAL_3_DAYS?t="14_days_banner":e<=Pe.TRIAL_3_DAYS&&e>=Pe.TRIAL_1_DAY&&(t="3_days_banner"),(0,A.L9)(g.EA.CLOUD_ADMIN,"dismissed_banner_trial_".concat(e,"_days")),await this.props.actions.savePreferences(this.props.currentUser.id,[{category:g.uP.CLOUD_TRIAL_BANNER,user_id:this.props.currentUser.id,name:g.gv.TRIAL,value:"".concat(t)}])})),Te(this,"shouldShowBanner",(()=>{const{isFreeTrial:e,userIsAdmin:t,isCloud:n}=this.props;return e&&t&&n})),Te(this,"isDismissable",(()=>{const{daysLeftOnTrial:e}=this.props;let t=!0;return e<=Pe.TRIAL_1_DAY&&(t=!1),t})),Te(this,"showModal",(()=>{const{daysLeftOnTrial:e}=this.props;this.isDismissable()?(0,A.L9)(g.EA.CLOUD_ADMIN,"click_subscribe_from_trial_banner_".concat(e,"_days")):(0,A.L9)(g.EA.CLOUD_ADMIN,"click_subscribe_from_banner_trial_ended"),this.props.actions.openModal({modalId:g.r8.CLOUD_PURCHASE,dialogType:pe.Z})}))}async componentDidMount(){if(ue()(this.props.analytics)&&await this.props.actions.getStandardAnalytics(),!ue()(this.props.subscription)&&!ue()(this.props.analytics)&&this.shouldShowBanner()){const{daysLeftOnTrial:e}=this.props;this.isDismissable()?(0,A.L9)(g.EA.CLOUD_ADMIN,"bannerview_trial_".concat(e,"_days")):(0,A.L9)(g.EA.CLOUD_ADMIN,"bannerview_trial_limit_ended")}}render(){const{daysLeftOnTrial:e,preferences:t}=this.props;if(ue()(this.props.analytics))return null;if(!this.shouldShowBanner())return null;if(t.some((e=>e.name===g.gv.TRIAL&&"14_days_banner"===e.value))&&e>Pe.TRIAL_3_DAYS||e<=Pe.TRIAL_3_DAYS&&e>=Pe.TRIAL_1_DAY&&t.some((e=>e.name===g.gv.TRIAL&&"3_days_banner"===e.value)))return null;const n=u.createElement(b.Z,{id:"admin.billing.subscription.cloudTrial.moreThan3Days",defaultMessage:"Your trial has started! There are {daysLeftOnTrial} days left",values:{daysLeftOnTrial:e}}),s=u.createElement(b.Z,{id:"admin.billing.subscription.cloudTrial.daysLeftOnTrial",defaultMessage:"There are {daysLeftOnTrial} days left on your free trial",values:{daysLeftOnTrial:e}});let a,i;switch(e){case Pe.TRIAL_3_DAYS:case Pe.TRIAL_2_DAYS:a=s;break;case Pe.TRIAL_1_DAY:a=(0,C.t)("admin.billing.subscription.cloudTrial.lastDay");break;default:a=n,i=u.createElement("i",{className:"icon-check-outline-circle"})}const r=this.isDismissable();return u.createElement(V,{type:r?g.Mw.ADVISOR:g.Mw.CRITICAL,showCloseButton:r,handleClose:this.handleClose,onButtonClick:this.showModal,modalButtonText:(0,C.t)("admin.billing.subscription.cloudTrial.subscribeButton"),modalButtonDefaultText:"Subscribe Now",message:a,showLinkAsButton:!0,icon:i})}}Te(Me,"propTypes",{userIsAdmin:h().bool.isRequired,isFreeTrial:h().bool.isRequired,preferences:h().array.isRequired,daysLeftOnTrial:h().number.isRequired,isCloud:h().bool.isRequired,actions:h().shape({savePreferences:h().func.isRequired,getStandardAnalytics:h().func.isRequired,getCloudSubscription:h().func.isRequired,openModal:h().func.isRequired}).isRequired});const Ne=(0,he.Z)(Me),Ie=(0,s.connect)((function(e){const t=(0,ce.YX)(),n=e.entities.cloud.subscription,s="true"===(0,l.lJ)(e).Cloud;let a=!1,i=0;return s&&"true"===(null==n?void 0:n.is_free_trial)&&(a=!0,i=(0,L.Hq)(n.trial_end_at)),{isFreeTrial:a,daysLeftOnTrial:i,analytics:e.entities.admin.analytics,userIsAdmin:(0,r.BW)(e),currentUser:(0,r.ts)(e),isCloud:s,subscription:n,preferences:t(e,g.uP.CLOUD_TRIAL_BANNER)}}),(function(e){return{actions:(0,a.bindActionCreators)({savePreferences:le.$A,getStandardAnalytics:d.pu,openModal:N.h,getCloudSubscription:de.oR},e)}}))(Ne);class Re extends u.PureComponent{render(){let e=null;"true"===this.props.config.EnableBanner&&this.props.config.BannerText.trim()&&(e=u.createElement(J,{color:this.props.config.BannerColor,textColor:this.props.config.BannerTextColor,allowDismissal:"true"===this.props.config.AllowBannerDismissal,text:this.props.config.BannerText}));let t=null;this.props.latestError&&(t=u.createElement(V,{type:this.props.latestError.error.type,message:this.props.latestError.error.message,showCloseButton:!0,handleClose:this.props.actions.dismissError}));let n=null,s=null,a=null;return"true"===this.props.license.Cloud&&(n=u.createElement(_e,null),s=u.createElement(Se,null),a=u.createElement(Ie,null)),u.createElement(u.Fragment,null,e,t,n,s,a,u.createElement(oe,null),u.createElement(se,{config:this.props.config,license:this.props.license,canViewSystemErrors:this.props.canViewSystemErrors,totalUsers:this.props.totalUsers,user:this.props.user,warnMetricsStatus:this.props.warnMetricsStatus}))}}var Ae,Oe,Le;Ae=Re,Oe="propTypes",Le={license:h().object,config:h().object,user:h().shape({email:h().string.isRequired,email_verified:h().bool}),canViewSystemErrors:h().bool.isRequired,latestError:h().object,totalUsers:h().number,warnMetricsStatus:h().object,actions:h().shape({dismissError:h().func.isRequired}).isRequired},Oe in Ae?Object.defineProperty(Ae,Oe,{value:Le,enumerable:!0,configurable:!0,writable:!0}):Ae[Oe]=Le;const De=(0,s.connect)((function(e){const t=(0,o.AN)(e,{permission:i.Pl.MANAGE_SYSTEM}),n=(0,l.lJ)(e),s=(0,l.iE)(e),a=(0,r.ts)(e),c=function(e){return e.errors.filter((e=>e.displayable))}(e),d=(0,l.zG)(e),m=e.entities.admin.analytics.TOTAL_USERS;let u=null;return c&&c.length>=1&&(u=c[0]),{license:n,config:s,user:a,canViewSystemErrors:t,latestError:u,totalUsers:m,warnMetricsStatus:d}}),(function(e){const t=c.YN.bind(null,0);return{actions:(0,a.bindActionCreators)({getStandardAnalytics:d.pu,dismissError:t,dismissNotice:m.G},e)}}))(Re)},36842:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=(n(88674),n(67294)),r=n(59925);const o=e=>i.createElement("button",{className:"annnouncementBar__purchaseNow",onClick:e=>(async e=>{e.preventDefault(),(0,r.L9)("admin","in_trial_purchase_license"),window.open("https://customers.mattermost.com/signup","_blank")})(e)},e.buttonTextElement);o.propTypes={buttonTextElement:a().element.isRequired};const l=o},13208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var s=n(37703),a=n(14890),i=n(74838),r=n(45697),o=n.n(r),l=(n(33948),n(88674),n(67294)),c=n(44012),d=n(11106),m=n(59925),u=n(92337),p=n(45288),h=n(11381);const g=()=>l.createElement("svg",{width:"311",height:"216",viewBox:"0 0 311 216",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",{clipPath:"url(#clip0)"},l.createElement("path",{d:"M61.9647 216C96.1868 216 123.929 213.897 123.929 211.302C123.929 208.707 96.1868 206.604 61.9647 206.604C27.7425 206.604 0 208.707 0 211.302C0 213.897 27.7425 216 61.9647 216Z",fill:"#3D3C40",fillOpacity:"0.08"}),l.createElement("path",{d:"M47.3647 47.9266C58.1484 43.348 71.5797 46.2489 84.6968 48.2623C84.8189 45.8241 86.2984 42.8567 84.7486 41.1556C82.8656 39.089 83.039 36.9175 84.172 34.7336C87.0694 29.1489 82.9183 23.2065 78.7269 18.2655C77.7822 17.1543 76.5882 16.2813 75.242 15.7172C73.8958 15.1532 72.4353 14.9141 70.9792 15.0193L63.2149 15.5729C61.3256 15.7076 59.5225 16.4151 58.047 17.6008C56.5715 18.7864 55.4939 20.3936 54.9584 22.2072C53.1044 24.7242 52.1122 27.2343 52.7369 29.7312C49.96 31.6256 49.4934 33.9123 50.7413 36.4901C51.7994 38.1132 51.7881 39.6932 50.6931 41.2294C49.2551 43.188 48.1537 45.3718 47.4341 47.6915L47.3647 47.9266Z",fill:"#152235"}),l.createElement("path",{d:"M303.63 186.728H83.8449C81.8904 186.728 80.0159 185.953 78.6339 184.574C77.2518 183.194 76.4754 181.323 76.4754 179.372C156.148 170.129 234.322 170.129 311 179.372C311 181.323 310.224 183.194 308.842 184.574C307.459 185.953 305.585 186.728 303.63 186.728Z",fill:"#0D1521"}),l.createElement("path",{d:"M311 179.805L76.4754 179.372L103.656 133.718L103.786 133.501V32.8841C103.786 31.6628 104.027 30.4535 104.495 29.3252C104.963 28.1968 105.649 27.1716 106.514 26.308C107.379 25.4445 108.406 24.7595 109.537 24.2922C110.667 23.8248 111.879 23.5844 113.102 23.5845H273.073C274.296 23.5844 275.508 23.8248 276.638 24.2922C277.768 24.7595 278.795 25.4445 279.66 26.308C280.526 27.1716 281.212 28.1968 281.68 29.3252C282.148 30.4535 282.389 31.6628 282.389 32.8841V134.194L311 179.805Z",fill:"#152235"}),l.createElement("path",{d:"M112.89 30.0757C112.085 30.0766 111.314 30.396 110.745 30.9639C110.176 31.5318 109.856 32.3018 109.855 33.1049V124.846C109.856 125.649 110.176 126.419 110.745 126.987C111.314 127.555 112.085 127.875 112.89 127.876H274.586C275.39 127.875 276.162 127.555 276.73 126.987C277.299 126.419 277.619 125.649 277.62 124.846V33.1049C277.619 32.3018 277.299 31.5318 276.731 30.964C276.162 30.3961 275.39 30.0766 274.586 30.0757H112.89Z",fill:"white"}),l.createElement("path",{d:"M113.567 139.992C113.318 139.993 113.075 140.064 112.866 140.198C112.657 140.332 112.49 140.523 112.386 140.748L104.01 158.923C103.919 159.121 103.879 159.338 103.894 159.555C103.91 159.773 103.979 159.983 104.097 160.166C104.214 160.349 104.376 160.5 104.568 160.605C104.759 160.709 104.974 160.764 105.192 160.764H281.317C281.539 160.764 281.757 160.707 281.951 160.6C282.144 160.492 282.307 160.336 282.424 160.148C282.54 159.96 282.606 159.745 282.616 159.524C282.626 159.303 282.579 159.083 282.48 158.885L273.377 140.71C273.269 140.494 273.103 140.312 272.898 140.185C272.692 140.058 272.455 139.991 272.214 139.992H113.567Z",fill:"#0D1521"}),l.createElement("path",{d:"M193.087 28.5612C194.165 28.5612 195.038 27.6893 195.038 26.6138C195.038 25.5384 194.165 24.6665 193.087 24.6665C192.01 24.6665 191.137 25.5384 191.137 26.6138C191.137 27.6893 192.01 28.5612 193.087 28.5612Z",fill:"white"}),l.createElement("path",{d:"M175.776 164.226C175.49 164.226 175.212 164.321 174.985 164.494C174.758 164.668 174.595 164.911 174.52 165.187L172.419 172.976C172.367 173.168 172.36 173.37 172.399 173.566C172.438 173.761 172.521 173.945 172.643 174.103C172.764 174.261 172.92 174.39 173.099 174.478C173.278 174.566 173.475 174.612 173.675 174.612H213.628C213.835 174.612 214.04 174.562 214.224 174.468C214.408 174.373 214.567 174.235 214.687 174.067C214.808 173.898 214.886 173.703 214.915 173.498C214.945 173.293 214.924 173.085 214.857 172.889L212.156 165.1C212.067 164.845 211.901 164.623 211.681 164.467C211.461 164.31 211.197 164.226 210.927 164.226H175.776Z",fill:"#0D1521"}),l.createElement("path",{d:"M282.389 131.987V133.718H103.656L103.79 133.502V131.987H282.389Z",fill:"#0D1521"}),l.createElement("path",{d:"M277.404 60.584C294.163 60.584 307.749 47.0218 307.749 30.292C307.749 13.5622 294.163 0 277.404 0C260.644 0 247.058 13.5622 247.058 30.292C247.058 47.0218 260.644 60.584 277.404 60.584Z",fill:"#0058CC"}),l.createElement("path",{d:"M289.975 43.4908H264.832C264.372 43.4903 263.931 43.3078 263.606 42.9833C263.281 42.6587 263.098 42.2187 263.098 41.7598V26.6138C263.099 26.1548 263.281 25.7149 263.606 25.3903C263.932 25.0658 264.372 24.8833 264.832 24.8828H289.975C290.435 24.8833 290.876 25.0658 291.201 25.3903C291.526 25.7149 291.709 26.1548 291.709 26.6138V41.7598C291.709 42.2187 291.526 42.6587 291.201 42.9833C290.876 43.3078 290.435 43.4903 289.975 43.4908ZM264.832 26.6138V41.7598H289.976L289.975 26.6138L264.832 26.6138Z",fill:"white"}),l.createElement("path",{d:"M285.207 26.6134H269.601V19.6895C269.601 14.6745 272.882 11.0347 277.404 11.0347C281.925 11.0347 285.207 14.6745 285.207 19.6895L285.207 26.6134ZM271.335 24.8824H283.473V19.6895C283.473 15.6129 280.977 12.7656 277.404 12.7656C273.83 12.7656 271.335 15.6129 271.335 19.6895L271.335 24.8824Z",fill:"white"}),l.createElement("path",{d:"M277.404 35.4849C278.361 35.4849 279.138 34.7099 279.138 33.7539C279.138 32.7979 278.361 32.0229 277.404 32.0229C276.446 32.0229 275.67 32.7979 275.67 33.7539C275.67 34.7099 276.446 35.4849 277.404 35.4849Z",fill:"white"}),l.createElement("path",{d:"M256.22 96.7577H131.255C130.642 96.757 130.054 96.5133 129.62 96.0803C129.186 95.6472 128.942 95.06 128.941 94.4476V63.5035C128.942 62.891 129.186 62.3038 129.62 61.8708C130.054 61.4377 130.642 61.1941 131.255 61.1934H256.22C256.834 61.1941 257.422 61.4377 257.856 61.8708C258.289 62.3038 258.534 62.891 258.534 63.5035V94.4476C258.534 95.06 258.289 95.6472 257.856 96.0803C257.422 96.5133 256.834 96.757 256.22 96.7577ZM131.255 62.1174C130.887 62.1178 130.534 62.264 130.274 62.5238C130.014 62.7837 129.867 63.136 129.867 63.5035V94.4476C129.867 94.8151 130.014 95.1674 130.274 95.4272C130.534 95.6871 130.887 95.8332 131.255 95.8336H256.22C256.588 95.8332 256.941 95.6871 257.201 95.4272C257.462 95.1674 257.608 94.8151 257.609 94.4476V63.5035C257.608 63.136 257.462 62.7837 257.201 62.5238C256.941 62.264 256.588 62.1178 256.22 62.1174L131.255 62.1174Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M150.672 87.1982C155.878 87.1982 160.099 82.9851 160.099 77.7881C160.099 72.591 155.878 68.3779 150.672 68.3779C145.466 68.3779 141.246 72.591 141.246 77.7881C141.246 82.9851 145.466 87.1982 150.672 87.1982Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M172.443 71.5147C172.237 71.5143 172.032 71.5546 171.841 71.6333C171.65 71.712 171.477 71.8275 171.331 71.9731C171.185 72.1188 171.069 72.2918 170.99 72.4822C170.91 72.6727 170.87 72.8768 170.87 73.083C170.87 73.2892 170.91 73.4933 170.99 73.6838C171.069 73.8742 171.185 74.0472 171.331 74.1929C171.477 74.3385 171.65 74.454 171.841 74.5327C172.032 74.6113 172.237 74.6517 172.443 74.6514H246.51C246.927 74.6514 247.326 74.4861 247.621 74.192C247.915 73.8979 248.081 73.499 248.081 73.083C248.081 72.667 247.915 72.2681 247.621 71.974C247.326 71.6799 246.927 71.5147 246.51 71.5147H172.443Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M172.443 80.9248C172.027 80.9248 171.627 81.09 171.332 81.3842C171.038 81.6783 170.872 82.0772 170.872 82.4932C170.872 82.9091 171.038 83.308 171.332 83.6022C171.627 83.8963 172.027 84.0615 172.443 84.0615H204.314C204.731 84.0615 205.131 83.8963 205.425 83.6022C205.72 83.308 205.886 82.9091 205.886 82.4932C205.886 82.0772 205.72 81.6783 205.425 81.3842C205.131 81.09 204.731 80.9248 204.314 80.9248H172.443Z",fill:"#3D3C40",fillOpacity:"0.16"}),l.createElement("path",{d:"M103.348 81.5594L80.2478 93.8193L79.9554 83.6027C87.4953 82.3462 94.6687 80.1586 101.302 76.5971L103.718 70.6385C103.981 69.9892 104.409 69.4194 104.959 68.9851C105.51 68.5508 106.164 68.2668 106.858 68.161C107.551 68.0553 108.26 68.1314 108.916 68.382C109.571 68.6325 110.15 69.0489 110.595 69.5901C111.247 70.382 111.572 71.3916 111.506 72.4143C111.44 73.437 110.987 74.3963 110.239 75.098L103.348 81.5594Z",fill:"#A1616A"}),l.createElement("path",{d:"M46.9042 152.343C46.7357 151.726 46.6999 151.081 46.7992 150.449C46.8985 149.817 47.1307 149.214 47.4804 148.678L52.555 140.904C53.7552 139.065 55.5969 137.737 57.7227 137.177C59.8485 136.617 62.1069 136.865 64.0596 137.874C61.9269 141.497 62.2243 144.677 64.7962 147.439C60.8036 149.385 57.1134 151.896 53.8402 154.895C53.2426 155.302 52.5563 155.56 51.8385 155.648C51.1208 155.737 50.3922 155.653 49.7136 155.403C49.035 155.153 48.426 154.745 47.9374 154.213C47.4487 153.681 47.0944 153.04 46.9042 152.343Z",fill:"#2F2E41"}),l.createElement("path",{d:"M104.401 142.178C103.633 143.456 102.549 144.515 101.253 145.254C99.9568 145.993 98.4923 146.387 96.9998 146.398L63.2878 146.653L61.8257 138.188L76.7388 133.809L64.165 124.177L77.9084 108.122L102.871 131.347C104.33 132.705 105.278 134.521 105.556 136.492C105.835 138.464 105.427 140.471 104.401 142.178Z",fill:"#152235"}),l.createElement("path",{d:"M58.0243 200.072H50.1291C43.0404 151.566 35.8248 102.925 57.1471 84.7705L82.2946 88.8571L79.0781 110.166L65.0422 126.221L58.0243 200.072Z",fill:"#152235"}),l.createElement("path",{d:"M64.9645 211.06C64.3465 211.228 63.6997 211.264 63.0668 211.165C62.4339 211.065 61.8292 210.834 61.2925 210.485L52.72 209.334C50.8779 208.136 49.5473 206.298 48.9863 204.176C48.4254 202.054 48.674 199.799 49.6841 197.85C53.3144 199.979 56.499 199.682 59.2665 197.114C61.2219 201.056 64.4436 200.815 67.5205 204.136C67.9279 204.732 68.1867 205.417 68.2752 206.134C68.3637 206.85 68.2794 207.578 68.0293 208.255C67.7792 208.932 67.3706 209.54 66.8375 210.028C66.3044 210.516 65.6623 210.87 64.9645 211.06Z",fill:"#0058CC"}),l.createElement("path",{d:"M76.7388 52.3693L62.1181 48.8664C64.5464 43.9047 64.7463 38.3837 63.5802 32.5199L73.5222 32.228C73.8337 39.5198 74.7762 46.3321 76.7388 52.3693Z",fill:"#965962"}),l.createElement("path",{d:"M80.7571 97.646C70.1137 104.886 62.5935 97.8937 56.8546 87.1056C57.6521 80.5043 56.3609 72.6044 53.9695 64.0206C52.9059 60.2345 53.303 56.188 55.0823 52.6799C56.8616 49.1718 59.8937 46.4571 63.5802 45.0718L76.154 50.326C86.8306 59.0134 88.932 68.4237 84.9264 78.3486L80.7571 97.646Z",fill:"#0058CC"}),l.createElement("path",{d:"M50.1291 59.6667L38.4326 65.7966L59.194 78.0565L62.0828 85.1698C62.2756 85.6445 62.3695 86.1535 62.3588 86.6657C62.3482 87.1779 62.2331 87.6826 62.0206 88.1489C61.8082 88.6153 61.5028 89.0336 61.1232 89.3783C60.7435 89.7229 60.2975 89.9868 59.8123 90.1538C59.2608 90.3437 58.6728 90.4035 58.0943 90.3286C57.5157 90.2537 56.9624 90.0461 56.4777 89.7221C55.9929 89.3982 55.5899 88.9665 55.3001 88.4611C55.0104 87.9556 54.8417 87.3901 54.8075 86.8088L54.5154 81.8512L28.1279 73.1586C27.2388 72.8657 26.4282 72.3747 25.7574 71.7228C25.0865 71.0709 24.5731 70.2751 24.256 69.3958C23.7938 68.114 23.7702 66.7154 24.1891 65.4189C24.608 64.1224 25.4456 63.0011 26.5709 62.2304L47.7898 47.6987L50.1291 59.6667Z",fill:"#A1616A"}),l.createElement("path",{d:"M61.8257 60.8345C56.9475 58.7004 52.5117 61.0186 46.9126 62.8778L46.0354 47.407C51.595 44.449 56.8957 43.6514 61.8257 45.9475L61.8257 60.8345Z",fill:"#0058CC"}),l.createElement("path",{d:"M67.6611 39.8912C72.8166 39.8912 76.9959 35.7192 76.9959 30.5728C76.9959 25.4264 72.8166 21.2544 67.6611 21.2544C62.5057 21.2544 58.3264 25.4264 58.3264 30.5728C58.3264 35.7192 62.5057 39.8912 67.6611 39.8912Z",fill:"#A1616A"}),l.createElement("path",{d:"M78.8285 29.3971C69.5863 30.3007 62.5438 28.7918 58.0429 24.4956V21.0356H78.0441L78.8285 29.3971Z",fill:"#152235"})),l.createElement("defs",null,l.createElement("clipPath",{id:"clip0"},l.createElement("rect",{width:"311",height:"216",fill:"white"})))),f=e=>l.createElement(h.Z,{onHide:e.onHide,modalHeaderText:""},l.createElement("div",{className:"noInternetConnection__container"},l.createElement("div",{className:"noInternetConnection__image"},l.createElement(g,null)),l.createElement("span",{className:"noInternetConnection__noAccessToInternet"},l.createElement(c.Z,{id:"announcement_bar.warn.no_internet_connection",defaultMessage:"Looks like you do not have access to the internet."})),l.createElement("span",{className:"noInternetConnection__contactSupport"},l.createElement(c.Z,{id:"announcement_bar.warn.contact_support_text",defaultMessage:"To renew your license, contact support at support@mattermost.com."})),l.createElement("span",{className:"noInternetConnection__emailUs"},l.createElement(p.Z,{id:"announcement_bar.warn.email_support",defaultMessage:"[Contact support](!{email}).",values:{email:"mailto:support@mattermost.com"}}))));f.propTypes={onHide:o().func.isRequired};const b=f,_=e=>{const[t,n]=(0,l.useState)("");(0,l.useEffect)((()=>{d.je.getRenewalLink().then((({renewal_link:e})=>{try{e&&/^http[s]?:\/\//.test(e)&&n(e)}catch(e){console.error("No link returned",e)}}))}),[]);const s=()=>{var t;null!==(t=e.telemetryInfo)&&void 0!==t&&t.error&&(0,m.L9)("renew_license",e.telemetryInfo.error),e.actions.openModal({modalId:u.r8.NO_INTERNET_CONNECTION,dialogType:b})};return l.createElement(l.Fragment,null,l.createElement("button",{className:"btn btn-primary annnouncementBar__renewLicense",disabled:e.isDisabled,onClick:n=>(async n=>{n.preventDefault();try{const{status:n}=await d.je.ping();var a;"OK"===n&&""!==t?(null!==(a=e.telemetryInfo)&&void 0!==a&&a.success&&(0,m.L9)("renew_license",e.telemetryInfo.success),window.open(t,"_blank")):s()}catch(e){s()}})(n)},l.createElement(c.Z,{id:"announcement_bar.warn.renew_license_now",defaultMessage:"Renew license now"})))};_.propTypes={telemetryInfo:o().shape({success:o().string.isRequired,error:o().string.isRequired}),actions:o().shape({openModal:o().func.isRequired}).isRequired,isDisabled:o().bool};const E=_,C=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({openModal:i.h},e)}}))(E)},21293:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var s=n(37703),a=n(26961),i=n(89980),r=n(22558),o=(n(15306),n(45697)),l=n.n(o),c=n(67294),d=n(10188),m=n(11106),u=n(23122),p=n(11132),h=n(56546);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends c.PureComponent{constructor(e){super(e),g(this,"handleClick",(e=>{const t=this.overlayRef.current.getBoundingClientRect(),n=(0,h.b)(t,window.innerHeight,300);this.setState({target:e.target,show:!this.state.show,placement:n})})),g(this,"hideOverlay",(()=>{this.setState({show:!1})})),this.state={show:!1},this.overlayRef=c.createRef()}getUserFromMentionName(){const{usersByUsername:e,mentionName:t}=this.props;let n=t.toLowerCase();for(;n.length>0;){if(e.hasOwnProperty(n))return e[n];if(!/[._-]$/.test(n))break;n=n.substring(0,n.length-1)}return""}getGroupFromMentionName(){const{groupsByName:e,mentionName:t}=this.props,n=t.toLowerCase().replace(/[._-]*$/,"");return(null==e?void 0:e[n])||{}}render(){const e=this.getUserFromMentionName();if(!this.props.disableGroupHighlight&&!e){const e=this.getGroupFromMentionName();if(e.allow_reference)return c.createElement("span",{className:"group-mention-link"},"@"+e.name)}if(!e)return c.createElement(c.Fragment,null,this.props.children);const t=this.props.mentionName.substring(e.username.length);let n="mention-link";return this.props.disableHighlight||e.id!==this.props.currentUserId||(n+=" mention--highlight"),c.createElement("span",null,c.createElement(d.Z,{placement:this.state.placement,show:this.state.show,target:this.state.target,rootClose:!0,onHide:this.hideOverlay},c.createElement(p.Z,{className:"user-profile-popover",userId:e.id,src:m.je.getProfilePictureUrl(e.id,e.last_picture_update),isRHS:this.props.isRHS,hasMention:this.props.hasMention,hide:this.hideOverlay,channelId:this.props.channelId})),c.createElement("a",{className:n,onClick:this.handleClick,ref:this.overlayRef},"@"+(0,u.fw)(e,this.props.teammateNameDisplay)),t)}}g(f,"propTypes",{children:l().node,currentUserId:l().string.isRequired,channelId:l().string,hasMention:l().bool,disableHighlight:l().bool,disableGroupHighlight:l().bool,isRHS:l().bool,mentionName:l().string.isRequired,teammateNameDisplay:l().string.isRequired,usersByUsername:l().object.isRequired,groupsByName:l().object.isRequired}),g(f,"defaultProps",{isRHS:!1,hasMention:!1,disableHighlight:!1,disableGroupHighlight:!1});const b=(0,s.connect)((function(e){return{currentUserId:(0,i.rc)(e),teammateNameDisplay:(0,a.kl)(e),usersByUsername:(0,i.Td)(e),groupsByName:(0,r.Kj)(e)}}))(f)},52166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(39864),o=n(92094);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(e){super(e),l(this,"onChange",(e=>{e&&e.target&&this.setState({input:e.target.value})})),l(this,"handleSelected",(e=>{this.setState({input:""}),this.props.onSelected&&this.props.onSelected(e),requestAnimationFrame((()=>{this.suggestionRef&&this.suggestionRef.blur()}))})),l(this,"setSuggestionRef",(e=>{this.suggestionRef=e})),l(this,"onFocus",(()=>{this.setState({focused:!0}),this.props.toggleFocus&&this.props.toggleFocus(!0)})),l(this,"onBlur",(()=>{this.setState({focused:!1}),this.props.toggleFocus&&this.props.toggleFocus(!1)})),this.state={input:""}}render(){const{providers:e,placeholder:t,footer:n,label:s,labelClassName:a,helpText:o,inputClassName:l,value:c,disabled:d,listComponent:m,listStyle:u}=this.props,{focused:p}=this.state;let h,g,{input:f}=this.state;return p||(f=c),s&&(h=i.createElement("label",{className:"control-label "+a},s)),o&&(g=i.createElement("div",{className:"help-text"},o)),i.createElement("div",{"data-testid":"autoCompleteSelector",className:"form-group"},h,i.createElement("div",{className:l},i.createElement(r.Z,{placeholder:t,ref:this.setSuggestionRef,listComponent:m,className:"form-control",containerClass:"select-suggestion-container",value:f,onChange:this.onChange,onItemSelected:this.handleSelected,onFocus:this.onFocus,onBlur:this.onBlur,providers:e,completeOnTab:!0,renderDividers:!1,renderNoResults:!0,openOnFocus:!0,openWhenEmpty:!0,replaceAllInputOnSelect:!0,disabled:d,listStyle:u}),g,n))}}l(c,"propTypes",{providers:a().array.isRequired,value:a().string.isRequired,onSelected:a().func,label:a().node,labelClassName:a().string,inputClassName:a().string,helpText:a().node,placeholder:a().string,footer:a().node,disabled:a().bool,toggleFocus:a().func,listComponent:a().elementType,listStyle:a().string}),l(c,"defaultProps",{value:"",id:"",labelClassName:"",inputClassName:"",listComponent:o.Z,listStyle:"top"})},97550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=(n(19601),n(67294));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(e){super(e),o(this,"height",void 0),o(this,"textAreaRef",void 0),o(this,"referenceRef",void 0),o(this,"recalculateSize",(()=>{if(!this.referenceRef.current||!this.textAreaRef.current)return;const e=this.referenceRef.current.scrollHeight,t=this.textAreaRef.current;if(e>0&&e!==this.height){const n=getComputedStyle(t),s=parseInt(n.borderTopWidth||"0",10)+parseInt(n.borderBottomWidth||"0",10);t.style.height=String(e+s)+"px",this.height=e,window.requestAnimationFrame((()=>{var t,s;null===(t=(s=this.props).onHeightChange)||void 0===t||t.call(s,e,parseInt(n.maxHeight||"0",10))}))}})),o(this,"getDOMNode",(()=>this.textAreaRef.current)),o(this,"handleChange",(e=>{this.props.onChange&&this.props.onChange(e)})),this.height=0,this.textAreaRef=i.createRef(),this.referenceRef=i.createRef()}get value(){return this.textAreaRef.current.value}set value(e){this.textAreaRef.current.value=e}get selectionStart(){return this.textAreaRef.current.selectionStart}set selectionStart(e){this.textAreaRef.current.selectionStart=e}get selectionEnd(){return this.textAreaRef.current.selectionEnd}set selectionEnd(e){this.textAreaRef.current.selectionEnd=e}focus(){var e;null===(e=this.textAreaRef.current)||void 0===e||e.focus()}blur(){var e;null===(e=this.textAreaRef.current)||void 0===e||e.blur()}componentDidMount(){this.recalculateSize()}componentDidUpdate(){this.recalculateSize()}render(){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props);Reflect.deleteProperty(e,"onHeightChange"),Reflect.deleteProperty(e,"providers"),Reflect.deleteProperty(e,"channelId");const{value:t,defaultValue:n,placeholder:s,disabled:a,onInput:l,id:d}=e,m=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","defaultValue","placeholder","disabled","onInput","id"]),u={rows:0,height:0};this.height<=0?u.rows=1:u.height=this.height;let p=null;const h=s?s.toLowerCase():"";return this.props.value||this.props.defaultValue||(p=i.createElement("div",Object.assign({},m,{"data-testid":"".concat(d,"_placeholder"),style:c.placeholder}),s)),i.createElement("div",null,p,i.createElement("textarea",Object.assign({ref:this.textAreaRef,"data-testid":d,id:d},u,m,{role:"textbox","aria-label":h,dir:"auto",disabled:a,onChange:this.handleChange,onInput:l,value:t,defaultValue:n})),i.createElement("div",{style:c.container},i.createElement("textarea",Object.assign({ref:this.referenceRef,id:d+"-reference",style:c.reference,dir:"auto",disabled:!0,rows:1},m,{value:t||n,"aria-hidden":!0}))))}}o(l,"propTypes",{id:a().string,disabled:a().bool,value:a().string,defaultValue:a().string,onChange:a().func,onHeightChange:a().func,onInput:a().func,placeholder:a().string});const c={container:{height:0,overflow:"hidden"},reference:{height:"auto",width:"100%"},placeholder:{overflow:"hidden",textOverflow:"ellipsis",opacity:.5,pointerEvents:"none",position:"absolute",whiteSpace:"nowrap",background:"none",borderColor:"transparent"}}},25896:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),a=n.n(s),i=n(67294),r=n(94184),o=n.n(r);const l=e=>i.createElement("div",{className:o()("Card__header",{expanded:e.expanded})},e.children,e.expanded&&i.createElement("hr",{className:"Card__hr"}));l.propTypes={children:a().node.isRequired,expanded:a().bool};const c=l;function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(33948),n(85827);class m extends i.PureComponent{render(){const{expanded:e,children:t}=this.props,n=i.Children.map(t,(t=>(0,i.isValidElement)(t)?(0,i.cloneElement)(t,{expanded:e}):t));return i.createElement("div",{className:o()("Card",this.props.className,{expanded:e})},n)}}d(m,"propTypes",{expanded:a().bool,className:a().string}),d(m,"Header",c),d(m,"Body",(function(e){const[t,n]=(0,i.useState)(0),[s,a]=(0,i.useState)(!1),[r,l]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{a(!0),e.expanded&&l(!0)}),[e.expanded]),(0,i.useEffect)((()=>{e.expanded||l(!1)}),[s]),i.createElement("div",{ref:e=>{e&&e.children&&n(Array.from(e.children).map((e=>e.scrollHeight)).reduce(((e,t)=>e+t),0))},style:{height:s&&r?t:""},className:o()("Card__body",{expanded:r,expanding:s}),onTransitionEnd:()=>a(!1)},e.children)}))},57006:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(45697),a=n.n(s),i=n(67294),r=n(44012),o=n(19728),l=n(15558),c=n(74935),d=n(92337),m=n(82251);const u=e=>{const{ariaLabel:t,buttonClass:n,buttonId:s,iconComponent:a,onClick:u,tooltipKey:p,tooltipText:h,isRhsOpen:g}=e,f={flaggedPosts:{class:"text-nowrap",id:"flaggedTooltip",messageID:(0,m.t)("channel_header.flagged"),message:"Saved posts"},pinnedPosts:{class:"pinned-posts",id:"pinnedPostTooltip",messageID:(0,m.t)("channel_header.pinnedPosts"),message:"Pinned posts"},recentMentions:{class:"",id:"recentMentionsTooltip",messageID:(0,m.t)("channel_header.recentMentions"),message:"Recent mentions"},search:{class:"",id:"searchTooltip",messageID:(0,m.t)("channel_header.search"),message:"Search"},channelFiles:{class:"channel-files",id:"channelFilesTooltip",messageID:(0,m.t)("channel_header.channelFiles"),message:"Files trong nhóm"}};let b;var _;let E;return b="plugin"===p&&h?i.createElement(o.Z,{id:"pluginTooltip",className:""},i.createElement("span",null,h)):null==f[_=p]?null:i.createElement(o.Z,{id:f[_].id,className:f[_].class},i.createElement(r.Z,{id:f[_].messageID,defaultMessage:f[_].message})),t&&(E="".concat((0,c._u)(f[p].messageID,f[p].message))),b?i.createElement("div",null,i.createElement(l.Z,{trigger:["hover"],delayShow:d.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:g?i.createElement(i.Fragment,null):b},i.createElement("button",{id:s,"aria-label":E,className:n||"channel-header__icon",onClick:u},a))):i.createElement("div",{className:"flex-child"},i.createElement("button",{id:s,className:n||"channel-header__icon",onClick:u},a))};u.propTypes={ariaLabel:a().bool,buttonClass:a().string,buttonId:a().string.isRequired,iconComponent:a().node.isRequired,onClick:a().func.isRequired,tooltipKey:a().string.isRequired,tooltipText:a().node,isRhsOpen:a().bool};const p=u},95688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var s=n(37703),a=n(14890),i=n(11754),r=n(18493),o=n(89980),l=n(63951),c=n(72657),d=n(45697),m=n.n(d),u=(n(19601),n(33948),n(73210),n(88674),n(32023),n(64765),n(67294)),p=n(43253),h=n(44012),g=n(11106),f=n(23122),b=n(74935),_=n(79592),E=n(26134),C=n(52718),y=n(46261),v=n(54300),w=n(92337);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends u.PureComponent{constructor(e){super(e),S(this,"searchTimeoutId",0),S(this,"selectedItemRef",u.createRef()),S(this,"addValue",(e=>{const t=Object.assign([],this.state.values);-1===t.indexOf(e)&&t.push(e),this.setState({values:t})})),S(this,"onHide",(()=>{this.setState({show:!1}),this.props.actions.loadStatusesForProfilesList(this.props.profilesNotInCurrentChannel)})),S(this,"handleInviteError",(e=>{e&&this.setState({saving:!1,inviteError:e.message})})),S(this,"handleDelete",(e=>{this.setState({values:e})})),S(this,"setUsersLoadingState",(e=>{this.setState({loadingUsers:e})})),S(this,"handlePageChange",((e,t)=>{e>t&&(this.setUsersLoadingState(!0),this.props.actions.getProfilesNotInChannel(this.props.channel.team_id,this.props.channel.id,this.props.channel.group_constrained,e+1,50).then((()=>this.setUsersLoadingState(!1))))})),S(this,"handleSubmit",(()=>{const{actions:e,channel:t}=this.props,n=this.state.values.map((e=>e.id));if(0!==n.length){if(this.props.skipCommit&&this.props.onAddCallback)return this.props.onAddCallback(this.state.values),this.setState({saving:!1,inviteError:void 0}),void this.onHide();this.setState({saving:!0}),e.addUsersToChannel(t.id,n).then((e=>{e.error?this.handleInviteError(e.error):(this.setState({saving:!1,inviteError:void 0}),this.onHide())}))}})),S(this,"search",(e=>{const t=e.trim();clearTimeout(this.searchTimeoutId),this.setState({term:t}),t&&(this.setUsersLoadingState(!0),this.searchTimeoutId=window.setTimeout((async()=>{const e={team_id:this.props.channel.team_id,not_in_channel_id:this.props.channel.id,group_constrained:this.props.channel.group_constrained};await this.props.actions.searchProfiles(t,e),this.setUsersLoadingState(!1)}),w.ZP.SEARCH_TIMEOUT_MILLISECONDS),this.searchTimeoutId=window.setTimeout((async()=>{if(!t)return;const e={team_id:this.props.channel.team_id,not_in_channel_id:this.props.channel.id,group_constrained:this.props.channel.group_constrained};await this.props.actions.searchProfiles(t,e),this.setUsersLoadingState(!1)}),w.ZP.SEARCH_TIMEOUT_MILLISECONDS))})),S(this,"renderAriaLabel",(e=>e?e.username:"")),S(this,"renderOption",((e,t,n,s)=>{let a="";return t&&(a="more-modal__row--selected"),u.createElement("div",{key:e.id,ref:t?this.selectedItemRef:e.id,className:"more-modal__row clickable "+a,onClick:()=>n(e),onMouseMove:()=>s(e)},u.createElement(_.Z,{src:g.je.getProfilePictureUrl(e.id,e.last_picture_update),status:this.props.userStatuses[e.id],size:"md",username:e.username}),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},(0,b.bj)(e),u.createElement(v.Z,{show:Boolean(e.is_bot),className:"badge-popoverlist"}),u.createElement(y.Z,{show:(0,b.a_)(e),className:"popoverlist"}))),u.createElement("div",{className:"more-modal__actions"},u.createElement("div",{className:"more-modal__actions--round"},u.createElement(C.Z,null))))})),S(this,"render",(()=>{let e=null;this.state.inviteError&&(e=u.createElement("label",{className:"has-error control-label"},this.state.inviteError));const t=u.createElement("h1",null,u.createElement(h.Z,{id:"channel_invite.addNewMembers",defaultMessage:"Add people to {channel}",values:{channel:this.props.channel.display_name}})),n=(0,b._u)("multiselect.add","Add"),s=(0,b._u)("multiselect.adding","Adding...");let a=(0,f.vI)(this.props.profilesNotInCurrentChannel,this.state.term).filter((e=>0===e.delete_at&&!this.props.profilesNotInCurrentTeam.includes(e)&&void 0!==this.props.excludeUsers&&!this.props.excludeUsers[e.id])).map((e=>e));if(this.props.includeUsers){const e=Object.values(this.props.includeUsers);a=[...a,...e]}const i=u.createElement(E.Z,{key:"addUsersToChannelKey",options:a,optionRenderer:this.renderOption,selectedItemRef:this.selectedItemRef,values:this.state.values,ariaLabelRenderer:this.renderAriaLabel,saveButtonPosition:"bottom",perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:20,buttonSubmitText:n,buttonSubmitLoadingText:s,saving:this.state.saving,loading:this.state.loadingUsers,placeholderText:(0,b._u)("multiselect.placeholder","Search for people"),valueWithImage:!0});return u.createElement(p.Z,{id:"addUsersToChannelModal",dialogClassName:"a11y__modal channel-switcher",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"channelInviteModalLabel"},u.createElement(p.Z.Header,{id:"channelInviteModalLabel",closeButton:!0}),u.createElement(p.Z.Body,{role:"application",className:"overflow--visible"},u.createElement("div",{className:"channel-switcher__header"},t),e,u.createElement("div",{className:"channel-switcher__content"},i)))})),this.state={values:[],term:"",show:!0,saving:!1,loadingUsers:!0}}componentDidMount(){this.props.actions.getProfilesNotInChannel(this.props.channel.team_id,this.props.channel.id,this.props.channel.group_constrained,0).then((()=>{this.setUsersLoadingState(!1)})),this.props.actions.getTeamStats(this.props.channel.team_id),this.props.actions.loadStatusesForProfilesList(this.props.profilesNotInCurrentChannel)}}S(T,"propTypes",{profilesNotInCurrentChannel:m().array.isRequired,profilesNotInCurrentTeam:m().array.isRequired,onHide:m().func.isRequired,skipCommit:m().bool,onAddCallback:m().func,actions:m().shape({addUsersToChannel:m().any.isRequired,getProfilesNotInChannel:m().any.isRequired,getTeamStats:m().func.isRequired,loadStatusesForProfilesList:m().func.isRequired,searchProfiles:m().func.isRequired}).isRequired}),S(T,"defaultProps",{includeUsers:{},excludeUsers:{},skipCommit:!1});const P=(0,s.connect)((function(e,t){let n;return t.channelId&&t.teamId&&(n=(0,o.pO)()),(e,t)=>{let s,a;return n?(s=n(e,t.channelId),a=(0,o.PP)(e,t.teamId)):(s=(0,o.Jc)(e),a=(0,o.bH)(e)),{profilesNotInCurrentChannel:s,profilesNotInCurrentTeam:a,userStatuses:(0,o.aH)(e)}}}),(function(e){return{actions:(0,a.bindActionCreators)({addUsersToChannel:l.Do,getProfilesNotInChannel:r.r1,getTeamStats:i.zG,loadStatusesForProfilesList:c.xO,searchProfiles:r.t6},e)}}))(T)},73557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(45697),a=n.n(s),i=n(67294),r=n(19728),o=n(44012),l=n(74935),c=n(15558),d=n(86896);function m(e){const{formatMessage:t}=(0,d.Z)();return i.createElement("span",e,i.createElement("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",enableBackground:"new -158 242 18 18",role:"img","aria-label":t({id:"generic_icons.reply",defaultMessage:"Reply Icon"})},i.createElement("path",{d:"M5.2 3.88001V5.48001L6.72 5.56001C8.85333 5.63467 10.64 6.51467 12.08 8.20001C11.312 7.94401 10.448 7.76801 9.488 7.67201C8.76267 7.59734 7.84 7.56001 6.72 7.56001H5.12V9.72001L2.16 6.76001L5.2 3.88001ZM6.64 0.600005C6.48 0.600005 6.34667 0.626672 6.24 0.680005L0.08 6.44001C0.048 6.47201 0.0266667 6.50934 0.016 6.55201C0.00533333 6.59467 0 6.66934 0 6.77601C0 6.87201 0.0266667 6.94667 0.08 7.00001L6.24 12.92C6.29333 12.9733 6.4 13 6.56 13C6.61333 12.9467 6.65067 12.8987 6.672 12.856C6.704 12.792 6.72 12.7067 6.72 12.6V9.08001C8.17067 9.08001 9.328 9.16001 10.192 9.32001C11.312 9.53334 12.272 9.91734 13.072 10.472C13.9573 11.0907 14.72 11.9867 15.36 13.16C15.4667 13.2667 15.5467 13.32 15.6 13.32H15.68C15.7653 13.2773 15.824 13.2187 15.856 13.144C15.888 13.0693 15.8827 12.9947 15.84 12.92C15.872 12.8133 15.8453 12.5413 15.76 12.104C15.6533 11.5707 15.4827 11.0107 15.248 10.424C14.96 9.66667 14.5973 8.95201 14.16 8.28001C13.2853 6.88267 12.2187 5.81067 10.96 5.06401C9.70133 4.30667 8.288 3.88534 6.72 3.80001V0.840006C6.752 0.765339 6.75733 0.706672 6.736 0.664005C6.71467 0.621339 6.68267 0.600005 6.64 0.600005Z"})))}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.PureComponent{render(){let e=null,t="post-menu__item post-menu__item--wide";this.props.commentCount>0?(t+=" post-menu__item--show",e=i.createElement("span",{className:"post-menu__comment-count"},this.props.commentCount)):""!==this.props.searchStyle&&(t=t+" "+this.props.searchStyle);const n=i.createElement(r.Z,{id:"comment-icon-tooltip",className:"hidden-xs"},i.createElement(o.Z,{id:"post_info.comment_icon.tooltip.reply",defaultMessage:"Reply"}));return i.createElement(c.Z,{delayShow:500,placement:"top",overlay:n},i.createElement("button",{id:"".concat(this.props.location,"_commentIcon_").concat(this.props.postId),"aria-label":(0,l._u)("post_info.comment_icon.tooltip.reply","Reply").toLowerCase(),className:t+" "+this.props.extraClass,onClick:this.props.handleCommentClick},i.createElement("span",{className:"d-flex align-items-center"},i.createElement(m,{className:"icon icon--small"}),e)))}}u(p,"propTypes",{location:a().oneOf(["CENTER","SEARCH"]),handleCommentClick:a().func.isRequired,searchStyle:a().string,commentCount:a().number,postId:a().string,extraClass:a().string}),u(p,"defaultProps",{location:"CENTER",searchStyle:"",commentCount:0,extraClass:""})},67530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=n(41609),r=n.n(i),o=(n(88674),n(67294));const l=function(e){var t,n,s,i,l;return n=t=class extends o.Component{async componentDidMount(){const{subscription:e,actions:{getSubscriptionStats:t,getCloudSubscription:n},isCloud:s,userIsAdmin:a,subscriptionStats:i}=this.props;r()(i)&&s&&t&&await t(),r()(e)&&s&&a&&n&&await n()}render(){return o.createElement(e,this.props)}},s=t,i="propTypes",l={isCloud:a().bool.isRequired,actions:a().shape({getCloudSubscription:a().func,getSubscriptionStats:a().func}).isRequired,userIsAdmin:a().bool},i in s?Object.defineProperty(s,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[i]=l,n}},68403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(45697),a=n.n(s),i=n(67294),r=n(19728),o=n(37703),l=n(15558),c=n(73893),d=n(5445),m=n(92337);const u=e=>{const t=(0,d.yC)(),{emojiSize:n,emojiStyle:s,spanStyle:a,showTooltip:u,tooltipDirection:p,userID:h,onClick:g}=e,f=(0,o.useSelector)(d.uD),b=(0,o.useSelector)((e=>t(e,h)));if(!(f&&b&&b.emoji))return null;const _=i.createElement(c.Z,{emojiName:b.emoji,size:n,emojiStyle:s,onClick:g});return u?i.createElement(l.Z,{delayShow:m.ZP.OVERLAY_TIME_DELAY,placement:p,overlay:i.createElement(r.Z,{id:"custom-status-tooltip"},i.createElement("div",{className:"custom-status"},i.createElement(c.Z,{emojiName:b.emoji,size:14,emojiStyle:{marginTop:2}}),b.text&&i.createElement("span",{className:"custom-status-text",style:{marginLeft:5}},b.text)))},i.createElement("span",{style:a},_)):_};u.propTypes={emojiSize:a().number,showTooltip:a().bool,tooltipDirection:a().oneOf(["top","right","bottom","left"]),userID:a().string,onClick:a().func},u.defaultProps={userID:"",emojiSize:16,tooltipDirection:"top",showTooltip:!1,spanStyle:{},emojiStyle:{marginLeft:4}};const p=u},84220:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var s=n(45697),a=n.n(s),i=(n(33948),n(73210),n(32023),n(67294)),r=n(37703),o=n(94184),l=n.n(o),c=n(86896),d=n(44012),m=n(18493),u=n(28847),p=n(74650),h=n(11381),g=n(49880),f=n(1594),b=n(73893),_=n(26700),E=n(5445),C=n(92337),y=n(82251),v=n(19728),w=n(15558),S=n(36356);const T=e=>{const{handleSuggestionClick:t,emoji:n,text:s,handleClear:a}=e,[r,o]=(0,i.useState)(!1),l=a?i.createElement("div",{className:"suggestion-clear"},i.createElement(w.Z,{delayShow:C.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:i.createElement(v.Z,{id:"clear-recent-custom-status"},"Clear")},i.createElement("button",{className:"style--none input-clear-x",onClick:e=>{e.stopPropagation(),e.preventDefault(),a&&a({emoji:n,text:s})}},i.createElement("i",{className:"icon icon-close-circle"})))):null;return i.createElement("div",{className:"statusSuggestion__row cursor--pointer",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>t({emoji:n,text:s})},i.createElement("div",{className:"statusSuggestion__icon"},i.createElement(b.Z,{emojiName:n,size:20})),i.createElement(S.Z,{text:s,tooltipDirection:"top",className:"statusSuggestion__text"}),r&&l)};T.propTypes={handleSuggestionClick:a().func.isRequired,emoji:a().string.isRequired,text:a().string.isRequired,handleClear:a().func};const P=T,M=[{emoji:"calendar",message:(0,y.t)("custom_status.suggestions.in_a_meeting"),messageDefault:"In a meeting"},{emoji:"hamburger",message:(0,y.t)("custom_status.suggestions.out_for_lunch"),messageDefault:"Out for lunch"},{emoji:"sneezing_face",message:(0,y.t)("custom_status.suggestions.out_sick"),messageDefault:"Out sick"},{emoji:"house",message:(0,y.t)("custom_status.suggestions.working_from_home"),messageDefault:"Working from home"},{emoji:"palm_tree",message:(0,y.t)("custom_status.suggestions.on_a_vacation"),messageDefault:"On a vacation"}],N=e=>{const t=(0,E.yC)(),n=(0,r.useDispatch)(),s=(0,r.useSelector)((e=>t(e)))||{},a=(0,r.useSelector)((e=>(0,E.Yr)(e))),o=(0,i.useRef)(null),{formatMessage:y}=(0,c.Z)(),[v,w]=(0,i.useState)(!1),[S,T]=(0,i.useState)(s.text||""),[N,I]=(0,i.useState)(s.emoji),R=N||S,A=s.text||s.emoji,O=(0,r.useSelector)((e=>(0,E.Ed)(e)));(0,i.useEffect)((()=>{O&&n((0,u.Ih)({[p.uP.CUSTOM_STATUS_MODAL_VIEWED]:!0}))}),[]);const L=A?()=>n((0,m.Nc)()):void 0,D=()=>o.current,k=()=>w(!1),x=e=>n((0,m.bD)(e)),U=N||S?i.createElement(b.Z,{emojiName:N||"speech_balloon",size:20}):i.createElement(g.Z,{className:"icon icon--emoji"}),Z=s.text===S&&s.emoji===N||""===S&&""===N||S.length>C.ZP.CUSTOM_STATUS_TEXT_CHARACTER_LIMIT,j=e=>{I(e.emoji),T(e.text)},F=i.createElement("div",{id:"statusSuggestion__recents"},i.createElement("div",{className:"statusSuggestion__title"},y({id:"custom_status.suggestions.recent_title",defaultMessage:"RECENT"})),a.map((e=>i.createElement(P,{key:e.text,handleSuggestionClick:j,handleClear:x,emoji:e.emoji,text:e.text})))),H=i.createElement("div",{className:"statusSuggestion"},i.createElement("div",{className:"statusSuggestion__content"},a.length>0&&F,i.createElement("div",{id:"statusSuggestion__suggestions"},(()=>{const e=a.map((e=>e.text)),t=M.map((e=>({emoji:e.emoji,text:y({id:e.message,defaultMessage:e.messageDefault})}))).filter((t=>!e.includes(t.text))).map(((e,t)=>i.createElement(P,{key:t,handleSuggestionClick:j,emoji:e.emoji,text:e.text})));return t.length<=0?null:i.createElement(i.Fragment,null,i.createElement("div",{className:"statusSuggestion__title"},y({id:"custom_status.suggestions.title",defaultMessage:"SUGGESTIONS"})),t)})()))),q=!R||(null==s?void 0:s.emoji)===N&&S&&(null==s?void 0:s.text)===S;return i.createElement(h.Z,{enforceFocus:!1,onHide:e.onHide,modalHeaderText:i.createElement(d.Z,{id:"custom_status.set_status",defaultMessage:"Set a status"}),confirmButtonText:i.createElement(d.Z,{id:"custom_status.modal_confirm",defaultMessage:"Set Status"}),cancelButtonText:i.createElement(d.Z,{id:"custom_status.modal_cancel",defaultMessage:"Clear Status"}),isConfirmDisabled:Z,id:"custom_status_modal",className:"StatusModal",handleConfirm:()=>{const e={emoji:N||"speech_balloon",text:S.trim()};n((0,m._2)(e))},handleCancel:L,confirmButtonClassName:"btn btn-primary"},i.createElement("div",{className:"StatusModal__body"},i.createElement("div",{className:"StatusModal__input"},i.createElement("div",{ref:o,className:"StatusModal__emoji-container"},v&&i.createElement(f.Z,{target:D,show:v,onHide:k,onEmojiClose:k,onEmojiClick:e=>{w(!1);const t="name"in e?e.name:e.aliases[0];I(t)},rightOffset:(()=>{let e=C.ZP.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET;const t=D();return t&&(e=window.innerWidth-t.getBoundingClientRect().left-308,e<0&&(e=C.ZP.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET)),e})(),leftOffset:3,topOffset:3,defaultHorizontalPosition:"right"}),i.createElement("button",{type:"button",onClick:()=>w((e=>!e)),className:l()("emoji-picker__container","StatusModal__emoji-button",{"StatusModal__emoji-button--active":v})},U)),i.createElement(_.Z,{inputComponent:_.x,value:S,maxLength:C.ZP.CUSTOM_STATUS_TEXT_CHARACTER_LIMIT,clearableWithoutValue:Boolean(R),onClear:()=>{I(""),T("")},className:"form-control",clearClassName:"StatusModal__clear-container",tooltipPosition:"top",onChange:e=>T(e.target.value),placeholder:y({id:"custom_status.set_status",defaultMessage:"Set a status"})})),q&&H))};N.propTypes={onHide:a().func.isRequired};const I=N},36356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(45697),a=n.n(s),i=(n(33948),n(67294)),r=n(19728),o=n(37703),l=n(15558),c=n(5445),d=n(92337);const m=e=>{const{tooltipDirection:t,text:n,className:s}=e,a=(0,o.useSelector)((e=>(0,c.uD)(e))),[m,u]=(0,i.useState)(!1);let p=null;if(!a)return null;const h=i.createElement("span",{className:"overflow--ellipsis text-nowrap ".concat(s),ref:e=>{p=e,u(Boolean(p&&p.offsetWidth<p.scrollWidth))}},n);return m?i.createElement(l.Z,{delayShow:d.ZP.OVERLAY_TIME_DELAY,placement:t,overlay:i.createElement(r.Z,{id:"custom-status-tooltip"},n)},h):h};m.propTypes={tooltipDirection:a().oneOf(["top","right","bottom","left"]),text:a().string,className:a().string},m.defaultProps={tooltipDirection:"bottom",text:"",className:""};const u=m},17293:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var s=n(14890),a=n(37703),i=n(5977),r=n(34959),o=n(45697),l=n.n(o),c=(n(88674),n(23123),n(15306),n(67294)),d=n(43253),m=n(44012),u=n(47470),p=n(89262);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends c.PureComponent{constructor(e){super(e),h(this,"deletePostBtn",void 0),h(this,"handleDelete",(async()=>{const{actions:e,post:t}=this.props;let n="";const s=await e.deleteAndRemovePost(t),a=(0,i.LX)(this.props.location.pathname,{path:"/:teamName/messages/:username/:postid"}),r=(0,i.LX)(this.props.location.pathname,{path:"/:teamName/group/:channelname/:postid"});if(a?n=a.params.postid:r&&(n=r.params.postid),n===t.id){const e=this.props.location.pathname.split("/").slice(0,-1).join("/");p.m.replace(e)}s.data&&this.onHide()})),h(this,"handleEntered",(()=>{var e,t;null===(e=this.deletePostBtn)||void 0===e||null===(t=e.current)||void 0===t||t.focus()})),h(this,"onHide",(()=>{if(this.setState({show:!1}),!u.tq()){let e;e=this.props.isRHS?document.getElementById("reply_textbox"):document.getElementById("post_textbox"),e&&e.focus()}})),this.deletePostBtn=c.createRef(),this.state={show:!0}}render(){let e="";this.props.commentCount>0&&""===this.props.post.root_id&&(e=c.createElement(m.Z,{id:"delete_post.warning",defaultMessage:"This post has {count, number} {count, plural, one {comment} other {comments}} on it.",values:{count:this.props.commentCount}}));const t=this.props.post.root_id?c.createElement(m.Z,{id:"delete_post.comment",defaultMessage:"Comment"}):c.createElement(m.Z,{id:"delete_post.post",defaultMessage:"Post"});return c.createElement(d.Z,{dialogClassName:"a11y__modal",show:this.state.show,onEntered:this.handleEntered,onHide:this.onHide,onExited:this.props.onHide,enforceFocus:!1,id:"deletePostModal",role:"dialog","aria-labelledby":"deletePostModalLabel"},c.createElement(d.Z.Header,{closeButton:!0},c.createElement(d.Z.Title,{componentClass:"h1",id:"deletePostModalLabel"},c.createElement(m.Z,{id:"delete_post.confirm",defaultMessage:"Confirm {term} Delete",values:{term:t}}))),c.createElement(d.Z.Body,null,c.createElement(m.Z,{id:"delete_post.question",defaultMessage:"Are you sure you want to delete this {term}?",values:{term:t}}),c.createElement("br",null),c.createElement("br",null),e),c.createElement(d.Z.Footer,null,c.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},c.createElement(m.Z,{id:"delete_post.cancel",defaultMessage:"Cancel"})),c.createElement("button",{ref:this.deletePostBtn,type:"button",autoFocus:!0,className:"btn btn-danger",onClick:this.handleDelete,id:"deletePostModalButton"},c.createElement(m.Z,{id:"delete_post.del",defaultMessage:"Delete"}))))}}h(g,"propTypes",{channelName:l().string.isRequired,teamName:l().string.isRequired,commentCount:l().number.isRequired,isRHS:l().bool.isRequired,onHide:l().func.isRequired,actions:l().shape({deleteAndRemovePost:l().func.isRequired}).isRequired,location:l().shape({pathname:l().string.isRequired}).isRequired});const f=(0,i.EN)((0,a.connect)(null,(function(e){return{actions:(0,s.bindActionCreators)({deleteAndRemovePost:r.tR},e)}}))(g))},38373:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var s=n(37703),a=n(14890),i=n(42560),r=n(70493),o=n(89980),l=n(16146),c=n(62696),d=n(50766),m=n(59929),u=n(6171),p=n(55165),h=n(74838),g=n(4205),f=n(34959),b=n(85174),_=n(47667),E=n(12266),C=n(45697),y=n.n(C),v=(n(88674),n(67294)),w=n(94184),S=n.n(w),T=n(44012),P=n(74806),M=n(19728),N=n(2015),I=n(92337),R=n(17293),A=n(15558),O=n(8142),L=n(74935),D=n(80020),k=n(94741),x=n(15240),U=n(38122);class Z extends v.PureComponent{render(){return v.createElement("span",this.props,v.createElement("svg",{width:"14px",height:"4px",viewBox:"0 0 14 4",role:"img","aria-label":"dots horizontal icon"},v.createElement("path",{d:"M10.2 2.00001C10.2 1.56267 10.3547 1.18934 10.664 0.880006C10.984 0.560006 11.3627 0.400006 11.8 0.400006C12.2373 0.400006 12.6107 0.560006 12.92 0.880006C13.24 1.18934 13.4 1.56267 13.4 2.00001C13.4 2.43734 13.24 2.81601 12.92 3.13601C12.6107 3.44534 12.2373 3.60001 11.8 3.60001C11.3627 3.60001 10.984 3.44534 10.664 3.13601C10.3547 2.81601 10.2 2.43734 10.2 2.00001ZM5.4 2.00001C5.4 1.56267 5.55467 1.18934 5.864 0.880006C6.184 0.560006 6.56267 0.400006 7 0.400006C7.43733 0.400006 7.81067 0.560006 8.12 0.880006C8.44 1.18934 8.6 1.56267 8.6 2.00001C8.6 2.43734 8.44 2.81601 8.12 3.13601C7.81067 3.44534 7.43733 3.60001 7 3.60001C6.56267 3.60001 6.184 3.44534 5.864 3.13601C5.55467 2.81601 5.4 2.43734 5.4 2.00001ZM0.6 2.00001C0.6 1.56267 0.754667 1.18934 1.064 0.880006C1.384 0.560006 1.76267 0.400006 2.2 0.400006C2.63733 0.400006 3.01067 0.560006 3.32 0.880006C3.64 1.18934 3.8 1.56267 3.8 2.00001C3.8 2.43734 3.64 2.81601 3.32 3.13601C3.01067 3.44534 2.63733 3.60001 2.2 3.60001C1.76267 3.60001 1.384 3.44534 1.064 3.13601C0.754667 2.81601 0.6 2.43734 0.6 2.00001Z"})))}}var j=n(93183);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends v.PureComponent{constructor(e){super(e),F(this,"editDisableAction",void 0),F(this,"buttonRef",void 0),F(this,"handleEditDisable",(()=>{this.setState({canEdit:!1})})),F(this,"handleFlagMenuItemActivated",(()=>{this.props.isFlagged?this.props.actions.unflagPost(this.props.post.id):this.props.actions.flagPost(this.props.post.id)})),F(this,"handleAddReactionMenuItemActivated",(e=>{e.preventDefault(),this.props.handleAddReactionClick&&this.props.handleAddReactionClick()})),F(this,"copyLink",(()=>{L.vQ("".concat(this.props.currentTeamUrl,"/pl/").concat(this.props.post.id))})),F(this,"handlePinMenuItemActivated",(()=>{this.props.post.is_pinned?this.props.actions.unpinPost(this.props.post.id):this.props.actions.pinPost(this.props.post.id)})),F(this,"handleUnreadMenuItemActivated",(e=>{e.preventDefault(),this.props.actions.markPostAsUnread(this.props.post,this.props.location)})),F(this,"handleDeleteMenuItemActivated",(e=>{e.preventDefault();const t={ModalId:I.r8.DELETE_POST,dialogType:R.Z,dialogProps:{post:this.props.post,commentCount:this.props.commentCount,isRHS:this.props.location===I.tY.RHS_ROOT||this.props.location===I.tY.RHS_COMMENT}};this.props.actions.openModal(t)})),F(this,"handleEditMenuItemActivated",(()=>{this.props.actions.setEditingPost(this.props.post.id,this.props.commentCount,this.props.location===I.tY.CENTER?"post_textbox":"reply_textbox",this.props.post.root_id?L._u("rhs_comment.comment","Comment"):L._u("create_post.post","Post"),this.props.location===I.tY.RHS_ROOT||this.props.location===I.tY.RHS_COMMENT)})),F(this,"tooltip",v.createElement(M.Z,{id:"dotmenu-icon-tooltip",className:"hidden-xs"},v.createElement(T.Z,{id:"post_info.dot_menu.tooltip.more_actions",defaultMessage:"More actions"}))),F(this,"refCallback",(e=>{if(e){var t;const e=null===(t=this.buttonRef.current)||void 0===t?void 0:t.getBoundingClientRect();let n;n=void 0===(null==e?void 0:e.y)?void 0===(null==e?void 0:e.top)?0:null==e?void 0:e.top:null==e?void 0:e.y;const s=window.innerHeight-80,a=n-I.gT.CHANNEL_HEADER_HEIGHT,i=s-(a+I.gT.POST_AREA_HEIGHT);this.setState({openUp:a>i})}})),F(this,"renderDivider",(e=>v.createElement("li",{id:"divider_post_".concat(this.props.post.id,"_").concat(e),className:"MenuItem__divider",role:"menuitem"}))),F(this,"onClickAppBinding",(async e=>{const{post:t,intl:n}=this.props;if(!e.call)return;const s=(0,j.qM)(e.app_id,e.location,this.props.post.channel_id,this.props.teamId,this.props.post.id,this.props.post.root_id),a=(0,j.Zw)(e.call,s,{post:d.JI.ALL}),i=await this.props.actions.doAppCall(a,d._L.SUBMIT,n);if(i.error){const e=i.error,s=e.error||n.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error occurred."});return void this.props.actions.postEphemeralCallResponseForPost(e,s,t)}const r=i.data;switch(r.type){case d.Bp.OK:r.markdown&&this.props.actions.postEphemeralCallResponseForPost(r,r.markdown,t);break;case d.Bp.NAVIGATE:case d.Bp.FORM:break;default:{const e=n.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:r.type});this.props.actions.postEphemeralCallResponseForPost(r,e,t)}}})),this.editDisableAction=new O.Z(this.handleEditDisable),this.state={openUp:!1,canEdit:e.canEdit&&!e.isReadOnly,canDelete:e.canDelete&&!e.isReadOnly},this.buttonRef=v.createRef()}disableCanEditPostByTime(){const{post:e,isLicensed:t}=this.props,{canEdit:n}=this.state,s=this.props.postEditTimeLimit||I.gT.UNSET_POST_EDIT_TIME_LIMIT;if(n&&t&&s!==String(I.gT.UNSET_POST_EDIT_TIME_LIMIT)){const t=1e3,n=e.create_at+Number(s)*t-L.u3();n>0&&this.editDisableAction.fireAfter(n+t)}}componentDidMount(){this.disableCanEditPostByTime()}static getDerivedStateFromProps(e){return{canEdit:e.canEdit&&!e.isReadOnly,canDelete:e.canDelete&&!e.isReadOnly}}componentWillUnmount(){this.editDisableAction.cancel()}render(){var e;const t=b.Ew(this.props.post),n=L.tq(),s=(null===(e=this.props.pluginMenuItems)||void 0===e?void 0:e.filter((e=>e.filter?e.filter(this.props.post.id):e)).map((e=>e.subMenu?v.createElement(x.Z.ItemSubMenu,{key:e.id+"_pluginmenuitem",id:e.id,postId:this.props.post.id,text:e.text,subMenu:e.subMenu,action:e.action,root:!0}):v.createElement(x.Z.ItemAction,{key:e.id+"_pluginmenuitem",text:e.text,onClick:()=>{e.action&&e.action(this.props.post.id)}}))))||[];let a=[];return this.props.appsEnabled&&this.props.appBindings&&(a=this.props.appBindings.map((e=>{let t;return e.icon&&(t=v.createElement("img",{src:e.icon})),v.createElement(x.Z.ItemAction,{text:e.label,key:e.app_id+e.location,onClick:()=>this.onClickAppBinding(e),icon:t})}))),this.state.canDelete||this.state.canEdit||void 0===s||0!==s.length||!t?v.createElement(U.Z,{onToggle:this.props.handleDropdownOpened},v.createElement(A.Z,{className:"hidden-xs",delayShow:500,placement:"top",overlay:this.tooltip,rootClose:!0},v.createElement("button",{ref:this.buttonRef,id:"".concat(this.props.location,"_button_").concat(this.props.post.id),"aria-label":L._u("post_info.dot_menu.tooltip.more_actions","More actions").toLowerCase(),className:S()("post-menu__item",{"post-menu__item--active":this.props.isMenuOpen}),type:"button","aria-expanded":"false"},v.createElement(Z,{className:"icon icon--small"}))),v.createElement(x.Z,{id:"".concat(this.props.location,"_dropdown_").concat(this.props.post.id),openLeft:!0,openUp:this.state.openUp,ref:this.refCallback,ariaLabel:L._u("post_info.menuAriaLabel","Post extra options")},v.createElement(x.Z.ItemAction,{show:!t&&this.props.location===I.tY.CENTER,text:L._u("post_info.reply","Reply"),onClick:this.props.handleCommentClick}),v.createElement(D.Z,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[N.Z.ADD_REACTION]},v.createElement(x.Z.ItemAction,{show:n&&!t&&!this.props.isReadOnly&&this.props.enableEmojiPicker,text:L._u("rhs_root.mobile.add_reaction","Add Reaction"),onClick:this.handleAddReactionMenuItemActivated})),v.createElement(x.Z.ItemAction,{id:"unread_post_".concat(this.props.post.id),show:!t&&!this.props.channelIsArchived&&this.props.location!==I.tY.SEARCH,text:L._u("post_info.unread","Mark as Unread"),onClick:this.handleUnreadMenuItemActivated}),v.createElement(x.Z.ItemAction,{id:"permalink_".concat(this.props.post.id),show:!t,text:L._u("post_info.permalink","Copy Link"),onClick:this.copyLink}),v.createElement(x.Z.ItemAction,{show:n&&!t&&this.props.isFlagged,text:L._u("rhs_root.mobile.unflag","Remove from Saved"),onClick:this.handleFlagMenuItemActivated}),v.createElement(x.Z.ItemAction,{show:n&&!t&&!this.props.isFlagged,text:L._u("rhs_root.mobile.flag","Save"),onClick:this.handleFlagMenuItemActivated}),v.createElement(D.Z,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[N.Z.USE_CHANNEL_PINPOST]},v.createElement(x.Z.ItemAction,{id:"unpin_post_".concat(this.props.post.id),show:!t&&!this.props.isReadOnly&&this.props.post.is_pinned,text:L._u("post_info.unpin","Unpin"),onClick:this.handlePinMenuItemActivated}),v.createElement(x.Z.ItemAction,{id:"pin_post_".concat(this.props.post.id),show:!t&&!this.props.isReadOnly&&!this.props.post.is_pinned,text:L._u("post_info.pin","Pin"),onClick:this.handlePinMenuItemActivated})),!t&&(this.state.canEdit||this.state.canDelete)&&this.renderDivider("edit"),v.createElement(x.Z.ItemAction,{id:"edit_post_".concat(this.props.post.id),show:this.state.canEdit,text:L._u("post_info.edit","Edit"),onClick:this.handleEditMenuItemActivated}),v.createElement(x.Z.ItemAction,{id:"delete_post_".concat(this.props.post.id),show:this.state.canDelete,text:L._u("post_info.del","Delete"),onClick:this.handleDeleteMenuItemActivated,isDangerous:!0}),(void 0!==s&&s.length>0||a.length>0||this.props.components.PostDropdownMenuItem&&this.props.components.PostDropdownMenuItem.length>0)&&this.renderDivider("plugins"),s,a,v.createElement(k.Z,{postId:this.props.post.id,pluggableName:"PostDropdownMenuItem"}))):null}}F(H,"propTypes",{teamId:y().string,location:y().oneOfType([y().oneOf(["CENTER"]),y().oneOf(["RHS_ROOT"]),y().oneOf(["RHS_COMMENT"]),y().oneOf(["SEARCH"]),y().string]),commentCount:y().number,isFlagged:y().bool,handleCommentClick:y().func,handleDropdownOpened:y().func,handleAddReactionClick:y().func,isMenuOpen:y().bool,isReadOnly:y().oneOfType([y().bool,y().oneOf([null])]),pluginMenuItems:y().array,isLicensed:y().bool,postEditTimeLimit:y().string,enableEmojiPicker:y().bool,channelIsArchived:y().bool,currentTeamUrl:y().string,appBindings:y().array,appsEnabled:y().bool.isRequired,components:y().objectOf(y().array).isRequired,actions:y().shape({flagPost:y().func.isRequired,unflagPost:y().func.isRequired,setEditingPost:y().func.isRequired,pinPost:y().func.isRequired,unpinPost:y().func.isRequired,openModal:y().func.isRequired,markPostAsUnread:y().func.isRequired}).isRequired,canEdit:y().bool.isRequired,canDelete:y().bool.isRequired}),F(H,"defaultProps",{commentCount:0,isFlagged:!1,isReadOnly:!1,location:I.tY.CENTER,pluginMenuItems:[],appBindings:[]});const q=(0,P.ZP)(H);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const V=(0,c.W)(d.NR.POST_MENU_ITEM),W=(0,s.connect)((function(e,t){const{post:n}=t,s=(0,i.lJ)(e),a=(0,i.iE)(e),d=(0,o.rc)(e),p=(0,r.mr)(e,n.channel_id),h=(0,l.kA)(e)||{},g="".concat((0,E.fO)(),"/").concat(h.name),f=(0,c.D)(e),C=!f||(0,m.Ew)(n)||(0,u.mM)(n.id)?void 0:V(e);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({channelIsArchived:(0,_.t2)(p),components:e.plugins.components,postEditTimeLimit:a.PostEditTimeLimit,isLicensed:"true"===s.IsLicensed,teamId:(0,l.ev)(e),pluginMenuItems:e.plugins.components.PostDropdownMenu,canEdit:b.CY(e,n,s,a,p,d),canDelete:b.Rz(e,n,p),currentTeamUrl:g,appBindings:C,appsEnabled:f},t)}),(function(e){return{actions:(0,a.bindActionCreators)({flagPost:f.co,unflagPost:f.xk,setEditingPost:f.Jp,pinPost:f.wy,unpinPost:f.Vn,openModal:h.h,markPostAsUnread:f.VW,doAppCall:g.cW,postEphemeralCallResponseForPost:g.Rv,setThreadFollow:p.NC},e)}}))(q)},89996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var s=n(45697),a=n.n(s),i=(n(33948),n(19601),n(67294)),r=n(14504),o=n(94184),l=n.n(o);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={input:e=>d(d({},e),{},{color:"var(--center-channel-color)"}),control:e=>d(d({},e),{},{border:"none",boxShadow:"none",padding:"0 2px",cursor:"pointer"}),indicatorSeparator:e=>d(d({},e),{},{display:"none"})},p=e=>i.createElement("div",{className:"DropdownInput__indicatorsContainer"},i.createElement(r.wx.IndicatorsContainer,e,i.createElement("i",{className:"icon icon-chevron-down"}))),h=e=>i.createElement("div",{className:"DropdownInput__controlContainer"},i.createElement(r.wx.Control,e)),g=e=>i.createElement("div",{className:l()("DropdownInput__option",{selected:e.isSelected,focused:e.isFocused})},i.createElement(r.wx.Option,e)),f=e=>{const{value:t,placeholder:n,className:s,addon:a,name:o,textPrefix:c,legend:m,onChange:f,styles:b,options:_,error:E}=e,C=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","placeholder","className","addon","name","textPrefix","legend","onChange","styles","options","error"]),[y,v]=(0,i.useState)(!1),w=Boolean(y||t);return i.createElement("div",{className:"DropdownInput Input_container"},i.createElement("fieldset",{className:l()("Input_fieldset",s,{Input_fieldset___error:E,Input_fieldset___legend:w})},i.createElement("legend",{className:l()("Input_legend",{Input_legend___focus:w})},w?m||n:null),i.createElement("div",{className:"Input_wrapper",onFocus:t=>{const{onFocus:n}=e;v(!0),n&&n(t)},onBlur:t=>{const{onBlur:n}=e;v(!1),n&&n(t)}},c&&i.createElement("span",null,c),i.createElement(r.ZP,Object.assign({id:"DropdownInput_".concat(o),options:_,placeholder:y?"":n,components:{IndicatorsContainer:p,Option:g,Control:h},className:l()("Input",s,{Input__focus:w}),classNamePrefix:"DropDown",value:t,onChange:f,styles:d(d({},u),b)},C))),a),(e=>e?i.createElement("div",{className:"Input___error"},i.createElement("i",{className:"icon icon-alert-outline"}),i.createElement("span",null,e)):null)(E))};f.propTypes={legend:a().string,error:a().string,onChange:a().func.isRequired};const b=f},73893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(45697),a=n.n(s),i=n(67294),r=n(37703),o=n(3601),l=n(21226);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=({emojiName:e,emojiStyle:t,size:n,onClick:s})=>{if(!e)return null;const a=(0,r.useSelector)((e=>(0,l.kM)(e))).get(e);if(!a)return null;const c=(0,o.UK)(a);return i.createElement("span",{onClick:s,className:"emoticon",alt:":".concat(e,":"),"data-emoticon":e,style:d({backgroundImage:"url(".concat(c,")"),backgroundSize:n,height:n,width:n,maxHeight:n,maxWidth:n,minHeight:n,minWidth:n},t)})};u.propTypes={emojiName:a().string.isRequired,size:a().number,onClick:a().func},u.defaultProps={emoji:"",emojiStyle:{},size:16};const p=i.memo(u)},1594:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Dt}),n(33948);var s=n(45697),a=n.n(s),i=n(67294),r=n(10188),o=n(30845),l=n(56546),c=n(92337),d=n(29278),m=n(63483),u=n(37703),p=(n(64765),n(88674),n(85827),n(70082)),h=n(11106),g=n(62540),f=n.n(g);let b=null,_=null,E=null;function C(e,t){return E&&b===e&&_===t?E:e&&t?(b=e,_=t,E=new(f())({client_id:e,client_secret:t}),E):(E=new(f())({client_id:"2_KtH_W5",client_secret:"3wLVZPiswc3DnaiaFoLkDvB4X0IV6CpMkj4tf2inJRsBY6-FnkT08zGmppWFgeof"}),E)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return{type:p.rf.UPDATE_SEARCH_TEXT,searchText:e}}function T(e){return{type:p.rf.REQUEST_SEARCH,searchText:e}}function P(e){return{type:p.rf.RECEIVE_SEARCH_END,searchText:e}}function M(e,t){return{type:p.rf.SEARCH_FAILURE,searchText:t,err:e}}function N({searchText:e,count:t=30,startIndex:n=0}){let s=n;return(n,a)=>{const{GfycatApiKey:i,GfycatApiSecret:r}=a().entities.general.config,{resultsByTerm:o}=a().entities.gifs.search;o[e]&&(s=o[e].start+t),n(T(e));const l=C(i,r);return l.authenticate(),l.search({search_text:e,count:t,start:s}).then((i=>{if(i.errorMessage)o[e].items?n(P(e)):n(M(i,e));else{n(S(e)),n(x(i.gfycats)),n(function({searchText:e,count:t,start:n,json:s}){return v(v({type:p.rf.RECEIVE_SEARCH,searchText:e},s),{},{count:t,start:n,currentPage:n/t,receivedAt:Date.now()})}({searchText:e,count:t,start:s,json:i}));const r=a().entities.gifs.categories.tagsDict[e]?"category":"search";h.je.trackEvent("gfycat","views",{context:r,count:i.gfycats.length,keyword:e})}})).catch((t=>n(M(t,e))))}}function I({tagName:e="",gfyCount:t=30,cursorPos:n}){let s=n;return async(n,a)=>{const{GfycatApiKey:i,GfycatApiSecret:r}=a().entities.general.config,{resultsByTerm:o}=a().entities.gifs.search;return o[e]&&(s=o[e].cursor),n(T(e)),C(i,r).getTrendingCategories({tagName:e,gfyCount:t,cursor:s}).then((t=>{t.errorMessage?o[e].gfycats?n(P(e)):n(M(t,e)):(n(S(e)),n(x(t.gfycats)),n(function({tagName:e,json:t}){return v(v({type:p.rf.RECEIVE_CATEGORY_SEARCH,searchText:e},t),{},{receiveAt:Date.now()})}({tagName:e,json:t})),h.je.trackEvent("gfycat","views",{context:"category",count:t.gfycats.length,keyword:e}),"trending"===e&&n(k()))})).catch((t=>n(M(t,e))))}}function R(e){return(t,n)=>(t(S(e)),function(e,t){const n=e.entities.gifs.search.resultsByTerm[t];return!n||(n.isFetching,!1)}(n(),e)?"trending"===e.toLowerCase()?t(I({tagName:e})):t(N({searchText:e})):Promise.resolve())}function A(e){return t=>{t(function(e){return{type:p.rf.SAVE_SEARCH_SCROLL_POSITION,scrollPosition:e}}(e))}}function O(e){return t=>{t(S(e))}}function L(e){return t=>{t(function(e){return{type:p.rf.SAVE_SEARCH_BAR_TEXT,searchBarText:e}}(e))}}function D({count:e=60}={}){return(t,n)=>{const{GfycatApiKey:s,GfycatApiSecret:a}=n().entities.general.config,i=n().entities.gifs.categories;if(!function(e){const{hasMore:t,isFetching:n,tagsList:s}=e;return!s||!s.length||!n&&!!t}(i))return Promise.resolve();t({type:p.rf.REQUEST_CATEGORIES_LIST});const{cursor:r}=i,o=v(v({},e&&{count:e}),r&&{cursor:r});return C(s,a).getCategories(o).then((e=>{const n=e.tags.reduce(((e,t)=>t.gfycats[0]&&t.gfycats[0].width?[...e,...t.gfycats]:e),[]);t(x(n)),t(function(e){return v({type:p.rf.CATEGORIES_LIST_RECEIVED},e)}(e))})).catch((e=>{t(function(e){return{type:p.rf.CATEGORIES_LIST_FAILURE,err:e}}(e))}))}}function k({count:e}={count:void 0}){return(t,n)=>{const s=n().entities.gifs.categories;return s.tagsList&&s.tagsList.length?Promise.resolve():t(D({count:e}))}}function x(e){return async t=>(t({type:p.rf.CACHE_REQUEST,payload:{updating:!0}}),t(function(e){return{type:p.rf.CACHE_GIFS,gifs:e}}(e)),{data:!0})}var U=n(26961),Z=n(2418);const j=0,F=1;n(23123),n(73210);class H extends i.PureComponent{render(){return i.createElement("span",this.props,i.createElement("svg",{width:"100%",height:"100%",viewBox:"-10 -10 40 40",version:"1.1"},i.createElement("g",{id:"ic_search",transform:"matrix(0.959095,-9.6091e-18,-1.00189e-17,0.959095,-0.0633002,-0.777826)"},i.createElement("path",{d:"M2.648,15.872C3.433,16.658 4.376,17.287 5.454,17.758C6.553,18.229 7.698,18.454 8.888,18.454C10.728,18.454 12.389,17.938 13.893,16.905L18.18,21.192C18.494,21.506 18.854,21.664 19.302,21.664C19.751,21.664 20.111,21.506 20.447,21.192C20.761,20.855 20.919,20.496 20.919,20.047C20.919,19.621 20.761,19.239 20.447,18.925L16.16,14.638C17.193,13.134 17.709,11.473 17.709,9.633C17.709,8.443 17.484,7.298 17.013,6.198C16.542,5.121 15.913,4.178 15.128,3.393C14.342,2.607 13.399,1.979 12.322,1.507C11.222,1.036 10.077,0.811 8.888,0.811C7.698,0.811 6.553,1.036 5.454,1.507C4.376,1.979 3.433,2.607 2.648,3.393C1.862,4.178 1.234,5.121 0.762,6.198C0.291,7.298 0.066,8.443 0.066,9.633C0.066,10.822 0.291,11.967 0.762,13.067C1.234,14.144 1.862,15.087 2.648,15.872ZM8.888,4.021C10.436,4.021 11.761,4.56 12.861,5.66C13.96,6.76 14.499,8.084 14.499,9.633C14.499,11.181 13.96,12.506 12.861,13.606C11.761,14.705 10.436,15.244 8.888,15.244C7.339,15.244 6.015,14.705 4.915,13.606C3.815,12.506 3.276,11.181 3.276,9.633C3.276,8.084 3.815,6.76 4.915,5.66C6.015,4.56 7.339,4.021 8.888,4.021Z",style:{fill:"inherit"}}))))}}class q extends i.PureComponent{render(){return i.createElement("span",this.props,i.createElement("svg",{width:"100%",height:"100%",viewBox:"-10 -10 40 40",enableBackground:"new 0 0 20 20",version:"1.1"},i.createElement("g",{transform:"matrix(0.952381,0,0,1,0,0)"},i.createElement("path",{fill:"inherit",d:"M10.5 11.7L2.2 19.8C2 19.9 1.9 20 1.7 20 1.6 20 1.4 19.9 1.3 19.8L0.2 18.8C0.1 18.7 0 18.5 0 18.3 0 18.2 0.1 18 0.2 17.9L8.3 10 0.2 2.1C0.1 2 0 1.8 0 1.7 0 1.5 0.1 1.3 0.2 1.2L1.3 0.2C1.4 0.1 1.6 0 1.7 0 1.9 0 2 0.1 2.2 0.2L10.5 8.3 18.8 0.2C19 0.1 19.1 0 19.3 0 19.4 0 19.6 0.1 19.7 0.2L20.8 1.2C20.9 1.3 21 1.5 21 1.7 21 1.8 20.9 2 20.8 2.1L12.7 10 20.8 17.9C20.9 18 21 18.2 21 18.3 21 18.5 20.9 18.7 20.8 18.8L19.7 19.8C19.6 19.9 19.4 20 19.3 20 19.1 20 19 19.9 18.8 19.8L10.5 11.7Z"}))))}}var B=n(927),G=n(82251);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Y={saveSearchBarText:L,saveSearchScrollPosition:A,searchTextUpdate:O},K=(0,Z.$Y)((e=>({background:{backgroundColor:e.centerChannelBg},icon:{fill:(0,Z.v5)(e.centerChannelColor,.4)},inputBackground:{backgroundColor:e.centerChannelBg},input:{borderColor:(0,Z.v5)(e.centerChannelColor,.12)}})));class J extends i.Component{constructor(e){super(e),z(this,"parseSearchText",(e=>e.trim().split(/ +/).join("-"))),z(this,"removeExtraSpaces",(e=>e.trim().split(/ +/).join(" "))),z(this,"updateSearchInputValue",(e=>{this.searchInput.value=e,this.props.saveSearchBarText(e),this.props.handleSearchTextChange(e)})),z(this,"handleSubmit",(e=>{e.preventDefault(),this.triggerSearch(this.searchInput.value),this.searchInput.blur()})),z(this,"triggerSearch",(e=>{const{onSearch:t}=this.props;this.props.searchTextUpdate(this.parseSearchText(e)),t(),this.props.saveSearchScrollPosition(0)})),z(this,"handleChange",(e=>{clearTimeout(this.searchTimeout);const t=e.target.value,{onCategories:n,action:s}=this.props;this.props.saveSearchBarText(t),this.props.handleSearchTextChange(t),""===t?n():"reactions"===s&&this.isFilteredTags(t)||(this.searchTimeout=setTimeout((()=>{this.triggerSearch(t)}),500))})),z(this,"focusInput",(()=>{this.setState({inputFocused:!0})})),z(this,"blurInput",(()=>{this.setState({inputFocused:!1})})),z(this,"isFilteredTags",(e=>{var t=this.removeExtraSpaces(e);const{tagsList:n}=this.props,s=t.toLowerCase(),a=n&&n.length?n.filter((e=>t&&-1===e.tagName.indexOf(s)?"":e)):[];return Boolean(a.length)})),z(this,"clearSearchHandle",(()=>{const{action:e,onTrending:t,onCategories:n}=this.props;this.updateSearchInputValue(""),"reactions"===e?n():t()})),this.state={inputFocused:!1},this.searchTimeout=null;const t=this.props.defaultSearchText||"";this.props.saveSearchBarText(t),this.props.searchTextUpdate(t)}componentDidUpdate(e){const{searchBarText:t}=this.props;t!==e.searchBarText&&("trending"===t?this.updateSearchInputValue(""):this.updateSearchInputValue(t))}shouldComponentUpdate(e,t){return!e.searchBarText&&this.props.searchBarText||e.searchBarText&&!this.props.searchBarText||t.inputFocused!==this.state.inputFocused||e.searchBarText!==this.props.searchBarText}render(){const e=K(this.props.theme),{searchBarText:t}=this.props,n=t?i.createElement(q,{className:"ic-clear-search",style:e.icon,onClick:this.clearSearchHandle}):null;return i.createElement("form",{className:"gfycat-search",method:"get",target:"_top",noValidate:"",onSubmit:this.handleSubmit},i.createElement("div",{className:"search-bar",style:e.background},i.createElement("div",{className:"search-input-bg",style:e.inputBackground}),i.createElement(B.Z,{className:"search-input",name:"searchText",autoFocus:!0,placeholder:{id:(0,G.t)("gif_picker.gfycat"),defaultMessage:"Search Gfycat"},onChange:this.handleChange,autoComplete:"off",autoCapitalize:"off",onFocus:this.focusInput,onBlur:this.blurInput,ref:e=>(this.searchInput=e,e),style:e.input,value:t}),i.createElement(H,{className:"ic ic-search",style:e.icon}),n),i.createElement("button",{type:"submit",className:"submit-button"}))}}z(J,"propTypes",{searchBarText:a().string,tagsList:a().array,theme:a().object.isRequired,onTrending:a().func,onSearch:a().func,onCategories:a().func,action:a().string,saveSearchScrollPosition:a().func,saveSearchBarText:a().func,searchTextUpdate:a().func,defaultSearchText:a().string,handleSearchTextChange:a().func.isRequired});const Q=(0,u.connect)((function(e){return W(W(W({},e.entities.gifs.categories),e.entities.gifs.search),{},{theme:(0,U.gh)(e),appProps:e.entities.gifs.app})}),Y)(J);class X extends i.PureComponent{render(){return i.createElement("span",this.props,i.createElement("svg",{className:"ic-svg ic-trending-svg",width:"11px",height:"15px",viewBox:"0 0 11 15",version:"1.1"},i.createElement("g",{id:"Finalized-Design",stroke:"none",fill:"inherit"},i.createElement("g",{id:"GfyCat---Gycat-Tab",transform:"translate(-1212.000000, -619.000000)",fill:"inherit"},i.createElement("g",{id:"modal---emojis",transform:"translate(1147.000000, 542.000000)"},i.createElement("g",{id:"tabs---gfycat",transform:"translate(1.000000, 68.000000)"},i.createElement("g",{id:"tab---trending---selected"},i.createElement("path",{d:"M69.90625,10.4062776 C69.90625,10.9531513 70.0976562,11.4909106 70.4804688,12.019555 C70.6992188,12.32945 71.1276043,12.7760638 71.765625,13.3593956 C72.3489582,13.9062693 72.7773438,14.3346538 73.0507812,14.6445488 C73.5065106,15.1731932 73.8528644,15.7109525 74.0898438,16.2578262 C74.3632812,16.9505327 74.5,17.6979271 74.5,18.5000083 C74.5,19.4479229 74.2630207,20.3229208 73.7890625,21.1250021 C73.3151043,21.9270834 72.6770832,22.565103 71.875,23.03906 C71.0729168,23.5130171 70.1979168,23.7499958 69.25,23.7499958 C68.3020832,23.7499958 67.4270832,23.5130171 66.625,23.03906 C65.8229168,22.565103 65.1848957,21.9270834 64.7109375,21.1250021 C64.2369793,20.3229208 64,19.4479229 64,18.5000083 C64,17.6432397 64.2005207,16.8320436 64.6015625,16.0664204 C65.0026043,15.3007972 65.5494793,14.6718925 66.2421875,14.1797061 C66.4609375,14.0338733 66.6888019,14.0247585 66.9257812,14.1523625 C67.1627606,14.2799665 67.28125,14.4713723 67.28125,14.7265798 L67.28125,17.6250104 C67.28125,17.9349054 67.3860676,18.1946704 67.5957031,18.4043054 C67.8053387,18.6139405 68.0651043,18.7187578 68.375,18.7187578 C68.6848957,18.7187578 68.9446613,18.6139405 69.1542969,18.4043054 C69.3639324,18.1946704 69.46875,17.9349054 69.46875,17.6250104 C69.46875,17.4427191 69.4049481,17.2330844 69.2773438,16.9961057 C69.2044269,16.8320436 69.0677082,16.576836 68.8671875,16.2304825 C68.4661457,15.5742341 68.1835938,15.0547041 68.0195312,14.6718925 C67.7643231,13.9791859 67.6640625,13.2955938 67.71875,12.6211161 C67.8098957,11.7825763 68.1380207,10.9258077 68.703125,10.0508097 C68.8125,9.86851837 68.9628906,9.76825847 69.1542969,9.75002921 C69.3457031,9.73179994 69.5188801,9.78648731 69.6738281,9.91409132 C69.8287762,10.0416953 69.90625,10.2057574 69.90625,10.4062776 Z M69.2499875,22.437499 C69.9609233,22.437499 70.6171717,22.259765 71.2187328,21.9042971 C71.8202939,21.5488292 72.2988083,21.0703147 72.6542762,20.4687537 C73.0097441,19.8671926 73.1874781,19.2109441 73.1874781,18.5000083 C73.1874781,17.880218 73.0781034,17.3060006 72.8593539,16.7773562 C72.6588337,16.3398572 72.376282,15.9023583 72.0116996,15.4648593 C71.7929502,15.1914225 71.4329248,14.8131683 70.9316241,14.3300964 C70.4303233,13.8470245 70.070298,13.4687703 69.8515485,13.1953335 C69.4869662,12.7760638 69.2135294,12.3567937 69.031238,11.937524 C68.8671759,12.5573143 68.8945196,13.1953335 69.1132691,13.8515819 C69.2408731,14.2343935 69.5143099,14.7812672 69.9335796,15.492203 C70.2252457,15.9661601 70.4166515,16.321628 70.507797,16.5586067 C70.6900884,16.9414183 70.7812338,17.2968862 70.7812338,17.6250104 C70.7812338,18.2812589 70.5442551,18.8463618 70.070298,19.3203189 C69.596341,19.794276 69.031238,20.0312547 68.3749896,20.0312547 C67.7187411,20.0312547 67.1536382,19.794276 66.6796811,19.3203189 C66.205724,18.8463618 65.9687453,18.2812589 65.9687453,17.6250104 L65.9687453,16.0937641 C65.7682251,16.403659 65.60872,16.7819136 65.4902308,17.228527 C65.3717417,17.6751404 65.3124969,18.0989675 65.3124969,18.5000083 C65.3124969,19.2109441 65.4902308,19.8671926 65.8456987,20.4687537 C66.2011666,21.0703147 66.6796811,21.5488292 67.2812422,21.9042971 C67.8828032,22.259765 68.5390517,22.437499 69.2499875,22.437499 Z",id:"icon---trending"}))))))))}}class $ extends i.PureComponent{render(){return i.createElement("span",this.props,i.createElement("svg",{className:"ic-svg ic-reactions-svg",width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1"},i.createElement("g",{id:"Finalized-Design",stroke:"none",fill:"inherit"},i.createElement("g",{id:"GfyCat---Gycat-Tab",transform:"translate(-1348.000000, -620.000000)",fill:"inherit"},i.createElement("g",{id:"modal---emojis",transform:"translate(1147.000000, 542.000000)"},i.createElement("g",{id:"tabs---gfycat",transform:"translate(1.000000, 68.000000)"},i.createElement("g",{id:"tab---category---deselected",transform:"translate(138.000000, 0.000000)"},i.createElement("path",{d:"M62,16 L62,10 L68,10 L68,16 L62,16 Z M64,12 L64,14 L66,14 L66,12 L64,12 Z M70,24 L70,18 L76,18 L76,24 L70,24 Z M72,20 L72,22 L74,22 L74,20 L72,20 Z M70,10 L76,10 L76,16 L70,16 L70,10 Z M74,14 L74,12 L72,12 L72,14 L74,14 Z M62,24 L62,18 L68,18 L68,24 L62,24 Z M64,20 L64,22 L66,22 L66,20 L64,20 Z",id:"icon---categories"}))))))))}}const ee={saveSearchBarText:L,searchTextUpdate:O},te=(0,Z.$Y)((e=>({background:{backgroundColor:e.centerChannelBg},header:{borderBottomColor:(0,Z.v5)(e.centerChannelColor,.2)},icon:{fill:(0,Z.v5)(e.centerChannelColor,.3)},iconActive:{fill:e.centerChannelColor},iconHover:{fill:(0,Z.v5)(e.centerChannelColor,.8)}})));class ne extends i.PureComponent{constructor(e){super(e),this.state={hovering:""}}render(){const e=te(this.props.theme);return i.createElement("header",{className:"header-container",style:e.background},i.createElement(Q,this.props),i.createElement("nav",{className:"nav-bar",style:e.header},this.renderTabs(this.props,e)))}renderTabs(e,t){const{appProps:n,onTrending:s,onCategories:a}=e,{header:i}=n;return i.tabs.map(((e,n)=>{let i;return e===j?i=this.renderTab("trending",s,X,n,t):e===F&&(i=this.renderTab("reactions",a,$,n,t)),i}))}renderTab(e,t,n,s,a){var r=this.props;const{action:o}=r;return i.createElement("a",{onClick:function(){r.searchTextUpdate(""),r.saveSearchBarText(""),t()},onMouseOver:()=>{this.setState({hovering:e})},onMouseOut:()=>{this.setState({hovering:""})},style:{cursor:"pointer"},key:s},i.createElement("div",{style:{paddingTop:"2px"}},i.createElement(n,{style:(()=>this.state.hovering===e?a.iconHover:o===e?a.iconActive:a.icon)()})))}}var se,ae,ie;se=ne,ae="propTypes",ie={action:a().string,appProps:a().object,saveSearchBarText:a().func,searchTextUpdate:a().func,theme:a().object.isRequired,defaultSearchText:a().string,handleSearchTextChange:a().func.isRequired},ae in se?Object.defineProperty(se,ae,{value:ie,enumerable:!0,configurable:!0,writable:!0}):se[ae]=ie;const re=(0,u.connect)((function(e){return{theme:(0,U.gh)(e)}}),ee)(ne),oe={saveAppProps:function(e){return(t,n)=>{const{GfycatApiKey:s,GfycatApiSecret:a}=n().entities.general.config;var i;C(s,a).authenticate(),t((i=e,{type:p.rf.SAVE_APP_PROPS,props:i}))}}};class le extends i.PureComponent{constructor(e){super(e);const{appProps:t}=this.props;this.props.saveAppProps(t)}render(){const{appProps:e,action:t,onCategories:n,onSearch:s,onTrending:a,children:r,defaultSearchText:o,handleSearchTextChange:l}=this.props,c="main-container "+(e.appClassName||"");return i.createElement("div",{className:c},i.createElement(re,{appProps:e,action:t,onCategories:n,onSearch:s,onTrending:a,defaultSearchText:o,handleSearchTextChange:l}),i.createElement("div",{className:"component-container"},r))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(le,"propTypes",{appProps:a().object,action:a().string,onCategories:a().func,onSearch:a().func,onTrending:a().func,children:a().object,saveAppProps:a().func,authenticateSdk:a().func,defaultSearchText:a().string,handleSearchTextChange:a().func.isRequired});const ce=(0,u.connect)(null,oe)(le);n(15306);var de=n(59925),me=n(85174),ue=n(53066);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fe={saveSearchBarText:L,saveSearchScrollPosition:A,searchTextUpdate:O,requestCategoriesList:D,requestCategoriesListIfNeeded:k};class be extends i.PureComponent{constructor(...e){super(...e),ge(this,"sendImpressions",(()=>{const{tagsList:e}=this.props,t=e.map((e=>({gfyId:e.gfyId})));t.length&&(0,de.L9)("gfycat","views",{context:"category_list",count:t.length})})),ge(this,"filterTagsList",(()=>{const{searchBarText:e,tagsList:t}=this.props,n=e.toLowerCase().trim().split(/ +/).join(" ");return t&&t.length?t.filter((t=>e&&-1===t.tagName.indexOf(n)?"":t)):[]})),ge(this,"loadMore",(()=>{this.props.requestCategoriesList()}))}componentDidMount(){window.scrollTo(0,0),this.props.requestCategoriesListIfNeeded(),this.sendImpressions()}componentWillUnmount(){this.props.saveSearchScrollPosition(0)}render(){const{hasMore:e,tagsList:t,gifs:n,onSearch:s,onTrending:a,hasImageProxy:r}=this.props,o=t&&t.length?this.filterTagsList(t).map(((e,t)=>{const{tagName:o,gfyId:l}=e;if(!n[l])return null;const c=n[l],{max1mbGif:d,avgColor:m}=c,u=me.Q4(d,"true"===r),p=o.replace(/\s/g,"-"),h={backgroundImage:"url(".concat(u)},g={backgroundColor:m},f=this.props;return i.createElement("a",{onClick:function(){f.searchTextUpdate(o),f.saveSearchBarText(o),"trending"===p?a():s()},key:t},i.createElement("div",{className:"category-container"},i.createElement("div",{className:"category",style:he(he({},h),g)},i.createElement("div",{className:"category-name"},o))))})):[];return o&&o.length?i.createElement("div",{className:"categories-container"},i.createElement(ue.Z,{hasMore:e,loadMore:this.loadMore,threshold:1},o)):i.createElement("div",{className:"categories-container"})}}ge(be,"propTypes",{appProps:a().object,gifs:a().object,hasMore:a().bool,onSearch:a().func,onTrending:a().func,requestCategoriesList:a().func,requestCategoriesListIfNeeded:a().func,saveSearchBarText:a().func,saveSearchScrollPosition:a().func,searchTextUpdate:a().func,searchBarText:a().string,tagsList:a().array,hasImageProxy:a().string});const _e=(0,u.connect)((function(e){return he(he(he({},e.entities.gifs.categories),e.entities.gifs.cache),{},{appProps:e.entities.gifs.app,searchText:e.entities.gifs.search.searchText,searchBarText:e.entities.gifs.search.searchBarText,hasImageProxy:e.entities.general.config.HasImageProxy})}),fe)(be);var Ee=n(28292),Ce=n(13516);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Se extends i.PureComponent{render(){const{gfyItem:e,top:t,left:n,itemWidth:s,itemClickHandler:a}=this.props,{width:r,height:o,max1mbGif:l,avgColor:c}=e,{hasImageProxy:d}=this.props,m=me.Q4(l,"true"===d),u={backgroundImage:"url(".concat(m,")")},p={backgroundColor:c},h={paddingBottom:s/r*o+"px"};return i.createElement("div",{className:"search-item-wrapper",style:{top:t,left:n,width:s?"".concat(s,"px"):""}},i.createElement("div",{className:"search-item",style:ve(ve(ve({},u),p),h),onClick:()=>a(e)}))}}we(Se,"propTypes",{gfyItem:a().object,top:a().string,left:a().string,itemWidth:a().number,itemClickHandler:a().func,hasImageProxy:a().string});const Te=(0,u.connect)((function(e){return{hasImageProxy:e.entities.general.config.HasImageProxy}}))(Se);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ie={saveSearchScrollPosition:A};class Re extends i.PureComponent{constructor(e){super(e),Ne(this,"setNumberOfColumns",(()=>{window.matchMedia("(orientation: portrait)").matches,this.numberOfColumns=2})),Ne(this,"itemClickHandler",(e=>{const{keyword:t,handleItemClick:n}=this.props;this.props.saveSearchScrollPosition(this.scrollPosition),(0,de.L9)("gfycat","shares",{gfyid:e.gfyId,keyword:t}),n(e)})),Ne(this,"minHeightColumnIndex",(()=>this.columnsHeights.indexOf(Math.min(...this.columnsHeights)))),Ne(this,"maxHeightColumnIndex",(()=>this.columnsHeights.indexOf(Math.max(...this.columnsHeights)))),Ne(this,"maxColumnHeight",(()=>Math.max(...this.columnsHeights))),Ne(this,"resizeHandler",(()=>{this.state.containerWidth!==this.container.offsetWidth-8&&(this.setNumberOfColumns(),this.setState(Me(Me({},this.state),{},{containerWidth:this.container.offsetWidth-8})),this.columnsHeights=Array(this.numberOfColumns).fill(0))})),Ne(this,"scrollHandler",(()=>{this.scrollPosition=window.scrollY})),this.state={containerWidth:null},this.scrollPosition=this.props.scrollPosition,this.setNumberOfColumns(),this.columnsHeights=Array(this.numberOfColumns).fill(0),this.padding=8}componentDidMount(){this.container=document.getElementById("search-grid-container"),this.setState(Me(Me({},this.state),{},{containerWidth:this.container.offsetWidth-8})),window.addEventListener("resize",this.resizeHandler),window.addEventListener("scroll",this.scrollHandler)}componentDidUpdate(e){e.keyword!==this.props.keyword&&window.scrollTo(0,0)}componentWillUnmount(){const{keyword:e}=this.props;"trending"!==e&&this.props.saveSearchScrollPosition(this.scrollPosition),window.removeEventListener("resize",this.resizeHandler),window.removeEventListener("scroll",this.scrollHandler)}render(){const{containerClassName:e,gifs:t,keyword:n,resultsByTerm:s,scrollPosition:a,loadMore:r}=this.props,{containerWidth:o}=this.state,{moreRemaining:l,items:c=[],isEmpty:d=0===c.length,isFetching:m}=s[n]?s[n]:{},u=parseInt(o/this.numberOfColumns,10),p=Array(this.numberOfColumns).fill(0).map(((e,t)=>this.padding+(t*u-t*(this.padding/2))));this.columnsHeights=Array(this.numberOfColumns).fill(this.padding);const h=o&&c.length?c.map(((e,n)=>{const s=t[e],{gfyId:a}=s,r=this.minHeightColumnIndex(),o=this.columnsHeights[r]+"px",l=p[r]+"px",c=140/s.width*s.height+this.padding;return this.columnsHeights[r]+=c,i.createElement(Te,{gfyItem:s,top:o,left:l,itemWidth:140,itemClickHandler:this.itemClickHandler,key:"".concat(n,"-").concat(a)})})):null;this.containerHeight=this.maxColumnHeight();const g=h?i.createElement(ue.Z,{className:"search-grid-infinite-scroll",pageStart:0,loadMore:r,initialLoad:!1,hasMore:l,threshold:1,containerHeight:this.containerHeight,scrollPosition:a,useWindow:!1},h):null,f=!m&&d?i.createElement(Ee.Z,{variant:Ce.U.ChannelSearch,titleValues:{channelName:'"'.concat(n,'"')}}):null;return i.createElement("div",{id:"search-grid-container",className:"search-grid-container ".concat(e)},g,f)}}Ne(Re,"propTypes",{appProps:a().object,gifs:a().object,resultsByTerm:a().object,containerClassName:a().string,keyword:a().string,handleItemClick:a().func,loadMore:a().func,numberOfColumns:a().number,scrollPosition:a().number,saveSearchScrollPosition:a().func});const Ae=(0,u.connect)((function(e){return Me(Me(Me({},e.entities.gifs.cache),e.entities.gifs.search),{},{appProps:e.entities.gifs.app})}),Ie)(Re);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ke=(0,u.connect)((function(e){return Le(Le(Le({},e.entities.gifs.cache),e.entities.gifs.search),{},{appProps:e.entities.gifs.app})}),(function(){return{saveSearchScrollPosition:A}}))(Ae);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ze={searchGfycat:N,searchIfNeededInitial:R};class je extends i.PureComponent{constructor(...e){super(...e),Ue(this,"loadMore",(()=>{const{searchText:e}=this.props;this.props.searchGfycat({searchText:e})}))}componentDidMount(){const{searchText:e}=this.props;this.props.searchIfNeededInitial(e.split("-").join(" "))}componentDidUpdate(e){const{searchText:t}=this.props;e.searchText!==t&&this.props.searchIfNeededInitial(t.split("-").join(" "))}render(){const{handleItemClick:e,searchText:t,onCategories:n}=this.props;return i.createElement(ke,{keyword:t,handleItemClick:e,onCategories:n,loadMore:this.loadMore})}}Ue(je,"propTypes",{handleItemClick:a().func,onCategories:a().func,searchText:a().string,searchIfNeededInitial:a().func,searchGfycat:a().func});const Fe=(0,u.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.entities.gifs.search)}),Ze)(je);function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qe={searchCategory:I,searchIfNeededInitial:R,saveSearchScrollPosition:A};class Be extends i.PureComponent{constructor(...e){super(...e),He(this,"loadMore",(()=>{this.props.searchCategory({tagName:"trending"})}))}componentDidMount(){this.props.searchIfNeededInitial("trending")}componentWillUnmount(){this.props.saveSearchScrollPosition(0)}render(){const{handleItemClick:e,onCategories:t}=this.props;return i.createElement(ke,{keyword:"trending",handleItemClick:e,onCategories:t,loadMore:this.loadMore})}}He(Be,"propTypes",{handleItemClick:a().func,onCategories:a().func,searchCategory:a().func,searchIfNeededInitial:a().func,saveSearchScrollPosition:a().func});const Ge=(0,u.connect)(null,qe)(Be);function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const We={appName:"gomlo",basePath:"/gomlo",itemTapType:2,appClassName:"gfycat",shareEvent:"shareGomlo",appId:"mattermostwebviews",enableHistory:!0,header:{tabs:[j,F],displayText:!1}};class ze extends i.PureComponent{constructor(e){super(e),Ve(this,"handleTrending",(()=>{this.setState({action:"trending"})})),Ve(this,"handleCategories",(()=>{this.setState({action:"reactions"})})),Ve(this,"handleSearch",(()=>{this.setState({action:"search"})})),Ve(this,"handleItemClick",(e=>{this.props.onGifClick(e.max5mbGif)}));const t=e.defaultSearchText?"search":"trending";this.state={action:t}}render(){const{action:e}=this.state;let t;switch(e){case"reactions":t=i.createElement(_e,{appProps:We,onTrending:this.handleTrending,onSearch:this.handleSearch});break;case"search":t=i.createElement(Fe,{appProps:We,onCategories:this.handleCategories,handleItemClick:this.handleItemClick});break;case"trending":t=i.createElement(Ge,{appProps:We,onCategories:this.handleCategories,handleItemClick:this.handleItemClick})}return i.createElement("div",null,i.createElement(ce,{appProps:We,action:e,onTrending:this.handleTrending,onCategories:this.handleCategories,onSearch:this.handleSearch,defaultSearchText:this.props.defaultSearchText,handleSearchTextChange:this.props.handleSearchTextChange},t))}}Ve(ze,"propTypes",{onGifClick:a().func.isRequired,defaultSearchText:a().string,handleSearchTextChange:a().func.isRequired});var Ye=n(49880);class Ke extends i.PureComponent{render(){return i.createElement("span",this.props,i.createElement("svg",{width:"22px",height:"14px",viewBox:"0 0 22 14"},i.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},i.createElement("g",{transform:"translate(-1344.000000, -552.000000)",fill:"inherit"},i.createElement("g",{transform:"translate(1147.000000, 542.000000)"},i.createElement("g",{transform:"translate(1.000000, 1.000000)"},i.createElement("g",{transform:"translate(138.000000, 0.000000)"},i.createElement("path",{d:"M63.6748519,23 L62.2292481,23 C61.8176589,23 61.4619872,22.8510143 61.1631497,22.5539741 C60.8633954,22.2569338 60.71306,21.8993681 60.71306,21.4831393 C60.71306,21.0678417 60.8597287,20.710276 61.1539829,20.4132358 C61.4473204,20.1161955 61.800242,19.9672098 62.2118312,19.9672098 L63.6565183,19.9672098 C64.0681075,19.9672098 64.4182791,19.8219488 64.7061166,19.5304955 C64.993954,19.2390422 65.1378727,18.8917193 65.1378727,18.4866644 L65.1378727,15.4371134 C65.1378727,15.0208846 64.993954,14.6670436 64.7061166,14.3755903 C64.4182791,14.084137 64.0745243,13.938876 63.6748519,13.938876 C63.2632628,13.938876 62.9103411,14.0869305 62.6170036,14.3849019 C62.3227494,14.6819421 62.1760807,15.0329897 62.1760807,15.4371134 C62.1760807,15.7294978 62.3016658,16.0563352 62.5519193,16.4185567 L62.575753,16.4530096 C62.8269232,16.8143 62.9515917,17.1420685 62.9515917,17.4344529 C62.9515917,17.8506817 62.8049229,18.2073163 62.5115854,18.5043565 C62.2173313,18.8023279 61.8653263,18.9503824 61.4537371,18.9503824 C60.7836443,18.9503824 60.2198863,18.5164616 59.7615465,17.6486199 C59.373791,16.9232458 59.1794549,16.1857665 59.1794549,15.4371134 C59.1794549,14.188427 59.6176278,13.1213169 60.4930568,12.234852 C61.3684859,11.3493183 62.4226675,10.9060858 63.6565183,10.9060858 C64.8912858,10.9060858 65.9482175,11.3493183 66.8300633,12.234852 C67.7109925,13.1213169 68.1519154,14.188427 68.1519154,15.4371134 L68.1519154,18.4866644 C68.1519154,19.7353508 67.7137425,20.7996674 66.8383134,21.6796142 C65.9628844,22.559561 64.9087028,23 63.6748519,23 Z M80,15.9269039 C80,16.3068174 79.8689148,16.6317925 79.6076611,16.9027602 C79.3454907,17.173728 79.0319863,17.3096774 78.6653144,17.3096774 L76.8438719,17.3096774 L76.8438719,18.6589292 C76.8438719,19.0388427 76.7127867,19.3638178 76.4506164,19.6347855 C76.1893627,19.9057532 75.8749415,20.0417027 75.5082697,20.0417027 C75.1315143,20.0417027 74.8125098,19.9057532 74.5503394,19.6347855 C74.2890857,19.3638178 74.1580005,19.0388427 74.1580005,18.6589292 L74.1580005,13.1464583 C74.1580005,12.00858 74.5485061,11.0355171 75.3276838,10.2272697 C76.1077782,9.41995344 77.0473748,9.01582973 78.1473904,9.01582973 L78.6653144,9.01582973 C79.0319863,9.01582973 79.3454907,9.15177918 79.6076611,9.42274692 C79.8689148,9.69371467 80,10.0186897 80,10.3986033 C80,10.7775856 79.8689148,11.1034919 79.6076611,11.3744596 C79.3454907,11.6454273 79.0319863,11.7804456 78.6653144,11.7804456 L78.162974,11.7804456 C77.7963021,11.7804456 77.481881,11.9163951 77.2206273,12.1873628 C76.9584569,12.4583306 76.8282884,12.7777187 76.8282884,13.1464583 L76.8282884,14.5450615 L78.6653144,14.5450615 C79.0319863,14.5450615 79.3454907,14.681011 79.6076611,14.9519787 C79.8689148,15.2229465 80,15.5479215 80,15.9269039 Z M72.6344789,18.6589292 C72.6344789,19.0388427 72.5043104,19.3638178 72.24214,19.6347855 C71.9808863,19.9057532 71.6664652,20.0417027 71.2997933,20.0417027 C70.9340382,20.0417027 70.616867,19.9057532 70.3501132,19.6347855 C70.0833594,19.3638178 69.9495242,19.0388427 69.9495242,18.6589292 L69.9495242,14.170735 C69.9495242,13.7917526 70.0806094,13.4667775 70.3418631,13.1958098 C70.6040335,12.9239109 70.9175379,12.7888926 71.2842098,12.7888926 C71.6508817,12.7888926 71.9671361,12.9239109 72.2348066,13.1958098 C72.5015604,13.4667775 72.6344789,13.7917526 72.6344789,14.170735 L72.6344789,18.6589292 Z M58.3370263,12.5356169 C58.1023563,11.7441304 58.0042716,10.9163286 58.0042716,10.9163286 C57.9721878,10.6937812 58.1243566,10.547589 58.3425264,10.5904223 C58.3425264,10.5904223 58.5350291,10.6267376 58.8017829,10.6807449 C59.0767868,10.7375457 59.4324585,10.8139009 59.7404628,10.8921184 C60.3473048,11.0448287 60.95323,11.2720319 60.95323,11.2720319 C60.95323,11.2720319 60.2904706,11.6621882 59.7239626,12.3018956 C59.1565379,12.9406718 58.8650338,13.8420353 58.8650338,13.8420353 C58.8650338,13.8420353 58.5716963,13.3280346 58.3370263,12.5356169 Z M69.088762,12.5356169 C69.323432,11.7441304 69.4224334,10.9163286 69.4224334,10.9163286 C69.4536005,10.6937812 69.3014317,10.547589 69.0832619,10.5904223 C69.0832619,10.5904223 68.2921674,10.7384769 67.6853254,10.8921184 C67.0794002,11.0448287 66.4725583,11.2720319 66.4725583,11.2720319 C66.4725583,11.2720319 67.1353177,11.6621882 67.7027424,12.3018956 C68.2692504,12.9406718 68.5616712,13.8420353 68.5616712,13.8420353 C68.5616712,13.8420353 68.8550087,13.3280346 69.088762,12.5356169 Z M72.6344789,10.3818424 C72.6344789,10.7617559 72.5043104,11.086731 72.24214,11.3576987 C71.9808863,11.6286664 71.6664652,11.7646159 71.2997933,11.7646159 C70.9340382,11.7646159 70.616867,11.6286664 70.3501132,11.3576987 C70.0833594,11.086731 69.9495242,10.7617559 69.9495242,10.3818424 C69.9495242,10.00286 70.0806094,9.67788494 70.3418631,9.40691719 C70.6040335,9.13594945 70.9175379,9 71.2842098,9 C71.6508817,9 71.9671361,9.13594945 72.2348066,9.40691719 C72.5015604,9.67788494 72.6344789,10.00286 72.6344789,10.3818424 Z"}))))))))}}var Je=n(44012);class Qe extends i.PureComponent{render(){return i.createElement("div",{className:"emoji-picker__header modal-header"},i.createElement("button",{type:"button",className:"close emoji-picker__header-close-button",onClick:this.props.handleEmojiPickerClose},i.createElement("span",{"aria-hidden":"true"},"×"),i.createElement("span",{className:"sr-only"},i.createElement(Je.Z,{id:"emoji_picker.close",defaultMessage:"Close"}))),i.createElement("h4",{className:"modal-title emoji-picker__header-title"},i.createElement(Je.Z,{id:"emoji_picker.header",defaultMessage:"Emoji Picker"})))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Qe,"propTypes",{handleEmojiPickerClose:a().func.isRequired});var Xe=n(14890),$e=n(39730),et=n(93814),tt=n(21226),nt=(n(65069),n(32023),n(23493)),st=n.n(nt),at=n(52332),it=n(62831);const rt=n.p+"files/bb70781ccd4fbf5f99bf8a8060f82662.gif";function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class lt extends i.Component{constructor(...e){super(...e),ot(this,"handleClick",(e=>{e.preventDefault(),this.props.onCategoryClick(this.props.category)}))}shouldComponentUpdate(e){return e.selected!==this.props.selected||e.enable!==this.props.enable}render(){let e="emoji-picker__category";return this.props.selected&&(e+=" emoji-picker__category--selected"),this.props.enable||(e+=" disable"),i.createElement("a",{className:e,href:"#",onClick:this.handleClick,"aria-label":this.props.category},this.props.icon)}}ot(lt,"propTypes",{category:a().string.isRequired,icon:a().node.isRequired,onCategoryClick:a().func.isRequired,selected:a().bool.isRequired,enable:a().bool.isRequired});var ct=n(74806),dt=n(23279),mt=n.n(dt),ut=n(3601),pt=n(72654);function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class gt extends i.Component{constructor(...e){super(...e),ht(this,"emojiItemRef",(e=>{this.emojiItem=e})),ht(this,"emojiName",(()=>{const{formatMessage:e}=this.props.intl;return e({id:"emoji_picker_item.emoji_aria_label",defaultMessage:"{emojiName} emoji"},{emojiName:this.props.emoji.aliases[0].replace(/_/g," ")})})),ht(this,"handleMouseOver",(()=>{this.props.isSelected||this.props.onItemOver(this.props.categoryIndex,this.props.emojiIndex)})),ht(this,"handleMouseOverThrottle",mt()(this.handleMouseOver,150,{leading:!0,trailing:!0})),ht(this,"handleClick",(()=>{this.props.onItemClick(this.props.emoji)}))}shouldComponentUpdate(e){return e.isSelected!==this.props.isSelected}componentDidUpdate(e){if(!e.isSelected&&this.props.isSelected){const e=this.emojiItem.offsetTop,t=e+this.emojiItem.offsetHeight,{containerRef:n,containerTop:s,containerBottom:a}=this.props;e<s?n.scrollTop=e-10:t>a&&(n.scrollTop=t-n.offsetHeight+10)}}render(){const{emoji:e}=this.props;let t="emoji-picker__item";this.props.isSelected&&(t+=" selected");let n,s="emojisprite";return s+=" emoji-category-"+e.category+"-"+e.batch,s+=" emoji-"+e.filename,n=e.category&&e.batch?i.createElement("img",{alt:"emoji image","data-testid":e.aliases,onMouseOver:this.handleMouseOverThrottle,src:rt,className:s,onClick:this.handleClick,id:"emoji-"+e.filename,"aria-label":this.emojiName(),role:"button"}):i.createElement("img",{alt:"custom emoji image",onMouseOver:this.handleMouseOver,src:(0,ut.UK)(e),className:"emoji-category--custom",onClick:this.handleClick}),i.createElement("div",{className:t,ref:this.emojiItemRef},i.createElement("div",{"data-testid":"emojiItem"},n))}}ht(gt,"propTypes",{emoji:a().object.isRequired,onItemOver:a().func.isRequired,onItemClick:a().func.isRequired,category:a().string.isRequired,isSelected:a().bool,categoryIndex:a().number.isRequired,emojiIndex:a().number.isRequired,containerRef:a().any,containerTop:a().number.isRequired,containerBottom:a().number.isRequired,intl:pt.gm.isRequired});const ft=(0,ct.ZP)(gt);function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _t extends i.PureComponent{constructor(...e){super(...e),bt(this,"divRef",(e=>{this.div=e}))}componentDidMount(){this.updateOffsetFrame=window.requestAnimationFrame((()=>{this.props.updateCategoryOffset(this.props.categoryName,this.div.offsetTop)}))}componentWillUnmount(){this.updateOffsetFrame&&window.cancelAnimationFrame(this.updateOffsetFrame)}render(){return i.createElement("div",{ref:this.divRef},i.createElement("div",{className:"emoji-picker-items__container"},i.createElement("div",{className:"emoji-picker__category-header",id:"emojipickercat-".concat(this.props.categoryName)},i.createElement(Je.Z,{id:"emoji_picker."+this.props.categoryName}))),i.createElement("div",{className:"emoji-picker-items__container"},this.props.children))}}bt(_t,"propTypes",{categoryName:a().string.isRequired,children:a().any,updateCategoryOffset:a().func.isRequired});class Et extends i.PureComponent{render(){const e=this.props.emoji;if(e){let t,n,s;return e.aliases&&e.category&&e.batch?(t=e.aliases[0],n=e.aliases,s=i.createElement("span",{className:"sprite-preview"},i.createElement("img",{id:"emojiPickerSpritePreview",alt:"emoji category image",src:rt,className:"emojisprite-preview emoji-category-"+e.category+"-"+e.batch+" emoji-"+e.filename}))):(t=e.name,n=[e.name],s=i.createElement("img",{id:"emojiPickerSpritePreview",alt:"emoji preview image",className:"emoji-picker__preview-image",src:(0,ut.UK)(e)})),i.createElement("div",{className:"emoji-picker__preview"},i.createElement("div",{className:"emoji-picker__preview-image-box"},s),i.createElement("div",{className:"emoji-picker__preview-image-label-box"},i.createElement("span",{className:"emoji-picker__preview-name"},t),i.createElement("span",{id:"emojiPickerAliasesPreview",className:"emoji-picker__preview-aliases"},":"+n.join(": :")+":")))}return i.createElement("div",{className:"emoji-picker__preview emoji-picker__preview-placeholder"},i.createElement(Je.Z,{id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}))}}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Et,"propTypes",{emoji:a().object});const wt="searchResults";(0,G.t)("emoji_picker.searchResults");const St={recent:{name:"recent",className:"fa fa-clock-o",id:(0,G.t)("emoji_picker.recent"),message:"Recently Used",offset:0}},Tt={people:{name:"people",className:"fa fa-smile-o",id:(0,G.t)("emoji_picker.people"),message:"People",offset:0}},Pt=yt(yt({},Tt),{},{nature:{name:"nature",className:"fa fa-leaf",id:(0,G.t)("emoji_picker.nature"),message:"Nature",offset:0},foods:{name:"foods",className:"fa fa-cutlery",id:(0,G.t)("emoji_picker.foods"),message:"Foods",offset:0},activity:{name:"activity",className:"fa fa-futbol-o",id:(0,G.t)("emoji_picker.activity"),message:"Activity",offset:0},places:{name:"places",className:"fa fa-plane",id:(0,G.t)("emoji_picker.places"),message:"Places",offset:0},objects:{name:"objects",className:"fa fa-lightbulb-o",id:(0,G.t)("emoji_picker.objects"),message:"Objects",offset:0},symbols:{name:"symbols",className:"fa fa-heart-o",id:(0,G.t)("emoji_picker.symbols"),message:"Symbols",offset:0},flags:{name:"flags",className:"fa fa-flag-o",id:(0,G.t)("emoji_picker.flags"),message:"Flags",offset:0},custom:{name:"custom",className:"fa fa-at",id:(0,G.t)("emoji_picker.custom"),message:"Custom",offset:0}});function Mt(e){return e.filename||e.id}class Nt extends i.PureComponent{static getEmojis(e,t){const{categories:n,allEmojis:s}=t,a=e.emojiMap,i=a.customEmojis;for(const t of Object.keys(n)){let r=[];"recent"===t&&e.recentEmojis.length?r=[...e.recentEmojis].reverse().filter((e=>a.has(e))).map((e=>a.get(e))):(r=(at.Ur.get(t)||[]).map((e=>at.Ax[e])),"custom"===t&&(r=r.concat([...i.values()]))),n[t].emojiIds=r.map((e=>Mt(e)));for(let e=0;e<r.length;e++){const t=r[e],n=Mt(t);s[n]=yt(yt({},t),{},{visible:!1,offset:null}),t.filename||(s[n]=yt(yt({},s[n]),{},{aliases:[t.name],category:"custom",filename:n}))}}return{categories:n,allEmojis:s}}static getDerivedStateFromProps(e,t){let n={emojiMap:e.emojiMap};if(JSON.stringify(Object.keys(t.categories))!==t.categoryKeys||e.emojiMap!==t.emojiMap){const{categories:s,allEmojis:a}=Nt.getEmojis(e,t);n=yt(yt({},n),{},{categories:s,allEmojis:a,categoryKeys:JSON.stringify(Object.keys(s))})}return n}constructor(e){super(e),vt(this,"renderAllCategories",(()=>{const e=this.props.recentEmojis.length?yt(yt({},St),Pt):Pt;this.setState((t=>({categories:yt(yt({},e),t.categories),renderAllCategories:!0})))})),vt(this,"loadMoreCustomEmojis",(async()=>{if(!this.props.customEmojisEnabled||this.loadingMoreEmojis)return;this.loadingMoreEmojis=!0;const{data:e}=await this.props.actions.getCustomEmojis(this.props.customEmojiPage,200);if(e){if(e.length<200)return this.missingPages=!1,void(this.loadingMoreEmojis=!1);await this.props.actions.incrementEmojiPickerPage(),this.loadingMoreEmojis=!1}else this.loadingMoreEmojis=!1})),vt(this,"lastVisibleEmojiRef",(e=>{this.lastVisibleEmoji=e})),vt(this,"emojiPickerContainerRef",(e=>{this.emojiPickerContainer=e})),vt(this,"emojiSearchInput",(e=>{this.searchInput=e})),vt(this,"handleCategoryClick",(e=>{this.setState({cursor:[Object.keys(this.state.categories).indexOf(e),0]}),this.updateEmojisToShow(this.state.categories[e].offset),this.emojiPickerContainer.scrollTop=this.state.categories[e].offset,this.searchInput.focus()})),vt(this,"handleFilterChange",(e=>{e.preventDefault();const t=e.target.value.toLowerCase().replace(/^:|:$/g,"");this.props.customEmojisEnabled&&t&&""!==t.trim()&&this.props.actions.searchCustomEmojis(t),this.props.handleFilterChange(t),this.setState((()=>({cursor:[-1,-1]})))})),vt(this,"handleItemOver",((e,t)=>{this.setState({cursor:[e,t]})})),vt(this,"handleItemClick",(e=>{this.props.onEmojiClick(e)})),vt(this,"handleCategoryKeyDown",(e=>{switch(e.key){case"ArrowRight":e.preventDefault(),this.selectNextEmoji(),this.searchInput.focus();break;case"ArrowLeft":e.preventDefault(),this.selectPrevEmoji(),this.searchInput.focus();break;case"ArrowUp":e.preventDefault(),this.selectPrevEmoji(9),this.searchInput.focus();break;case"ArrowDown":e.preventDefault(),this.selectNextEmoji(9),this.searchInput.focus()}})),vt(this,"handleKeyDown",(e=>{switch(e.key){case"ArrowRight":(-1!==this.state.cursor[0]||-1!==this.state.cursor[1]||e.target.selectionStart+1>this.props.filter.length)&&(e.preventDefault(),this.selectNextEmoji());break;case"ArrowLeft":this.state.cursor[0]>0||this.state.cursor[1]>0?(e.preventDefault(),this.selectPrevEmoji()):0===this.state.cursor[0]&&0===this.state.cursor[1]&&(this.setState({cursor:[-1,-1]}),e.target.selectionStart=this.props.filter.length,e.target.selectionEnd=this.props.filter.length,e.preventDefault(),this.searchInput.focus());break;case"ArrowUp":e.preventDefault(),e.shiftKey?e.target.selectionStart=0:-1===this.state.cursor[0]?(e.target.selectionStart=0,e.target.selectionEnd=0):0===this.state.cursor[0]&&this.state.cursor[1]<9?(this.setState({cursor:[-1,-1]}),e.target.selectionStart=this.props.filter.length,e.target.selectionEnd=this.props.filter.length,this.searchInput.focus()):this.selectPrevEmoji(9);break;case"ArrowDown":e.preventDefault(),e.shiftKey?e.target.selectionEnd=this.props.filter.length:this.props.filter&&0===e.target.selectionStart?(e.target.selectionStart=this.props.filter.length,e.target.selectionEnd=this.props.filter.length):this.selectNextEmoji(9);break;case"Enter":e.preventDefault(),this.getCurrentEmojiByCursor(this.state.cursor)&&this.props.onEmojiClick(this.getCurrentEmojiByCursor(this.state.cursor))}})),vt(this,"handleScroll",(()=>{this.emojiPickerContainer&&this.updateEmojisToShow(this.emojiPickerContainer.scrollTop)})),vt(this,"emojiCurrentResultsItems",((e,t,n)=>{const{cursor:s,emojisToShow:a}=this.state;let r=n;return t.map(((t,n)=>{let o;return r++,r===a&&(o=this.lastVisibleEmojiRef),r>=a?i.createElement("div",{key:r,className:"emoji-picker__item",ref:o},i.createElement("img",{alt:"emoji image",src:rt,className:"emojisprite"})):i.createElement(ft,{key:t.filename+":"+n,emoji:t,onItemOver:this.handleItemOver,onItemClick:this.handleItemClick,onItemUnmount:t,category:t.category,isSelected:s[0]===e&&s[1]===n,categoryIndex:e,emojiIndex:n,containerRef:this.emojiPickerContainer,containerTop:this.state.divTopOffset,containerBottom:this.state.divTopOffset+this.divHeight})}))})),vt(this,"updateCategoryOffset",((e,t)=>{e!==wt&&this.setState((n=>({categories:yt(yt({},n.categories),{},{[e]:yt(yt({},n.categories[e]),{},{offset:t})})})))})),this.handleScrollThrottle=st()(this.handleScroll,100,{leading:!1,trailing:!0}),this.divHeight=0,this.missingPages=!0,this.loadingMoreEmojis=!1;const t=e.recentEmojis.length?yt(yt({},St),Tt):Tt;this.state={allEmojis:{},categories:t,cursor:[-1,-1],divTopOffset:0,emojisToShow:1476,renderAllCategories:!1}}componentDidMount(){0===this.props.customEmojiPage&&this.loadMoreCustomEmojis(),window.requestAnimationFrame((()=>{this.searchInput&&this.searchInput.focus(),this.renderAllCategoriesFrame=window.requestAnimationFrame((()=>{this.renderAllCategories()}))})),this.emojiPickerContainer&&(this.divHeight=this.emojiPickerContainer.offsetHeight);const e=document.getElementById("root");e&&e.classList.add("emoji-picker--active")}updateEmojisToShow(e){if(e!==this.state.divTopOffset&&(this.setState({divTopOffset:e}),this.lastVisibleEmoji)){const t=this.lastVisibleEmoji.offsetTop-(e+290+75);if(t<=0){const e=135+Math.ceil(t/27*9*-1);this.setState((t=>({emojisToShow:t.emojisToShow+e})))}}}componentWillUnmount(){this.renderAllCategoriesFrame&&window.cancelAnimationFrame(this.renderAllCategoriesFrame);const e=document.getElementById("root");e&&e.classList.remove("emoji-picker--active")}componentDidUpdate(e){this.props.visible&&!e.visible&&this.searchInput.focus(),this.missingPages&&this.emojiPickerContainer&&this.emojiPickerContainer.scrollHeight-this.state.divTopOffset-this.emojiPickerContainer.clientHeight<=500&&this.loadMoreCustomEmojis()}selectNextEmoji(e=1){const{cursor:t}=this.state;let n=[t[0],t[1]+e];this.getCurrentEmojiByCursor(n)?this.setState({cursor:n}):(n=[t[0]+1,0],this.getCurrentEmojiByCursor(n)&&this.setState({cursor:n}))}selectPrevEmoji(e=1){const{cursor:t}=this.state;let n=[t[0],t[1]-e];if(this.getCurrentEmojiByCursor(n))this.setState({cursor:n});else if(0!==t[0]){const e=this.getCategoryByIndex(t[0]-1),s=this.state.categories[e.name].emojiIds.length-1;n=[t[0]-1,s],this.getCurrentEmojiByCursor(n)&&this.setState({cursor:n})}}getCategoryByIndex(e){return this.props.filter&&0!==e?null:this.getCategoriesByKey(Object.keys(this.state.categories)[e])}getCurrentEmojiByCursor(e){const t=this.getCategoryByIndex(e[0]);return t?this.getEmojisByCategory(t)[e[1]]:null}getCategoriesByKey(e){return this.props.filter?{id:wt,name:wt}:this.state.categories[e]}sortEmojis(e){const{recentEmojis:t}=this.props,n=[],s=[];Object.values(e).forEach((e=>{let a=s;for(let s=0;s<e.aliases.length;s++)t.includes(e.aliases[s].toLowerCase())&&(a=n);a.push(e)}));const a=(e,t)=>(0,it.v)(e,t,this.props.filter);return n.sort(a),s.sort(a),[...n,...s]}getEmojisByCategory(e){if(this.props.filter){const e=Object.values(this.state.allEmojis).filter((e=>{for(let t=0;t<e.aliases.length;t++)if(e.aliases[t].toLowerCase().includes(this.props.filter))return!0;return!1}));return this.sortEmojis(e)}return this.state.categories[e.name].emojiIds.map((e=>this.state.allEmojis[e]))}getCurrentEmojiName(){const e=this.getCurrentEmojiByCursor(this.state.cursor);return e?e.aliases[0].replace(/_/g," "):""}getCurrentEmojiCategoryName(){const e=Object.keys(this.state.categories);let t=e[0];for(let n=e.length-1;n>=0;n--){const s=this.state.categories[e[n]];if(s.offset&&this.state.divTopOffset>s.offset-20){t=e[n];break}}return t}emojiCategories(){const e=this.props.recentEmojis.length?yt(yt({},St),Pt):Pt,t=Object.keys(e),n=this.props.filter?t[0]:this.getCurrentEmojiCategoryName(),s=t.map((t=>{const s=e[t];return i.createElement(lt,{key:"header-"+s.name,category:s.name,icon:i.createElement(Je.Z,{id:s.id,defaultMessage:s.message},(e=>i.createElement("i",{className:s.className,title:e}))),onCategoryClick:this.handleCategoryClick,selected:n===s.name,enable:!this.props.filter})}));return i.createElement("div",{id:"emojiPickerCategories",className:"emoji-picker__categories",onKeyDown:this.handleCategoryKeyDown},s)}emojiSearch(){return i.createElement("div",{className:"emoji-picker__search-container"},i.createElement("span",{className:"fa fa-search emoji-picker__search-icon"}),i.createElement(Je.Z,{id:"emoji_picker.search_emoji",defaultMessage:"Search for an emoji"},(e=>i.createElement(B.Z,{id:"emojiPickerSearch","aria-label":e,ref:this.emojiSearchInput,className:"emoji-picker__search","data-testid":"emojiInputSearch",type:"text",onChange:this.handleFilterChange,onKeyDown:this.handleKeyDown,autoComplete:"off",placeholder:{id:(0,G.t)("emoji_picker.search"),defaultMessage:"Search Emoji"},value:this.props.filter}))))}emojiCurrentResults(){const{filter:e}=this.props,t=e?[wt]:Object.keys(this.state.categories);let n=0,s=[];for(let e=0;e<t.length;e++){const a=this.getCategoriesByKey(t[e]),r=this.getEmojisByCategory(a),o=this.emojiCurrentResultsItems(e,r,n);if(n+=o.length,s=[...s,i.createElement(_t,{key:a.id,categoryName:a.name,updateCategoryOffset:this.updateCategoryOffset,role:"application"},o)],0===o.length)return i.createElement(Ee.Z,{variant:Ce.U.ChannelSearch,titleValues:{channelName:'"'.concat(this.props.filter,'"')}})}return i.createElement("div",{ref:this.emojiPickerContainerRef,onScroll:this.handleScrollThrottle,className:"emoji-picker__items",style:{overflowY:this.state.renderAllCategories?"auto":"hidden"}},i.createElement("div",{className:"emoji-picker__container"},s))}render(){return i.createElement("div",{className:"emoji-picker__inner",role:"application"},i.createElement("div",{"aria-live":"assertive",className:"sr-only"},i.createElement(Je.Z,{id:"emoji_picker_item.emoji_aria_label",defaultMessage:"{emojiName} emoji",values:{emojiName:this.getCurrentEmojiName()}})),this.emojiSearch(),this.emojiCategories(),this.emojiCurrentResults(),i.createElement(Et,{emoji:this.getCurrentEmojiByCursor(this.state.cursor)}))}}vt(Nt,"propTypes",{listHeight:a().number,onEmojiClose:a().func.isRequired,onEmojiClick:a().func.isRequired,customEmojisEnabled:a().bool,emojiMap:a().object.isRequired,recentEmojis:a().array.isRequired,customEmojiPage:a().number.isRequired,visible:a().bool,actions:a().shape({getCustomEmojis:a().func.isRequired,searchCustomEmojis:a().func.isRequired,incrementEmojiPickerPage:a().func.isRequired}).isRequired,filter:a().string.isRequired,handleFilterChange:a().func.isRequired}),vt(Nt,"defaultProps",{listHeight:245,customEmojiPage:0,customEmojisEnabled:!1});const It=(0,u.connect)((function(e){return{customEmojisEnabled:"true"===e.entities.general.config.EnableCustomEmoji,customEmojiPage:e.views.emoji.emojiPickerCustomPage,emojiMap:(0,tt.kM)(e),recentEmojis:(0,tt.Gd)(e)}}),(function(e){return{actions:(0,Xe.bindActionCreators)({getCustomEmojis:$e.cc,searchCustomEmojis:$e.pL,incrementEmojiPickerPage:et.pN},e)}}))(Nt);function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ot extends i.PureComponent{constructor(e){super(e),At(this,"handleEnterEmojiTab",(()=>{this.setState({emojiTabVisible:!0})})),At(this,"handleExitEmojiTab",(()=>{this.setState({emojiTabVisible:!1})})),At(this,"handleEmojiPickerClose",(()=>{this.props.onEmojiClose()})),At(this,"handleFilterChange",(e=>{this.setState({filter:e})})),this.state={emojiTabVisible:!0,filter:""}}render(){let e;!this.props.style||0===this.props.style.left&&0===this.props.style.top||(e="top"===this.props.placement||"bottom"===this.props.placement?{top:this.props.style.top,bottom:this.props.style.bottom,right:this.props.rightOffset}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.style),e.top=e.top?e.top+this.props.topOffset:this.props.topOffset,e.left&&(e.left+=this.props.leftOffset));let t="emoji-picker";return"bottom"===this.props.placement&&(t+=" bottom"),this.props.enableGifPicker&&void 0!==this.props.onGifClick?i.createElement(d.Z,{defaultActiveKey:1,id:"emoji-picker-tabs",style:e,className:t,justified:!0},i.createElement(Qe,{handleEmojiPickerClose:this.handleEmojiPickerClose}),i.createElement(m.Z,{eventKey:1,onEnter:this.handleEnterEmojiTab,onExit:this.handleExitEmojiTab,title:i.createElement(Ye.Z,null)},i.createElement(It,{style:this.props.style,onEmojiClose:this.props.onEmojiClose,onEmojiClick:this.props.onEmojiClick,customEmojis:this.props.customEmojis,visible:this.state.emojiTabVisible,filter:this.state.filter,handleFilterChange:this.handleFilterChange})),i.createElement(m.Z,{eventKey:2,title:i.createElement(Ke,null),mountOnEnter:!0,unmountOnExit:!0},i.createElement(ze,{onGifClick:this.props.onGifClick,defaultSearchText:this.state.filter,handleSearchTextChange:this.handleFilterChange}))):i.createElement("div",{id:"emojiPicker",style:e,className:"a11y__popup ".concat(t," emoji-picker--single")},i.createElement(Qe,{handleEmojiPickerClose:this.handleEmojiPickerClose}),i.createElement(It,{style:this.props.style,onEmojiClose:this.props.onEmojiClose,onEmojiClick:this.props.onEmojiClick,customEmojis:this.props.customEmojis,filter:this.state.filter,handleFilterChange:this.handleFilterChange}))}}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}At(Ot,"propTypes",{style:a().object,rightOffset:a().number,topOffset:a().number,leftOffset:a().number,placement:a().oneOf(["top","bottom","left","right"]),customEmojis:a().object,onEmojiClose:a().func.isRequired,onEmojiClick:a().func.isRequired,onGifClick:a().func,enableGifPicker:a().bool}),At(Ot,"defaultProps",{rightOffset:0,topOffset:0,leftOffset:0});class Dt extends i.PureComponent{constructor(...e){super(...e),Lt(this,"emojiPickerPosition",(0,o.default)((e=>{let t=c.gT.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET;return e&&(t=window.innerWidth-e.getBoundingClientRect().left-c.gT.DEFAULT_EMOJI_PICKER_LEFT_OFFSET,t<c.gT.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET&&(t=c.gT.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET)),t}))),Lt(this,"getPlacement",(0,o.default)(((e,t,n,s)=>{if(e){const a=e.getBoundingClientRect();return(0,l.b)(a,window.innerHeight,t,n,s)}return"top"})))}render(){const{target:e,rightOffset:t,spaceRequiredAbove:n,spaceRequiredBelow:s,defaultHorizontalPosition:a}=this.props,o=void 0===t?this.emojiPickerPosition(e()):t,l=this.getPlacement(e(),n,s,a);return i.createElement(r.Z,{show:this.props.show,placement:l,rootClose:!0,container:this.props.container,onHide:this.props.onHide,target:e,animation:!1},i.createElement(Ot,{enableGifPicker:this.props.enableGifPicker,onEmojiClose:this.props.onHide,onEmojiClick:this.props.onEmojiClick,onGifClick:this.props.onGifClick,rightOffset:o,topOffset:this.props.topOffset,leftOffset:this.props.leftOffset}))}}Lt(Dt,"CENTER_SPACE_REQUIRED_ABOVE",476),Lt(Dt,"CENTER_SPACE_REQUIRED_BELOW",497),Lt(Dt,"RHS_SPACE_REQUIRED_ABOVE",420),Lt(Dt,"RHS_SPACE_REQUIRED_BELOW",420),Lt(Dt,"propTypes",{show:a().bool.isRequired,container:a().func,target:a().func.isRequired,onEmojiClick:a().func.isRequired,onGifClick:a().func,onHide:a().func.isRequired,topOffset:a().number,rightOffset:a().number,leftOffset:a().number,spaceRequiredAbove:a().number,spaceRequiredBelow:a().number,enableGifPicker:a().bool,defaultHorizontalPosition:a().oneOf(["left","right"])}),Lt(Dt,"defaultProps",{spaceRequiredAbove:Dt.CENTER_SPACE_REQUIRED_ABOVE,spaceRequiredBelow:Dt.CENTER_SPACE_REQUIRED_BELOW,enableGifPicker:!1})},47675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=n(67294),r=n(44012);const o=({url:e,messageId:t,defaultMessage:n})=>i.createElement("a",{href:e,rel:"noopener noreferrer",target:"_blank"},i.createElement(r.Z,{id:t,defaultMessage:n}));o.propTypes={url:a().string,messageId:a().string,defaultMessage:a().string},o.defaultProps={url:"",messageId:"",defaultMessage:""};const l=o},56039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(37703),a=n(42560),i=n(45697),r=n.n(i),o=(n(33948),n(67294)),l=n(85174);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.PureComponent{constructor(...e){super(...e),c(this,"isSVGImage",(()=>this.props.imageMetadata?"svg"===this.props.imageMetadata.format:-1!==this.props.src.indexOf(".svg"))),c(this,"shouldRenderImage",(()=>this.props.enableSVGs||!this.isSVGImage()))}render(){let e=(0,l.Q4)(this.props.src,this.props.hasImageProxy);return this.shouldRenderImage()||(e=""),this.props.children(e)}}c(d,"propTypes",{children:r().func.isRequired,enableSVGs:r().bool.isRequired,hasImageProxy:r().bool.isRequired,src:r().string.isRequired});const m=(0,s.connect)((function(e){const t=(0,a.iE)(e);return{enableSVGs:"true"===t.EnableSVGs,hasImageProxy:"true"===t.HasImageProxy}}))(d)},97198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var s,a,i,r=n(37703),o=n(42560),l=n(45697),c=n.n(l),d=n(67294),m=n(76279),u=n(92337),p=n(74935);class h extends d.PureComponent{render(){const{fileInfo:e}=this.props,t=(0,p.LM)(e.extension);let n;if(t===u.ml.IMAGE){let t="post-image";e.width<u.ZP.THUMBNAIL_WIDTH&&e.height<u.ZP.THUMBNAIL_HEIGHT?t+=" small":t+=" normal";let n=(0,m.Ag)(e.id);return(0,p.Qf)(e.extension)&&!e.has_preview_image&&(n=(0,m.qm)(e.id)),d.createElement("div",{className:t,style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"cover"}})}return n=e.extension===u.ml.SVG&&this.props.enableSVGs?d.createElement("img",{alt:"file thumbnail image",className:"post-image normal",src:(0,m.qm)(e.id)}):d.createElement("div",{className:"file-icon "+(0,p.Wx)(t)}),n}}s=h,a="propTypes",i={enableSVGs:c().bool.isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;const g=(0,r.connect)((function(e){return{enableSVGs:"true"===(0,o.iE)(e).EnableSVGs}}))(h)},98543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var s,a,i,r=n(45697),o=n.n(r),l=n(67294),c=n(19728),d=n(76279),m=n(15558),u=n(1823),p=n(60291),h=n(74935);class g extends l.PureComponent{render(){const{canDownload:e,children:t,compactDisplay:n,fileInfo:s,handleImageClick:a,iconClass:i}=this.props,r=s.name,o=(0,p.eE)(r);let g;return g=n?l.createElement(m.Z,{delayShow:1e3,placement:"top",overlay:l.createElement(c.Z,{id:"file-name__tooltip"},r)},l.createElement("a",{id:"file-attachment-link",href:"#",onClick:a,className:"post-image__name",rel:"noopener noreferrer"},l.createElement(u.Z,{className:"icon"}),o)):e?l.createElement("div",{className:i||"post-image__name"},l.createElement(m.Z,{delayShow:1e3,placement:"top",overlay:l.createElement(c.Z,{id:"file-name__tooltip"},(0,h._u)("view_image_popover.download","Download"))},l.createElement("a",{href:(0,d.gN)(s.id),"aria-label":(0,h._u)("view_image_popover.download","Download").toLowerCase(),download:r,target:"_blank",rel:"noopener noreferrer"},t||o))):l.createElement("span",{className:"post-image__name"},o),g}}s=g,a="propTypes",i={handleImageClick:o().func,compactDisplay:o().bool,canDownload:o().bool,children:o().node,iconClass:o().string},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i},75515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var s=n(37703),a=n(43832),i=n(42560),r=n(6602),o=n(51),l=n(45697),c=n.n(l),d=n(67294),m=n(76279),u=n(92337),p=n(74935),h=n(60291),g=n(98543),f=n(97198);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends d.PureComponent{constructor(e){super(e),b(this,"mounted",!1),b(this,"loadFiles",(()=>{const e=this.props.fileInfo;if((0,p.LM)(e.extension)===u.ml.IMAGE){const t=(0,m.Ag)(e.id);(0,p.po)(t,this.handleImageLoaded)}else e.extension===u.ml.SVG&&this.props.enableSVGs&&(0,p.po)((0,m.qm)(e.id),this.handleImageLoaded)})),b(this,"handleImageLoaded",(()=>{this.mounted&&this.setState({loaded:!0})})),b(this,"onAttachmentClick",(e=>{e.preventDefault(),"blur"in e.target&&e.target.blur(),this.props.handleImageClick&&this.props.handleImageClick(this.props.index)})),this.state={loaded:(0,p.LM)(e.fileInfo.extension)!==u.ml.IMAGE,fileInfo:e.fileInfo}}componentDidMount(){this.mounted=!0,this.loadFiles()}static getDerivedStateFromProps(e,t){if(e.fileInfo.id!==t.fileInfo.id){const t=e.fileInfo.extension;return{loaded:(0,p.LM)(t)!==u.ml.IMAGE&&!(e.enableSVGs&&t===u.ml.SVG),fileInfo:e.fileInfo}}return null}componentDidUpdate(e){this.state.loaded||this.props.fileInfo.id===e.fileInfo.id||this.loadFiles()}componentWillUnmount(){this.mounted=!1}render(){const{compactDisplay:e,fileInfo:t}=this.props,n=(0,h.eE)(t.name);let s,a;const i="".concat((0,p._u)("file_attachment.thumbnail","file thumbnail")," ").concat(t.name).toLowerCase();let r;return e||(s=d.createElement("a",{"aria-label":i,className:"post-image__thumbnail",href:"#",onClick:this.onAttachmentClick},this.state.loaded?d.createElement(f.Z,{fileInfo:t}):d.createElement("div",{className:"post-image__load"})),a=d.createElement("div",{className:"post-image__detail_wrapper",onClick:this.onAttachmentClick},d.createElement("div",{className:"post-image__detail"},d.createElement("span",{className:"post-image__name"},n),d.createElement("span",{className:"post-image__type"},t.extension.toUpperCase()),d.createElement("span",{className:"post-image__size"},(0,p.eA)(t.size))))),this.props.canDownloadFiles&&(r=d.createElement(g.Z,{fileInfo:t,compactDisplay:e,canDownload:this.props.canDownloadFiles,handleImageClick:this.onAttachmentClick,iconClass:"post-image__download"},d.createElement("i",{className:"icon icon-download-outline"}))),d.createElement("div",{className:"post-image__column"},s,d.createElement("div",{className:"post-image__details"},a,r))}}b(_,"propTypes",{index:c().number.isRequired,handleImageClick:c().func,compactDisplay:c().bool,canDownloadFiles:c().bool,enableSVGs:c().bool.isRequired});const E=(0,s.connect)((function(e){const t=(0,i.iE)(e);return{canDownloadFiles:(0,h.qL)(t),enableSVGs:"true"===t.EnableSVGs}}))(_);var C=n(14890),y=n(34959),v=n(67844),w=n(42329),S=n(78335);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends d.PureComponent{constructor(e){var t,n;super(e),T(this,"mounted",void 0),T(this,"imageLoaded",(()=>{this.mounted&&this.setState({loaded:!0})})),T(this,"handleImageClick",(e=>{e.preventDefault(),this.setState({showPreviewModal:!0})})),T(this,"showPreviewModal",(()=>{this.setState({showPreviewModal:!1})})),T(this,"toggleEmbedVisibility",(()=>{this.props.actions.toggleEmbedVisibility(this.props.postId)})),this.mounted=!0,this.state={loaded:!1,showPreviewModal:!1,dimensions:{width:(null===(t=e.fileInfo)||void 0===t?void 0:t.width)||0,height:(null===(n=e.fileInfo)||void 0===n?void 0:n.height)||0}}}componentDidMount(){this.mounted=!0}static getDerivedStateFromProps(e,t){var n,s,a;return(null===(n=e.fileInfo)||void 0===n?void 0:n.width)!==t.dimensions.width||e.fileInfo.height!==t.dimensions.height?{dimensions:{width:null===(s=e.fileInfo)||void 0===s?void 0:s.width,height:null===(a=e.fileInfo)||void 0===a?void 0:a.height}}:null}componentWillUnmount(){this.mounted=!1}render(){const{fileInfo:e,compactDisplay:t}=this.props,{loaded:n}=this.state;if(void 0===e)return d.createElement(d.Fragment,null);const{has_preview_image:s,id:a}=e,i=(0,m.qm)(a),r=s?(0,m.iY)(a):i,o=e.height,l=e.width;let c="";(l<50||o<50)&&(c="min-preview ",o>l&&(c+="min-preview--portrait ")),t&&(c+=" compact-display");const h=d.createElement("button",{key:"toggle",className:"style--none post__embed-visibility","data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.toggleEmbedVisibility});let g="image-name";t&&(g+=" compact-display");const f=d.createElement("div",{className:"image-header"},d.createElement("div",{"data-testid":"image-name",className:g},d.createElement("div",{onClick:this.handleImageClick},e.name)),h);let b,_="",E={},C={},y="";return(0,p.LM)(e.extension)===u.ml.SVG&&(y="svg",this.state.dimensions.height?E={width:"100%"}:C={height:350,maxWidth:"100%"}),n&&(b=d.createElement(S.Z,{show:this.state.showPreviewModal,onModalDismissed:this.showPreviewModal,fileInfos:[e],postId:this.props.postId}),_="image-fade-in"),d.createElement("div",{className:"file-view--single"},d.createElement("div",{className:"file__image"},f,this.props.isEmbedVisible&&d.createElement("div",{className:"image-container",style:C},d.createElement("div",{className:"image-loaded ".concat(_," ").concat(y),style:E},d.createElement(w.Z,{onClick:this.handleImageClick,className:c,src:r,dimensions:this.state.dimensions,fileInfo:this.props.fileInfo,onImageLoaded:this.imageLoaded,showLoader:this.props.isEmbedVisible,handleSmallImageContainer:!0}))),b))}}T(P,"propTypes",{postId:c().string.isRequired,isRhsOpen:c().bool.isRequired,compactDisplay:c().bool,isEmbedVisible:c().bool,actions:c().shape({toggleEmbedVisibility:c().func.isRequired}).isRequired}),T(P,"defaultProps",{compactDisplay:!1});const M=(0,s.connect)((function(e){return{isRhsOpen:(0,v.aC)(e)}}),(function(e){return{actions:(0,C.bindActionCreators)({toggleEmbedVisibility:y.bV},e)}}))(P);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends d.PureComponent{constructor(e){super(e),N(this,"handleImageClick",(e=>{this.setState({showPreviewModal:!0,startImgIndex:e})})),N(this,"hidePreviewModal",(()=>{this.setState({showPreviewModal:!1})})),this.state={showPreviewModal:!1,startImgIndex:0}}render(){const{compactDisplay:e,enableSVGs:t,fileInfos:n,fileCount:s,locale:a}=this.props;if(n&&1===n.length){const s=(0,p.LM)(n[0].extension);if(s===u.ml.IMAGE||s===u.ml.SVG&&t)return d.createElement(M,{fileInfo:n[0],isEmbedVisible:this.props.isEmbedVisible,postId:this.props.post.id,compactDisplay:e})}else if(1===s&&this.props.isEmbedVisible)return d.createElement("div",{style:R.minHeightPlaceholder});const i=(0,m.Vi)(n,a),r=[];if(i&&i.length>0)for(let t=0;t<i.length;t++){const n=i[t];r.push(d.createElement(E,{key:n.id,fileInfo:i[t],index:t,handleImageClick:this.handleImageClick,compactDisplay:e}))}else if(s>0)for(let e=0;e<s;e++)r.push(d.createElement("div",{key:"fileCount-".concat(e),className:"post-image__column post-image__column--placeholder"}));return d.createElement(d.Fragment,null,d.createElement("div",{"data-testid":"fileAttachmentList",className:"post-image__columns clearfix"},r),d.createElement(S.Z,{show:this.state.showPreviewModal,onModalDismissed:this.hidePreviewModal,startIndex:this.state.startImgIndex,fileInfos:i,postId:this.props.post.id}))}}N(I,"propTypes",{fileCount:c().number.isRequired,fileInfos:c().array.isRequired,compactDisplay:c().bool,enableSVGs:c().bool,isEmbedVisible:c().bool,locale:c().string.isRequired});const R={minHeightPlaceholder:{minHeight:"385px"}},A=(0,s.connect)((function(){const e=(0,a.Tw)();return function(t,n){const s=n.post?n.post.id:"",a=e(t,s);let l=0;return n.post.metadata&&n.post.metadata.files?l=(n.post.metadata.files||[]).length:n.post.file_ids?l=n.post.file_ids.length:n.post.filenames&&(l=n.post.filenames.length),{enableSVGs:"true"===(0,i.iE)(t).EnableSVGs,fileInfos:a,fileCount:l,isEmbedVisible:(0,o.Y_)(t,n.post.id),locale:(0,r.B)(t)}}}))(I)},80463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s,a,i,r=n(37703),o=n(42560),l=n(60291),c=n(45697),d=n.n(c),m=n(67294),u=n(74935);class p extends m.PureComponent{render(){const e=this.props.fileInfo,t=this.props.fileUrl,n=[];""!==e.extension&&n.push(u._u("file_info_preview.type","File type ")+e.extension.toUpperCase()),e.size&&n.push(u._u("file_info_preview.size","Size ")+u.eA(e.size));const s=n.join(", ");let a=null;return a=this.props.canDownloadFiles?m.createElement("a",{className:"file-details__preview",href:t,target:"_blank",rel:"noopener noreferrer"},m.createElement("span",{className:"file-details__preview-helper"}),m.createElement("img",{alt:"file preview",src:u.c2(e)})):m.createElement("span",{className:"file-details__preview"},m.createElement("span",{className:"file-details__preview-helper"}),m.createElement("img",{alt:"file preview",src:u.c2(e)})),m.createElement("div",{className:"file-details__container"},a,m.createElement("div",{className:"file-details"},m.createElement("div",{className:"file-details__name"},e.name),m.createElement("div",{className:"file-details__info"},s)))}}s=p,a="propTypes",i={fileInfo:d().shape({name:d().string.isRequired,extension:d().string.isRequired,size:d().number.isRequired}).isRequired,fileUrl:d().string.isRequired,canDownloadFiles:d().bool.isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;const h=(0,r.connect)((function(e){const t=(0,o.iE)(e);return{canDownloadFiles:(0,l.qL)(t)}}))(p)},13685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var s=n(37703),a=n(42560),i=n(45697),r=n.n(i),o=(n(33948),n(67294)),l=n(76279),c=n(98543),d=n(92337),m=n(74935),u=(n(56977),n(44012)),p=n(29590),h=n(60291);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.PureComponent{constructor(...e){super(...e),g(this,"handleRemove",(()=>{this.props.handleRemove(this.props.clientId)}))}render(){let e,t,n,s=0;const{fileInfo:a,clientId:i}=this.props;if(a){s=a.percent?a.percent:0;const i=" (".concat(s.toFixed(0),"%)"),r=(0,h.s1)(a.type);t=o.createElement("div",{className:"file-icon "+m.Wx(r)}),e=o.createElement(o.Fragment,null,o.createElement(c.Z,{fileInfo:a,compactDisplay:!1,canDownload:!1}),o.createElement("span",{className:"post-image__uploadingTxt"},100===s?o.createElement(u.Z,{id:"create_post.fileProcessing",defaultMessage:"Processing..."}):o.createElement(o.Fragment,null,o.createElement(u.Z,{id:"admin.plugin.uploading",defaultMessage:"Uploading..."}),o.createElement("span",null,i)))),s&&(n=o.createElement(p.Z,{className:"post-image__progressBar",now:s,active:100===s}))}return o.createElement("div",{ref:i,key:i,className:"file-preview post-image__column","data-client-id":i},o.createElement("div",{className:"post-image__thumbnail"},t),o.createElement("div",{className:"post-image__details"},o.createElement("div",{className:"post-image__detail_wrapper"},o.createElement("div",{className:"post-image__detail"},e)),o.createElement("div",null,o.createElement("a",{className:"file-preview__remove",onClick:this.handleRemove},o.createElement("i",{className:"icon icon-close"}))),n))}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g(f,"propTypes",{handleRemove:r().func.isRequired,clientId:r().string.isRequired});class _ extends o.PureComponent{constructor(...e){super(...e),b(this,"handleRemove",(e=>{this.props.onRemove(e)}))}render(){const e=[];if(this.props.fileInfos.forEach((t=>{const n=m.LM(t.extension);let s,a="file-preview post-image__column";if(n===d.ml.SVG&&this.props.enableSVGs)s=o.createElement("img",{alt:"file preview",className:"post-image normal",src:(0,l.qm)(t.id)});else if(n===d.ml.IMAGE){let e="post-image";t.width&&t.width<d.ZP.THUMBNAIL_WIDTH&&t.height&&t.height<d.ZP.THUMBNAIL_HEIGHT?e+=" small":e+=" normal";let n=(0,l.Ag)(t.id);m.Qf(t.extension)&&!t.has_preview_image&&(n=(0,l.qm)(t.id)),s=o.createElement("div",{className:e,style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"cover"}})}else a+=" custom-file",s=o.createElement("div",{className:"file-icon "+m.Wx(n)});e.push(o.createElement("div",{key:t.id,className:a},o.createElement("div",{className:"post-image__thumbnail"},s),o.createElement("div",{className:"post-image__details"},o.createElement("div",{className:"post-image__detail_wrapper"},o.createElement("div",{className:"post-image__detail"},o.createElement(c.Z,{fileInfo:t,compactDisplay:!1,canDownload:!1}),t.extension&&o.createElement("span",{className:"post-image__type"},t.extension.toUpperCase()),o.createElement("span",{className:"post-image__size"},m.eA(t.size)))),o.createElement("div",null,o.createElement("a",{className:"file-preview__remove",onClick:this.handleRemove.bind(this,t.id)},o.createElement("i",{className:"icon icon-close"}))))))})),this.props.uploadsInProgress&&this.props.uploadsProgressPercent){const t=this.props.uploadsProgressPercent;this.props.uploadsInProgress.forEach((n=>{const s=t[n];s&&e.push(o.createElement(f,{key:n,clientId:n,fileInfo:s,handleRemove:this.handleRemove}))}))}return o.createElement("div",{className:"file-preview__container",ref:"container"},e)}}b(_,"propTypes",{enableSVGs:r().bool.isRequired,onRemove:r().func.isRequired,fileInfos:r().array,uploadsInProgress:r().arrayOf(r().string)}),b(_,"defaultProps",{fileInfos:[],uploadsInProgress:[],uploadsProgressPercent:{}});const E=(0,s.connect)((function(e){return{enableSVGs:"true"===(0,a.iE)(e).EnableSVGs}}))(_)},49671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var s=n(45697),a=n.n(s),i=n(67294),r=n(19728),o=n(44012),l=n(74935),c=n(89262),d=n(12266),m=n(92337),u=n(15558),p=n(15240),h=n(17189),g=n(38122),f=n(97198),b=n(49801),_=n(78335);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=[b.ap.aS,b.ap.o$];class y extends i.PureComponent{constructor(e){super(e),E(this,"jumpToConv",(e=>{e.stopPropagation(),c.m.push("/".concat(this.props.teamName,"/pl/").concat(this.props.fileInfo.post_id))})),E(this,"copyLink",(()=>{(0,l.vQ)("".concat((0,d.fO)(),"/").concat(this.props.teamName,"/pl/").concat(this.props.fileInfo.post_id))})),E(this,"stopPropagation",(e=>{e.stopPropagation()})),E(this,"keepOpen",(e=>{this.setState({keepOpen:e})})),this.state={keepOpen:!1,showPreview:!1}}render(){const{fileInfo:e,channelDisplayName:t,channelType:n}=this.props;let s=t;return n===m.ZP.DM_CHANNEL?s=i.createElement(o.Z,{id:"search_item.file_badge.direct_message",defaultMessage:"Direct Message"}):n===m.ZP.GM_CHANNEL&&(s=i.createElement(o.Z,{id:"search_item.file_badge.group_message",defaultMessage:"Group Message"})),i.createElement("div",{"data-testid":"search-item-container",className:"search-item__container"},i.createElement("button",{className:"FileSearchResultItem"+(this.state.keepOpen?" keep-open":""),onClick:()=>this.setState({showPreview:!0})},i.createElement(f.Z,{fileInfo:e}),i.createElement("div",{className:"fileData"},i.createElement("div",{className:"fileDataName"},e.name),i.createElement("div",{className:"fileMetadata"},s&&i.createElement(h.Z,{className:"file-search-channel-name"},s),i.createElement("span",null,(0,l.eA)(e.size)),i.createElement("span",null," • "),i.createElement(b.ZP,{value:e.create_at,ranges:C}))),i.createElement(u.Z,{delayShow:1e3,placement:"top",overlay:i.createElement(r.Z,{id:"file-name__tooltip"},(0,l._u)("file_search_result_item.more_actions","More Actions"))},i.createElement(g.Z,{onToggle:this.keepOpen,stopPropagationOnToggle:!0},i.createElement("a",{href:"#",className:"action-icon dots-icon"},i.createElement("i",{className:"icon icon-dots-vertical"})),i.createElement(p.Z,{ariaLabel:"file menu",openLeft:!0},i.createElement(p.Z.ItemAction,{onClick:this.jumpToConv,ariaLabel:(0,l._u)("file_search_result_item.open_in_channel","Open in channel"),text:(0,l._u)("file_search_result_item.open_in_channel","Open in channel")}),i.createElement(p.Z.ItemAction,{onClick:this.copyLink,ariaLabel:(0,l._u)("file_search_result_item.copy_link","Copy link"),text:(0,l._u)("file_search_result_item.copy_link","Copy link")})))),i.createElement(u.Z,{delayShow:1e3,placement:"top",overlay:i.createElement(r.Z,{id:"file-name__tooltip"},(0,l._u)("file_search_result_item.download","Download"))},i.createElement("a",{className:"action-icon download-icon",href:"/api/v1/files/".concat(e.id,"?download=1"),onClick:this.stopPropagation},i.createElement("i",{className:"icon icon-download-outline"})))),i.createElement(_.Z,{show:this.state.showPreview,onModalDismissed:()=>this.setState({showPreview:!1}),startIndex:0,fileInfos:[this.props.fileInfo],postId:this.props.fileInfo.post_id}))}}E(y,"propTypes",{channelDisplayName:a().string.isRequired,channelType:a().string.isRequired,teamName:a().string.isRequired})},62788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var s=n(37703),a=n(14890),i=n(42560),r=n(81375),o=n(80569),l=n.n(o),c=n(70082),d=n(47590),m=n(60871),u=n(11106),p=n(74935);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,s,a){return s=>(s({type:c.ml.UPLOAD_FILES_REQUEST}),l().post(u.je.getFilesRoute()).set(u.je.getOptions({method:"post"}).headers).field("channel_id",n).field("client_ids",a).attach("files",e,t).accept("application/json"))}function _(e,t,n,s,a,{err:i,res:o}){return(e,t)=>{if(i){let l;l=o&&o.body&&o.body.id?o.body:0!==i.status&&i.status?{message:p._u("channel_loader.unknown_error","We received an unexpected status code from the server.")+" ("+i.status+")"}:{message:p._u("file_upload.generic_error","There was a problem uploading your files.")},(0,m._f)(i,e,t);const u={type:c.ml.UPLOAD_FILES_FAILURE,clientIds:[a],channelId:n,rootId:s,error:i};return e((0,r.$C)([u,(0,d.mF)(i)])),{error:l}}const l=o.body.file_infos.map(((e,t)=>g(g({},e),{},{clientId:o.body.client_ids[t]})));return e((0,r.$C)([{type:c.ml.RECEIVED_UPLOAD_FILES,data:l,channelId:n,rootId:s},{type:c.ml.UPLOAD_FILES_SUCCESS}])),{data:o.body}}}var E=n(6602),C=n(60291),y=(n(19601),n(33948),n(32023),n(23123),n(45697)),v=n.n(y),w=n(67294),S=n(73935),T=n(50049),P=n(44012),M=n(74806),N=n(92337),I=n(8142),R=n(82251),A=n(47470),O=n(14906),L=n(72654),D=n(38122),k=n(15240),x=n(1823);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F=(0,T.vU)({limited:{id:(0,R.t)("file_upload.limited"),defaultMessage:"Uploads limited to {count, number} files maximum. Please use additional posts for more files."},filesAbove:{id:(0,R.t)("file_upload.filesAbove"),defaultMessage:"Files above {max}MB could not be uploaded: {filenames}"},fileAbove:{id:(0,R.t)("file_upload.fileAbove"),defaultMessage:"File above {max}MB could not be uploaded: {filename}"},zeroBytesFiles:{id:(0,R.t)("file_upload.zeroBytesFiles"),defaultMessage:"You are uploading empty files: {filenames}"},zeroBytesFile:{id:(0,R.t)("file_upload.zeroBytesFile"),defaultMessage:"You are uploading an empty file: {filename}"},pasted:{id:(0,R.t)("file_upload.pasted"),defaultMessage:"Image Pasted at "},uploadFile:{id:(0,R.t)("file_upload.upload_files"),defaultMessage:"Upload files"}}),H={left:"inherit",right:0,bottom:"100%",top:"auto"};class q extends w.PureComponent{constructor(e){super(e),j(this,"fileUploadSuccess",((e,t,n)=>{if(e){this.props.onFileUpload(e.file_infos,e.client_ids,t,n);const a=Object.assign({},this.state.requests);for(var s=0;s<e.client_ids.length;s++)Reflect.deleteProperty(a,e.client_ids[s]);this.setState({requests:a})}})),j(this,"fileUploadFail",((e,t,n,s)=>{this.props.onUploadError(e,t,n,s)})),j(this,"pluginUploadFiles",(e=>{this.props.onUploadError(null),this.uploadFiles(e)})),j(this,"checkPluginHooksAndUploadFiles",(e=>{this.props.onUploadError(null);let t=Array.from(e).sort(((e,t)=>e.name.localeCompare(t.name,this.props.locale,{numeric:!0})));const n=this.props.pluginFilesWillUploadHooks;for(const e of n){const n=e.hook(t,this.pluginUploadFiles);n.message&&this.props.onUploadError(n.message),t=n.files}t&&this.uploadFiles(t)})),j(this,"uploadFiles",(e=>{const{channelId:t,rootId:n}=this.props,s=N.ZP.MAX_UPLOAD_FILES-this.props.fileCount;let a=0;const i=[],r=[],o=[];for(let l=0;l<e.length&&a<s;l++){if(e[l].size>this.props.maxFileSize){i.push(e[l]);continue}0===e[l].size&&r.push(e[l]);const s=(0,p.Ox)(),c=this.props.actions.uploadFile(e[l],e[l].name,t,n,s);c.on("progress",(t=>{this.props.onUploadProgress({clientId:s,name:e[l].name,percent:t.percent,type:e[l].type})})),c.end(((a,i)=>{const{error:r,data:o}=this.props.actions.handleFileUploadEnd(e[l],e[l].name,t,n,s,{err:a,res:i});r?this.fileUploadFail(r,s,t,n):o&&this.fileUploadSuccess(o,t,n)})),this.setState({requests:Z(Z({},this.state.requests),{},{[s]:c})}),o.push(s),a+=1}this.props.onUploadStart(o,t);const{formatMessage:l}=this.props.intl,c=[];if(e.length>s&&c.push(l(F.limited,{count:N.ZP.MAX_UPLOAD_FILES})),i.length>1){var d=i.map((e=>e.name)).join(", ");c.push(l(F.filesAbove,{max:this.props.maxFileSize/1048576,filenames:d}))}else i.length>0&&c.push(l(F.fileAbove,{max:this.props.maxFileSize/1048576,filename:i[0].name}));if(r.length>1){var m=r.map((e=>e.name)).join(", ");c.push(l(F.zeroBytesFiles,{filenames:m}))}else r.length>0&&c.push(l(F.zeroBytesFile,{filename:r[0].name}));c.length>0&&this.props.onUploadError(c.join(", "))})),j(this,"handleChange",(e=>{e.target.files.length>0&&(this.checkPluginHooksAndUploadFiles(e.target.files),(0,p.Mb)(e.target)),this.props.onFileUploadChange()})),j(this,"handleDrop",(e=>{if(!this.props.canUploadFiles)return void this.props.onUploadError((0,p._u)("file_upload.disabled","File attachments are disabled."));this.props.onUploadError(null);const t=e.dataTransfer.items||[],n=e.dataTransfer.files,s=[];Array.from(n).forEach(((e,n)=>{const a=t[n];a&&a.webkitGetAsEntry&&(null===a.webkitGetAsEntry()||a.webkitGetAsEntry().isDirectory)||s.push(e)}));const a=e.dataTransfer.types;if(a){if((0,p.z8)(e.dataTransfer))return;if(a.includes&&!a.includes("Files"))return;if(a.contains&&!a.contains("Files"))return}0!==s.length?(s.length&&this.checkPluginHooksAndUploadFiles(s),this.props.onFileUploadChange()):this.props.onUploadError((0,p._u)("file_upload.drag_folder","Folders cannot be uploaded. Please drag all files separately."))})),j(this,"registerDragEvents",((e,t)=>{const n=this,s=document.querySelector(t),a=new I.Z((()=>{s.classList.add("hidden")}));let i={};i=this.props.canUploadFiles?{enter(e){var t=e.detail.dataTransfer;!(0,p.z8)(t)&&(0,p.LK)(t)&&s.classList.remove("hidden")},leave(e){var t=e.detail.dataTransfer;!(0,p.z8)(t)&&(0,p.LK)(t)&&s.classList.add("hidden"),a.cancel()},over(){a.fireAfter(500)},drop(e){s.classList.add("hidden"),a.cancel(),n.handleDrop(e.detail)}}:{drop(e){n.handleDrop(e.detail)}},this.unbindDragsterEvents=function(e,t){const n=()=>{},s={enter:n,leave:n,over:n,drop:n},a=Object.assign(s,t),i=document.querySelector(e);if(!i)return n;let r=!1,o=!1;const l=e=>{if(r)return void(o=!0);r=!0;const t=new CustomEvent("dragster:enter",{detail:e});i.dispatchEvent(t),e.preventDefault()},c=e=>{if(o?o=!1:r&&(r=!1),!r&&!o){const t=new CustomEvent("dragster:leave",{detail:e});i.dispatchEvent(t)}e.preventDefault()},d=e=>{const t=new CustomEvent("dragster:over",{detail:e});i.dispatchEvent(t),e.preventDefault()},m=e=>{if(o?o=!1:r&&(r=!1),!r&&!o){const t=new CustomEvent("dragster:drop",{detail:e});i.dispatchEvent(t)}e.preventDefault()};return i.addEventListener("dragenter",l),i.addEventListener("dragleave",c),i.addEventListener("dragover",d),i.addEventListener("drop",m),i.addEventListener("dragster:enter",a.enter),i.addEventListener("dragster:leave",a.leave),i.addEventListener("dragster:over",a.over),i.addEventListener("dragster:drop",a.drop),()=>{i.removeEventListener("dragenter",l),i.removeEventListener("dragleave",c),i.removeEventListener("dragover",d),i.removeEventListener("drop",m),i.removeEventListener("dragster:enter",a.enter),i.removeEventListener("dragster:leave",a.leave),i.removeEventListener("dragster:over",a.over),i.removeEventListener("dragster:drop",a.drop)}}(e,i)})),j(this,"containsEventTarget",((e,t)=>e&&e.contains(t))),j(this,"pasteUpload",(e=>{const{formatMessage:t}=this.props.intl;if(!e.clipboardData||!e.clipboardData.items||(0,O.hC)(e.clipboardData))return;const n=this.props.getTarget(),s=S.findDOMNode(n);if(!this.containsEventTarget(s,e.target))return;this.props.onUploadError(null);const a=[];for(let t=0;t<e.clipboardData.items.length;t++){const n=e.clipboardData.items[t];"file"===n.kind&&a.push(n)}if(a&&a.length>0){if(!this.props.canUploadFiles)return void this.props.onUploadError((0,p._u)("file_upload.disabled","File attachments are disabled."));e.preventDefault();const n=[];for(let e=0;e<a.length;e++){const s=a[e].getAsFile();if(!s)continue;var i=new Date;let o=i.getHours();o=o<10?"0".concat(o):"".concat(o);let l=i.getMinutes();l=l<10?"0".concat(l):"".concat(l);var r="";s.name?s.name.includes(".")&&(r=s.name.substr(s.name.lastIndexOf("."))):a[e].type.includes("/")&&(r="."+a[e].type.split("/")[1].toLowerCase());const c=t(F.pasted)+i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+o+"-"+l+r,d=new Blob([s],{type:s.type});d.name=c,n.push(d)}n.length>0&&(this.checkPluginHooksAndUploadFiles(n),this.props.onFileUploadChange())}})),j(this,"keyUpload",(e=>{if((0,p._E)(e)&&(0,p.pD)(e,N.ZP.KeyCodes.U)){if(e.preventDefault(),!this.props.canUploadFiles)return void this.props.onUploadError((0,p._u)("file_upload.disabled","File attachments are disabled."));const t="post"===this.props.postType&&"post_textbox"===document.activeElement.id,n="comment"===this.props.postType&&"reply_textbox"===document.activeElement.id;(t||n)&&(this.fileInput.current.focus(),this.fileInput.current.click())}})),j(this,"cancelUpload",(e=>{const t=Object.assign({},this.state.requests),n=t[e];n&&(n.abort(),Reflect.deleteProperty(t,e),this.setState({requests:t}))})),j(this,"handleMaxUploadReached",(e=>{e&&e.preventDefault();const{onUploadError:t}=this.props,{formatMessage:n}=this.props.intl;t(n(F.limited,{count:N.ZP.MAX_UPLOAD_FILES}))})),j(this,"toggleMenu",(e=>{this.setState({menuOpen:e})})),j(this,"handleLocalFileUploaded",(e=>{N.ZP.MAX_UPLOAD_FILES-this.props.fileCount>0?this.props.onClick&&this.props.onClick():this.handleMaxUploadReached(e),this.setState({menuOpen:!1})})),j(this,"simulateInputClick",(e=>{e.preventDefault(),e.stopPropagation(),this.fileInput.current.click()})),this.state={requests:{},menuOpen:!1},this.fileInput=w.createRef()}componentDidMount(){"post"===this.props.postType?this.registerDragEvents(".row.main",".center-file-overlay"):"comment"===this.props.postType&&this.registerDragEvents(".post-right__container",".right-file-overlay"),document.addEventListener("paste",this.pasteUpload),document.addEventListener("keydown",this.keyUpload)}componentWillUnmount(){document.removeEventListener("paste",this.pasteUpload),document.removeEventListener("keydown",this.keyUpload),this.unbindDragsterEvents()}render(){const{formatMessage:e}=this.props.intl;let t=!0;(0,A.k)()&&(t=!1);let n="";(0,A.my)()&&(n="image/*");const s=N.ZP.MAX_UPLOAD_FILES-this.props.fileCount;let a;const i=e({id:"accessibility.button.attachment",defaultMessage:"attachment"});if(0===this.props.pluginFileUploadMethods.length)a=w.createElement("div",null,w.createElement("button",{type:"button",id:"fileUploadButton","aria-label":i,className:"style--none post-action icon icon--attachment",onClick:this.simulateInputClick,onTouchEnd:this.simulateInputClick},w.createElement(x.Z,{className:"d-flex"})),w.createElement("input",{id:"fileUploadInput",tabIndex:"-1","aria-label":e(F.uploadFile),ref:this.fileInput,type:"file",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:n}));else{const s=this.props.pluginFileUploadMethods.map((e=>w.createElement("li",{key:e.pluginId+"_fileuploadpluginmenuitem",onClick:()=>{e.action&&e.action(this.checkPluginHooksAndUploadFiles),this.setState({menuOpen:!1})}},w.createElement("a",{href:"#"},w.createElement("span",{className:"mr-2"},e.icon),e.text))));a=w.createElement("div",null,w.createElement("input",{tabIndex:"-1","aria-label":e(F.uploadFile),ref:this.fileInput,type:"file",className:"file-attachment-menu-item-input",onChange:this.handleChange,onClick:this.handleLocalFileUploaded,multiple:t,accept:n}),w.createElement(D.Z,null,w.createElement("button",{type:"button","aria-label":i,className:"style--none post-action"},w.createElement("div",{id:"fileUploadButton",className:"icon icon--attachment"},w.createElement(x.Z,{className:"d-flex"}))),w.createElement(k.Z,{id:"fileUploadOptions",openLeft:!0,openUp:!0,ariaLabel:e({id:"file_upload.menuAriaLabel",defaultMessage:"Upload type selector"}),customStyles:H},w.createElement("li",null,w.createElement("a",{href:"#",onClick:this.simulateInputClick,onTouchEnd:this.simulateInputClick},w.createElement("span",{className:"mr-2"},w.createElement("i",{className:"fa fa-laptop"})),w.createElement(P.Z,{id:"yourcomputer",defaultMessage:"Your computer"}))),s)))}return this.props.canUploadFiles||(a=null),w.createElement("div",{className:s<=0?" style--none btn-file__disabled":"style--none"},a)}}j(q,"propTypes",{channelId:v().string.isRequired,rootId:v().string,fileCount:v().number.isRequired,getTarget:v().func.isRequired,intl:L.gm.isRequired,locale:v().string.isRequired,onClick:v().func,onFileUpload:v().func,onFileUploadChange:v().func,onUploadError:v().func,onUploadStart:v().func,postType:v().string,maxFileSize:v().number,canUploadFiles:v().bool.isRequired,pluginFileUploadMethods:v().arrayOf(v().object),pluginFilesWillUploadHooks:v().arrayOf(v().object),onUploadProgress:v().func.isRequired,actions:v().shape({uploadFile:v().func.isRequired,handleFileUploadEnd:v().func.isRequired}).isRequired}),j(q,"defaultProps",{pluginFileUploadMethods:[],pluginFilesWillUploadHooks:[]});const B=(0,M.ZP)(q,{forwardRef:!0});B.displayName="injectIntl(FileUpload)";const G=B,V=(0,s.connect)((function(e){const t=(0,i.iE)(e);return{maxFileSize:parseInt(t.MaxFileSize,10),canUploadFiles:(0,C.SI)(t),locale:(0,E.B)(e),pluginFileUploadMethods:e.plugins.components.FileUploadMethod,pluginFilesWillUploadHooks:e.plugins.components.FilesWillUploadHook}}),(function(e){return{actions:(0,a.bindActionCreators)({uploadFile:b,handleFileUploadEnd:_},e)}}),null,{forwardRef:!0})(G)},95795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(45697),a=n.n(s),i=(n(33948),n(67294));function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.PureComponent{render(){const{error:e=null,errors:t=[],iconClassName:n,margin:s,textClassName:a,type:r}=this.props;if(!e&&0===t.length)return null;let o=e;if(!o)for(const e of t)e&&(o=e);return o?"modal"===r?i.createElement("div",{className:"form-group"},i.createElement("label",{className:"col-sm-12 has-error"},o)):"backstage"===r?i.createElement("div",{className:"pull-left has-error"},i.createElement("label",{className:"control-label"},o)):s?i.createElement("div",{className:"form-group has-error"},i.createElement("label",{className:"control-label"},o)):i.createElement("div",{className:"col-sm-12 ".concat(a||"has-error")},i.createElement("label",{className:"control-label"},i.createElement("i",{className:"fa ".concat(n||"fa-exclamation-circle")})," ",o)):null}}r(o,"propTypes",{type:a().node,error:a().node,textClassName:a().string,iconClassName:a().string,margin:a().bool,errors:a().arrayOf(a().node)}),r(o,"defaultProps",{error:null,errors:[]})},45288:(e,t,n)=>{"use strict";n.d(t,{r:()=>p,Z:()=>g}),n(33948);var s,a,i,r=n(67294),o=n(74806),l=n(45697),c=n.n(l),d=n(47084),m=n.n(d),u=n(72654);class p extends m().Renderer{constructor(e=!1){super(),this.disableLinks=e}link(e,t,n){return this.disableLinks?n:"!"===e[0]?'<a href="'.concat(e.substring(1,e.length),'" rel="noopener noreferrer" target="_blank">').concat(n,"</a>"):'<a href="'.concat(e,'">').concat(n,"</a>")}paragraph(e){return e}}class h extends r.PureComponent{static get propTypes(){return{intl:u.gm.isRequired,id:c().string.isRequired,defaultMessage:c().string.isRequired,values:c().object,disableLinks:c().bool}}render(){const{intl:e,id:t,defaultMessage:n,values:s,disableLinks:a}=this.props,i=e.formatMessage({id:t,defaultMessage:n},s),o=m()(i,{breaks:!0,sanitize:!0,renderer:new p(a)});return r.createElement("span",{dangerouslySetInnerHTML:{__html:o}})}}i={disableLinks:!1},(a="defaultProps")in(s=h)?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;const g=(0,o.ZP)(h)},11381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),a=n.n(s),i=n(94184),r=n.n(i),o=n(67294),l=n(43253),c=n(44012);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(e){super(e),d(this,"onHide",(()=>{this.setState({show:!1},this.props.onHide)})),d(this,"handleCancel",(e=>{e.preventDefault(),this.props.autoCloseOnCancelButton&&this.onHide(),this.props.handleCancel&&this.props.handleCancel()})),d(this,"handleConfirm",(e=>{e.preventDefault(),this.props.autoCloseOnConfirmButton&&this.onHide(),this.props.handleConfirm&&this.props.handleConfirm()})),this.state={show:e.show}}render(){let e,t;if(this.props.handleConfirm){let t=o.createElement(c.Z,{id:"generic_modal.confirm",defaultMessage:"Confirm"});this.props.confirmButtonText&&(t=this.props.confirmButtonText),e=o.createElement("button",{type:"submit",className:r()("GenericModal__button confirm ".concat(this.props.confirmButtonClassName),{disabled:this.props.isConfirmDisabled}),onClick:this.handleConfirm,disabled:this.props.isConfirmDisabled},t)}if(this.props.handleCancel){let e=o.createElement(c.Z,{id:"generic_modal.cancel",defaultMessage:"Cancel"});this.props.cancelButtonText&&(e=this.props.cancelButtonText),t=o.createElement("button",{type:"button",className:"GenericModal__button cancel",onClick:this.handleCancel},e)}return o.createElement(l.Z,{dialogClassName:r()("a11y__modal GenericModal",this.props.className),show:this.state.show,onHide:this.onHide,onExited:this.onHide,enforceFocus:this.props.enforceFocus,restoreFocus:!0,role:"dialog","aria-labelledby":"genericModalLabel",id:this.props.id},o.createElement(l.Z.Header,{closeButton:!0}),o.createElement("form",null,o.createElement(l.Z.Body,null,o.createElement("div",{className:"GenericModal__header"},o.createElement("h1",{id:"genericModalLabel"},this.props.modalHeaderText)),o.createElement("div",{className:"GenericModal__body"},this.props.children)),o.createElement(l.Z.Footer,null,t,e)))}}d(m,"propTypes",{className:a().string,onHide:a().func.isRequired,modalHeaderText:a().node.isRequired,show:a().bool,handleCancel:a().func,handleConfirm:a().func,confirmButtonText:a().node,confirmButtonClassName:a().string,cancelButtonText:a().node,isConfirmDisabled:a().bool,id:a().string,autoCloseOnCancelButton:a().bool,autoCloseOnConfirmButton:a().bool,enforceFocus:a().bool}),d(m,"defaultProps",{show:!0,id:"genericModal",autoCloseOnCancelButton:!0,autoCloseOnConfirmButton:!0,enforceFocus:!0})},53066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c}),n(33948);var s=n(67294),a=n(45697),i=n.n(a);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.PureComponent{constructor(...e){super(...e),l(this,"scrollListener",(()=>{const e=this.scrollComponent,t=window;let n;if(this.props.useWindow){var s="pageYOffset"in t?t.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;n=this.props.isReverse?s:this.calculateTopPosition(e)+(e.offsetHeight-s-window.innerHeight)}else n=this.props.isReverse?e.parentNode.scrollTop:e.scrollHeight-e.parentNode.scrollTop-e.parentNode.clientHeight;n<Number(this.props.threshold)&&(this.detachScrollListener(),"function"==typeof this.props.loadMore&&this.props.loadMore(this.pageLoaded+=1))}))}componentDidMount(){this.pageLoaded=this.props.pageStart,this.attachScrollListener(),this.setScrollPosition()}componentDidUpdate(){this.attachScrollListener()}render(){const e=this.props,{children:t,element:n,hasMore:a,initialLoad:i,loader:r,loadMore:l,pageStart:c,threshold:d,useWindow:m,isReverse:u,scrollPosition:p,containerHeight:h}=e,g=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["children","element","hasMore","initialLoad","loader","loadMore","pageStart","threshold","useWindow","isReverse","scrollPosition","containerHeight"]);g.ref=e=>{this.scrollComponent=e};const f=h?o(o({},g),{},{style:{height:h}}):g;return s.createElement(n,f,t,a&&(r||this.defaultLoader))}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}setScrollPosition(){const{scrollPosition:e}=this.props;null!==e&&window.scrollTo(0,e)}attachScrollListener(){if(!this.props.hasMore)return;let e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.addEventListener("scroll",this.scrollListener),e.addEventListener("resize",this.scrollListener),this.props.initialLoad&&this.scrollListener()}detachScrollListener(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("scroll",this.scrollListener),e.removeEventListener("resize",this.scrollListener)}componentWillUnmount(){this.detachScrollListener()}setDefaultLoader(e){this.defaultLoader=e}}l(c,"propTypes",{children:i().array,element:i().string,hasMore:i().bool,initialLoad:i().bool,loader:i().object,loadMore:i().func.isRequired,pageStart:i().number,threshold:i().number,useWindow:i().bool,isReverse:i().bool,containerHeight:i().number,scrollPosition:i().number}),l(c,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,threshold:250,useWindow:!0,isReverse:!1,containerHeight:null,scrollPosition:null})},31848:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=()=>" "},50696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(94184),o=n.n(r);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(e){super(e),l(this,"textRef",void 0),l(this,"onFocus",(e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)})),l(this,"onBlur",(e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),this.validateInput(),t&&t(e)})),l(this,"onChange",(e=>{const{onChange:t}=this.props;this.setState({error:""}),t&&t(e)})),l(this,"onClick",(()=>{this.textRef.current&&this.textRef.current.focus()})),l(this,"validateInput",(()=>{const{value:e,required:t}=this.props;this.setState({error:""}),!t||null!=e&&""!==e||this.setState({error:"This field is required"})})),this.state={focused:!1,error:""},this.textRef=i.createRef()}renderError(e){return e?i.createElement("div",{className:"Input___error"},i.createElement("i",{className:"icon icon-alert-outline"}),i.createElement("span",null,e)):null}renderInfo(){return this.props.info?i.createElement("div",{className:"Input___info"},this.props.info):null}render(){const e=this.props,{value:t,placeholder:n,className:s,error:a,hasError:r,addon:l,name:c,textPrefix:d}=e,m=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","placeholder","className","error","hasError","addon","name","textPrefix"]),{focused:u,error:p}=this.state,h=Boolean(u||t),g=a||p;return i.createElement("div",{className:"Input_container"},i.createElement("fieldset",{className:o()("Input_fieldset",s,{Input_fieldset___error:g||r,Input_fieldset___legend:h})},i.createElement("legend",{className:o()("Input_legend",{Input_legend___focus:h})},h?n:null),i.createElement("div",{className:"Input_wrapper"},d&&i.createElement("span",null,d),i.createElement("input",Object.assign({id:"input_".concat(c),className:o()("Input form-control",s,{Input__focus:h}),value:t,placeholder:u?"":n,name:c},m,{onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onClick:this.onClick,ref:this.textRef}))),l),g?this.renderError(g):this.renderInfo())}}l(c,"propTypes",{info:a().string,error:a().string,required:a().bool,hasError:a().bool,addon:a().element,textPrefix:a().string})},72278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var s=n(37703),a=n(14890),i=n(40422),r=n(21226),o=(n(88674),n(33948),n(67294)),l=n(45697),c=n.n(l),d=n(43253),m=n(44012),u=n(84319),p=n(77555),h=n(74935),g=n(63951),f=n(47715),b=(n(32023),n(70668)),_=n(59030),E=n(28958),C=n(51116),y=n(52166),v=n(41244),w=n(92684),S=n(12906);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends o.PureComponent{constructor(...e){super(...e),T(this,"handleChange",(e=>{this.props.onChange(this.props.id,e.target.value)}))}render(){return o.createElement(S.Z,{label:this.props.label,labelClassName:this.props.labelClassName,inputClassName:this.props.inputClassName,helpText:this.props.helpText,inputId:this.props.id},this.props.options.map((({value:e,text:t})=>o.createElement("div",{className:"radio",key:e},o.createElement("label",null,o.createElement("input",{type:"radio",value:e,name:this.props.id,checked:e===this.props.value,onChange:this.handleChange}),t)))))}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}T(P,"propTypes",{id:c().string.isRequired,options:c().arrayOf(c().shape({text:c().string.isRequired,value:c().string.isRequired})),label:c().node.isRequired,value:c().string,labelClassName:c().string,inputClassName:c().string,helpText:c().node}),T(P,"defaultProps",{labelClassName:"",inputClassName:"",options:[]});class N extends o.PureComponent{constructor(e){super(e),M(this,"handleSelected",(e=>{const{name:t,dataSource:n,onChange:s}=this.props;"users"===n?(s(t,e.id),this.setState({value:e.username})):"channels"===n?(s(t,e.id),this.setState({value:e.display_name})):(s(t,e.value),this.setState({value:e.text}))}));let t="";if(this.providers=[],"select"===e.type&&("users"===e.dataSource?this.providers=[new _.Z(e.actions.autocompleteUsers)]:"channels"===e.dataSource?this.providers=[new E.Z(e.actions.autocompleteChannels)]:e.options&&(this.providers=[new b.Z(e.options)]),e.value&&e.options)){const n=e.options.find((t=>t.value===e.value));t=n?n.text:""}this.state={value:t}}render(){const{name:e,subtype:t,displayName:n,value:s,placeholder:a,onChange:i,helpText:r,errorText:l,optional:c,options:d}=this.props;let{type:u,maxLength:p}=this.props,h=n;h=c?o.createElement(o.Fragment,null,n+" ",o.createElement("span",{className:"font-weight--normal light"},o.createElement(m.Z,{id:"interactive_dialog.element.optional",defaultMessage:"(optional)"}))):o.createElement(o.Fragment,null,n,o.createElement("span",{className:"error-text"}," *"));let g=r;return l&&(g=o.createElement(o.Fragment,null,r,o.createElement("div",{className:"error-text mt-3"},l))),"text"===u||"textarea"===u?("text"===u?(p=p||150,u=t&&C.Z.validTypes.includes(t)?t:"input"):p=p||3e3,o.createElement(C.Z,{autoFocus:this.props.autoFocus,id:e,type:u,label:h,maxLength:p,value:s||"",placeholder:a,helpText:g,onChange:i,resizable:!1})):"select"===u?o.createElement(y.Z,{id:e,providers:this.providers,onSelected:this.handleSelected,label:h,helpText:g,placeholder:a,value:this.state.value,listComponent:v.Z,listStyle:"bottom"}):"bool"===u?o.createElement(w.Z,{autoFocus:this.props.autoFocus,id:e,label:h,value:s||!1,helpText:g,placeholder:a,onChange:i}):"radio"===u?o.createElement(P,{id:e,label:h,helpText:g,options:d,value:s,onChange:i}):null}}M(N,"propTypes",{displayName:c().string.isRequired,name:c().string.isRequired,type:c().string.isRequired,subtype:c().string,placeholder:c().string,helpText:c().string,errorText:c().node,maxLength:c().number,dataSource:c().string,optional:c().bool,options:c().arrayOf(c().object),value:c().any,onChange:c().func,autoFocus:c().bool,actions:c().shape({autocompleteChannels:c().func.isRequired,autocompleteUsers:c().func.isRequired}).isRequired});const I=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({autocompleteChannels:g.J3,autocompleteUsers:f.w5},e)}}))(N);var R,A,O,L=n(51102),D=n(12266);class k extends o.PureComponent{render(){const e=L.WU(this.props.value,{breaks:!0,sanitize:!0,gfm:!0,siteURL:(0,D.fO)()},this.props.emojiMap);return o.createElement("span",{id:this.props.id,dangerouslySetInnerHTML:{__html:e}})}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}R=k,A="propTypes",O={id:c().string,value:c().string.isRequired,emojiMap:c().object.isRequired},A in R?Object.defineProperty(R,A,{value:O,enumerable:!0,configurable:!0,writable:!0}):R[A]=O;class j extends o.PureComponent{constructor(e){super(e),Z(this,"handleSubmit",(async e=>{e.preventDefault();const{elements:t}=this.props,n=this.state.values,s={};if(t&&t.forEach((e=>{const t=(0,u.c)(e,n[e.name]);t&&(s[e.name]=o.createElement(m.Z,{id:t.id,defaultMessage:t.defaultMessage,values:t.values}))})),this.setState({errors:s}),0!==Object.keys(s).length)return;const{url:a,callbackId:i,state:r}=this.props,l={url:a,callback_id:i,state:r,submission:n};this.setState({submitting:!0});const{data:c}=await this.props.actions.submitInteractiveDialog(l);this.setState({submitting:!1});let d=!1;c&&(c.error&&(d=!0,this.setState({error:c.error})),c.errors&&Object.keys(c.errors).length>=0&&(0,u.T)(c.errors,t)&&(d=!0,this.setState({errors:c.errors}))),d||this.handleHide(!0)})),Z(this,"onHide",(()=>{this.handleHide(!1)})),Z(this,"handleHide",((e=!1)=>{const{url:t,callbackId:n,state:s,notifyOnCancel:a}=this.props;if(!e&&a){const e={url:t,callback_id:n,state:s,cancelled:!0};this.props.actions.submitInteractiveDialog(e)}this.setState({show:!1})})),Z(this,"onChange",((e,t)=>{const n=U(U({},this.state.values),{},{[e]:t});this.setState({values:n})}));const t={};null!=e.elements&&e.elements.forEach((e=>{"bool"===e.type?t[e.name]=!0===e.default||"true"===String(e.default).toLowerCase():t[e.name]=e.default||null})),this.state={show:!0,values:t,error:null,errors:{},submitting:!1}}render(){const{title:e,introductionText:t,iconUrl:n,submitLabel:s,elements:a}=this.props;let i,r=o.createElement(m.Z,{id:"interactive_dialog.submit",defaultMessage:"Submit"});return s&&(r=s),n&&(i=o.createElement("img",{id:"interactiveDialogIconUrl",alt:"modal title icon",className:"more-modal__image",width:"36",height:"36",src:n})),o.createElement(d.Z,{id:"interactiveDialogModal",dialogClassName:"a11y__modal about-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,backdrop:"static",role:"dialog","aria-labelledby":"interactiveDialogModalLabel"},o.createElement("form",{onSubmit:this.handleSubmit},o.createElement(d.Z.Header,{closeButton:!0,style:{borderBottom:null==a&&"0px"}},o.createElement(d.Z.Title,{componentClass:"h1",id:"interactiveDialogModalLabel"},i,e)),(a||t)&&o.createElement(d.Z.Body,null,t&&o.createElement(k,{id:"interactiveDialogModalIntroductionText",value:t,emojiMap:this.props.emojiMap}),a&&a.map(((e,t)=>o.createElement(I,{autoFocus:0===t,key:"dialogelement"+e.name,displayName:e.display_name,name:e.name,type:e.type,subtype:e.subtype,helpText:e.help_text,errorText:this.state.errors[e.name],placeholder:e.placeholder,minLength:e.min_length,maxLength:e.max_length,dataSource:e.data_source,optional:e.optional,options:e.options,value:this.state.values[e.name],onChange:this.onChange})))),o.createElement(d.Z.Footer,null,this.state.error&&o.createElement("div",{className:"error-text"},this.state.error),o.createElement("button",{id:"interactiveDialogCancel",type:"button",className:"btn btn-link cancel-button",onClick:this.onHide},o.createElement(m.Z,{id:"interactive_dialog.cancel",defaultMessage:"Cancel"})),o.createElement(p.Z,{id:"interactiveDialogSubmit",type:"submit",autoFocus:!a||0===a.length,className:"btn btn-primary save-button",spinning:this.state.submitting,spinningText:(0,h._u)("interactive_dialog.submitting","Submitting...")},r))))}}Z(j,"propTypes",{url:c().string.isRequired,callbackId:c().string,elements:c().arrayOf(c().object),title:c().string.isRequired,introductionText:c().string,iconUrl:c().string,submitLabel:c().string,notifyOnCancel:c().bool,state:c().string,onHide:c().func,actions:c().shape({submitInteractiveDialog:c().func.isRequired}).isRequired,emojiMap:c().object.isRequired});const F=(0,s.connect)((function(e){const t=e.entities.integrations.dialog;return t&&t.dialog?{url:t.url,callbackId:t.dialog.callback_id,elements:t.dialog.elements,title:t.dialog.title,introductionText:t.dialog.introduction_text,iconUrl:t.dialog.icon_url,submitLabel:t.dialog.submit_label,notifyOnCancel:t.dialog.notify_on_cancel,state:t.dialog.state,emojiMap:(0,r.kM)(e)}:{}}),(function(e){return{actions:(0,a.bindActionCreators)({submitInteractiveDialog:i.lp},e)}}))(j)},54920:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=n(67294),r=n(56640);const o=({loading:e,progress:t,containerClass:n})=>{let s=i.createElement("span",{className:"loader-percent"});return t&&(s=i.createElement("span",{className:"loader-percent"},"".concat(e," ").concat(t,"%"))),i.createElement("div",{className:n},i.createElement(r.Z,null),s)};o.propTypes={loading:a().string,progress:a().number,containerClass:a().string},o.defaultProps={containerClass:"view-image__loading"};const l=o},19476:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s=n(45697),a=n.n(s),i=n(67294),r=n(44012);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(e){super(e),this.state={}}render(){let e=i.createElement(r.Z,{id:"loading_screen.loading",defaultMessage:"Loading"});return this.props.message&&(e=this.props.message),i.createElement("div",{className:"loading-screen",style:l({position:this.props.position},this.props.style)},i.createElement("div",{className:"loading__content"},i.createElement("h3",null,e),i.createElement("div",{className:"round round-1"}),i.createElement("div",{className:"round round-2"}),i.createElement("div",{className:"round round-3"})))}}c(d,"propTypes",{position:a().oneOf(["absolute","fixed","relative","static","inherit"]),message:a().node}),c(d,"defaultProps",{position:"relative",style:{}})},68492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=(n(33948),n(19601),n(67294)),r=n(86896);const o=i.forwardRef(((e,t)=>{const{component:n="i",title:{id:s,defaultMessage:a,values:o}}=e,l=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["component","title"]);if("i"!==n&&"span"!==n)return null;const{formatMessage:c}=(0,r.Z)();return i.createElement(n,Object.assign({},l,{ref:t,title:c({id:s,defaultMessage:a},o)}))}));o.propTypes={component:a().oneOf(["i","span"])},o.displayName="LocalizedIcon";const l=o},927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(45697),n(33948),n(19601);var s=n(67294),a=n(86896);const i=s.forwardRef(((e,t)=>{const{placeholder:{id:n,defaultMessage:i,values:r}}=e,o=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["placeholder"]),{formatMessage:l}=(0,a.Z)();return s.createElement("input",Object.assign({},o,{ref:t,placeholder:l({id:n,defaultMessage:i},r)}))}));i.displayName="LocalizedInput";const r=i},64852:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y}),n(19601);var s=n(37703),a=n(22222),i=n(74650),r=n(70493),o=n(42560),l=n(26961),c=n(16146),d=n(84827),m=n(21226),u=n(12266),p=n(85357),h=n(45697),g=n.n(h),f=n(67294),b=n(79979),_=n(54140);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends f.PureComponent{render(){if(!this.props.enableFormatting)return f.createElement("span",null,this.props.message);const e=Object.assign({autolinkedUrlSchemes:this.props.autolinkedUrlSchemes,siteURL:this.props.siteURL,mentionKeys:this.props.mentionKeys,atMentions:!0,channelNamesMap:this.props.channelNamesMap,proxyImages:this.props.hasImageProxy&&this.props.proxyImages,team:this.props.team,minimumHashtagLength:this.props.minimumHashtagLength,managedResourcePaths:this.props.managedResourcePaths},this.props.options),t=(0,_.RZ)(this.props.message,e,this.props.emojiMap);return(0,b.Z)(t,this.props.isRHS,{imageProps:this.props.imageProps,imagesMetadata:this.props.imagesMetadata,hasPluginTooltips:this.props.hasPluginTooltips,postId:this.props.postId,channelId:this.props.channelId,postType:this.props.postType,mentionHighlight:this.props.options.mentionHighlight,disableGroupHighlight:this.props.options.disableGroupHighlight})}}E(C,"propTypes",{autolinkedUrlSchemes:g().arrayOf(g().string),enableFormatting:g().bool,isRHS:g().bool,managedResourcePaths:g().arrayOf(g().string),mentionKeys:g().array,message:g().string.isRequired,siteURL:g().string,hasImageProxy:g().bool,minimumHashtagLength:g().number,proxyImages:g().bool,imageProps:g().object,hasPluginTooltips:g().bool,postId:g().string,channelId:g().string}),E(C,"defaultProps",{options:{},isRHS:!1,proxyImages:!0,imagesMetadata:{},postId:""});const y=(0,s.connect)((function(){const e=(0,a.P1)(r.p7,((e,t)=>t&&t.channelNamesMap),((e,t)=>t?Object.assign({},t,e):e));return function(t,n){const s=(0,o.iE)(t);let a;var r;return n.postId&&(a=null===(r=(0,p.xl)(t,n.postId))||void 0===r?void 0:r.channel_id),{autolinkedUrlSchemes:(0,o.u6)(t),channelNamesMap:e(t,n),enableFormatting:(0,l.o4)(t,i.uP.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),managedResourcePaths:(0,o.Gl)(t),mentionKeys:n.mentionKeys||(0,d.cq)(t),siteURL:(0,u.fO)(),team:(0,c.kA)(t),hasImageProxy:"true"===s.HasImageProxy,minimumHashtagLength:parseInt(s.MinimumHashtagLength||"",10),emojiMap:(0,m.kM)(t),channelId:a}}}))(C)},52881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s=n(45697),a=n.n(s),i=(n(33948),n(23123),n(67294)),r=n(44012),o=n(85174);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),l(this,"renderSlashCommandError",(()=>{if(!this.props.submittedMessage)return this.props.error.message;const e=this.props.submittedMessage.split(" ")[0];return i.createElement(i.Fragment,null,i.createElement(r.Z,{id:"message_submit_error.invalidCommand",defaultMessage:"Command with a trigger of ''{command}'' not found. ",values:{command:e}}),i.createElement("a",{href:"#",onClick:this.props.handleSubmit},i.createElement(r.Z,{id:"message_submit_error.sendAsMessageLink",defaultMessage:"Click here to send as a message."})))}))}render(){const e=this.props.error;if(!e)return null;let t=e.message;return(0,o.cW)(e)&&(t=this.renderSlashCommandError()),i.createElement("div",{className:"has-error"},i.createElement("label",{className:"control-label"},t))}}l(c,"propTypes",{error:a().shape({}).isRequired,handleSubmit:a().func.isRequired,submittedMessage:a().string});const d=c},48196:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s,a,i,r=n(37703),o=n(14890),l=n(74838),c=(n(19601),n(45697)),d=n.n(c),m=n(67294);class u extends m.PureComponent{render(){const e=this.props,{modals:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["modals"]),{modalState:s}=t;if(!t)return m.createElement("div",null);const a=[];for(const e in s)if(s.hasOwnProperty(e)){const t=s[e];if(t.open){const s=m.createElement(t.dialogType,Object.assign({},t.dialogProps,{onHide:n.actions.closeModal.bind(this,e),key:"".concat(e,"_modal")}));a.push(s)}}return m.createElement("div",null,a)}}s=u,a="propTypes",i={modals:d().object.isRequired,actions:d().shape({closeModal:d().func.isRequired}).isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;const p=(0,r.connect)((function(e){return{modals:e.views.modals}}),(function(e){return{actions:(0,o.bindActionCreators)({closeModal:l.M},e)}}))(u)},83440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var s=n(37703),a=n(22222),i=n(67556),r=n(26961),o=n(23122);const l=(e,t,n,s,a)=>{const i=n+s;if(a[i]){const n=Object.keys(a[i]);if(n.length)return n.map((n=>(0,o.fw)(e[n],t)))}return[]};(0,a.P1)(i.Rf,r.kl,i.gO,(e=>e.entities.posts.selectedPostId),(e=>e.entities.typing),l);var c=n(45697),d=n.n(c),m=(n(33948),n(67294)),u=n(44012);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends m.PureComponent{constructor(...e){super(...e),p(this,"getTypingText",(()=>{let e=[],t=0;if(this.props.typingUsers&&(e=[...this.props.typingUsers],t=e.length),0===t)return"";if(1===t)return m.createElement(u.Z,{id:"msg_typing.isTyping",defaultMessage:"{user} is typing...",values:{user:e[0]}});const n=e.pop();return m.createElement(u.Z,{id:"msg_typing.areTyping",defaultMessage:"{users} and {last} are typing...",values:{users:e.join(", "),last:n}})}))}render(){return m.createElement("span",{className:"msg-typing"},this.getTypingText())}}p(h,"propTypes",{typingUsers:d().arrayOf(d().string).isRequired});const g=(0,s.connect)((function(){const e=(0,a.P1)(i.Rf,r.kl,((e,t)=>t.channelId),((e,t)=>t.postId),(e=>e.entities.typing),l);return function(t,n){return{typingUsers:e(t,{channelId:n.channelId,postId:n.postId})}}}))(h)},26134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var s=n(45697),a=n.n(s),i=(n(33948),n(19601),n(67294)),r=n(44012),o=n(14504),l=n(74935),c=n(38769),d=n(92337),m=n(58657),u=n(69632),p=n(45288),h=n(19476);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=d.ZP.KeyCodes;class b extends i.PureComponent{constructor(e){super(e),g(this,"toSelect",-1),g(this,"listRef",i.createRef()),g(this,"selectedItemRef",i.createRef()),g(this,"setSelected",(e=>{this.setState({selected:e})})),g(this,"handleArrowPress",(e=>{if((0,l._E)(e)&&e.shiftKey)return;const t=this.props.options;if(0===t.length)return;let n;switch(e.key){case f.DOWN[0]:if(-1===this.state.selected){n=0;break}n=Math.min(this.state.selected+1,t.length-1);break;case f.UP[0]:if(-1===this.state.selected){n=0;break}n=Math.max(this.state.selected-1,0);break;default:return}e.preventDefault(),this.setState({selected:n}),this.props.onSelect(t[n])})),g(this,"defaultOptionRenderer",((e,t,n,s)=>{let a="";return t&&(a="more-modal__row--selected"),i.createElement("div",{ref:t?this.selectedItemRef:e.value,className:a,key:"multiselectoption"+e.value,onClick:()=>n(e),onMouseEnter:()=>s(e)},e.label)})),g(this,"select",(e=>{const t=this.props.options.indexOf(e);-1!==t&&this.state.selected!==t&&this.setSelected(t)})),this.state={selected:-1}}componentDidMount(){document.addEventListener("keydown",this.handleArrowPress)}componentWillUnmount(){document.removeEventListener("keydown",this.handleArrowPress)}componentDidUpdate(e,t){var n;const s=this.props.options;if(s&&s.length>0&&this.state.selected>=0&&this.props.onSelect(s[this.state.selected]),t.selected===this.state.selected)return;const a=this.selectedItemRef.current||(null===(n=this.props.selectedItemRef)||void 0===n?void 0:n.current);if(this.listRef.current&&a){const e=a.getBoundingClientRect().top,t=a.getBoundingClientRect().bottom,n=this.listRef.current.getBoundingClientRect().top;t>this.listRef.current.getBoundingClientRect().bottom?a.scrollIntoView(!1):e<n&&a.scrollIntoView(!0)}}render(){const e=this.props.options;let t;if(this.props.loading)t=i.createElement("div",{"aria-hidden":!0},i.createElement(h.Z,{position:"absolute",key:"loading"}));else if(null==e||0===e.length)t=i.createElement("div",{key:"no-users-found",className:"no-channel-message"},i.createElement("p",{className:"primary-message"},i.createElement(p.Z,{id:"multiselect.list.notFound",defaultMessage:"No results found matching **{searchQuery}**",values:{searchQuery:this.props.query}})));else{let n;n=this.props.optionRenderer?this.props.optionRenderer:this.defaultOptionRenderer;const s=e.map(((e,t)=>n(e,this.state.selected===t,this.props.onAdd,this.select))),a=e[this.state.selected],r=this.props.ariaLabelRenderer(a);t=i.createElement("div",{className:"more-modal__list"},i.createElement("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true"},r),i.createElement("div",{ref:this.listRef,id:"multiSelectList",className:"more-modal__options",role:"presentation","aria-hidden":!0},s))}return i.createElement("div",{className:"multi-select__wrapper","aria-live":"polite"},t)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g(b,"propTypes",{loading:a().bool,onAdd:a().func.isRequired,onPageChange:a().func,onSelect:a().func.isRequired,optionRenderer:a().func.isRequired,query:a().string,options:a().array,page:a().number.isRequired,perPage:a().number}),g(b,"defaultProps",{options:[],perPage:50,onAction:()=>null});const E=d.gT.KeyCodes;class C extends i.PureComponent{constructor(e){super(e),_(this,"listRef",i.createRef()),_(this,"reactSelectRef",i.createRef()),_(this,"selected",null),_(this,"handleA11yActivateEvent",(()=>{this.setState({a11yActive:!0})})),_(this,"handleA11yDeactivateEvent",(()=>{this.setState({a11yActive:!1})})),_(this,"nextPage",(()=>{this.props.handlePageChange&&this.props.handlePageChange(this.state.page+1,this.state.page),this.listRef.current&&this.listRef.current.setSelected(0),this.setState({page:this.state.page+1})})),_(this,"prevPage",(()=>{0!==this.state.page&&(this.props.handlePageChange&&this.props.handlePageChange(this.state.page-1,this.state.page),this.listRef.current&&this.listRef.current.setSelected(0),this.setState({page:this.state.page-1}))})),_(this,"resetPaging",(()=>{this.setState({page:0})})),_(this,"onSelect",(e=>{this.selected=e})),_(this,"onAdd",(e=>{if(this.props.maxValues&&this.props.values.length>=this.props.maxValues)return;for(let t=0;t<this.props.values.length;t++)if(this.props.values[t].id===e.id)return;this.props.handleAdd(e),this.selected=null,this.reactSelectRef.current&&(this.reactSelectRef.current.select.handleInputChange({currentTarget:{value:""}}),this.reactSelectRef.current.focus());const t=this.props.submitImmediatelyOn;t&&t(e)&&this.props.handleSubmit([e])})),_(this,"onInput",((e,t)=>{t&&"input-blur"!==t.action&&"menu-close"!==t.action&&this.state.input!==e&&(this.setState({input:e}),this.listRef.current&&(""===e?this.listRef.current.setSelected(-1):this.listRef.current.setSelected(0)),this.selected=null,this.props.handleInput(e,this))})),_(this,"onInputKeyDown",(e=>{switch(e.key){case E.ENTER[0]:e.preventDefault()}})),_(this,"handleEnterPress",(e=>{switch(e.key){case E.ENTER[0]:if(null==this.selected)return void this.props.handleSubmit();this.onAdd(this.selected)}})),_(this,"handleOnClick",(e=>{e.preventDefault(),this.props.handleSubmit()})),_(this,"onChange",((e,t)=>{if("remove-value"!==t.action&&"pop-value"!==t.action)return;const n=[...this.props.values];for(let e=0;e<n.length;e++)if(n[e].id===t.removedValue.id){n.splice(e,1);break}this.props.handleDelete(n)})),_(this,"MultiValueRemove",(({children:e,innerProps:t})=>i.createElement("div",t,e||i.createElement(c.Z,null)))),_(this,"formatOptionLabel",(e=>{const t=(0,l.bb)(e.id,e.last_picture_update);return i.createElement(i.Fragment,null,i.createElement(u.Z,{size:"sm",username:e.username,url:t}),i.createElement("div",{className:"react-select__value__name"},(0,l.Gf)(e)))})),_(this,"valueRenderer",(e=>this.props.valueWithImage?i.createElement(o.wx.MultiValueLabel,e):this.props.valueRenderer)),this.state={a11yActive:!1,page:0,input:""}}componentDidMount(){const e=this.reactSelectRef.current&&this.reactSelectRef.current.select.inputRef;document.addEventListener("keydown",this.handleEnterPress),e&&"function"==typeof e.addEventListener&&(e.addEventListener(d.sp.ACTIVATE,this.handleA11yActivateEvent),e.addEventListener(d.sp.DEACTIVATE,this.handleA11yDeactivateEvent),this.reactSelectRef.current.focus())}componentWillUnmount(){const e=this.reactSelectRef.current&&this.reactSelectRef.current.select.inputRef;e&&"function"==typeof e.addEventListener&&(e.removeEventListener(d.sp.ACTIVATE,this.handleA11yActivateEvent),e.removeEventListener(d.sp.DEACTIVATE,this.handleA11yDeactivateEvent)),document.removeEventListener("keydown",this.handleEnterPress)}render(){const e=Object.assign([...this.props.options]),{totalCount:t,users:n,values:s}=this.props;let a,l;this.props.numRemainingText?a=this.props.numRemainingText:null!=this.props.maxValues&&(a=i.createElement(r.Z,{id:"multiselect.numRemaining",defaultMessage:"You can add {num, number} more. ",values:{num:this.props.maxValues-this.props.values.length}})),this.props.buttonSubmitText?l=this.props.buttonSubmitText:null!=this.props.maxValues&&(l=i.createElement(r.Z,{id:"multiselect.go",defaultMessage:"Go"}));let c,d,u,p=[];this.props.noteText&&(u=i.createElement("div",{className:"multi-select__note"},i.createElement("div",{className:"note__icon"},i.createElement(r.Z,{id:"generic_icons.info",defaultMessage:"Info Icon"},(e=>i.createElement("span",{className:"fa fa-info",title:e})))),i.createElement("div",null,this.props.noteText)));const h={};for(let e=0;e<s.length;e++)h[s[e].id]=!0;for(let t=e.length-1;t>=0;t--)h[e[t].id]&&e.splice(t,1);if(e&&e.length>this.props.perPage){const t=this.state.page*this.props.perPage,n=t+this.props.perPage;p=e.slice(t,n),this.props.loading||(e.length>n&&(c=i.createElement("button",{className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage},i.createElement(r.Z,{id:"filtered_user_list.next",defaultMessage:"Next"}))),this.state.page>0&&(d=i.createElement("button",{className:"btn btn-link filter-control filter-control__prev",onClick:this.prevPage},i.createElement(r.Z,{id:"filtered_user_list.prev",defaultMessage:"Previous"}))))}else p=e;let g,f;return"bottom"===this.props.saveButtonPosition?this.state.input&&(g=i.createElement(b,{ref:this.listRef,options:p,optionRenderer:this.props.optionRenderer,ariaLabelRenderer:this.props.ariaLabelRenderer,page:this.state.page,perPage:this.props.perPage,onPageChange:this.props.handlePageChange,onAdd:this.onAdd,onSelect:this.onSelect,loading:this.props.loading,query:this.state.input,selectedItemRef:this.props.selectedItemRef})):g=i.createElement(b,{ref:this.listRef,options:p,optionRenderer:this.props.optionRenderer,ariaLabelRenderer:this.props.ariaLabelRenderer,page:this.state.page,perPage:this.props.perPage,onPageChange:this.props.handlePageChange,onAdd:this.onAdd,onSelect:this.onSelect,loading:this.props.loading,selectedItemRef:this.props.selectedItemRef}),n&&n.length&&t&&(f=i.createElement(r.Z,{id:"multiselect.numMembers",defaultMessage:"{memberOptions, number} of {totalCount, number} members",values:{memberOptions:p.length,totalCount:this.props.totalCount}})),i.createElement(i.Fragment,null,i.createElement("div",{className:"filtered-user-list"},i.createElement("div",{className:"filter-row filter-row--full"},i.createElement("div",{className:"multi-select__container react-select"},i.createElement(o.ZP,{id:"selectItems",ref:this.reactSelectRef,isMulti:!0,options:this.props.options,styles:w,components:{Menu:y,IndicatorsContainer:y,MultiValueLabel:this.props.valueWithImage?o.wx.MultiValueLabel:v(this.props.valueRenderer),MultiValueRemove:this.props.valueWithImage?this.MultiValueRemove:o.wx.MultiValueRemove},isClearable:!1,openMenuOnFocus:!1,menuIsOpen:!1,onInputChange:this.onInput,onKeyDown:this.onInputKeyDown,onChange:this.onChange,value:this.props.values,formatOptionLabel:this.props.valueWithImage?this.formatOptionLabel:void 0,placeholder:this.props.placeholderText,inputValue:this.state.input,getOptionValue:e=>e.id,getOptionLabel:this.props.ariaLabelRenderer,"aria-label":this.props.placeholderText,className:this.state.a11yActive?"multi-select__focused":"",classNamePrefix:"react-select-auto react-select"}),"top"===this.props.saveButtonPosition&&i.createElement(m.Z,{id:"saveItems",saving:this.props.saving,disabled:this.props.saving,onClick:this.handleOnClick,defaultMessage:l,savingMessage:this.props.buttonSubmitLoadingText})),i.createElement("div",{id:"multiSelectHelpMemberInfo",className:"multi-select__help"},a,f)),g,i.createElement("div",{id:"multiSelectMessageNote",className:"multi-select__help"},u),"top"===this.props.saveButtonPosition&&i.createElement("div",{className:"filter-controls"},d,c)),"bottom"===this.props.saveButtonPosition&&i.createElement("div",{className:"channel-switcher__footer"},i.createElement(m.Z,{id:"saveItems",saving:this.props.saving,disabled:this.props.saving,onClick:this.handleOnClick,defaultMessage:l,savingMessage:this.props.buttonSubmitLoadingText})))}}_(C,"propTypes",{buttonSubmitLoadingText:a().node,buttonSubmitText:a().node,handleAdd:a().func.isRequired,handleDelete:a().func.isRequired,handleInput:a().func.isRequired,handlePageChange:a().func,handleSubmit:a().func.isRequired,loading:a().bool,saveButtonPosition:a().string,maxValues:a().number,noteText:a().node,numRemainingText:a().node,optionRenderer:a().func.isRequired,options:a().array.isRequired,perPage:a().number.isRequired,placeholderText:a().string,saving:a().bool,submitImmediatelyOn:a().func,totalCount:a().number,users:a().arrayOf(a().any),valueWithImage:a().bool,valueRenderer:a().func,values:a().array.isRequired}),_(C,"defaultProps",{ariaLabelRenderer:function(e){return e?e.label:null},saveButtonPosition:"top",valueWithImage:!1});const y=()=>null,v=e=>t=>i.createElement("div",{className:"react-select__padded-component"},i.createElement(e,t)),w={container:()=>({display:"table-cell",verticalAlign:"top",width:"100%"})}},28292:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(44012),o=n(94184),l=n.n(o),c=n(82251),d=n(37060),m=n(93620),u=n(86896);function p(e){const{formatMessage:t}=(0,u.Z)();return i.createElement("span",e,i.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 18 18",version:"1.1",role:"img","aria-label":t({id:"generic_icons.pin",defaultMessage:"Pin Icon"})},i.createElement("path",{d:"M17.73 7.01999L16.83 6.11999L10.98 0.251987C10.812 0.0839874 10.602 -1.26362e-05 10.35 -1.26362e-05C10.098 -1.26362e-05 9.888 0.0899873 9.72 0.269987C9.54 0.449987 9.45 0.665987 9.45 0.917987C9.45 1.15799 9.54 1.36799 9.72 1.54799L9.99 1.79999L5.994 5.75999C4.422 5.57999 2.922 5.77799 1.494 6.35399C1.35 6.40199 1.224 6.48599 1.116 6.60599C1.02 6.72599 0.954 6.86399 0.918 7.01999C0.894 7.16399 0.9 7.30799 0.936 7.45199C0.984 7.59599 1.062 7.72199 1.17 7.82999L5.004 11.664L1.35 15.3L0.45 17.55L2.7 16.65L6.354 13.014L10.17 16.83C10.278 16.938 10.404 17.01 10.548 17.046C10.704 17.094 10.854 17.1 10.998 17.064C11.154 17.04 11.286 16.974 11.394 16.866C11.514 16.77 11.598 16.644 11.646 16.488C12.246 15.024 12.444 13.524 12.24 11.988L16.2 8.02799L16.452 8.29799C16.632 8.47799 16.848 8.56799 17.1 8.56799C17.352 8.56799 17.562 8.47799 17.73 8.29799C17.91 8.11799 18 7.90799 18 7.66799C18 7.41599 17.91 7.19999 17.73 7.01999ZM10.584 11.052C10.464 11.172 10.386 11.316 10.35 11.484C10.314 11.64 10.32 11.796 10.368 11.952C10.584 12.792 10.584 13.638 10.368 14.49L3.51 7.63199C4.362 7.41599 5.208 7.41599 6.048 7.63199C6.204 7.67999 6.36 7.68599 6.516 7.64999C6.684 7.60199 6.828 7.51799 6.948 7.39799L11.25 3.07799L14.904 6.73199L10.584 11.052Z"})))}var h=n(2192),g=n(13516);const f={[g.U.ChannelSearch]:i.createElement(h.Z,{className:"no-results__icon"}),[g.U.Mentions]:i.createElement(m.Z,{className:"no-results__icon"}),[g.U.FlaggedPosts]:i.createElement(d.Z,{className:"no-results__icon"}),[g.U.PinnedPosts]:i.createElement(p,{className:"no-results__icon"}),[g.U.ChannelFiles]:i.createElement("i",{className:"icon icon-file-document-outline no-results__icon"}),[g.U.ChannelFilesFiltered]:i.createElement("i",{className:"icon icon-file-document-outline no-results__icon"})},b={[g.U.ChannelSearch]:{id:(0,c.t)("no_results.channel_search.title")},[g.U.Mentions]:{id:(0,c.t)("no_results.mentions.title")},[g.U.FlaggedPosts]:{id:(0,c.t)("no_results.flagged_posts.title")},[g.U.PinnedPosts]:{id:(0,c.t)("no_results.pinned_posts.title")},[g.U.ChannelFiles]:{id:(0,c.t)("no_results.channel_files.title")},[g.U.ChannelFilesFiltered]:{id:(0,c.t)("no_results.channel_files_filtered.title")}},_={[g.U.ChannelSearch]:{id:(0,c.t)("no_results.channel_search.subtitle")},[g.U.Mentions]:{id:(0,c.t)("no_results.mentions.subtitle")},[g.U.FlaggedPosts]:{id:(0,c.t)("no_results.flagged_posts.subtitle")},[g.U.PinnedPosts]:{id:(0,c.t)("no_results.pinned_posts.subtitle")},[g.U.ChannelFiles]:{id:(0,c.t)("no_results.channel_files.subtitle")},[g.U.ChannelFilesFiltered]:{id:(0,c.t)("no_results.channel_files_filtered.subtitle")}},E=({expanded:e,style:t,variant:n,iconGraphic:s=(n?i.createElement("div",{className:"no-results__variant-wrapper"},f[n]):null),titleValues:a,title:o=(n?i.createElement(r.Z,Object.assign({},b[n],{values:a})):null),subtitleValues:c,subtitle:d=(n?i.createElement(r.Z,Object.assign({},_[n],{values:c})):null)})=>{let m=i.createElement("div",{className:"no-results__wrapper",style:t},s,o?i.createElement("div",{className:l()("no-results__title",{"only-title":!d})},o):null,d?i.createElement("div",{className:"no-results__subtitle"},d):null);return e&&(m=i.createElement("div",{className:"no-results__holder"},m)),m};E.propTypes={expanded:a().bool,iconGraphic:a().node,title:a().node,subtitle:a().node};const C=E},13516:(e,t,n)=>{"use strict";let s;n.d(t,{U:()=>s}),function(e){e.ChannelSearch="ChannelSearch",e.Mentions="Mentions",e.FlaggedPosts="FlaggedPosts",e.PinnedPosts="PinnedPosts",e.ChannelFiles="ChannelFiles",e.ChannelFilesFiltered="ChannelFilesFiltered"}(s||(s={}))},15558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(54228),o=n(74806),l=n(37703),c=n(72009);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const h=i.forwardRef(((e,t)=>{const{overlay:n,disabled:s}=e,a=p(e,["overlay","disabled"]),d=e=>{let{intl:t}=e,s=p(e,["intl"]);return i.createElement(l.Provider,{store:c.Z},i.createElement(o._y.Provider,{value:t},i.cloneElement(n,s)))};return i.createElement(o._y.Consumer,null,(e=>{const o=m({},n.props);return s&&(o.style=m({visibility:"hidden"},o.style)),i.createElement(r.Z,Object.assign({},a,{ref:t,overlay:i.createElement(d,Object.assign({},o,{intl:e}))}))}))}));h.propTypes={disabled:a().bool,className:a().string},h.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]},h.displayName="OverlayTrigger";const g=h},31876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(45697),a=n.n(s),i=n(67294);const r=n.p+"files/2c5822f8df09cab9d59c37cf805af370.png",o=n.p+"files/85f92b639485f3804bb173daab1383a1.png",l=n.p+"files/9dec2b83083c1216ab4e0367f21224d2.jpg",c=n.p+"files/24f51892c8813505b11ad2c26740ee7a.png",d=n.p+"files/ad02dc088755e3884a5b5c97211665bb.png",m=n.p+"files/a37832275fd33b01dc279fc8788128da.jpg";function u(e){const{brand:t}=e,n=function(e){switch(e){case"amex":return r;case"diners":return o;case"discover":return l;case"jcb":return c;case"mastercard":return d;case"visa":return m}return""}(t);return n?i.createElement("img",{className:"CardImage",src:n,alt:t}):null}u.propTypes={brand:a().string.isRequired}},36585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var s=n(45697),a=n.n(s),i=n(67294),r=n(35018),o=n(44012),l=n(89996),c=n(50696),d=n(74935),m=n(66331),u=n(84276),p=(n(19601),n(86664));function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g={hidePostalCode:!0,style:{base:{fontFamily:"Open Sans",fontSize:"14px",opacity:"0.5",fontSmoothing:"antialiased"}}},f="This field is required",b="Please enter a valid credit card";class _ extends i.PureComponent{constructor(e){super(e),h(this,"onFocus",(()=>{const{onFocus:e}=this.props;this.setState({focused:!0}),e&&e()})),h(this,"onBlur",(()=>{const{onBlur:e}=this.props;this.setState({focused:!1}),this.validateInput(),e&&e()})),h(this,"onChange",(e=>{this.setState({error:"",empty:e.empty,complete:e.complete}),this.props.onCardInputChange&&this.props.onCardInputChange(e)})),h(this,"validateInput",(()=>{const{required:e}=this.props,{empty:t,complete:n}=this.state;let s="";this.setState({error:""}),e&&t?s=f:n||(s=b),this.setState({error:s})})),this.state={focused:!1,error:"",empty:!0,complete:!1}}renderError(e){if(!e)return null;let t;return e===f?t=i.createElement(o.Z,{id:"payment.field_required",defaultMessage:"This field is required"}):e===b&&(t=i.createElement(o.Z,{id:"payment.invalid_card_number",defaultMessage:"Please enter a valid credit card"})),i.createElement("div",{className:"Input___error"},i.createElement("i",{className:"icon icon-alert-outline"}),t)}getCard(){var e;return null===(e=this.props.elements)||void 0===e?void 0:e.getElement(p.CardElement)}render(){const e=this.props,{className:t,error:n}=e,s=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["className","error"]),{empty:a,focused:r,error:l}=this.state;let c=t?"Input_fieldset ".concat(t):"Input_fieldset",d=t?"Input_fieldset Input_fieldset___error ".concat(t):"Input_fieldset Input_fieldset___error";const m=Boolean(r||!a);c=m?c+" Input_fieldset___legend":c,d=m?d+" Input_fieldset___legend":d;const u=n||l;return i.createElement("div",{className:"Input_container"},i.createElement("fieldset",{className:u?d:c},i.createElement("legend",{className:m?"Input_legend Input_legend___focus":"Input_legend"},i.createElement(o.Z,{id:"payment.card_number",defaultMessage:"Card Number"})),i.createElement(p.CardElement,Object.assign({},s,{options:g,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.onChange}))),this.renderError(u))}}h(_,"propTypes",{onCardInputChange:a().func,error:a().string,required:a().bool,forwardedRef:a().any});const E=e=>i.createElement(p.ElementsConsumer,null,(({elements:t})=>i.createElement(_,Object.assign({ref:e.forwardedRef,elements:t},e))));E.propTypes={error:a().string,required:a().bool,forwardedRef:a().any};const C=E;var y=n(31876);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.PureComponent{constructor(e){super(e),S(this,"cardRef",void 0),S(this,"resetState",(()=>{this.setState(this.getResetState())})),S(this,"getResetState",((e=this.props)=>{const{initialBillingDetails:t,paymentMethod:n}=e,s=t||{};return{address:s.address,address2:s.address2,city:s.city,state:s.state,country:(0,r.oY)(s.country||"")||(0,r.oY)("US")||"",postalCode:s.postalCode,name:s.name,changePaymentMethod:null==n}})),S(this,"handleInputChange",(e=>{const t=e.target,n={[t.name]:t.value};this.setState(n);const{onInputChange:s}=this.props;var a;s&&s(w(w(w({},this.state),n),{},{card:null===(a=this.cardRef.current)||void 0===a?void 0:a.getCard()}))})),S(this,"handleCardInputChange",(e=>{this.props.onCardInputChange&&this.props.onCardInputChange(e)})),S(this,"handleStateChange",(e=>{const t={state:e};var n;this.setState(t),this.props.onInputChange&&this.props.onInputChange(w(w(w({},this.state),t),{},{card:null===(n=this.cardRef.current)||void 0===n?void 0:n.getCard()}))})),S(this,"handleCountryChange",(e=>{const t={country:e.value};var n;this.setState(t),this.props.onInputChange&&this.props.onInputChange(w(w(w({},this.state),t),{},{card:null===(n=this.cardRef.current)||void 0===n?void 0:n.getCard()}))})),S(this,"onBlur",(()=>{const{onInputBlur:e}=this.props;var t;e&&e(w(w({},this.state),{},{card:null===(t=this.cardRef.current)||void 0===t?void 0:t.getCard()}))})),S(this,"changePaymentMethod",(e=>{e.preventDefault(),this.setState({changePaymentMethod:!0})})),this.cardRef=i.createRef(),this.state=this.getResetState(e)}componentDidUpdate(e){null!=e.paymentMethod||null==this.props.paymentMethod?void 0===e.initialBillingDetails&&void 0!==this.props.initialBillingDetails&&this.resetState():this.resetState()}render(){const{className:e,paymentMethod:t,buttonFooter:n}=this.props,{changePaymentMethod:s}=this.state;let a;if(s)a=i.createElement(i.Fragment,null,i.createElement("div",{className:"form-row"},i.createElement(C,{forwardedRef:this.cardRef,required:!0,onBlur:this.onBlur,onCardInputChange:this.handleCardInputChange})),i.createElement("div",{className:"form-row"},i.createElement(c.Z,{name:"name",type:"text",value:this.state.name,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.name_on_card","Name on Card"),required:!0})),i.createElement("div",{className:"section-title"},i.createElement(o.Z,{id:"payment_form.billing_address",defaultMessage:"Billing address"})),i.createElement(l.Z,{onChange:this.handleCountryChange,value:this.state.country?{value:this.state.country,label:this.state.country}:void 0,options:m.o.map((e=>({value:e.name,label:e.name}))),legend:d._u("payment_form.country","Country"),placeholder:d._u("payment_form.country","Country"),name:"billing_dropdown"}),i.createElement("div",{className:"form-row"},i.createElement(c.Z,{name:"address",type:"text",value:this.state.address,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.address","Address"),required:!0})),i.createElement("div",{className:"form-row"},i.createElement(c.Z,{name:"address2",type:"text",value:this.state.address2,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.address_2","Address 2")})),i.createElement("div",{className:"form-row"},i.createElement(c.Z,{name:"city",type:"text",value:this.state.city,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.city","City"),required:!0})),i.createElement("div",{className:"form-row"},i.createElement("div",{className:"form-row-third-1 selector"},i.createElement(u.Z,{country:this.state.country,state:this.state.state,onChange:this.handleStateChange,onBlur:this.onBlur})),i.createElement("div",{className:"form-row-third-2"},i.createElement(c.Z,{name:"postalCode",type:"text",value:this.state.postalCode,onChange:this.handleInputChange,onBlur:this.onBlur,placeholder:d._u("payment_form.zipcode","Zip/Postal Code"),required:!0}))),s?n:null);else{let e=null;if(t){let n=i.createElement(o.Z,{id:"payment_form.no_credit_card",defaultMessage:"No credit card added"});t.last_four&&(n=i.createElement(i.Fragment,null,i.createElement(y.Z,{brand:t.card_brand}),"Card ending in ".concat(t.last_four),i.createElement("br",null),"Expires ".concat(t.exp_month,"/").concat(t.exp_year)));let s=i.createElement("i",null,i.createElement(o.Z,{id:"payment_form.no_billing_address",defaultMessage:"No billing address added"}));this.state.state&&(s=i.createElement(i.Fragment,null,this.state.address,this.state.address2,i.createElement("br",null),"".concat(this.state.city,", ").concat(this.state.state,", ").concat(this.state.country),i.createElement("br",null),this.state.postalCode)),e=i.createElement(i.Fragment,null,i.createElement("div",{className:"PaymentForm-saved-card"},n),i.createElement("div",{className:"PaymentForm-saved-address"},s))}a=i.createElement("div",{id:"console_payment_saved",className:"PaymentForm-saved"},i.createElement("div",{className:"PaymentForm-saved-title"},i.createElement(o.Z,{id:"payment_form.saved_payment_method",defaultMessage:"Saved Payment Method"})),e,i.createElement("button",{className:"Form-btn-link PaymentForm-change",onClick:this.changePaymentMethod},i.createElement(o.Z,{id:"payment_form.change_payment_method",defaultMessage:"Change Payment Method"})))}return i.createElement("form",{id:"payment_form",className:"PaymentForm ".concat(e)},i.createElement("div",{className:"section-title"},i.createElement(o.Z,{id:"payment_form.credit_card",defaultMessage:"Credit Card"})),a)}}S(T,"propTypes",{className:a().string,onCardInputChange:a().func,onInputChange:a().func,onInputBlur:a().func,buttonFooter:a().element}),S(T,"defaultProps",{showSaveCard:!1,className:""})},84276:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(45697),a=n.n(s),i=n(67294),r=n(86896),o=n(35018),l=n(89996),c=n(50696);const d=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"PR",name:"Puerto Rico"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],m=[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland and Labrador"},{code:"NT",name:"Northwest Territories"},{code:"NS",name:"Nova Scotia"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Quebec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon Territory"}];function u(e){const{formatMessage:t}=(0,r.Z)();let n=[];return e.country===(0,o.oY)("US")?n=d:e.country===(0,o.oY)("CA")&&(n=m),n.length>0?i.createElement(l.Z,{onChange:t=>{e.onChange(t.value)},value:e.state?{value:e.state,label:e.state}:void 0,options:n.map((e=>({value:e.code,label:e.name}))),legend:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),placeholder:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),name:"billing_dropdown"}):i.createElement(c.Z,{name:"state",type:"text",value:e.state,onChange:t=>{e.onChange(t.target.value)},onBlur:e.onBlur,placeholder:t({id:"admin.billing.subscription.stateprovince",defaultMessage:"State/Province"}),required:!0})}u.propTypes={country:a().string.isRequired,state:a().string.isRequired,onChange:a().func.isRequired,onBlur:a().func}},66356:(e,t,n)=>{"use strict";function s(e){return e}function a(e){return async(e,t,n)=>({setupIntent:{id:"testid",status:"succeeded"}})}n.d(t,{li:()=>i,wW:()=>r,Yw:()=>o}),n(88674);const i=e=>e?a:s,r="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i&display=swap",o="pk_test_ttEpW6dCHksKyfAFzh6MvgBj"},80020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(33948);var s,a,i,r=n(37703),o=n(38348),l=n(45697),c=n.n(l),d=n(67294);class m extends d.PureComponent{render(){const{hasPermission:e,children:t,invert:n=!1}=this.props;return e&&!n||!e&&n?t:null}}s=m,a="propTypes",i={channelId:c().string,teamId:c().string,permissions:c().arrayOf(c().string).isRequired,hasPermission:c().bool.isRequired,invert:c().bool,children:c().node.isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;const u=(0,r.connect)((function(e,t){if(!t.channelId||null===t.teamId||void 0===t.teamId)return{hasPermission:!1};for(const n of t.permissions)if((0,o.Ai)(e,{channel:t.channelId,team:t.teamId,permission:n}))return{hasPermission:!0};return{hasPermission:!1}}))(m)},36846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(33948);var s=n(37703),a=n(38348),i=n(45697),r=n.n(i),o=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.PureComponent{render(){return this.props.hasPermission&&!this.props.invert||!this.props.hasPermission&&this.props.invert?this.props.children:null}}l(c,"propTypes",{permissions:r().arrayOf(r().string).isRequired,hasPermission:r().bool.isRequired,invert:r().bool,children:r().node.isRequired}),l(c,"defaultProps",{invert:!1});const d=(0,s.connect)((function(e,t){for(const n of t.permissions)if((0,a.AN)(e,{permission:n}))return{hasPermission:!0};return{hasPermission:!1}}))(c)},33574:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(33948);var s=n(37703),a=n(38348),i=n(45697),r=n.n(i),o=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.PureComponent{render(){return this.props.hasPermission&&!this.props.invert||!this.props.hasPermission&&this.props.invert?this.props.children:null}}l(c,"propTypes",{teamId:r().string,permissions:r().arrayOf(r().string).isRequired,hasPermission:r().bool.isRequired,invert:r().bool,children:r().node.isRequired}),l(c,"defaultProps",{invert:!1});const d=(0,s.connect)((function(e,t){if(!t.teamId)return{hasPermission:!1};for(const n of t.permissions)if((0,a.Rm)(e,{team:t.teamId,permission:n}))return{hasPermission:!0};return{hasPermission:!1}}))(c)},79541:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s,a,i,r=n(45697),o=n.n(r),l=n(67294),c=n(43253),d=n(44012);class m extends l.Component{shouldComponentUpdate(e){return e.show!==this.props.show}render(){return l.createElement(c.Z,{dialogClassName:"a11y__modal",show:this.props.show,onHide:this.props.onHide,role:"dialog","aria-labelledby":"postDeletedModalLabel","data-testid":"postDeletedModal"},l.createElement(c.Z.Header,{closeButton:!0},l.createElement(c.Z.Title,{componentClass:"h1",id:"postDeletedModalLabel"},l.createElement(d.Z,{id:"post_delete.notPosted",defaultMessage:"Comment could not be posted"}))),l.createElement(c.Z.Body,null,l.createElement("p",null,l.createElement(d.Z,{id:"post_delete.someone",defaultMessage:"Someone deleted the message on which you tried to post a comment."}))),l.createElement(c.Z.Footer,null,l.createElement("button",{type:"button",className:"btn btn-primary",autoFocus:!0,onClick:this.props.onHide,"data-testid":"postDeletedModalOkButton"},l.createElement(d.Z,{id:"post_delete.okay",defaultMessage:"Okay"}))))}}s=m,a="propTypes",i={show:o().bool.isRequired,onHide:o().func.isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i},2803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ne});var s=n(22222),a=n(37703),i=n(70493),r=n(22558),o=n(89980),l=n(47667),c=n(45697),d=n.n(c),m=(n(33948),n(67294)),u=n(30845),p=n(64852),h=(n(15306),n(44012)),g=n(74650),f=n(74935),b=n(14890),_=n(18493),E=n(26961),C=(n(85827),n(32023),n(74806)),y=n(82251);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={[g.V8.POST_TYPES.ADD_TO_CHANNEL]:{id:(0,y.t)("last_users_message.added_to_channel.type"),defaultMessage:"were **added to the channel** by {actor}."},[g.V8.POST_TYPES.JOIN_CHANNEL]:{id:(0,y.t)("last_users_message.joined_channel.type"),defaultMessage:"**joined the channel**."},[g.V8.POST_TYPES.LEAVE_CHANNEL]:{id:(0,y.t)("last_users_message.left_channel.type"),defaultMessage:"**left the channel**."},[g.V8.POST_TYPES.REMOVE_FROM_CHANNEL]:{id:(0,y.t)("last_users_message.removed_from_channel.type"),defaultMessage:"were **removed from the channel**."},[g.V8.POST_TYPES.ADD_TO_TEAM]:{id:(0,y.t)("last_users_message.added_to_team.type"),defaultMessage:"were **added to the team** by {actor}."},[g.V8.POST_TYPES.JOIN_TEAM]:{id:(0,y.t)("last_users_message.joined_team.type"),defaultMessage:"**joined the team**."},[g.V8.POST_TYPES.LEAVE_TEAM]:{id:(0,y.t)("last_users_message.left_team.type"),defaultMessage:"**left the team**."},[g.V8.POST_TYPES.REMOVE_FROM_TEAM]:{id:(0,y.t)("last_users_message.removed_from_team.type"),defaultMessage:"were **removed from the team**."}};class S extends m.PureComponent{constructor(e){super(e),v(this,"handleOnClick",(e=>{e.preventDefault(),this.setState({expand:!0})})),v(this,"renderMessage",(e=>m.createElement(p.Z,{message:e,options:this.props.formatOptions}))),this.state={expand:!1}}render(){const{formatMessage:e}=this.props.intl,{expand:t}=this.state,{actor:n,expandedLocale:s,postType:a,usernames:i}=this.props,r=i[0],o=i.length-1,l=i[o];if(t){const t=e(s,{users:i.slice(0,o).join(", "),lastUser:l,actor:n});return this.renderMessage(t)}const c=e({id:"last_users_message.first",defaultMessage:"{firstUser} and "},{firstUser:r}),d=e({id:"last_users_message.others",defaultMessage:"{numOthers} others "},{numOthers:o}),u=e({id:w[a].id,defaultMessage:w[a].defaultMessage},{actor:n});return m.createElement("span",null,this.renderMessage(c),m.createElement("a",{onClick:this.handleOnClick},d),this.renderMessage(u))}}v(S,"propTypes",{actor:d().string,postType:d().string.isRequired,usernames:d().arrayOf(d().string).isRequired});const T=(0,C.ZP)(S);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{JOIN_CHANNEL:M,ADD_TO_CHANNEL:N,REMOVE_FROM_CHANNEL:I,LEAVE_CHANNEL:R,JOIN_TEAM:A,ADD_TO_TEAM:O,REMOVE_FROM_TEAM:L,LEAVE_TEAM:D}=g.V8.POST_TYPES,k={[M]:{one:{id:(0,y.t)("combined_system_message.joined_channel.one"),defaultMessage:"{firstUser} **joined the channel**."},one_you:{id:(0,y.t)("combined_system_message.joined_channel.one_you"),defaultMessage:"You **joined the channel**."},two:{id:(0,y.t)("combined_system_message.joined_channel.two"),defaultMessage:"{firstUser} and {secondUser} **joined the channel**."},many_expanded:{id:(0,y.t)("combined_system_message.joined_channel.many_expanded"),defaultMessage:"{users} and {lastUser} **joined the channel**."}},[N]:{one:{id:(0,y.t)("combined_system_message.added_to_channel.one"),defaultMessage:"{firstUser} **added to the channel** by {actor}."},one_you:{id:(0,y.t)("combined_system_message.added_to_channel.one_you"),defaultMessage:"You were **added to the channel** by {actor}."},two:{id:(0,y.t)("combined_system_message.added_to_channel.two"),defaultMessage:"{firstUser} and {secondUser} **added to the channel** by {actor}."},many_expanded:{id:(0,y.t)("combined_system_message.added_to_channel.many_expanded"),defaultMessage:"{users} and {lastUser} were **added to the channel** by {actor}."}},[I]:{one:{id:(0,y.t)("combined_system_message.removed_from_channel.one"),defaultMessage:"{firstUser} was **removed from the channel**."},one_you:{id:(0,y.t)("combined_system_message.removed_from_channel.one_you"),defaultMessage:"You were **removed from the channel**."},two:{id:(0,y.t)("combined_system_message.removed_from_channel.two"),defaultMessage:"{firstUser} and {secondUser} were **removed from the channel**."},many_expanded:{id:(0,y.t)("combined_system_message.removed_from_channel.many_expanded"),defaultMessage:"{users} and {lastUser} were **removed from the channel**."}},[R]:{one:{id:(0,y.t)("combined_system_message.left_channel.one"),defaultMessage:"{firstUser} **left the channel**."},one_you:{id:(0,y.t)("combined_system_message.left_channel.one_you"),defaultMessage:"You **left the channel**."},two:{id:(0,y.t)("combined_system_message.left_channel.two"),defaultMessage:"{firstUser} and {secondUser} **left the channel**."},many_expanded:{id:(0,y.t)("combined_system_message.left_channel.many_expanded"),defaultMessage:"{users} and {lastUser} **left the channel**."}},[A]:{one:{id:(0,y.t)("combined_system_message.joined_team.one"),defaultMessage:"{firstUser} **joined the team**."},one_you:{id:(0,y.t)("combined_system_message.joined_team.one_you"),defaultMessage:"You **joined the team**."},two:{id:(0,y.t)("combined_system_message.joined_team.two"),defaultMessage:"{firstUser} and {secondUser} **joined the team**."},many_expanded:{id:(0,y.t)("combined_system_message.joined_team.many_expanded"),defaultMessage:"{users} and {lastUser} **joined the team**."}},[O]:{one:{id:(0,y.t)("combined_system_message.added_to_team.one"),defaultMessage:"{firstUser} **added to the team** by {actor}."},one_you:{id:(0,y.t)("combined_system_message.added_to_team.one_you"),defaultMessage:"You were **added to the team** by {actor}."},two:{id:(0,y.t)("combined_system_message.added_to_team.two"),defaultMessage:"{firstUser} and {secondUser} **added to the team** by {actor}."},many_expanded:{id:(0,y.t)("combined_system_message.added_to_team.many_expanded"),defaultMessage:"{users} and {lastUser} were **added to the team** by {actor}."}},[L]:{one:{id:(0,y.t)("combined_system_message.removed_from_team.one"),defaultMessage:"{firstUser} was **removed from the team**."},one_you:{id:(0,y.t)("combined_system_message.removed_from_team.one_you"),defaultMessage:"You were **removed from the team**."},two:{id:(0,y.t)("combined_system_message.removed_from_team.two"),defaultMessage:"{firstUser} and {secondUser} were **removed from the team**."},many_expanded:{id:(0,y.t)("combined_system_message.removed_from_team.many_expanded"),defaultMessage:"{users} and {lastUser} were **removed from the team**."}},[D]:{one:{id:(0,y.t)("combined_system_message.left_team.one"),defaultMessage:"{firstUser} **left the team**."},one_you:{id:(0,y.t)("combined_system_message.left_team.one_you"),defaultMessage:"You **left the team**."},two:{id:(0,y.t)("combined_system_message.left_team.two"),defaultMessage:"{firstUser} and {secondUser} **left the team**."},many_expanded:{id:(0,y.t)("combined_system_message.left_team.many_expanded"),defaultMessage:"{users} and {lastUser} **left the team**."}}};class x extends m.PureComponent{constructor(...e){super(...e),P(this,"loadUserProfiles",((e,t)=>{e.length>0&&this.props.actions.getMissingProfilesByIds(e),t.length>0&&this.props.actions.getMissingProfilesByUsernames(t)})),P(this,"getAllUsernames",(()=>{const{allUserIds:e,allUsernames:t,currentUserId:n,currentUsername:s,userProfiles:a}=this.props,{formatMessage:i}=this.props.intl,r=a.reduce(((e,t)=>(e[t.id]=t.username,e[t.username]=t.username,e)),{}),o=i({id:(0,y.t)("combined_system_message.you"),defaultMessage:"You"});return e.includes(n)?r[n]=o:t.includes(s)&&(r[s]=o),r})),P(this,"getUsernamesByIds",((e=[])=>{const{currentUserId:t,currentUsername:n}=this.props,s=this.getAllUsernames(),{formatMessage:a}=this.props.intl,i=a({id:(0,y.t)("channel_loader.someone"),defaultMessage:"Someone"}),r=e.filter((e=>e!==t&&e!==n)).map((e=>s[e]?"@".concat(s[e]):i)).filter((e=>e&&""!==e));return e.includes(t)?r.unshift(s[t]):e.includes(n)&&r.unshift(s[n]),r}))}componentDidMount(){this.loadUserProfiles(this.props.allUserIds,this.props.allUsernames)}componentDidUpdate(e){const{allUserIds:t,allUsernames:n}=this.props;t===e.allUserIds&&n===e.allUsernames||this.loadUserProfiles(t,n)}renderFormattedMessage(e,t,n){const{formatMessage:s}=this.props.intl,{currentUserId:a,currentUsername:i}=this.props,r=this.getUsernamesByIds(t);let o=n?this.getUsernamesByIds([n])[0]:"";!o||n!==a&&n!==i||(o=o.toLowerCase());const l=r[0],c=r[1],d=r.length-1,u={atMentions:!0,mentionKeys:[{key:l},{key:c},{key:o}],mentionHighlight:!1,singleline:!0};if(d>1)return m.createElement(T,{actor:o,expandedLocale:k[e].many_expanded,formatOptions:u,postType:e,usernames:r});let h={};0===d?(h=k[e].one,t[0]!==this.props.currentUserId&&t[0]!==this.props.currentUsername||!k[e].one_you||(h=k[e].one_you)):1===d&&(h=k[e].two);const g=s(h,{firstUser:l,secondUser:c,actor:o});return m.createElement(p.Z,{message:g,options:u})}renderMessage(e,t,n){return m.createElement(m.Fragment,{key:e+n},this.renderFormattedMessage(e,t,n),m.createElement("br",null))}render(){const{currentUserId:e,messageData:t}=this.props,n=[],s=[];for(const a of t){const{postType:t,actorId:i}=a;let r=a.userIds;if(!this.props.showJoinLeave&&i!==e){if(-1===r.indexOf(e))continue;r=[e]}t!==I?n.push(this.renderMessage(t,r,i)):s.push(...r)}if(s.length>0){const t=s.filter(((e,t,n)=>n.indexOf(e)===t));n.push(this.renderMessage(I,t,e))}return m.createElement(m.Fragment,null,n)}}P(x,"propTypes",{allUserIds:d().arrayOf(d().string),allUsernames:d().arrayOf(d().string),currentUserId:d().string.isRequired,currentUsername:d().string.isRequired,messageData:d().arrayOf(d().shape({actorId:d().string,postType:d().string.isRequired,userIds:d().arrayOf(d().string).isRequired})).isRequired,showJoinLeave:d().bool.isRequired,userProfiles:d().array.isRequired,actions:d().shape({getMissingProfilesByIds:d().func.isRequired,getMissingProfilesByUsernames:d().func.isRequired}).isRequired}),P(x,"defaultProps",{allUserIds:[],allUsernames:[]});const U=(0,C.ZP)(x),Z=(0,a.connect)((function(){const e=(0,o.Mi)();return(t,n)=>{const s=(0,o.ts)(t),{allUserIds:a,allUsernames:i}=n;return{currentUserId:s.id,currentUsername:s.username,showJoinLeave:(0,E.o4)(t,g.uP.CATEGORY_ADVANCED_SETTINGS,g.uP.ADVANCED_FILTER_JOIN_LEAVE,!1),userProfiles:e(t,{allUserIds:a,allUsernames:i})}}}),(function(e){return{actions:(0,b.bindActionCreators)({getMissingProfilesByIds:_.C4,getMissingProfilesByUsernames:_.on},e)}}))(U);var j=n(80722),F=n(92405),H=n(85357),q=n(34288),B=n(92337),G=n(21293);function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class W extends m.PureComponent{constructor(e){super(e),V(this,"handleAddChannelMember",(()=>{const{currentUser:e,post:t,userIds:n,usernames:s}=this.props;if(t&&t.channel_id){let a=t.create_at;n.forEach(((n,i)=>{a++,this.props.actions.addChannelMember(t.channel_id,n),(0,q.Q0)(e,s[i],n,t.channel_id,t.root_id,a)})),this.props.actions.removePost(t)}})),V(this,"expand",(()=>{this.setState({expanded:!0})})),this.state={expanded:!1}}generateAtMentions(e=[]){var t;if(1===e.length)return m.createElement(G.Z,{mentionName:e[0],channelId:null===(t=this.props.post)||void 0===t?void 0:t.channel_id});if(e.length>1){var n,s;function a(e){return m.createElement(h.Z,{key:e,id:"post_body.check_for_out_of_channel_mentions.link.and",defaultMessage:" and "})}function i(e){return m.createElement("span",{key:e},", ")}if(this.state.expanded||e.length<=3)return m.createElement("span",null,e.map((e=>{var t;return m.createElement(G.Z,{key:e,mentionName:e,channelId:null===(t=this.props.post)||void 0===t?void 0:t.channel_id})})).reduce(((e,t,n,s)=>0===n?[t]:n===s.length-1?[...e,a(n),t]:[...e,i(n),t]),[]));const t=[...e],r=t.shift(),o=t.pop();return m.createElement("span",null,m.createElement(G.Z,{key:r,mentionName:r,channelId:null===(n=this.props.post)||void 0===n?void 0:n.channel_id}),i(1),m.createElement("a",{className:"PostBody_otherUsersLink",onClick:this.expand},m.createElement(h.Z,{id:"post_body.check_for_out_of_channel_mentions.others",defaultMessage:"{numOthers} others",values:{numOthers:t.length}})),a(1),m.createElement(G.Z,{key:o,mentionName:o,channelId:null===(s=this.props.post)||void 0===s?void 0:s.channel_id}))}return""}render(){const{channelType:e,postId:t,usernames:n,noGroupsUsernames:s}=this.props;if(!t||!e)return null;let a,i,r,o;e===B.gT.PRIVATE_CHANNEL?(a=(0,y.t)("post_body.check_for_out_of_channel_mentions.link.private"),i="add them to this private channel"):e===B.gT.OPEN_CHANNEL&&(a=(0,y.t)("post_body.check_for_out_of_channel_mentions.link.public"),i="add them to the channel");const l=this.generateAtMentions(n);let c,d;1===n.length?(r=(0,y.t)("post_body.check_for_out_of_channel_mentions.message.one"),o="did not get notified by this mention because they are not in the channel. Would you like to "):n.length>1&&(r=(0,y.t)("post_body.check_for_out_of_channel_mentions.message.multiple"),o="did not get notified by this mention because they are not in the channel. Would you like to ");const u=this.generateAtMentions(s);s.length&&(c=(0,y.t)("post_body.check_for_out_of_channel_groups_mentions.message"),d="did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.");let p=null,g=null;return n.length&&(p=m.createElement("p",null,l," ",m.createElement(h.Z,{id:r,defaultMessage:o}),m.createElement("a",{className:"PostBody_addChannelMemberLink",onClick:this.handleAddChannelMember},m.createElement(h.Z,{id:a,defaultMessage:i})),m.createElement(h.Z,{id:"post_body.check_for_out_of_channel_mentions.message_last",defaultMessage:"? They will have access to all message history."}))),s.length&&(g=m.createElement("p",null,u," ",m.createElement(h.Z,{id:c,defaultMessage:d}))),m.createElement(m.Fragment,null,p,g)}}V(W,"propTypes",{channelType:d().string.isRequired,postId:d().string.isRequired,userIds:d().arrayOf(d().string).isRequired,usernames:d().arrayOf(d().string).isRequired,noGroupsUsernames:d().arrayOf(d().string).isRequired,actions:d().shape({addChannelMember:d().func.isRequired,removePost:d().func.isRequired}).isRequired});const z=(0,a.connect)((function(e,t){const n=(0,H.xl)(e,t.postId)||{};let s="";if(n&&n.channel_id){const t=(0,i.mr)(e,n.channel_id);t&&t.type&&(s=t.type)}return{channelType:s,currentUser:(0,o.ts)(e),post:n}}),(function(e){return{actions:(0,b.bindActionCreators)({addChannelMember:j.XK,removePost:F.M8},e)}}))(W);function Y(e){return K("@"===e[0]?e:"@".concat(e),{markdown:!1})}function K(e,t,n){return m.createElement(p.Z,{message:e,options:t,postId:n&&n.id,postType:n&&n.type})}function J(e){const t=Y(e.props.username),n=Y(e.props.addedUsername);return m.createElement(h.Z,{id:"api.channel.add_member.added",defaultMessage:"{addedUsername} added to the channel by {username}.",values:{username:t,addedUsername:n}})}const Q={[g.V8.POST_TYPES.JOIN_CHANNEL]:function(e){const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.channel.join_channel.post_and_forget",defaultMessage:"{username} joined the channel.",values:{username:t}})},[g.V8.POST_TYPES.GUEST_JOIN_CHANNEL]:function(e){const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.channel.guest_join_channel.post_and_forget",defaultMessage:"{username} joined the channel as a guest.",values:{username:t}})},[g.V8.POST_TYPES.LEAVE_CHANNEL]:function(e){const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.channel.leave.left",defaultMessage:"{username} has left the channel.",values:{username:t}})},[g.V8.POST_TYPES.ADD_TO_CHANNEL]:J,[g.V8.POST_TYPES.ADD_GUEST_TO_CHANNEL]:function(e){const t=Y(e.props.username),n=Y(e.props.addedUsername);return m.createElement(h.Z,{id:"api.channel.add_guest.added",defaultMessage:"{addedUsername} added to the channel as a guest by {username}.",values:{username:t,addedUsername:n}})},[g.V8.POST_TYPES.REMOVE_FROM_CHANNEL]:function(e){const t=Y(e.props.removedUsername);return m.createElement(h.Z,{id:"api.channel.remove_member.removed",defaultMessage:"{removedUsername} was removed from the channel",values:{removedUsername:t}})},[g.V8.POST_TYPES.JOIN_TEAM]:function(e){const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.team.join_team.post_and_forget",defaultMessage:"{username} joined the team.",values:{username:t}})},[g.V8.POST_TYPES.LEAVE_TEAM]:function(e){const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.team.leave.left",defaultMessage:"{username} left the team.",values:{username:t}})},[g.V8.POST_TYPES.ADD_TO_TEAM]:function(e){const t=Y(e.props.username),n=Y(e.props.addedUsername);return m.createElement(h.Z,{id:"api.team.add_member.added",defaultMessage:"{addedUsername} added to the team by {username}.",values:{username:t,addedUsername:n}})},[g.V8.POST_TYPES.REMOVE_FROM_TEAM]:function(e){const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.team.remove_user_from_team.removed",defaultMessage:"{removedUsername} was removed from the team.",values:{removedUsername:t}})},[g.V8.POST_TYPES.HEADER_CHANGE]:function(e){if(!e.props.username)return null;const t={singleline:!0,channelNamesMap:e.props&&e.props.channel_mentions,mentionHighlight:!0},n=Y(e.props.username),s=e.props.old_header?K(e.props.old_header,t,e):null,a=e.props.new_header?K(e.props.new_header,t,e):null;return e.props.new_header?e.props.old_header?m.createElement(h.Z,{id:"api.channel.post_update_channel_header_message_and_forget.updated_from",defaultMessage:"{username} updated the channel header <br></br><strong>From:</strong> {old} <br></br><strong>To:</strong> {new}",values:{username:n,old:s,new:a,strong:e=>m.createElement("strong",null,e),br:e=>m.createElement(m.Fragment,null,m.createElement("br",null),e)}}):m.createElement(h.Z,{id:"api.channel.post_update_channel_header_message_and_forget.updated_to",defaultMessage:"{username} updated the channel header to: {new}",values:{username:n,new:a}}):e.props.old_header?m.createElement(h.Z,{id:"api.channel.post_update_channel_header_message_and_forget.removed",defaultMessage:"{username} removed the channel header (was: {old})",values:{username:n,old:s}}):null},[g.V8.POST_TYPES.DISPLAYNAME_CHANGE]:function(e){if(!(e.props.username&&e.props.old_displayname&&e.props.new_displayname))return null;const t=Y(e.props.username),n=e.props.old_displayname,s=e.props.new_displayname;return m.createElement(h.Z,{id:"api.channel.post_update_channel_displayname_message_and_forget.updated_from",defaultMessage:"{username} updated the channel display name from: {old} to: {new}",values:{username:t,old:n,new:s}})},[g.V8.POST_TYPES.CONVERT_CHANNEL]:function(e){if(!e.props.username)return null;const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.channel.post_convert_channel_to_private.updated_from",defaultMessage:"{username} converted the channel from public to private",values:{username:t}})},[g.V8.POST_TYPES.PURPOSE_CHANGE]:function(e){if(!e.props.username)return null;const t=Y(e.props.username),n=e.props.old_purpose,s=e.props.new_purpose;return e.props.new_purpose?e.props.old_purpose?m.createElement(h.Z,{id:"app.channel.post_update_channel_purpose_message.updated_from",defaultMessage:"{username} updated the channel purpose from: {old} to: {new}",values:{username:t,old:n,new:s}}):m.createElement(h.Z,{id:"app.channel.post_update_channel_purpose_message.updated_to",defaultMessage:"{username} updated the channel purpose to: {new}",values:{username:t,new:s}}):e.props.old_purpose?m.createElement(h.Z,{id:"app.channel.post_update_channel_purpose_message.removed",defaultMessage:"{username} removed the channel purpose (was: {old})",values:{username:t,old:n}}):null},[g.V8.POST_TYPES.CHANNEL_DELETED]:function(e){if(!e.props.username)return null;const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.channel.delete_channel.archived",defaultMessage:"{username} has archived the channel.",values:{username:t}})},[g.V8.POST_TYPES.CHANNEL_UNARCHIVED]:function(e){if(!e.props.username)return null;const t=Y(e.props.username);return m.createElement(h.Z,{id:"api.channel.restore_channel.unarchived",defaultMessage:"{username} has unarchived the channel.",values:{username:t}})},[g.V8.POST_TYPES.ME]:function(e){return K(e.message.replace(/^\*|\*$/g,""))}};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class te extends m.PureComponent{constructor(...e){super(...e),ee(this,"getOptions",(0,u.default)(((e,t,n)=>$($({},e),{},{disableGroupHighlight:t,mentionHighlight:n}))))}render(){var e,t,n;let{message:s}=this.props;const{post:a,mentionKeys:i}=this.props;if(a){const e=function(e,t,n){if(e.props&&e.props.add_channel_member){const s=f.Kx(e);if(t&&(t.type===g.LQ.PRIVATE_CHANNEL||t.type===g.LQ.OPEN_CHANNEL)&&n&&s){const t=e.props.add_channel_member;return m.createElement(z,{postId:t.post_id,userIds:t.not_in_channel_user_ids,noGroupsUsernames:t.not_in_groups_usernames,usernames:t.not_in_channel_usernames})}return null}if(Q[e.type])return Q[e.type](e);if(e.type===g.V8.POST_TYPES.EPHEMERAL_ADD_TO_CHANNEL)return J(e);if(e.type===g.V8.POST_TYPES.COMBINED_USER_ACTIVITY){const{allUserIds:t,allUsernames:n,messageData:s}=e.props.user_activity;return m.createElement(Z,{allUserIds:t,allUsernames:n,messageData:s})}return null}(a,this.props.channel,this.props.isUserCanManageMembers);if(e)return m.createElement("div",null,e)}const r=!a||!a.message_source||a.message===a.message_source,o=a&&a.props&&a.props.channel_mentions;null===(e=this.props.pluginHooks)||void 0===e||e.forEach((e=>{e&&e.hook&&a&&(s=e.hook(a,s))}));let l=null===(t=this.props.options)||void 0===t?void 0:t.mentionHighlight;a&&a.props&&(l=!a.props.mentionHighlightDisabled);const c=this.getOptions(this.props.options,!0===(null==a||null===(n=a.props)||void 0===n?void 0:n.disable_group_highlight),l);return m.createElement(p.Z,{imageProps:this.props.imageProps,isRHS:this.props.isRHS,message:s,proxyImages:r,mentionKeys:i,options:c,channelNamesMap:o,hasPluginTooltips:this.props.hasPluginTooltips,imagesMetadata:this.props.post&&this.props.post.metadata&&this.props.post.metadata.images,postId:this.props.post&&this.props.post.id})}}ee(te,"propTypes",{isRHS:d().bool,message:d().string.isRequired,channelId:d().string,hasPluginTooltips:d().bool,isUserCanManageMembers:d().bool,mentionKeys:d().array.isRequired}),ee(te,"defaultProps",{isRHS:!1,pluginHooks:[],options:{}});const ne=(0,a.connect)((function(){const e=(0,s.P1)(o.b7,((e,t)=>t),((e,t,n)=>n?(0,r.yg)(e,n.team_id,n.id):(0,r._)(e)),((e,t,n)=>{var s,a;let i=e;return null!=t&&null!==(s=t.props)&&void 0!==s&&s.disable_group_highlight||(i=i.concat(n)),null!=t&&null!==(a=t.props)&&void 0!==a&&a.mentionHighlightDisabled&&(i=i.filter((e=>!["@all","@group","@here"].includes(e.key)))),i}));return(t,n)=>{const s=(0,i.mr)(t,n.channelId);return{channel:s,pluginHooks:t.plugins.components.MessageWillFormat,hasPluginTooltips:Boolean(t.plugins.components.LinkTooltip),isUserCanManageMembers:s&&(0,l.sz)(t,s),mentionKeys:e(t,n.post,s)}}}))(te)},30529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var s=n(37703),a=n(42560),i=n(89980),r=n(11106),o=n(45697),l=n.n(o),c=(n(33948),n(67294)),d=n(79592),m=n(27420),u=n(92337),p=n(85174),h=n(74935);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends c.PureComponent{constructor(...e){super(...e),g(this,"getProfilePictureURL",(()=>{const{post:e,user:t}=this.props;return t&&t.id===e.user_id?h.bb(t.id,t.last_picture_update):e.user_id?h.bb(e.user_id):""})),g(this,"getStatus",((e,t,n)=>e||t||n&&n.is_bot?"":this.props.status)),g(this,"getPostIconURL",((e,t,n)=>{const{enablePostIconOverride:s,hasImageProxy:a,post:i}=this.props,r=i.props;let o="",l="";return r&&(o=r.override_icon_url,l=r.use_user_icon),this.props.compactDisplay?"":!t&&n&&!l&&s?o&&""!==o?p.Q4(o,a):u.ZP.DEFAULT_WEBHOOK_LOGO:e}))}render(){const{compactDisplay:e,isBusy:t,isRHS:n,post:s,user:a,isBot:i}=this.props,r=p.Ew(s),o=p.Wo(s);if(r&&!e&&!o&&!i)return c.createElement(m.Z,{className:"icon"});const l=p.zj(s),u=!l&&!o,h=this.getProfilePictureURL(),g=this.getPostIconURL(h,l,o),f=s.props?s.props.override_icon_emoji:"",b=s.props?s.props.override_username:"",_="string"==typeof f&&""!==f,E=this.getStatus(l,o,a);return c.createElement(d.Z,{hasMention:u,isBusy:t,isRHS:n,size:"md",src:g,profileSrc:h,isEmoji:_,status:E,userId:null==a?void 0:a.id,channelId:s.channel_id,username:null==a?void 0:a.username,overwriteIcon:this.props.overwriteIcon,overwriteName:b})}}g(f,"propTypes",{compactDisplay:l().bool.isRequired,enablePostIconOverride:l().bool.isRequired,hasImageProxy:l().bool.isRequired,isBusy:l().bool,isRHS:l().bool,status:l().string,isBot:l().bool,postIconOverrideURL:l().string,overwriteIcon:l().string}),g(f,"defaultProps",{status:u.gg.OFFLINE});const b=(0,s.connect)((function(e,t){const n=(0,a.iE)(e),s=(0,i.PR)(e,t.userId),o="true"===n.EnablePostIconOverride&&t.post&&t.post.props&&t.post.props.override_icon_url;let l;return o&&(l=r.je.getAbsoluteUrl(o)),{enablePostIconOverride:"true"===n.EnablePostIconOverride,overwriteIcon:l,hasImageProxy:"true"===n.HasImageProxy,status:(0,i.ZO)(e,t.userId),isBot:Boolean(s&&s.is_bot),user:s}}))(f)},86401:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s,a,i,r=n(45697),o=n.n(r),l=n(67294),c=n(49801);class d extends l.PureComponent{render(){const{children:e}=this.props;return l.createElement("div",{"data-testid":"basicSeparator",className:"Separator BasicSeparator"},l.createElement("hr",{className:"separator__hr"}),e&&l.createElement("div",{className:"separator__text"},e))}}s=d,a="propTypes",i={children:o().node},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;const m=[c.ap.aS,c.ap.o$],u=({date:e})=>l.createElement(d,null,l.createElement(c.ZP,{value:e,useTime:!1,useSemanticOutput:!1,ranges:m}));u.propTypes={date:o().oneOfType([o().number,o().instanceOf(Date)]).isRequired};const p=(0,l.memo)(u)},18632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s=n(37703),a=n(14890),i=n(92405),r=n(34959),o=n(45697),l=n.n(o),c=(n(33948),n(67294)),d=n(44012);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends c.PureComponent{constructor(...e){super(...e),u(this,"retryPost",(e=>{e.preventDefault();const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.post);Reflect.deleteProperty(t,"id"),this.props.actions.createPost(t)})),u(this,"cancelPost",(e=>{e.preventDefault(),this.props.actions.removePost(this.props.post)}))}render(){return c.createElement("span",{className:"pending-post-actions"},c.createElement("a",{className:"post-retry",href:"#",onClick:this.retryPost},c.createElement(d.Z,{id:"pending_post_actions.retry",defaultMessage:"Retry"}))," - ",c.createElement("a",{className:"post-cancel",href:"#",onClick:this.cancelPost},c.createElement(d.Z,{id:"pending_post_actions.cancel",defaultMessage:"Cancel"})))}}u(p,"propTypes",{actions:l().shape({createPost:l().func.isRequired,removePost:l().func.isRequired}).isRequired});const h=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({createPost:r.qb,removePost:i.M8},e)}}))(p)},58009:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var s=n(37703),a=n(85357),i=n(6171),r=n(76908),o=n(45697),l=n.n(o),c=n(67294),d=n(94184),m=n.n(d),u=n(49801);const p=[u.ap.aS,u.ap.o$];class h extends c.PureComponent{render(){const{isMobile:e,createAt:t,isScrolling:n,isRhsPost:s,toastPresent:a}=this.props;if(!e||0===t)return null;const i=m()("post-list__timestamp",{scrolling:n,rhs:s,toastAdjustment:a});return c.createElement("div",{className:i,"data-testid":"floatingTimestamp"},c.createElement("div",null,c.createElement("span",null,c.createElement(u.ZP,{value:t,useTime:!1,ranges:p}))))}}var g,f,b;g=h,f="propTypes",b={isScrolling:l().bool.isRequired,isMobile:l().bool.isRequired,createAt:l().oneOfType([l().instanceOf(Date),l().number]).isRequired,toastPresent:l().bool.isRequired,isRhsPost:l().bool},f in g?Object.defineProperty(g,f,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[f]=b;const _=(0,s.connect)((function(e,t){let n=t.postId;if(i.mM(n)){const e=i.v0(n);n=e[e.length-1]}const s=(0,a.xl)(e,n),o=(0,r.E)(e);return{createAt:s?s.create_at:0,toastPresent:o}}))(h)},19145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>je});var s=n(37703),a=n(14890),i=n(62696),r=n(34959),o=n(51),l=n(45697),c=n.n(l),d=(n(33948),n(4723),n(67294)),m=n(59929),u=n(92405),p=n(16146),h=n(39138),g=n.n(h),f=n(12266),b=n(92337),_=n(74935),E=n(31587);class C extends E.Z{link(e,t,n){let s=e;(0,f.UG)(e)||(s="http://".concat(s));let a='<a class="theme markdown__link" href="'.concat(s,'" target="_blank"');return t&&(a+=' title="'+t+'"'),a+=">".concat(n,"</a>"),a}}var y,v,w,S=n(56039),T=n(64852),P=n(33459),M=n(42329),N=n(26961),I=n(2418),R=n(21843);class A extends d.PureComponent{getStatusColors(e){return{good:"#00c100",warning:"#dede01",danger:e.errorTextColor,default:e.centerChannelColor,primary:e.buttonBg,success:e.onlineIndicator}}render(){const{action:e,handleAction:t,disabled:n,theme:s}=this.props;let a;if(e.style){const t=this.getStatusColors(s)[e.style]||s[e.style]||e.style.match("^#(?:[0-9a-fA-F]{3}){1,2}$")&&e.style;t&&(a={borderColor:(0,I.v5)(t,.25),color:t,borderWidth:2})}return d.createElement("button",{"data-action-id":e.id,"data-action-cookie":e.cookie,disabled:n,key:e.id,onClick:e=>t(e,this.props.action.options),style:a},d.createElement(R.Z,{loading:this.props.actionExecuting,text:this.props.actionExecutingMessage},d.createElement(T.Z,{message:e.name,options:{mentionHighlight:!1,markdown:!1,autolinkedUrlSchemes:[]}})))}}y=A,v="propTypes",w={handleAction:c().func.isRequired,disabled:c().bool,actionExecuting:c().bool,actionExecutingMessage:c().string},v in y?Object.defineProperty(y,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[v]=w;const O=(0,s.connect)((function(e){return{theme:(0,N.gh)(e)}}))(A);var L=n(63951),D=n(47715),k=n(49725),x=n(70668),U=n(59030),Z=n(28958),j=n(52166),F=n(51695);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q extends d.PureComponent{constructor(e){super(e),H(this,"providers",void 0),H(this,"handleSelected",(e=>{var t;if(!e)return;const{action:n}=this.props;let s="",a="";if("users"===n.data_source){const t=e;a=t.username,s=t.id}else if("channels"===n.data_source){const t=e;a=t.display_name,s=t.id}else{const t=e;a=t.text,s=t.value}this.props.actions.selectAttachmentMenuAction(this.props.postId,this.props.action.id||"",this.props.action.cookie||"",null===(t=this.props.action)||void 0===t?void 0:t.data_source,a,s),this.setState({value:a})}));const t=e.action;let n;this.providers=[],t&&("users"===t.data_source?this.providers=[new U.Z(e.actions.autocompleteUsers)]:"channels"===t.data_source?this.providers=[new Z.Z(e.actions.autocompleteChannels)]:t.options&&(this.providers=[new x.Z(t.options)]));let s="";t.default_option&&t.options&&(n=t.options.find((e=>e.value===t.default_option)),s=n?n.text:""),this.state={selected:n,value:s}}static getDerivedStateFromProps(e,t){return e.selected&&e.selected!==t.selected?{value:e.selected.text,selected:e.selected}:null}render(){const{action:e,disabled:t}=this.props;return d.createElement(F.Z.Consumer,null,(({handlePopupOpened:n})=>d.createElement(j.Z,{providers:this.providers,onSelected:this.handleSelected,placeholder:e.name,inputClassName:"post-attachment-dropdown",value:this.state.value,toggleFocus:n,disabled:t})))}}H(q,"propTypes",{postId:c().string.isRequired,disabled:c().bool,actions:c().shape({autocompleteChannels:c().func.isRequired,selectAttachmentMenuAction:c().func.isRequired,autocompleteUsers:c().func.isRequired}).isRequired});const B=(0,s.connect)((function(e,t){const n=e.views.posts.menuActions[t.postId];return{selected:t.action&&t.action.id?n&&n[t.action&&t.action.id]:void 0}}),(function(e){return{actions:(0,a.bindActionCreators)({selectAttachmentMenuAction:k.m,autocompleteChannels:L.J3,autocompleteUsers:D.w5},e)}}))(q);var G=n(59925);function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class W extends d.PureComponent{constructor(e){super(e),V(this,"mounted",!1),V(this,"imageProps",{}),V(this,"handleHeightReceivedForThumbUrl",(({height:e})=>{const{attachment:t}=this.props;(!this.props.imagesMetadata||this.props.imagesMetadata&&!this.props.imagesMetadata[t.thumb_url])&&this.handleHeightReceived(e)})),V(this,"handleHeightReceivedForImageUrl",(({height:e})=>{const{attachment:t}=this.props;(!this.props.imagesMetadata||this.props.imagesMetadata&&!this.props.imagesMetadata[t.image_url])&&this.handleHeightReceived(e)})),V(this,"handleHeightReceived",(e=>{this.mounted&&e>0&&this.setState((e=>({checkOverflow:e.checkOverflow+1})))})),V(this,"renderPostActions",(()=>{const e=this.props.attachment.actions;if(!e||!e.length)return"";const t=[];return e.forEach((e=>{if(e.id&&e.name)switch(e.type){case"select":t.push(d.createElement(B,{key:e.id,postId:this.props.postId,action:e,disabled:e.disabled}));break;case"button":default:t.push(d.createElement(O,{key:e.id,action:e,disabled:e.disabled,handleAction:this.handleAction,actionExecuting:this.state.actionExecuting,actionExecutingMessage:this.state.actionExecutingMessage||void 0}))}})),d.createElement("div",{className:"attachment-actions"},t)})),V(this,"handleAction",((e,t)=>{e.preventDefault();const n=this.getActionOption(t,"ActionExecutingMessage");n&&this.setState({actionExecuting:!0,actionExecutingMessage:n.value});const s=this.getActionOption(t,"TrackEventId");s&&(0,G.L9)("admin","click_warn_metric_bot_id",{metric:s.value});const a=e.currentTarget.getAttribute("data-action-id")||"",i=e.currentTarget.getAttribute("data-action-cookie")||"";this.props.actions.doPostActionWithCookie(this.props.postId,a,i).then((()=>{this.handleCustomActions(t),n&&this.setState({actionExecuting:!1,actionExecutingMessage:null})}))})),V(this,"handleCustomActions",(e=>{const t=this.getActionOption(e,"WarnMetricMailtoUrl");if(t){const e=JSON.parse(t.value);window.location.href="mailto:"+e.mail_recipient+"?cc="+e.mail_cc+"&subject="+encodeURIComponent(e.mail_subject)+"&body="+encodeURIComponent(e.mail_body)}})),V(this,"getActionOption",((e,t)=>{let n=null;return e&&(n=e.find((e=>e.text===t))),n})),V(this,"getFieldsTable",(()=>{const e=this.props.attachment.fields;if(!e||!e.length)return"";const t=[];let n=[],s=[],a=0,i=!1,r=0;const o={markdown:!1,mentionHighlight:!1};return e.forEach(((e,l)=>{(2===a||!0!==e.short||i)&&(t.push(d.createElement("table",{className:"attachment-fields",key:"attachment__table__"+r},d.createElement("thead",null,d.createElement("tr",null,n)),d.createElement("tbody",null,d.createElement("tr",null,s)))),n=[],s=[],a=0,r+=1,i=!1),n.push(d.createElement("th",{className:"attachment-field__caption",key:"attachment__field-caption-"+l+"__"+r},d.createElement(T.Z,{message:e.title,options:o}))),s.push(d.createElement("td",{className:"attachment-field",key:"attachment__field-"+l+"__"+r},d.createElement(T.Z,{message:e.value}))),a+=1,i=!(!0===e.short)})),n.length>0&&t.push(d.createElement("table",{className:"attachment-fields",key:"attachment__table__"+r},d.createElement("thead",null,d.createElement("tr",null,n)),d.createElement("tbody",null,d.createElement("tr",null,s)))),d.createElement("div",null,t)})),V(this,"handleFormattedTextClick",(e=>_.QJ(e,this.props.currentRelativeTeamUrl))),this.state={checkOverflow:0,actionExecuting:!1,actionExecutingMessage:null},this.imageProps={onImageLoaded:this.handleHeightReceived}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{attachment:e,options:t}=this.props;let n,s="";e.pretext&&(s="attachment--pretext",n=d.createElement("div",{className:"attachment__thumb-pretext"},d.createElement(T.Z,{message:e.pretext})));let a,i,r,o,l,c=[];if((e.author_name||e.author_icon)&&(e.author_icon&&c.push(d.createElement(S.Z,{key:"attachment__author-icon",src:e.author_icon,imageMetadata:this.props.imagesMetadata&&this.props.imagesMetadata[e.author_icon]},(e=>d.createElement("img",{alt:"attachment author icon",className:"attachment__author-icon",src:e,height:"14",width:"14"})))),e.author_name&&c.push(d.createElement("span",{className:"attachment__author-name",key:"attachment__author-name"},e.author_name))),e.author_link&&(0,f.lt)(e.author_link)&&(c=[d.createElement("a",{href:e.author_link,target:"_blank",rel:"noopener noreferrer",key:"attachment__author-name"},c)]),e.title&&(a=e.title_link&&(0,f.lt)(e.title_link)?d.createElement("h1",{className:"attachment__title"},d.createElement("a",{className:"attachment__title-link",href:e.title_link,target:"_blank",rel:"noopener noreferrer"},e.title)):d.createElement("h1",{className:"attachment__title"},d.createElement(T.Z,{message:e.title,options:{mentionHighlight:!1,renderer:new C,autolinkedUrlSchemes:[]}}))),e.text&&(i=d.createElement(P.Z,{checkOverflow:this.state.checkOverflow,isAttachmentText:!0,text:e.text},d.createElement(T.Z,{message:e.text||"",options:t,imageProps:this.imageProps}))),e.image_url){const t=this.props.imagesMetadata&&this.props.imagesMetadata[e.image_url];r=d.createElement("div",{className:"attachment__image-container"},d.createElement(S.Z,{src:e.image_url,imageMetadata:t},(e=>d.createElement(M.Z,{className:"attachment__image",onImageLoaded:this.handleHeightReceivedForImageUrl,src:e,dimensions:t}))))}if(e.footer){let t;if(e.footer_icon){const n=this.props.imagesMetadata&&this.props.imagesMetadata[e.footer_icon];t=d.createElement(S.Z,{src:e.footer_icon,imageMetadata:n},(e=>d.createElement("img",{alt:"attachment footer icon",className:"attachment__footer-icon",src:e,height:"16",width:"16"})))}o=d.createElement("div",{className:"attachment__footer-container"},t,d.createElement("span",null,g()(e.footer,{length:b.gT.MAX_ATTACHMENT_FOOTER_LENGTH,omission:"…"})))}if(e.thumb_url){const t=this.props.imagesMetadata&&this.props.imagesMetadata[e.thumb_url];l=d.createElement("div",{className:"attachment__thumb-container"},d.createElement(S.Z,{src:e.thumb_url,imageMetadata:t},(e=>d.createElement(M.Z,{onImageLoaded:this.handleHeightReceivedForThumbUrl,src:e,dimensions:t}))))}const m=this.getFieldsTable(),u=this.renderPostActions();let p;return e.color&&"#"===e.color[0]&&(p={borderLeftColor:e.color}),d.createElement("div",{className:"attachment "+s,ref:"attachment",onClick:this.handleFormattedTextClick},n,d.createElement("div",{className:"attachment__content"},d.createElement("div",{className:p?"clearfix attachment__container":"clearfix attachment__container attachment__container--"+e.color,style:p},c,a,d.createElement("div",null,d.createElement("div",{className:l?"attachment__body":"attachment__body attachment__body--no_thumb"},i,r,m,o,u),l,d.createElement("div",{style:z.footer})))))}}V(W,"propTypes",{postId:c().string.isRequired,actions:c().shape({doPostActionWithCookie:c().func.isRequired}).isRequired,currentRelativeTeamUrl:c().string.isRequired});const z={footer:{clear:"both"}},Y=(0,s.connect)((function(e){return{currentRelativeTeamUrl:(0,p.gm)(e)}}),(function(e){return{actions:(0,a.bindActionCreators)({doPostActionWithCookie:u.T},e)}}))(W);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J extends d.PureComponent{render(){const e=[];return this.props.attachments.forEach(((t,n)=>{e.push(d.createElement(Y,{attachment:t,postId:this.props.postId,key:"att_"+n,options:this.props.options,imagesMetadata:this.props.imagesMetadata}))})),d.createElement("div",{id:"messageAttachmentList_".concat(this.props.postId),className:"attachment__list"},e)}}K(J,"propTypes",{postId:c().string.isRequired,attachments:c().array.isRequired}),K(J,"defaultProps",{imagesMetadata:{}});var Q=n(42560),X=n(85357),$=n(89980),ee=(n(88674),n(19601),n(41817),n(85174));function te(e){return void 0!==e.height&&void 0!==e.width}function ne(e,t){return Math.sqrt(Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2))}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(85827);const re={height:80,width:80};class oe extends d.PureComponent{constructor(...e){super(...e),ie(this,"getImageMetadata",(e=>{if(!e)return;const t=this.props.post.metadata.images;return t?t[e]:void 0})),ie(this,"isLargeImage",(e=>{if(!e)return!1;const{height:t,width:n}=e;return n>=150&&n/t>=16/9})),ie(this,"handleRemovePreview",(async()=>{const e=Object.assign({},this.props.post.props);e[b.tk.REMOVE_LINK_PREVIEW]="true";const t={id:this.props.post.id,props:e};return this.props.actions.editPost(t)}))}renderImageToggle(){return d.createElement("button",{className:"style--none post__embed-visibility color--link","data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.props.toggleEmbedVisibility})}renderLargeImage(e,t){if(this.props.isEmbedVisible)return d.createElement(S.Z,{src:e,imageMetadata:t},(e=>d.createElement(M.Z,{className:"attachment__image attachment__image--opengraph large_image",src:e,dimensions:t})))}renderSmallImage(e,t){if(this.props.isEmbedVisible)return d.createElement("div",{className:"attachment__image__container--opengraph"},d.createElement(S.Z,{src:e,imageMetadata:t},(e=>d.createElement(M.Z,{className:"attachment__image attachment__image--opengraph",src:e,dimensions:t}))))}truncateText(e){return e&&e.length>300?e.substring(0,300-"...".length)+"...":e}hasPreviewBeenRemoved(){const{post:e}=this.props;return!(!e||!e.props)&&"true"===e.props[b.tk.REMOVE_LINK_PREVIEW]}render(){if(!this.props.previewEnabled||!this.props.enableLinkPreviews)return null;if(!this.props.post||(0,ee.Ew)(this.props.post))return null;if(this.hasPreviewBeenRemoved())return null;const e=this.props.openGraphData;if(!e)return null;const t=function(e,t){var n;if(null==e||null===(n=e.images)||void 0===n||!n.length)return;const s=e.images.map((e=>{const n=e.secure_url||e.url;return e.width&&e.height||!t||!t[n]?e:ae(ae({},e),{},{height:e.height||t[n].height,width:e.width||t[n].width})})),a=(i=re,s.reduce(((e,t)=>te(e)&&te(t)&&ne(t,i)>=ne(e,i)?e:t),{}));var i;return a.secure_url||a.url}(e,this.props.post.metadata.images),n=this.getImageMetadata(t),s=this.isLargeImage(n);let a,i;return this.props.currentUserId===this.props.post.user_id&&(a=d.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:this.handleRemovePreview,"data-testid":"removeLinkPreviewButton"},d.createElement("span",{"aria-hidden":"true"},"×"))),(e.description||t)&&(i=d.createElement("div",{className:"attachment__body attachment__body--opengraph"},d.createElement("div",null,this.truncateText(e.description)," ",t&&s&&this.renderImageToggle()),t&&s&&this.renderLargeImage(t,n))),d.createElement("div",{className:"attachment attachment--opengraph"},d.createElement("div",{className:"attachment__content"},d.createElement("div",{className:"clearfix attachment__container attachment__container--opengraph"},d.createElement("div",{className:"attachment__body__wrap attachment__body__wrap--opengraph"},d.createElement("span",{className:"sitename"},this.truncateText(e.site_name)),a,d.createElement("h1",{className:"attachment__title attachment__title--opengraph"+(e.title?"":" is-url")},d.createElement("a",{className:"attachment__title-link attachment__title-link--opengraph",href:(0,f.Hb)(e.url||this.props.link),target:"_blank",rel:"noopener noreferrer",title:e.title||e.url||this.props.link},this.truncateText(e.title||e.url||this.props.link))),i),t&&!s&&this.renderSmallImage(t,n))))}}ie(oe,"propTypes",{postId:c().string.isRequired,link:c().string.isRequired,currentUserId:c().string,enableLinkPreviews:c().bool,previewEnabled:c().bool,isEmbedVisible:c().bool,toggleEmbedVisibility:c().func.isRequired,actions:c().shape({editPost:c().func.isRequired}).isRequired});const le=(0,s.connect)((function(e,t){const n=(0,Q.iE)(e);return{currentUserId:(0,$.rc)(e),enableLinkPreviews:"true"===n.EnableLinkPreviews,openGraphData:(0,X.XH)(e,t.postId,t.link),previewEnabled:(0,N.o4)(e,b.uP.CATEGORY_DISPLAY_SETTINGS,b.uP.LINK_PREVIEW_DISPLAY,!0)}}),(function(e){return{actions:(0,a.bindActionCreators)({editPost:k.d},e)}}))(oe);var ce=n(78335);function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class me extends d.PureComponent{constructor(e){super(e),de(this,"showModal",(e=>{e.preventDefault(),this.setState({showModal:!0})})),de(this,"hideModal",(()=>{this.setState({showModal:!1})})),this.state={showModal:!1}}render(){return d.createElement("div",{className:"post__embed-container"},d.createElement(S.Z,{src:this.props.link,imageMetadata:this.props.imageMetadata},(e=>d.createElement(d.Fragment,null,d.createElement(M.Z,{className:"img-div attachment__image cursor--pointer",src:e,dimensions:this.props.imageMetadata,showLoader:!0,onClick:this.showModal}),d.createElement(ce.Z,{show:this.state.showModal,onModalDismissed:this.hideModal,post:this.props.post,startIndex:0,fileInfos:[{has_preview_image:!1,link:e,extension:this.props.imageMetadata.format}]})))))}}de(me,"propTypes",{imageMetadata:c().object.isRequired,link:c().string.isRequired,post:c().object.isRequired});const ue=me;var pe=n(70493);n(73210);const he=/(?:http|https):\/\/(?:www\.|m\.)?(?:(?:youtube\.com\/(?:(?:v\/)|(?:(?:watch|embed\/watch)(?:\/|.*v=))|(?:embed\/)|(?:user\/[^/]+\/u\/[0-9]\/)))|(?:youtu\.be\/))([^#&?]*)/;function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fe extends d.PureComponent{constructor(e){super(e),ge(this,"play",(()=>{this.setState({playing:!0})})),ge(this,"stop",(()=>{this.setState({playing:!1})})),this.state={playing:!1}}static getDerivedStateFromProps(e,t){return!e.show&&t.playing?{playing:!1}:null}render(){const{metadata:e,link:t}=this.props,n=function(e){const t=e.trim().match(he);return t&&11===t[1].length?t[1]:null}(t),s=function(e){var t,n,s,a,i,r;const o=e.match(/[\\?&](t|time|start|time_continue)=([0-9]+h)?([0-9]+m)?([0-9]+s?)/);if(null==o||!o[0])return"";const l=null!==(t=null===(n=o[2])||void 0===n?void 0:n.match(/([0-9]+)h/))&&void 0!==t?t:null,c=null!==(s=null===(a=o[3])||void 0===a?void 0:a.match(/([0-9]+)m/))&&void 0!==s?s:null,d=null!==(i=null===(r=o[4])||void 0===r?void 0:r.match(/([0-9]+)s?/))&&void 0!==i?i:null;let m=0;return null!=l&&l[1]&&(m+=3600*parseInt(l[1],10)),null!=c&&c[1]&&(m+=60*parseInt(c[1],10)),null!=d&&d[1]&&(m+=parseInt(d[1],10)),"&start=".concat(m)}(t),a=d.createElement("h4",null,d.createElement("span",{className:"video-type"},"YouTube - "),d.createElement("span",{className:"video-title"},d.createElement("a",{href:this.props.link,target:"blank",rel:"noopener noreferrer"},(null==e?void 0:e.title)||"unknown")));let i;if(this.state.playing)i=d.createElement("iframe",{src:"https://www.youtube.com/embed/"+n+"?autoplay=1&autohide=1&border=0&wmode=opaque&fs=1&enablejsapi=1"+s,width:"480px",height:"360px",frameBorder:"0",allowFullScreen:!0});else{const t=null==e?void 0:e.images[0];i=d.createElement("div",{className:"embed-responsive video-div__placeholder"},d.createElement("div",{className:"video-thumbnail__container"},d.createElement(S.Z,{src:(null==t?void 0:t.secure_url)||(null==t?void 0:t.url)||""},(e=>d.createElement("img",{src:e,alt:"youtube video thumbnail",className:"video-thumbnail"}))),d.createElement("div",{className:"block"},d.createElement("span",{className:"play-button"},d.createElement("span",null)))))}return d.createElement("div",{className:"post__embed-container"},d.createElement("div",null,a,d.createElement("div",{className:"video-div embed-responsive-item",onClick:this.play},i)))}static isYoutubeLink(e){return Boolean(e.trim().match(he))}}ge(fe,"propTypes",{postId:c().string.isRequired,link:c().string.isRequired,show:c().bool.isRequired});const be=(0,s.connect)((function(e,t){const n=(0,Q.iE)(e);return{currentChannelId:(0,pe.gO)(e),googleDeveloperKey:n.GoogleDeveloperKey,hasImageProxy:"true"===n.HasImageProxy,metadata:(0,X.XH)(e,t.postId,t.link)}}))(fe);var _e=n(80722),Ee=n(4205),Ce=n(74806),ye=n(50766),ve=n(93183);function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Se extends d.PureComponent{constructor(e){super(e),we(this,"handleClick",(async()=>{const{binding:e,post:t,intl:n}=this.props;if(!e.call)return;let s="";const{data:a}=await this.props.actions.getChannel(t.channel_id);a&&(s=a.team_id);const i=(0,ve.qM)(e.app_id,ye.NR.IN_POST+"/"+e.location,t.channel_id,s,t.id,t.root_id),r=(0,ve.Zw)(e.call,i,{post:ye.JI.EXPAND_ALL});this.setState({executing:!0});const o=await this.props.actions.doAppCall(r,ye._L.SUBMIT,n);if(this.setState({executing:!1}),o.error){const e=o.error,s=e.error||n.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error occurred."});return void this.props.actions.postEphemeralCallResponseForPost(e,s,t)}const l=o.data;switch(l.type){case ye.Bp.OK:l.markdown&&this.props.actions.postEphemeralCallResponseForPost(l,l.markdown,t);break;case ye.Bp.NAVIGATE:case ye.Bp.FORM:break;default:{const e=n.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:l.type});this.props.actions.postEphemeralCallResponseForPost(l,e,t)}}})),this.state={executing:!1}}render(){const{binding:e}=this.props;return e.call?d.createElement("button",{onClick:this.handleClick,style:void 0},d.createElement(R.Z,{loading:this.state.executing},d.createElement(T.Z,{message:e.label,options:{mentionHighlight:!1,markdown:!1,autolinkedUrlSchemes:[]}}))):null}}we(Se,"propTypes",{actions:c().shape({getChannel:c().func.isRequired}).isRequired});const Te=(0,Ce.ZP)(Se),Pe=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({doAppCall:Ee.cW,getChannel:_e.mr,postEphemeralCallResponseForPost:Ee.Rv},e)}}))(Te);function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ne extends d.PureComponent{constructor(e){super(e),Me(this,"providers",void 0),Me(this,"handleSelected",(async e=>{var t;if(!e)return;this.setState({selected:e});const n=null===(t=this.props.binding.bindings)||void 0===t?void 0:t.find((t=>t.location===e.value));if(!n)return void console.debug("Trying to select element not present in binding.");if(!n.call)return;const{post:s,intl:a}=this.props;let i="";const{data:r}=await this.props.actions.getChannel(s.channel_id);r&&(i=r.team_id);const o=(0,ve.qM)(n.app_id,ye.NR.IN_POST+"/"+n.location,s.channel_id,i,s.id,s.root_id),l=(0,ve.Zw)(n.call,o,{post:ye.JI.EXPAND_ALL}),c=await this.props.actions.doAppCall(l,ye._L.SUBMIT,a);if(c.error){const e=c.error,t=e.error||a.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error occurred."});return void this.props.actions.postEphemeralCallResponseForPost(e,t,s)}const d=c.data;switch(d.type){case ye.Bp.OK:d.markdown&&this.props.actions.postEphemeralCallResponseForPost(d,d.markdown,s);break;case ye.Bp.NAVIGATE:case ye.Bp.FORM:break;default:{const e=this.props.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:d.type});this.props.actions.postEphemeralCallResponseForPost(d,e,s)}}}));const t=e.binding;if(this.providers=[],t.bindings){const e=t.bindings.map((e=>({text:e.label,value:e.location})));this.providers=[new x.Z(e)]}this.state={}}render(){const{binding:e}=this.props;return d.createElement(F.Z.Consumer,null,(({handlePopupOpened:t})=>{var n;return d.createElement(j.Z,{providers:this.providers,onSelected:this.handleSelected,placeholder:e.label,inputClassName:"post-attachment-dropdown",value:null===(n=this.state.selected)||void 0===n?void 0:n.text,toggleFocus:t})}))}}Me(Ne,"propTypes",{actions:c().shape({getChannel:c().func.isRequired}).isRequired});const Ie=(0,Ce.ZP)(Ne),Re=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({doAppCall:Ee.cW,getChannel:_e.mr,postEphemeralCallResponseForPost:Ee.Rv},e)}}))(Ie);function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Oe extends d.PureComponent{constructor(...e){super(...e),Ae(this,"fillBindings",(e=>{const t=JSON.parse(JSON.stringify(e));return(0,ve.r)(t),t.bindings})),Ae(this,"renderBindings",(()=>{if(!this.props.embed.app_id)return null;if(!this.props.embed.bindings)return null;const e=this.fillBindings(this.props.embed);if(!e||!e.length)return null;const t=[];return e.forEach((e=>{e.call&&e.location&&(e.bindings&&e.bindings.length>0?t.push(d.createElement(Re,{key:e.location,post:this.props.post,binding:e})):t.push(d.createElement(Pe,{key:e.location,post:this.props.post,binding:e})))})),d.createElement("div",{className:"attachment-actions"},t)})),Ae(this,"handleFormattedTextClick",(e=>_.QJ(e,this.props.currentRelativeTeamUrl)))}render(){const{embed:e,options:t}=this.props;let n,s;e.label&&(n=d.createElement("h1",{className:"attachment__title"},d.createElement(T.Z,{message:e.label,options:{mentionHighlight:!1,renderer:new C,autolinkedUrlSchemes:[]}}))),e.description&&(s=d.createElement(P.Z,{isAttachmentText:!0,text:e.description},d.createElement(T.Z,{message:e.description,options:t})));const a=this.renderBindings();return d.createElement("div",{className:"attachment",ref:"attachment",onClick:this.handleFormattedTextClick},d.createElement("div",{className:"attachment__content"},d.createElement("div",{className:"clearfix attachment__container attachment__container--"},n,d.createElement("div",null,d.createElement("div",{className:"attachment__body attachment__body--no_thumb"},s,a),d.createElement("div",{style:Le.footer})))))}}Ae(Oe,"propTypes",{currentRelativeTeamUrl:c().string.isRequired});const Le={footer:{clear:"both"}},De=(0,s.connect)((function(e){return{currentRelativeTeamUrl:(0,p.gm)(e)}}))(Oe);function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xe extends d.PureComponent{render(){const e=[];return this.props.embeds.forEach(((t,n)=>{e.push(d.createElement(De,{embed:t,post:this.props.post,key:"att_"+n,options:this.props.options}))})),d.createElement("div",{id:"messageAttachmentList_".concat(this.props.post.id),className:"attachment__list"},e)}}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ke(xe,"propTypes",{embeds:c().array.isRequired}),ke(xe,"defaultProps",{imagesMetadata:{}});class Ze extends d.PureComponent{constructor(...e){super(...e),Ue(this,"toggleEmbedVisibility",(()=>{this.props.actions.toggleEmbedVisibility(this.props.post.id)})),Ue(this,"getEmbed",(()=>{const{metadata:e}=this.props.post;return(0,m.VV)(e)})),Ue(this,"isEmbedToggleable",(e=>{const t=this.props.pluginPostWillRenderEmbedComponents||[];for(const n of t)if(n.match(e))return Boolean(n.toggleable);return"image"===e.type||"opengraph"===e.type&&be.isYoutubeLink(e.url)})),Ue(this,"renderEmbed",(e=>{const t=this.props.pluginPostWillRenderEmbedComponents||[];for(const n of t)if(n.match(e)){const t=n.component;return this.props.isEmbedVisible&&d.createElement(t,{embed:e})}switch(e.type){case"image":return this.props.isEmbedVisible?d.createElement(ue,{imageMetadata:this.props.post.metadata.images[e.url],link:e.url,post:this.props.post}):null;case"message_attachment":{let e=[];return this.props.post.props&&this.props.post.props.attachments&&(e=this.props.post.props.attachments),d.createElement(J,{attachments:e,postId:this.props.post.id,options:this.props.options,imagesMetadata:this.props.post.metadata.images})}case"opengraph":return be.isYoutubeLink(e.url)?this.props.isEmbedVisible?d.createElement(be,{postId:this.props.post.id,link:e.url,show:this.props.isEmbedVisible}):null:d.createElement(le,{postId:this.props.post.id,link:e.url,isEmbedVisible:this.props.isEmbedVisible,post:this.props.post,toggleEmbedVisibility:this.toggleEmbedVisibility});default:return null}})),Ue(this,"renderToggle",(e=>d.createElement("button",{key:"toggle",className:"style--none post__embed-visibility color--link ".concat(e?"pull-left":""),"data-expanded":this.props.isEmbedVisible,"aria-label":"Toggle Embed Visibility",onClick:this.toggleEmbedVisibility})))}render(){const e=this.getEmbed();if(this.props.appsEnabled&&((t=this.props.post.props)&&t.app_bindings&&t.app_bindings.length))return d.createElement(d.Fragment,null,this.props.children,d.createElement(xe,{embeds:this.props.post.props.app_bindings,post:this.props.post}));var t;if(e){const t=this.isEmbedToggleable(e),n=/^\s*https?:\/\/.*$/.test(this.props.post.message);return d.createElement("div",null,t&&n&&this.renderToggle(!0),this.props.children,t&&!n&&this.renderToggle(!1),this.renderEmbed(e))}return this.props.children}}Ue(Ze,"propTypes",{pluginPostWillRenderEmbedComponents:c().array,children:c().element,isEmbedVisible:c().bool,appsEnabled:c().bool.isRequired,actions:c().shape({toggleEmbedVisibility:c().func.isRequired}).isRequired});const je=(0,s.connect)((function(e,t){return{isEmbedVisible:(0,o.Y_)(e,t.post.id),pluginPostWillRenderEmbedComponents:e.plugins.components.PostWillRenderEmbedComponent,appsEnabled:(0,i.D)(e)}}),(function(e){return{actions:(0,a.bindActionCreators)({toggleEmbedVisibility:r.bV},e)}}))(Ze)},51695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=n(67294).createContext({handlePopupOpened:null})},16242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var s=n(37703),a=n(14890),i=n(34959),r=n(45697),o=n.n(r),l=n(67294),c=n(19728),d=n(44012),m=n(94184),u=n.n(m),p=n(15558),h=n(37060),g=n(30685),f=n(92337),b=n(74935),_=n(82251);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends l.PureComponent{constructor(){super(),E(this,"handlePress",(e=>{e.preventDefault();const{actions:t,isFlagged:n,postId:s}=this.props;n?t.unflagPost(s):t.flagPost(s)})),E(this,"handleA11yActivateEvent",(()=>{this.setState({a11yActive:!0})})),E(this,"handleA11yDeactivateEvent",(()=>{this.setState({a11yActive:!1})})),this.buttonRef=l.createRef(),this.state={a11yActive:!1}}componentDidMount(){this.buttonRef.current&&(this.buttonRef.current.addEventListener(f.sp.ACTIVATE,this.handleA11yActivateEvent),this.buttonRef.current.addEventListener(f.sp.DEACTIVATE,this.handleA11yDeactivateEvent))}componentWillUnmount(){this.buttonRef.current&&(this.buttonRef.current.removeEventListener(f.sp.ACTIVATE,this.handleA11yActivateEvent),this.buttonRef.current.removeEventListener(f.sp.DEACTIVATE,this.handleA11yDeactivateEvent))}componentDidUpdate(){this.state.a11yActive&&this.buttonRef.current&&this.buttonRef.current.dispatchEvent(new Event(f.sp.UPDATE))}render(){const e=this.props.isFlagged;let t;return t=e?l.createElement(g.Z,{className:u()("icon","icon--small","icon--small-filled",{"post-menu__item--selected":e})}):l.createElement(h.Z,{className:u()("icon","icon--small")}),l.createElement(p.Z,{className:"hidden-xs",key:"flagtooltipkey".concat(e?"flagged":""),delayShow:f.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:l.createElement(c.Z,{id:"flagTooltip",className:"hidden-xs"},l.createElement(d.Z,{id:e?(0,_.t)("flag_post.unflag"):(0,_.t)("flag_post.flag"),defaultMessage:e?"Remove from Saved":"Save"}))},l.createElement("button",{ref:this.buttonRef,id:"".concat(this.props.location,"_flagIcon_").concat(this.props.postId),"aria-label":e?(0,b._u)("flag_post.unflag","Remove from Saved").toLowerCase():(0,b._u)("flag_post.flag","Save").toLowerCase(),className:"post-menu__item",onClick:this.handlePress},t))}}E(C,"propTypes",{location:o().oneOf([f.tY.CENTER,f.tY.RHS_ROOT,f.tY.RHS_COMMENT,f.tY.SEARCH]).isRequired,postId:o().string.isRequired,isFlagged:o().bool.isRequired,actions:o().shape({flagPost:o().func.isRequired,unflagPost:o().func.isRequired}).isRequired}),E(C,"defaultProps",{location:f.tY.CENTER});const y=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({flagPost:i.co,unflagPost:i.xk},e)}}))(C)},35856:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var s=n(37703),a=n(74650),i=n(26961),r=n(16146),o=n(67844),l=n(45697),c=n.n(l),d=n(67294),m=n(44012),u=n(85174),p=n(74935),h=n(2803),g=n(94741),f=n(33459);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends d.PureComponent{constructor(e){super(e),b(this,"imageProps",void 0),b(this,"checkPostOverflow",(()=>{this.setState((e=>({checkOverflow:e.checkOverflow+1})))})),b(this,"handleHeightReceived",(e=>{e>0&&this.checkPostOverflow()})),b(this,"handleFormattedTextClick",(e=>p.QJ(e,this.props.currentRelativeTeamUrl))),this.state={collapse:!0,hasOverflow:!1,checkOverflow:0},this.imageProps={onImageLoaded:this.handleHeightReceived,onImageHeightChanged:this.checkPostOverflow}}renderDeletedPost(){return d.createElement("p",null,d.createElement(m.Z,{id:"post_body.deleted",defaultMessage:"(message deleted)"}))}renderEditedIndicator(){return u.cq(this.props.post)?d.createElement("span",{id:"postEdited_".concat(this.props.post.id),className:"post-edited__indicator"},d.createElement(m.Z,{id:"post_message_view.edited",defaultMessage:"(edited)"})):null}render(){const{post:e,enableFormatting:t,options:n,pluginPostTypes:s,compactDisplay:i,isRHS:r,theme:o}=this.props;if(e.state===a.V8.POST_DELETED)return this.renderDeletedPost();if(!t)return d.createElement("span",null,e.message);const l=e.props&&e.props.type?e.props.type:e.type;if(s&&s.hasOwnProperty(l)){const t=s[l].component;return d.createElement(t,{post:e,compactDisplay:i,isRHS:r,theme:o})}let c=e.message;const m=p.Kx(e);if(i&&m){const e=p._u("post_info.message.visible.compact"," (Only visible to you)");c=c.concat(e)}const u=r?"rhsPostMessageText_".concat(e.id):"postMessageText_".concat(e.id);return d.createElement(f.Z,{checkOverflow:this.state.checkOverflow,text:c},d.createElement("div",{"aria-readonly":"true",tabIndex:0,id:u,className:"post-message__text",dir:"auto",onClick:this.handleFormattedTextClick},d.createElement(h.Z,{message:c,imageProps:this.imageProps,isRHS:r,options:n,post:e,channelId:e.channel_id,mentionKeys:[]})),this.renderEditedIndicator(),d.createElement(g.Z,{pluggableName:"PostMessageAttachment",postId:e.id,onHeightChange:this.handleHeightReceived}))}}b(_,"propTypes",{enableFormatting:c().bool,compactDisplay:c().bool,isRHS:c().bool,isRHSOpen:c().bool,isRHSExpanded:c().bool,pluginPostTypes:c().any,currentRelativeTeamUrl:c().string.isRequired}),b(_,"defaultProps",{options:{},isRHS:!1,pluginPostTypes:{}});const E=(0,s.connect)((function(e){return{enableFormatting:(0,i.o4)(e,a.uP.CATEGORY_ADVANCED_SETTINGS,"formatting",!0),isRHSExpanded:(0,o.OZ)(e),isRHSOpen:(0,o.aC)(e),pluginPostTypes:e.plugins.postTypes,theme:(0,i.gh)(e),currentRelativeTeamUrl:(0,r.gm)(e)}}))(_)},46098:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var s=n(14890),a=n(37703),i=n(53497),r=n(45697),o=n.n(r),l=(n(33948),n(67294)),c=n(44012),d=n(74806),m=n(82251),u=n(30685);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h;var g;!function(e){e[e.Flagged=0]="Flagged",e[e.Pinned=1]="Pinned",e[e.PinnedAndFlagged=2]="PinnedAndFlagged",e[e.Neither=3]="Neither"}(h||(h={})),function(e){e.Flagged="flagged",e.Pinned="pinned",e.PinnedAndFlagged="pinnedAndFlagged"}(g||(g={}));class f extends l.PureComponent{constructor(...e){super(...e),p(this,"messageInfos",{flagged:{id:(0,m.t)("post_pre_header.flagged"),defaultMessage:"Saved"},pinned:{id:(0,m.t)("post_pre_header.pinned"),defaultMessage:"Pinned"}}),p(this,"handleLinkClick",((e,t)=>{e===g.Pinned&&t?this.props.actions.showPinnedPosts(t):this.props.actions.showFlaggedPosts()}))}getPostStatus(e,t){return e?t?h.PinnedAndFlagged:h.Flagged:t?h.Pinned:h.Neither}getMessageInfo(e,t,n){if(t&&n)return!1;if(e===h.PinnedAndFlagged){if(!n&&!t)return g.PinnedAndFlagged;if(n)return g.Flagged;if(t)return g.Pinned}return e!==h.Flagged||t?e===h.Pinned&&!n&&g.Pinned:g.Flagged}render(){const{isFlagged:e,isPinned:t,skipPinned:n,skipFlagged:s,channelId:a}=this.props,i=this.getMessageInfo(this.getPostStatus(e,t),s,n);return(e||t)&&i?l.createElement("div",{className:"post-pre-header"},l.createElement("div",{className:"post-pre-header__icons-container"},t&&!n&&l.createElement("span",{className:"icon-pin icon icon--post-pre-header"}),e&&!s&&l.createElement(u.Z,{className:"icon icon--post-pre-header"})),l.createElement("div",{className:"post-pre-header__text-container"},i&&i!==g.PinnedAndFlagged&&l.createElement("span",null,l.createElement("a",{onClick:()=>this.handleLinkClick(i,a)},l.createElement(c.Z,{id:this.messageInfos[i].id,defaultMessage:this.messageInfos[i].defaultMessage}))),i&&i===g.PinnedAndFlagged&&l.createElement("span",null,l.createElement("a",{onClick:()=>this.handleLinkClick(g.Pinned,a)},l.createElement(c.Z,{id:this.messageInfos[g.Pinned].id,defaultMessage:this.messageInfos[g.Pinned].defaultMessage})),l.createElement("span",{className:"post-pre-header__link-separator"},"⬤"),l.createElement("a",{onClick:()=>this.handleLinkClick(g.Flagged)},l.createElement(c.Z,{id:this.messageInfos[g.Flagged].id,defaultMessage:this.messageInfos[g.Flagged].defaultMessage}))))):null}}p(f,"propTypes",{isFlagged:o().bool.isRequired,isPinned:o().bool,skipPinned:o().bool,skipFlagged:o().bool,channelId:o().string.isRequired,actions:o().shape({showFlaggedPosts:o().func.isRequired,showPinnedPosts:o().func.isRequired}).isRequired});const b=(0,d.ZP)(f),_=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({showFlaggedPosts:i.Yv,showPinnedPosts:i.B7},e)})))(b)},71622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var s=n(37703),a=n(14890),i=n(34959),r=n(45697),o=n.n(r),l=(n(33948),n(67294)),c=n(94184),d=n.n(c),m=n(19728),u=n(44012),p=n(2015),h=n(92337),g=n(74935),f=n(15558),b=n(80020),_=n(49880),E=n(1594);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends l.PureComponent{constructor(...e){super(...e),C(this,"handleAddEmoji",(e=>{this.setState({showEmojiPicker:!1});const t=e.name||e.aliases[0];this.props.actions.addReaction(this.props.postId,t),this.props.toggleEmojiPicker()}))}render(){const{channelId:e,location:t,postId:n,showEmojiPicker:s,teamId:a}=this.props;let i,r;return t!==h.tY.RHS_ROOT&&t!==h.tY.RHS_COMMENT||(i=E.Z.RHS_SPACE_REQUIRED_ABOVE,r=E.Z.RHS_SPACE_REQUIRED_BELOW),l.createElement(b.Z,{channelId:e,teamId:a,permissions:[p.Z.ADD_REACTION]},l.createElement(l.Fragment,null,l.createElement(E.Z,{show:s,target:this.props.getDotMenuRef,onHide:this.props.toggleEmojiPicker,onEmojiClose:this.props.toggleEmojiPicker,onEmojiClick:this.handleAddEmoji,topOffset:-7,spaceRequiredAbove:i,n:!0,spaceRequiredBelow:r}),l.createElement(f.Z,{className:"hidden-xs",delayShow:500,placement:"top",overlay:l.createElement(m.Z,{id:"reaction-icon-tooltip",className:"hidden-xs"},l.createElement(u.Z,{id:"post_info.tooltip.add_reactions",defaultMessage:"Add Reaction"}))},l.createElement("button",{"data-testid":"post-reaction-emoji-icon",id:"".concat(t,"_reaction_").concat(n),"aria-label":(0,g._u)("post_info.tooltip.add_reactions","Add Reaction").toLowerCase(),className:d()("post-menu__item","post-menu__item--reactions",{"post-menu__item--active":s}),onClick:this.props.toggleEmojiPicker},l.createElement(_.Z,{className:"icon icon--small"})))))}}C(y,"propTypes",{channelId:o().string,postId:o().string.isRequired,teamId:o().string.isRequired,getDotMenuRef:o().func.isRequired,location:o().oneOf(["CENTER","RHS_ROOT","RHS_COMMENT"]),showEmojiPicker:o().bool,toggleEmojiPicker:o().func.isRequired,actions:o().shape({addReaction:o().func.isRequired}).isRequired}),C(y,"defaultProps",{location:h.tY.CENTER,showEmojiPicker:!1});const v=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({addReaction:i.rU},e)}}))(y)},42897:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var s=n(37703),a=n(16146),i=n(45697),r=n.n(i),o=(n(33948),n(19601),n(39714),n(67294)),l=n(73727),c=n(19728),d=n(34288),m=n(47470),u=n(92337),p=n(74935),h=n(15558),g=n(49801);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=[g.ap.aS,g.ap.o$];class _ extends o.PureComponent{constructor(...e){super(...e),f(this,"handleClick",(()=>{(0,p.tq)()&&d.Fy()}))}render(){const{eventTime:e,isPermalink:t,location:n,postId:s,teamUrl:a,timestampProps:i={}}=this.props,r=o.createElement(g.ZP,Object.assign({value:e,className:"post__time",useDate:!1},i)),d=(0,m.tq)()||!t?o.createElement("div",{role:"presentation",className:"post_permalink_mobile_view"},r):o.createElement(l.Link,{id:"".concat(n,"_time_").concat(s),to:"".concat(a,"/pl/").concat(s),className:"post__permalink",onClick:this.handleClick},r);return o.createElement(h.Z,{delayShow:500,placement:"top",overlay:o.createElement(c.Z,{id:e.toString(),className:"hidden-xs"},o.createElement(g.ZP,{value:e,ranges:b}))},d)}}f(_,"propTypes",{isPermalink:r().bool.isRequired,eventTime:r().number,location:r().string,postId:r().string.isRequired,teamUrl:r().string.isRequired}),f(_,"defaultProps",{eventTime:0,location:u.tY.CENTER});const E=(0,s.connect)((function(e){return{teamUrl:(0,a.gm)(e)}}))(_)},90613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var s=n(37703),a=n(14890),i=n(70493),r=n(85357),o=n(42560),l=n(34959),c=n(45697),d=n.n(c),m=(n(33948),n(67294)),u=n(19728),p=n(44012),h=n(2015),g=n(3601),f=n(92337),b=(n(32023),n(92405)),_=n(18493),E=n(89980),C=n(61045),y=n(26961),v=n(38348),w=n(73476),S=n(52332),T=n(74935),P=(n(88674),n(15306),n(15558));function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends m.PureComponent{constructor(e){super(e),M(this,"reactionButtonRef",m.createRef()),M(this,"reactionCountRef",m.createRef()),M(this,"animating",!1),M(this,"handleClick",(()=>{if(!this.props.canAddReaction||!this.props.canRemoveReaction||this.animating)return;const{currentUserReacted:e}=this.props.sortedUsers;this.animating=!0,this.setState((t=>e?{displayNumber:t.displayNumber-1,reactedClass:"Reaction--unreacting"}:{displayNumber:t.displayNumber+1,reactedClass:"Reaction--reacting"}))})),M(this,"handleAnimationEnded",(()=>{const{actions:e,post:t,emojiName:n}=this.props,{currentUserReacted:s}=this.props.sortedUsers;this.animating=!1,this.setState((e=>"Reaction--reacting"===e.reactedClass?{reactedClass:"Reaction--reacted"}:"Reaction--unreacting"===e.reactedClass?{reactedClass:"Reaction--unreacted"}:e)),s?e.removeReaction(t.id,n):e.addReaction(t.id,n)})),M(this,"loadMissingProfiles",(async()=>{const e=this.props.reactions.map((e=>e.user_id));this.props.actions.getMissingProfilesByIds(e)}));const{reactionCount:t}=this.props,{currentUserReacted:n}=this.props.sortedUsers;this.state=n?{reactedClass:"Reaction--reacted",displayNumber:t}:{reactedClass:"Reaction--unreacted",displayNumber:t}}componentDidUpdate(e){if(e.reactionCount!==this.props.reactionCount){const{currentUserReacted:e}=this.props.sortedUsers,t=e?"Reaction--reacted":"Reaction--unreacted";this.animating=!1,this.setState({displayNumber:this.props.reactionCount,reactedClass:t})}}render(){if(!this.props.emojiImageUrl)return null;const{currentUserReacted:e,users:t}=this.props.sortedUsers,{reactionCount:n,otherUsersCount:s,canAddReaction:a,canRemoveReaction:i}=this.props,{displayNumber:r}=this.state,o=e?n:n+1,l=e?n-1:n,c=l>0?l:"",d=o>0?o:"",h=r>0?r:"",g=a&&i?"":"Reaction--read-only";let f,b;f=s>0?t.length>0?m.createElement(p.Z,{id:"reaction.usersAndOthersReacted",defaultMessage:"{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}",values:{users:t.join(", "),otherUsers:s}}):m.createElement(p.Z,{id:"reaction.othersReacted",defaultMessage:"{otherUsers, number} {otherUsers, plural, one {user} other {users}}",values:{otherUsers:s}}):t.length>1?m.createElement(p.Z,{id:"reaction.usersReacted",defaultMessage:"{users} and {lastUser}",values:{users:t.slice(0,-1).join(", "),lastUser:t[t.length-1]}}):t[0],b=t.length+s>1?e?m.createElement(p.Z,{id:"reaction.reactionVerb.youAndUsers",defaultMessage:"reacted"}):m.createElement(p.Z,{id:"reaction.reactionVerb.users",defaultMessage:"reacted"}):e?m.createElement(p.Z,{id:"reaction.reactionVerb.you",defaultMessage:"reacted"}):m.createElement(p.Z,{id:"reaction.reactionVerb.user",defaultMessage:"reacted"});const _=m.createElement(p.Z,{id:"reaction.reacted",defaultMessage:"{users} {reactionVerb} with {emoji}",values:{users:m.createElement("b",null,f),reactionVerb:b,emoji:m.createElement("b",null,":"+this.props.emojiName+":")}});let E;const C=this.props.emojiName.replace(/_/g," ");let y="".concat(T._u("reaction.reactWidth.ariaLabel","react with")," ").concat(C);return e&&i?(y="".concat(T._u("reaction.removeReact.ariaLabel","remove reaction")," ").concat(C),E=m.createElement(p.Z,{id:"reaction.clickToRemove",defaultMessage:"(click to remove)"})):!e&&a&&(E=m.createElement(p.Z,{id:"reaction.clickToAdd",defaultMessage:"(click to add)"})),m.createElement(P.Z,{delayShow:500,placement:"top",shouldUpdatePosition:!0,overlay:m.createElement(u.Z,{id:"".concat(this.props.post.id,"-").concat(this.props.emojiName,"-reaction")},_,m.createElement("br",null),E),onEnter:this.loadMissingProfiles},m.createElement("button",{id:"postReaction-".concat(this.props.post.id,"-").concat(this.props.emojiName),"aria-label":y,className:"Reaction ".concat(this.state.reactedClass," ").concat(g),onClick:this.handleClick,ref:this.reactionButtonRef},m.createElement("span",{className:"d-flex align-items-center"},m.createElement("span",{className:"Reaction__emoji emoticon",style:{backgroundImage:"url("+this.props.emojiImageUrl+")"}}),m.createElement("span",{ref:this.reactionCountRef,className:"Reaction__count"},m.createElement("span",{className:"Reaction__number"},m.createElement("span",{className:"Reaction__number--display"},h),m.createElement("span",{className:"Reaction__number--unreacted",onAnimationEnd:this.handleAnimationEnded},c),m.createElement("span",{className:"Reaction__number--reacted"},d))))))}}function I(e,t,n,s,a,i,r,o){return!(!(0,v.Ai)(e,{team:t,channel:n,permission:o})||s===w.Z.DEFAULT_CHANNEL&&"true"===a.ExperimentalTownSquareIsReadOnly&&"true"===i.IsLicensed&&!r.roles.includes("system_admin"))}M(N,"propTypes",{currentUserId:d().string.isRequired,emojiName:d().string.isRequired,reactionCount:d().number.isRequired,profiles:d().array.isRequired,otherUsersCount:d().number.isRequired,reactions:d().array.isRequired,canAddReaction:d().bool.isRequired,canRemoveReaction:d().bool.isRequired,emojiImageUrl:d().string.isRequired,actions:d().shape({addReaction:d().func.isRequired,getMissingProfilesByIds:d().func.isRequired,removeReaction:d().func.isRequired}).isRequired,sortedUsers:d().shape({currentUserReacted:d().bool.isRequired,users:d().arrayOf(d().string).isRequired}).isRequired});const R=(0,s.connect)((function(){const e=(0,E.o7)();return function(t,n){const s=(0,o.iE)(t),a=(0,o.lJ)(t),r=(0,E.ts)(t),l=e(t,n.reactions);let c;c=S.xn.has(n.emojiName)?S.Ax[S.xn.get(n.emojiName)]:(0,C.RH)(t).get(n.emojiName);let d="";c&&(d=(0,g.UK)(c));const m=(0,i.mr)(t,n.post.channel_id)||{},u=0!==m.delete_at,p=m.team_id,f=(0,E.rc)(t),b=(0,y.kl)(t);let _=!1,v=!1;return u||(_=I(t,p,n.post.channel_id,m.name,s,a,r,h.Z.REMOVE_REACTION),v=I(t,p,n.post.channel_id,m.name,s,a,r,h.Z.ADD_REACTION)),{profiles:l,otherUsersCount:n.reactions.length-l.length,currentUserId:f,reactionCount:n.reactions.length,canAddReaction:_,canRemoveReaction:v,emojiImageUrl:d,sortedUsers:(0,T.Qk)(n.reactions,f,l,b)}}}),(function(e){return{actions:(0,a.bindActionCreators)({addReaction:l.rU,removeReaction:b.WO,getMissingProfilesByIds:_.C4},e)}}))(N);var A=n(1594),O=n(86896);function L(e){const{formatMessage:t}=(0,O.Z)();return m.createElement("span",e,m.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.add-reaction",defaultMessage:"Add Reaction Icon"})},m.createElement("path",{d:"M10 8.00001C10.32 8.00001 10.5973 7.88267 10.832 7.64801C11.0773 7.40267 11.2 7.12001 11.2 6.80001C11.2 6.48001 11.0773 6.20267 10.832 5.96801C10.5973 5.72267 10.32 5.60001 10 5.60001C9.68 5.60001 9.39733 5.72267 9.152 5.96801C8.91733 6.20267 8.8 6.48001 8.8 6.80001C8.8 7.12001 8.91733 7.40267 9.152 7.64801C9.39733 7.88267 9.68 8.00001 10 8.00001ZM5.2 8.00001C5.52 8.00001 5.79733 7.88267 6.032 7.64801C6.27733 7.40267 6.4 7.12001 6.4 6.80001C6.4 6.48001 6.27733 6.20267 6.032 5.96801C5.79733 5.72267 5.52 5.60001 5.2 5.60001C4.88 5.60001 4.59733 5.72267 4.352 5.96801C4.11733 6.20267 4 6.48001 4 6.80001C4 7.12001 4.11733 7.40267 4.352 7.64801C4.59733 7.88267 4.88 8.00001 5.2 8.00001ZM13.584 7.93601C13.584 7.97867 13.584 8.05334 13.584 8.16001L13.6 8.40001C13.6 9.48801 13.328 10.496 12.784 11.424C12.2507 12.3307 11.5307 13.0507 10.624 13.584C9.696 14.128 8.688 14.4 7.6 14.4C6.512 14.4 5.504 14.128 4.576 13.584C3.66933 13.0507 2.94933 12.3307 2.416 11.424C1.872 10.496 1.6 9.48801 1.6 8.40001C1.6 7.31201 1.872 6.30401 2.416 5.37601C2.94933 4.46934 3.66933 3.74934 4.576 3.21601C5.504 2.67201 6.512 2.40001 7.6 2.40001L8.064 2.41601C8.17067 1.84001 8.352 1.32801 8.608 0.880006C8.23467 0.826673 7.89867 0.800006 7.6 0.800006C6.224 0.800006 4.944 1.14667 3.76 1.84001C2.61867 2.51201 1.712 3.41867 1.04 4.56001C0.346667 5.74401 0 7.02401 0 8.40001C0 9.77601 0.346667 11.056 1.04 12.24C1.712 13.3813 2.61867 14.288 3.76 14.96C4.944 15.6533 6.224 16 7.6 16C8.976 16 10.256 15.6533 11.44 14.96C12.5813 14.288 13.488 13.3813 14.16 12.24C14.8533 11.056 15.2 9.77601 15.2 8.40001C15.2 8.10134 15.1733 7.76534 15.12 7.39201C14.672 7.64801 14.16 7.82934 13.584 7.93601ZM12 5.72205e-06H13.6V2.40001H16V4.00001H13.6V6.40001H12V4.00001H9.6V2.40001H12V5.72205e-06ZM3.504 10C3.83467 10.832 4.36267 11.504 5.088 12.016C5.84533 12.5387 6.68267 12.8 7.6 12.8C8.51733 12.8 9.35467 12.5387 10.112 12.016C10.8373 11.504 11.3653 10.832 11.696 10H3.504Z"})))}var D=n(80020);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends m.PureComponent{constructor(e){super(e),k(this,"addReactionButtonRef",m.createRef()),k(this,"getTarget",(()=>this.addReactionButtonRef.current)),k(this,"handleEmojiClick",(e=>{this.setState({showEmojiPicker:!1});const t=(0,g.Vi)(e)?e.name:e.aliases[0];this.props.actions.addReaction(this.props.post.id,t)})),k(this,"hideEmojiPicker",(()=>{this.setState({showEmojiPicker:!1})})),k(this,"toggleEmojiPicker",(()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})})),this.state={showEmojiPicker:!1}}render(){const e=new Map,t=[];if(this.props.reactions)for(const n of Object.values(this.props.reactions)){const s=n.emoji_name;e.has(s)?e.get(s).push(n):(t.push(s),e.set(s,[n]))}if(0===e.size)return null;const n=t.map((t=>m.createElement(R,{key:t,post:this.props.post,emojiName:t,reactions:e.get(t)||[]}))),s=this.getTarget();let a=15;s&&(a=window.innerWidth-s.getBoundingClientRect().right-260,a<0&&(a=15));let i=null;if(this.props.enableEmojiPicker){const e=m.createElement(u.Z,{id:"addReactionTooltip"},m.createElement(p.Z,{id:"reaction_list.addReactionTooltip",defaultMessage:"Add a reaction"}));i=m.createElement("span",{className:"emoji-picker__container"},m.createElement(A.Z,{show:this.state.showEmojiPicker,target:this.getTarget,onHide:this.hideEmojiPicker,onEmojiClose:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,rightOffset:a,topOffset:-5}),m.createElement(D.Z,{channelId:this.props.post.channel_id,teamId:this.props.teamId,permissions:[h.Z.ADD_REACTION]},m.createElement(P.Z,{placement:"top",delayShow:f.ZP.OVERLAY_TIME_DELAY,overlay:e},m.createElement("button",{"aria-label":(0,T._u)("reaction.add.ariaLabel","Add a reaction"),className:"Reaction",onClick:this.toggleEmojiPicker},m.createElement("span",{id:"addReaction-".concat(this.props.post.id),className:"Reaction__add",ref:this.addReactionButtonRef},m.createElement(L,null))))))}let r="post-add-reaction";return this.state.showEmojiPicker&&(r+=" post-add-reaction-emoji-picker-open"),m.createElement("div",{"aria-label":(0,T._u)("reaction.container.ariaLabel","reactions"),className:"post-reaction-list"},n,m.createElement("div",{className:r},i))}}k(x,"propTypes",{teamId:d().string.isRequired,enableEmojiPicker:d().bool.isRequired,actions:d().shape({addReaction:d().func.isRequired}).isRequired});const U=(0,s.connect)((function(){const e=(0,r.r)();return function(t,n){const s="true"===(0,o.iE)(t).EnableEmojiPicker&&!n.isReadOnly;return{teamId:((0,i.mr)(t,n.post.channel_id)||{}).team_id,reactions:e(t,n.post.id),enableEmojiPicker:s}}}),(function(e){return{actions:(0,a.bindActionCreators)({addReaction:l.rU},e)}}))(x)},33459:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(37703),a=n(26961),i=n(67844),r=n(92337),o=n(45697),l=n.n(o),c=n(67294),d=n(74935);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends c.PureComponent{constructor(e){super(e),m(this,"maxHeight",void 0),m(this,"textContainer",void 0),m(this,"overflowRef",void 0),m(this,"toggleCollapse",(e=>{e.preventDefault(),this.setState((e=>({isCollapsed:!e.isCollapsed})))})),m(this,"checkTextOverflow",(()=>{this.overflowRef&&window.cancelAnimationFrame(this.overflowRef),this.overflowRef=window.requestAnimationFrame((()=>{let e=!1;this.textContainer.current&&this.textContainer.current.scrollHeight>this.maxHeight&&(e=!0),e!==this.state.isOverflow&&this.setState({isOverflow:e})}))})),m(this,"handleResize",(()=>{this.checkTextOverflow()})),this.maxHeight=this.props.isAttachmentText?200:600,this.textContainer=c.createRef(),this.state={isCollapsed:!0,isOverflow:!1}}componentDidMount(){this.checkTextOverflow(),window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){this.props.text===e.text&&this.props.isRHSExpanded===e.isRHSExpanded&&this.props.isRHSOpen===e.isRHSOpen&&this.props.checkOverflow===e.checkOverflow||this.checkTextOverflow()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.overflowRef&&window.cancelAnimationFrame(this.overflowRef)}render(){const{isCollapsed:e,isOverflow:t}=this.state,{children:n,isAttachmentText:s,compactDisplay:a}=this.props;let i,r="post-message";e?(i=this.maxHeight,r+=" post-message--collapsed"):r+=" post-message--expanded";const o=s?"post-attachment-collapse__gradient":"post-collapse__gradient",l=s?"post-attachment-collapse__show-more":"post-collapse__show-more";let m=null;if(t){!s&&e&&a&&i&&(i-=22);let t="fa fa-angle-up",n=(0,d._u)("post_info.message.show_less","Show less");e&&(t="fa fa-angle-down",n=(0,d._u)("post_info.message.show_more","Show more")),m=c.createElement("div",{className:"post-collapse"},c.createElement("div",{id:"collapseGradient",className:o}),c.createElement("div",{className:l},c.createElement("div",{className:"post-collapse__show-more-line"}),c.createElement("button",{id:"showMoreButton",className:"post-collapse__show-more-button",onClick:this.toggleCollapse},c.createElement("span",{className:t}),n),c.createElement("div",{className:"post-collapse__show-more-line"}))),r+=" post-message--overflow"}return c.createElement("div",{className:r},c.createElement("div",{style:{maxHeight:i},className:"post-message__text-container",ref:this.textContainer},n),m)}}m(u,"propTypes",{children:l().node,checkOverflow:l().number,isAttachmentText:l().bool,isRHSExpanded:l().bool.isRequired,isRHSOpen:l().bool.isRequired,text:l().string,compactDisplay:l().bool.isRequired});const p=(0,s.connect)((function(e){return{isRHSExpanded:(0,i.OZ)(e),isRHSOpen:(0,i.aC)(e),compactDisplay:(0,a.U2)(e,r.uP.CATEGORY_DISPLAY_SETTINGS,r.uP.MESSAGE_DISPLAY,r.uP.MESSAGE_DISPLAY_DEFAULT)===r.uP.MESSAGE_DISPLAY_COMPACT}}))(u)},79592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(45697),a=n.n(s),i=(n(33948),n(67294)),r=n(15558),o=n(11132),l=n(95421);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{render(){const{status:e,className:t}=this.props;if(!e)return null;let n="icon-circle-outline";return"online"===e?n="icon-check-circle":"away"===e?n="icon-clock":"dnd"===e&&(n="icon-minus-circle"),i.createElement("i",{className:"".concat(n," ").concat(t)})}}c(d,"propTypes",{className:a().string,status:a().string}),c(d,"defaultProps",{className:"",status:""});var m=n(69632);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.PureComponent{constructor(...e){super(...e),u(this,"overlay",i.createRef()),u(this,"hideProfilePopover",(()=>{this.overlay.current&&this.overlay.current.hide()}))}render(){const e="string"==typeof this.props.profileSrc&&""!==this.props.profileSrc?this.props.profileSrc:this.props.src,t="profile-icon ".concat(this.props.isEmoji?"emoji":"");return this.props.userId?i.createElement(r.Z,{ref:this.overlay,trigger:"click",placement:"right",rootClose:!0,overlay:i.createElement(o.Z,{className:"user-profile-popover",userId:this.props.userId,src:e,isBusy:this.props.isBusy,hide:this.hideProfilePopover,isRHS:this.props.isRHS,channelId:this.props.channelId,hasMention:this.props.hasMention,overwriteIcon:this.props.overwriteIcon,overwriteName:this.props.overwriteName})},i.createElement("button",{className:"status-wrapper style--none ".concat(this.props.wrapperClass),tabIndex:-1},i.createElement("span",{className:t},i.createElement(m.Z,{username:this.props.username,size:this.props.size,url:this.props.src})),i.createElement(l.Z,{status:this.props.status}))):i.createElement("span",{className:"status-wrapper style--none ".concat(this.props.wrapperClass)},i.createElement("span",{className:t},i.createElement(m.Z,{size:this.props.size,url:this.props.src})),this.props.newStatusIcon?i.createElement(d,{className:this.props.statusClass,status:this.props.status}):i.createElement(l.Z,{status:this.props.status}))}}u(p,"propTypes",{hasMention:a().bool,isBusy:a().bool,isEmoji:a().bool,isRHS:a().bool,profileSrc:a().string,src:a().string.isRequired,status:a().string,userId:a().string,channelId:a().string,username:a().string,wrapperClass:a().string,overwriteIcon:a().string,overwriteName:a().string,newStatusIcon:a().bool,statusClass:a().string}),u(p,"defaultProps",{size:"md",isRHS:!1,isEmoji:!1,hasMention:!1,wrapperClass:""})},11132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Re});var s=n(37703),a=n(14890),i=n(89980),r=n(16146),o=n(70493),l=n(79247),c=n(18493),d=n(63951),m=(n(88674),n(33948),n(11754)),u=n(80722);function p(e,t,n){return async s=>Promise.all([s((0,m.PB)(e,t)),n&&s((0,u.hg)(n,t))])}var h=n(74838),g=n(13776),f=n(67844),b=n(5445),_=(n(19601),n(45697)),E=n.n(_),C=n(67294),y=n(19728),v=n(44012),w=n(74806),S=n(16165),T=n(74650),P=n(49801),M=n(15558),N=n(96269),I=n(89262),R=n(34288),A=n(92337),O=n(82251),L=n(72654),D=n(74935),k=n(94741),x=n(43253),U=n(23122),Z=(n(23157),n(32023),n(67556)),j=n(42560),F=n(8706),H=n(38348),q=n(71816),B=n(47590),G=n(72009),V=n(64972),W=n(91857);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K extends W.Z{static get propTypes(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},super.propTypes)}render(){const{item:e,isSelection:t}=this.props,n=e.channel,s=n.delete_at&&0!==n.delete_at;let a="mentions__name";t&&(a+=" suggestion--selected");const i=n.display_name;let r=null;return s?r=C.createElement("i",{className:"icon icon--no-spacing icon-archive-outline"}):n.type===A.gT.OPEN_CHANNEL?r=C.createElement("i",{className:"icon icon--no-spacing icon-globe"}):n.type===A.gT.PRIVATE_CHANNEL&&(r=C.createElement("i",{className:"icon icon--no-spacing icon-lock-outline"})),C.createElement("div",Object.assign({onClick:this.handleClick,className:a,onMouseMove:this.handleMouseMove,ref:e=>{this.node=e}},W.Z.baseProps),C.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},r),i)}}let J="";function Q(e,t){const n=!!e.channel.delete_at&&0!==e.channel.delete_at,s=!!t.channel.delete_at&&0!==t.channel.delete_at;if(n&&!s)return 1;if(!n&&s)return-1;const a=(0,F.M)(G.Z.getState()),i=e.channel,r=t.channel,o=i.display_name.toLowerCase(),l=r.display_name.toLowerCase(),c=o.startsWith(J),d=l.startsWith(J);return c&&d?(0,q.Ut)(a,i,r):c||d?c?-1:1:(0,q.Ut)(a,i,r)}class X extends V.Z{constructor(e){super(),this.autocompleteChannelsForSearch=e}makeChannelSearchFilter(e){const t=e.toLowerCase();return e=>{const n=G.Z.getState(),s=e.id,a=(0,r.ev)(n),i=e.display_name;return(e.type===A.gT.OPEN_CHANNEL&&(0,H.Ai)(n,{channel:s,team:a,permission:T.Pl.MANAGE_PUBLIC_CHANNEL_MEMBERS})||!(e.type!==A.gT.PRIVATE_CHANNEL||!(0,H.Ai)(n,{channel:s,team:a,permission:T.Pl.MANAGE_PRIVATE_CHANNEL_MEMBERS})))&&i.toLowerCase().includes(t)}}handlePretextChanged(e,t){if(e){J=e,this.startNewRequest(e);const n=G.Z.getState(),s=(0,o.zE)(n);this.formatChannelsAndDispatch(e,t,s),this.fetchChannels(e,t)}return!0}async fetchChannels(e,t){const n=G.Z.getState(),s=(0,r.ev)(n);if(!s)return;const a=this.autocompleteChannelsForSearch(s,e);let i=[];try{const{data:e}=await a;i=e}catch(e){G.Z.dispatch((0,B.H)(e))}if(this.shouldCancelDispatch(e))return;const l=(0,o.zE)(n).concat(i);this.formatChannelsAndDispatch(e,t,l)}formatChannelsAndDispatch(e,t,n){const s=[],a=G.Z.getState(),i=(0,Z.h4)(a);if(this.shouldCancelDispatch(e))return;const r={},o=this.makeChannelSearchFilter(e),l="true"===(0,j.iE)(a).ExperimentalViewArchivedChannels;for(const e of Object.keys(n)){const t=n[e];if(t&&!r[t.id]&&o(t)){const e=Object.assign({},t),n=0!==t.delete_at,a={channel:e,name:e.name,deactivated:!1};if(!l&&n)continue;if(!i[t.id])continue;if(t.type===A.gT.OPEN_CHANNEL)a.type=A.gT.OPEN_CHANNEL;else{if(t.type!==A.gT.PRIVATE_CHANNEL)continue;a.type=A.gT.PRIVATE_CHANNEL}r[t.id]=!0,s.push(a)}}t({matchedPretext:e,terms:s.sort(Q).map((e=>e.channel.name)),items:s,component:K})}}var $=n(39864),ee=n(92094);function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ne extends C.PureComponent{constructor(e){super(e),te(this,"enableChannelProvider",(()=>{this.suggestionProviders[0].disableDispatches=!1})),te(this,"focusTextbox",(()=>{if(null==this.channelSearchBox)return;const e=this.channelSearchBox.getTextbox();document.activeElement!==e&&(e.focus(),(0,D.e6)(e))})),te(this,"onInputChange",(e=>{this.setState({text:e.target.value,selectedChannelId:null})})),te(this,"onHide",(()=>{this.setState({show:!1}),this.props.onHide()})),te(this,"setSearchBoxRef",(e=>{this.channelSearchBox=e,this.focusTextbox()})),te(this,"handleSubmitError",(e=>{e&&this.setState({submitError:e.message,saving:!1})})),te(this,"didSelectChannel",(e=>{const t=e.channel,n=this.props.user.id;this.setState({text:t.display_name,selectedChannelId:t.id,checkingForMembership:!0,submitError:""}),this.props.actions.getChannelMember(t.id,n).then((()=>{this.setState({checkingForMembership:!1})}))})),te(this,"handleSubmit",(e=>{e&&e.preventDefault&&e.preventDefault();const t=this.state.selectedChannelId,n=this.props.user;t&&(this.isUserMemberOfChannel(t)||this.state.saving||(this.setState({saving:!0}),this.props.actions.addChannelMember(t,n.id).then((({error:e})=>{e?this.handleSubmitError(e):this.onHide()}))))})),te(this,"isUserMemberOfChannel",(e=>{const t=this.props.user,n=this.props.channelMembers;return!!e&&!!n[e]&&Boolean(n[e][t.id])})),this.state={show:!0,saving:!1,checkingForMembership:!1,text:"",selectedChannelId:null,submitError:""},this.suggestionProviders=[new X(e.actions.autocompleteChannelsForSearch)],this.enableChannelProvider()}render(){const e=this.props.user,t=this.state.selectedChannelId,n=this.isUserMemberOfChannel(t);let s,a=(0,U.Pp)(e);a||(a="@".concat(e.username)),this.state.saving||(this.state.submitError?s=C.createElement("label",{id:"add-user-to-channel-modal__invite-error",className:"modal__error has-error control-label"},this.state.submitError):n&&(s=C.createElement("label",{id:"add-user-to-channel-modal__user-is-member",className:"modal__error has-error control-label"},C.createElement(v.Z,{id:"add_user_to_channel_modal.membershipExistsError",defaultMessage:"{name} is already a member of that channel",values:{name:a}}))));const i=C.createElement(v.Z,{id:"add_user_to_channel_modal.help",defaultMessage:"Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss."}),r=C.createElement($.Z,{ref:this.setSearchBoxRef,className:"form-control focused",onChange:this.onInputChange,value:this.state.text,onItemSelected:this.didSelectChannel,listComponent:ee.Z,maxLength:"64",providers:this.suggestionProviders,listStyle:"bottom",completeOnTab:!1,renderDividers:!1,delayInputUpdate:!0,openWhenEmpty:!1}),o=n||this.state.checkingForMembership||Boolean(!this.state.selectedChannelId)||this.state.saving;return C.createElement(x.Z,{dialogClassName:"a11y__modal modal--overflow",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,ref:"modal",enforceFocus:!0,role:"dialog","aria-labelledby":"addChannelModalLabel"},C.createElement(x.Z.Header,{closeButton:!0},C.createElement(x.Z.Title,{componentClass:"h1",id:"addChannelModalLabel"},C.createElement(v.Z,{id:"add_user_to_channel_modal.title",defaultMessage:"Add {name} to a Channel",values:{name:a}}))),C.createElement("form",{role:"form",onSubmit:this.handleSubmit},C.createElement(x.Z.Body,null,C.createElement("div",{className:"modal__hint"},i),C.createElement("div",{className:"pos-relative"},r),C.createElement("div",null,s,C.createElement("br",null))),C.createElement(x.Z.Footer,null,C.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},C.createElement(v.Z,{id:"add_user_to_channel_modal.cancel",defaultMessage:"Cancel"})),C.createElement("button",{type:"button",id:"add-user-to-channel-modal__add-button",className:"btn btn-primary",onClick:this.handleSubmit,disabled:o},C.createElement(v.Z,{id:"add_user_to_channel_modal.add",defaultMessage:"Add"})))))}}te(ne,"propTypes",{onHide:E().func.isRequired,user:E().object.isRequired,channelMembers:E().object.isRequired,actions:E().shape({addChannelMember:E().func.isRequired,getChannelMember:E().func.isRequired,autocompleteChannelsForSearch:E().func.isRequired}).isRequired});const se=(0,s.connect)((function(e){return{channelMembers:(0,o.E0)(e)||{}}}),(function(e){return{actions:(0,a.bindActionCreators)({addChannelMember:u.XK,getChannelMember:u.hg,autocompleteChannelsForSearch:u.Z$},e)}}))(ne);var ae=n(29361),ie=n(60087);function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class oe extends C.PureComponent{constructor(e){super(e),re(this,"handleHide",(()=>{this.setState({show:!1})})),re(this,"handleExit",(()=>{this.props.onHide&&this.props.onHide()})),this.state={show:!0,search:!1,saving:!1,addError:null,loadingGroups:!0}}componentDidMount(){}componentDidUpdate(){}render(){return C.createElement(ie.Z,{creatorId:this.props.creatorId,user:this.props.user,onModalDismissed:this.handleExit,onCreate:this.props.actions.createContact,onUpdate:this.props.actions.updateContact,onDelete:this.props.actions.deleteContact})}}re(oe,"propTypes",{creatorId:E().string.isRequired,onHide:E().func,actions:E().shape({}).isRequired});const le=(0,s.connect)((function(e){return{creatorId:(0,Z.rc)(e)}}),(function(e){return{actions:(0,a.bindActionCreators)({createContact:ae.rE,updateContact:e=>(0,ae._n)(e.id,e),deleteContact:e=>(0,ae.GK)(e)},e)}}))(oe);n(73210);var ce=n(94184),de=n.n(ce),me=n(927);function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pe=/(\d+(?:\.\d+)?)$/;class he extends C.PureComponent{constructor(e){super(e),ue(this,"onInputChange",(e=>{this.setState({text:e.target.value,selectedChannelId:null})})),ue(this,"onHide",(()=>{this.setState({show:!1}),this.props.onHide()})),ue(this,"handleSubmitError",(e=>{e&&this.setState({submitError:e.message,saving:!1})})),ue(this,"handleChange",(()=>{const e=this.blockedUtilInput.current.value,t=this.blockedReasonInput.current.value;!e||pe.test(e)&&Number(e)?this.setState({blockedUtil:e,blockedReason:t,blockedUtilErr:""}):this.setState({blockedUtilErr:"Khoảng thời gian không hợp lệ",blockedUtil:e,blockedReason:t})})),ue(this,"handleSubmit",(e=>{e&&e.preventDefault&&e.preventDefault();const t=this.props.user;if((0,D.A0)(t)||this.state.saving)return;const n=this.blockedUtilInput.current.value,s=this.blockedReasonInput.current.value.trim();n&&!pe.test(n)||0!==Number(n)&&(this.setState({saving:!0}),this.props.actions.setBanUser(t.id,(0,D.Mt)(Number(n)),s).then((({error:e})=>{e?this.handleSubmitError(e):this.onHide()})))})),this.state={show:!0,saving:!1,text:"",submitError:"",blockedUtil:0,blockedReason:"",blockedUtilErr:""},this.blockedUtilInput=C.createRef(),this.blockedReasonInput=C.createRef()}render(){const e=this.props.user;let t,n=(0,U.Pp)(e);n||(n="@".concat(e.username)),this.state.saving||this.state.submitError&&(t=C.createElement("label",{id:"add-user-to-channel-modal__invite-error",className:"modal__error has-error control-label"},this.state.submitError));let s=0;!this.state.blockedUtilErr&&this.state.blockedUtil&&(s=(0,D.Mt)(Number(this.state.blockedUtil)));const a=s?C.createElement("p",{className:"input__help"},C.createElement(v.Z,{id:"ban_user_modal.blocked_util.util",defaultMessage:"Kết thúc BAN vào khoảng {util}",values:{util:C.createElement(P.ZP,{value:s,useRelative:!1,userTimezone:e.timezone,useDate:{year:"numeric",month:"long",day:"2-digit"},useTime:{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23"}})}})):C.createElement("p",{className:"input__help"},C.createElement(v.Z,{id:"ban_user_modal.blocked_util.help",defaultMessage:"Số ngày muốn BAN. Ví dụ 1 hoặc 0.5"}));return C.createElement(x.Z,{dialogClassName:"a11y__modal modal--overflow",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,ref:"modal",enforceFocus:!0,role:"dialog","aria-labelledby":"banUserModalLabel"},C.createElement(x.Z.Header,{closeButton:!0},C.createElement(x.Z.Title,{componentClass:"h1",id:"banUserModalLabel"},C.createElement(v.Z,{id:"ban_user_modal.title",defaultMessage:"BAN thành viên {name}",values:{name:n}}))),C.createElement("form",{role:"form",className:"form-horizontal"},C.createElement(x.Z.Body,null,t?C.createElement("div",{className:"server-error form-group has-error",style:{marginLeft:0,marginRight:0}},t):null,C.createElement("div",{className:de()({"form-group":!0,"has-error":Boolean(this.state.blockedUtilErr)})},C.createElement("label",{className:"col-sm-3 form__label control-label",htmlFor:"blockedUtil"},C.createElement(v.Z,{id:"ban_user_modal.blocked_util",defaultMessage:"Thời gian"})),C.createElement("div",{className:"col-sm-9"},C.createElement(me.Z,{id:"blockedUtil",onChange:this.handleChange,type:"text",ref:this.blockedUtilInput,className:"form-control",placeholder:{id:(0,O.t)("ban_user_modal.utilEx"),defaultMessage:"Ví dụ: 0.5"},maxLength:5,value:this.state.blockedUtil,autoFocus:!0}),this.state.blockedUtilErr?C.createElement("p",{className:"input__help error"},this.state.blockedUtilErr):a)),C.createElement("div",{className:de()({"form-group":!0})},C.createElement("label",{className:"col-sm-3 form__label control-label",htmlFor:"blockedReason"},C.createElement(v.Z,{id:"ban_user_modal.blocked_reason",defaultMessage:"Lý do"})),C.createElement("div",{className:"col-sm-9"},C.createElement(me.Z,{id:"blockedReason",onChange:this.handleChange,type:"text",ref:this.blockedReasonInput,className:"form-control",placeholder:{id:(0,O.t)("ban_user_modal.reasonEx"),defaultMessage:"Ví dụ: Spam"},maxLength:255,value:this.state.blockedReason}),C.createElement("p",{className:"input__help"},C.createElement(v.Z,{id:"ban_user_modal.blocked_util.help",defaultMessage:"Cho người dùng biết lý do"}))))),C.createElement(x.Z.Footer,null,C.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},C.createElement(v.Z,{id:"ban_user_modal.skip",defaultMessage:"Bỏ qua"})),C.createElement("button",{type:"button",id:"ban-user-modal__finish-button",className:"btn btn-primary",onClick:this.handleSubmit,disabled:this.state.saving},C.createElement(v.Z,{id:"ban_user_modal.finish",defaultMessage:"Hoàn thành"})))))}}ue(he,"propTypes",{onHide:E().func.isRequired,user:E().object.isRequired,actions:E().shape({setBanUser:E().func.isRequired}).isRequired});const ge=(0,s.connect)((function(){return{}}),(function(e){return{actions:(0,a.bindActionCreators)({setBanUser:c.Y5},e)}}))(he);var fe=n(68492),be=n(42306),_e=n(69632),Ee=n(6429),Ce=n(58423),ye=n(68403),ve=n(84220),we=n(36356),Se=n(36846);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Me extends C.PureComponent{static getComponentName(){return"ProfilePopover"}constructor(e){super(e),Pe(this,"handleShowDirectChannel",(e=>{const{actions:t}=this.props;if(e.preventDefault(),!this.props.user)return;const n=this.props.user;-1===this.state.loadingDMChannel&&(this.setState({loadingDMChannel:n.id}),t.openDirectChannelToUserId(n.id).then((e=>{e.error||(D.tq()&&R.Fy(),this.setState({loadingDMChannel:-1}),this.props.hide&&this.props.hide(),I.m.push("".concat(this.props.teamUrl,"/messages/@").concat(n.username)))})),this.handleCloseModals())})),Pe(this,"handleUnbanUser",(e=>{const{actions:t}=this.props;if(e.preventDefault(),!this.props.user)return;const n=this.props.user;this.state.loadingUnban||(this.setState({loadingUnban:!0}),t.setBanUser(n.id,0,"").then((()=>{this.props.hide&&this.props.hide(),this.setState({loadingUnban:!1})})),this.handleCloseModals())})),Pe(this,"handleMentionKeyClick",(e=>{e.preventDefault(),this.props.user&&(this.props.hide&&this.props.hide(),S.Z.emit("mention_key_click",this.props.user.username,this.props.isRHS),this.handleCloseModals())})),Pe(this,"handleEditAccountSettings",(e=>{e.preventDefault(),this.props.user&&(this.props.hide&&this.props.hide(),this.props.actions.openModal({ModalId:A.r8.USER_SETTINGS,dialogType:N.Z}),this.handleCloseModals())})),Pe(this,"showCustomStatusModal",(e=>{e.preventDefault(),this.props.hide&&this.props.hide();const t={ModalId:A.r8.CUSTOM_STATUS,dialogType:ve.Z};this.props.actions.openModal(t)})),Pe(this,"handleAddToChannel",(e=>{e.preventDefault(),this.handleCloseModals()})),Pe(this,"handleAddToContact",(e=>{e.preventDefault(),this.handleCloseModals()})),Pe(this,"handleCloseModals",(()=>{const{modals:e}=this.props;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].open&&this.props.actions.closeModal(t)})),this.state={loadingDMChannel:-1,loadingUnban:!1}}componentDidMount(){const{currentTeamId:e,userId:t,channelId:n}=this.props;e&&t&&this.props.actions.getMembershipForEntities(e,t,n)}renderCustomStatus(){const{customStatus:e,isCustomStatusEnabled:t,user:n,currentUserId:s}=this.props,a=e.text||e.emoji,i=n.id===s;if(!t||!e||!a&&!i)return null;let r;if(a){const t=C.createElement("span",{className:"d-flex"},C.createElement(ye.Z,{userID:this.props.user.id,showTooltip:!1,emojiStyle:{marginRight:4,marginTop:1}}));r=C.createElement("div",{className:"d-flex"},t,C.createElement(we.Z,{tooltipDirection:"top",text:e.text,className:"user-popover__email pb-1"}))}else i&&(r=C.createElement("div",null,C.createElement("button",{className:"user-popover__set-custom-status-btn",onClick:this.showCustomStatusModal},C.createElement(v.Z,{id:"user_profile.custom_status.set_status",defaultMessage:"Set a status"}))));return r}render(){if(!this.props.user)return null;const e=Object.assign({},this.props);delete e.user,delete e.userId,delete e.channelId,delete e.src,delete e.status,delete e.hideStatus,delete e.isBusy,delete e.hide,delete e.isRHS,delete e.hasMention,delete e.dispatch,delete e.enableTimezone,delete e.currentUserId,delete e.currentTeamId,delete e.teamUrl,delete e.actions,delete e.isTeamAdmin,delete e.isChannelAdmin,delete e.isChannelMod,delete e.canManageAnyChannelMembersInCurrentTeam,delete e.intl;const{formatMessage:t}=this.props.intl;var n=[];const s=this.props.overwriteIcon?this.props.overwriteIcon:this.props.src;n.push(C.createElement(_e.Z,{size:"xxl",username:this.props.user.username,url:s,key:"user-popover-image"}));const a=this.props.contactName||D.Pp(this.props.user),i=this.props.overwriteIcon||this.props.overwriteName;if(!a&&!this.props.user.position||i||n.push(C.createElement("hr",{key:"user-popover-hr",className:"divider divider--expanded"})),a&&!i){let e;this.props.user.remote_id&&(e=C.createElement(Ce.Z,{className:"shared-user-icon",withTooltip:!0})),n.push(C.createElement("div",{"data-testid":"popover-fullname-".concat(this.props.user.username),className:"overflow--ellipsis text-nowrap",key:"user-popover-fullname"},C.createElement(M.Z,{delayShow:A.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:C.createElement(y.Z,{id:"fullNameTooltip"},a)},C.createElement("span",{className:"user-profile-popover__heading"},a)),e))}if(this.props.user.is_bot&&!i&&n.push(C.createElement("div",{key:"bot-description",className:"overflow--ellipsis text-nowrap"},this.props.user.bot_description)),this.props.user.position&&!i){const e=this.props.user.position.substring(0,A.ZP.MAX_POSITION_LENGTH);n.push(C.createElement(M.Z,{delayShow:A.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:C.createElement(y.Z,{id:"positionTooltip"},e),key:"user-popover-position"},C.createElement("div",{className:"overflow--ellipsis text-nowrap pt-1 pb-1"},e)))}const r=this.props.user.email;!r||this.props.user.is_bot||i||(n.push(C.createElement("hr",{key:"user-popover-hr2",className:"divider divider--expanded"})),n.push(C.createElement("div",{"data-toggle":"tooltip",title:r,key:"user-popover-email"},C.createElement("a",{href:"mailto:"+r,className:"text-nowrap text-lowercase user-popover__email pb-1"},r)))),n.push(C.createElement(k.Z,{key:"profilePopoverPluggable2",pluggableName:"PopoverUserAttributes",user:this.props.user,hide:this.props.hide,status:this.props.hideStatus?null:this.props.status})),this.props.enableTimezone&&this.props.user.timezone&&!i&&n.push(C.createElement("div",{key:"user-popover-local-time",className:"pb-1"},C.createElement("span",{className:"user-profile-popover__heading"},C.createElement(v.Z,{id:"user_profile.account.localTime",defaultMessage:"Local Time"})),C.createElement("div",null,C.createElement(P.ZP,{useRelative:!1,useDate:!1,userTimezone:this.props.user.timezone,useTime:{hour:"numeric",minute:"numeric",timeZoneName:"short"}}))));const o=!i&&this.renderCustomStatus();if(o&&n.push(C.createElement("div",{key:"user-popover-status",id:"user-popover-status",className:"pb-1"},C.createElement("span",{className:"user-profile-popover__heading"},C.createElement(v.Z,{id:"user_profile.custom_status",defaultMessage:"Status"})),o)),this.props.user.id!==this.props.currentUserId||i||n.push(C.createElement("div",{"data-toggle":"tooltip",key:"user-popover-settings",className:"popover__row first"},C.createElement("a",{href:"#",onClick:this.handleEditAccountSettings},C.createElement(fe.Z,{className:"fa fa-pencil-square-o",title:{id:(0,O.t)("generic_icons.edit"),defaultMessage:"Edit Icon"}}),C.createElement(v.Z,{id:"user_profile.account.editSettings",defaultMessage:"Edit Account Settings"})))),i&&n.push(C.createElement("div",{"data-toggle":"tooltip",key:"user-popover-settings",className:"popover__row first"},C.createElement(v.Z,{id:"user_profile.account.post_was_created",defaultMessage:"This post was created by an integration from"}),C.createElement("a",{onClick:this.handleMentionKeyClick}," @".concat(this.props.user.username)))),this.props.user.id!==this.props.currentUserId&&!i){if(n.push(C.createElement(Se.Z,{permissions:[T.Pl.SEND_DIRECT_MESSAGE],key:"user-popover-dm"},C.createElement("div",{"data-toggle":"tooltip",key:"",className:"popover__row first"},C.createElement("a",{href:"#",className:"text-nowrap user-popover__email",onClick:this.handleShowDirectChannel},C.createElement(fe.Z,{className:"fa fa-paper-plane",title:{id:(0,O.t)("user_profile.send.dm.icon"),defaultMessage:"Send Message Icon"}}),C.createElement(v.Z,{id:"user_profile.send.dm",defaultMessage:"Send Message"}))))),!this.props.isContacted){const e=t({id:"user_profile.add_user_to_contact",defaultMessage:"Thêm vào danh bạ"});n.push(C.createElement("div",{"data-toggle":"tooltip",key:"user-popover-add-to-contact",className:"popover__row first"},C.createElement("a",{href:"#",className:"text-nowrap",onClick:this.handleAddToContact},C.createElement(be.Z,{accessibilityLabel:e,modalId:A.r8.ADD_USER_TO_CONTACT,role:"menuitem",dialogType:le,dialogProps:{user:this.props.user},onClick:this.props.hide},C.createElement(fe.Z,{className:"fa fa-address-book",title:{id:(0,O.t)("user_profile.add_user_to_contact.icon"),defaultMessage:"Thêm vào danh bạ Icon"}}),e))))}if(this.props.canManageAnyChannelMembersInCurrentTeam&&this.props.isInCurrentTeam){const e=t({id:"user_profile.add_user_to_channel",defaultMessage:"Add to a Channel"});n.push(C.createElement("div",{"data-toggle":"tooltip",className:"popover__row first",key:"user-popover-add-to-channel"},C.createElement("a",{href:"#",className:"text-nowrap",onClick:this.handleAddToChannel},C.createElement(be.Z,{accessibilityLabel:e,modalId:A.r8.ADD_USER_TO_CHANNEL,role:"menuitem",dialogType:se,dialogProps:{user:this.props.user},onClick:this.props.hide},C.createElement(fe.Z,{className:"fa fa-user-plus",title:{id:(0,O.t)("user_profile.add_user_to_channel.icon"),defaultMessage:"Add User to Channel Icon"}}),e))))}if(this.props.user.id!==this.props.currentUserId&&!D.A0(this.props.user)){const e=t({id:"user_profile.ban_user",defaultMessage:"BAN người dùng"});n.push(C.createElement(Se.Z,{permissions:[T.Pl.REVOKE_USER_ACCESS_TOKEN],key:"user-popover-ban-user"},C.createElement("div",{"data-toggle":"tooltip",className:"popover__row first"},C.createElement("a",{href:"#",className:"text-nowrap",onClick:this.handleAddToChannel},C.createElement(be.Z,{accessibilityLabel:e,modalId:A.r8.BAN_USER,role:"menuitem",dialogType:ge,dialogProps:{user:this.props.user},onClick:this.props.hide},C.createElement(fe.Z,{className:"fa fa-ban",title:{id:(0,O.t)("user_profile.ban_user.icon"),defaultMessage:"BAN người dùng Icon"}}),e)))))}if(D.A0(this.props.user)){const e=this.state.loadingUnban?t({id:"user_profile.unban_user_process",defaultMessage:"Đang thực hiện..."}):t({id:"user_profile.unban_user",defaultMessage:"Bỏ BAN người dùng"});n.push(C.createElement(Se.Z,{permissions:[T.Pl.REVOKE_USER_ACCESS_TOKEN],key:"user-popover-ban-user"},C.createElement("div",{"data-toggle":"tooltip",className:"popover__row first"},C.createElement("a",{href:"#",className:"text-nowrap",onClick:this.handleUnbanUser},C.createElement(fe.Z,{className:"fa fa-ban",title:{id:(0,O.t)("user_profile.ban_user.icon"),defaultMessage:"UNBAN người dùng Icon"}}),e))))}}let l;n.push(C.createElement(k.Z,{key:"profilePopoverPluggable3",pluggableName:"PopoverUserActions",user:this.props.user,hide:this.props.hide,status:this.props.hideStatus?null:this.props.status})),this.props.user.is_bot?l=C.createElement("span",{className:"user-popover__role"},D._u("bots.is_bot","BOT")):D.a_(this.props.user)?l=C.createElement("span",{className:"user-popover__role"},D._u("post_info.guest","GUEST")):D.$O(this.props.user.roles)?l=C.createElement("span",{className:"user-popover__role"},D._u("admin.permissions.roles.system_admin.name","System Admin")):this.props.isTeamAdmin?l=C.createElement("span",{className:"user-popover__role"},D._u("admin.permissions.roles.team_admin.name","Team Admin")):this.props.isChannelAdmin?l=C.createElement("span",{className:"user-popover__role"},D._u("admin.permissions.roles.channel_admin.name","Channel Admin")):this.props.isChannelMod&&(l=C.createElement("span",{className:"user-popover__role"},D._u("admin.permissions.roles.channel_mod.name","Channel Mod"))),D.A0(this.props.user)&&(l=C.createElement("span",{className:"user-popover__role banned"},D._u("user.banned.name","ĐÃ BAN")));let c="@".concat(this.props.user.username);return this.props.overwriteName?(c="".concat(this.props.overwriteName),l=""):this.props.hasMention&&(c=C.createElement("a",{onClick:this.handleMentionKeyClick},c)),c=C.createElement("span",{"data-testid":"profilePopoverTitle_".concat(this.props.user.username)},C.createElement("span",{className:"user-popover__username"},c),l),C.createElement(Ee.Z,Object.assign({},e,{title:c,id:"user-profile-popover"}),n)}}Pe(Me,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({src:E().string.isRequired,overwriteIcon:E().string,user:E().object,channelId:E().string,status:E().string,hideStatus:E().bool,hide:E().func,isRHS:E().bool,modals:E().object,currentTeamId:E().string.isRequired,currentUserId:E().string.isRequired,customStatus:E().object,isCustomStatusEnabled:E().bool.isRequired,hasMention:E().bool,isInCurrentTeam:E().bool.isRequired,teamUrl:E().string.isRequired,isTeamAdmin:E().bool.isRequired,isChannelAdmin:E().bool.isRequired,isChannelMod:E().bool,canManageAnyChannelMembersInCurrentTeam:E().bool.isRequired,overwriteName:E().node,actions:E().shape({getMembershipForEntities:E().func.isRequired,openDirectChannelToUserId:E().func.isRequired,openModal:E().func.isRequired,closeModal:E().func.isRequired,setBanUser:E().func.isRequired}).isRequired,intl:L.gm.isRequired,isContacted:E().bool,contactName:E().string},Ee.Z.propTypes)),Pe(Me,"defaultProps",{isRHS:!1,hasMention:!1,status:A.gg.OFFLINE,customStatus:{}}),delete Me.propTypes.id;const Ne=(0,w.ZP)(Me);function Ie(e){const t=(0,f.ct)(e);return t.exists?t.channel_id:(0,o.gO)(e)}const Re=(0,s.connect)((function(e,{userId:t,channelId:n=Ie(e)}){var s,a;const c=(0,r.kA)(e),d=(0,r.PB)(e,c.id,t),m=(0,b.yC)();let u=!1;d&&d.scheme_admin&&(u=!0);const p=null===(s=(0,o.E0)(e))||void 0===s||null===(a=s[n])||void 0===a?void 0:a[t];let h=!1;"search"!==(0,f.kV)(e)&&null!=p&&p.scheme_admin&&(h=!0);let _=!1;return"search"!==(0,f.kV)(e)&&null!=p&&p.scheme_mod&&(_=!0),{currentTeamId:c.id,currentUserId:(0,i.rc)(e),enableTimezone:(0,g.Y)(e),isTeamAdmin:u,isChannelAdmin:h,isChannelMod:_,isInCurrentTeam:Boolean(d)&&0===d.delete_at,canManageAnyChannelMembersInCurrentTeam:(0,o.Hl)(e),status:(0,i.ZO)(e,t),teamUrl:(0,r.gm)(e),user:(0,i.PR)(e,t),modals:e.views.modals.modalState,customStatus:m(e,t),isCustomStatusEnabled:(0,b.uD)(e),channelId:n,isContacted:(0,l.SJ)(e,t),contactName:(0,l.No)(e,t)}}),(function(e){return{actions:(0,a.bindActionCreators)({closeModal:h.M,openDirectChannelToUserId:d.Pn,openModal:h.h,getMembershipForEntities:p,setBanUser:c.Y5},e)}}))(Ne)},65339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>W});var s=n(37703),a=n(14890),i=n(42560),r=n(36745),o=n(47244),l=n(3598),c=n(2354),d=n(92337),m=n(74838),u=n(73859),p=n(45697),h=n.n(p),g=(n(88674),n(67294)),f=n(44012),b=n(97894),_=n(86664);const E=n.p+"files/f32f0094939e8e78a6b887a0f8a886df.svg";var C=n(43163),y=n(56417);const v=n.p+"files/561d2a7b1b180f1bc0585b0eb2fa1d00.svg";var w=n(43610),S=n(59925),T=n(66356),P=n(75872),M=n(86486),N=n(63614),I=n(74935),R=n(36585);const A=n.p+"files/14fe300f70a0993958a9522ecd37592d.svg",O=n.p+"files/7cbbc5e4d6268cc9fc562eb04f9739bc.svg";var L=n(82251);const D=n.p+"files/a633c8db75b2a15e13d980069d2e3298.svg";var k,x=n(94184),U=n.n(x);function Z(e){const{icon:t,title:n,subtitle:s,date:a,error:i,buttonText:r,buttonHandler:o,linkText:l,linkURL:c,footer:d,className:m}=e;let u=null;r&&o&&(u=g.createElement("div",{className:U()("IconMessage-button",i?"error":"")},g.createElement("button",{id:"login_button",className:"btn btn-primary Form-btn",onClick:o},g.createElement(f.Z,{id:r}))));let p=null;return l&&c&&(p=g.createElement("div",{className:"IconMessage-link"},g.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},g.createElement(f.Z,{id:l})))),g.createElement("div",{id:"payment_complete_header",className:"IconMessage"},g.createElement("div",{className:U()("content",m||"")},g.createElement("img",{className:"IconMessage-img",src:t,alt:"Payment icon"}),g.createElement("h3",{className:"IconMessage-h3"},g.createElement(f.Z,{id:n})),g.createElement("div",{className:U()("IconMessage-sub",i||"")},s?g.createElement(f.Z,{id:s,values:{date:a}}):null),u,p,d))}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Z.propTypes={icon:h().string.isRequired,title:h().string.isRequired,subtitle:h().string,date:h().string,error:h().bool,buttonText:h().string,buttonHandler:h().func,linkText:h().string,linkURL:h().string,footer:h().element,className:h().string},Z.defaultProps={error:!1,subtitle:"",date:"",className:""},function(e){e[e.PROCESSING=0]="PROCESSING",e[e.SUCCESS=1]="SUCCESS",e[e.FAILED=2]="FAILED"}(k||(k={}));class F extends g.PureComponent{constructor(e){super(e),j(this,"intervalId",void 0),j(this,"updateProgress",(()=>{let{progress:e}=this.state;e>=95?clearInterval(this.intervalId):(e+=1,this.setState({progress:e>95?95:e}))})),j(this,"savePaymentMethod",(async()=>{const e=new Date,{stripe:t,addPaymentMethod:n,billingDetails:s,isDevMode:a}=this.props;if(!await n(await t,s,a))return void this.setState({error:!0,state:k.FAILED});const i=(new Date).valueOf()-e.valueOf();i<5e3?setTimeout(this.completePayment,5e3-i):this.completePayment()})),j(this,"completePayment",(()=>{clearInterval(this.intervalId),this.setState({state:k.SUCCESS,progress:100})})),j(this,"handleGoBack",(()=>{clearInterval(this.intervalId),this.setState({progress:0,error:!1,state:k.PROCESSING}),this.props.onBack()})),this.intervalId={},this.state={progress:0,error:!1,state:k.PROCESSING}}componentDidMount(){this.savePaymentMethod(),this.intervalId=setInterval(this.updateProgress,52.63157894736842)}componentWillUnmount(){clearInterval(this.intervalId)}render(){const{state:e,progress:t,error:n}=this.state,s=g.createElement("div",{className:"ProcessPayment-progress"},g.createElement("div",{className:"ProcessPayment-progress-fill",style:{width:"".concat(t,"%")}}));switch(e){case k.PROCESSING:return g.createElement(Z,{title:(0,L.t)("admin.billing.subscription.verifyPaymentInformation"),subtitle:"",icon:D,footer:s});case k.SUCCESS:return(0,S.tF)(d.EA.CLOUD_PURCHASING,"pageview_payment_success"),g.createElement(Z,{title:(0,L.t)("admin.billing.subscription.upgradedSuccess"),subtitle:(0,L.t)("admin.billing.subscription.nextBillingDate"),date:(0,I.Nw)(),error:n,icon:A,buttonText:(0,L.t)("admin.billing.subscription.letsGo"),buttonHandler:this.props.onClose,className:"success"});case k.FAILED:return(0,S.tF)(d.EA.CLOUD_PURCHASING,"pageview_payment_failed"),g.createElement(Z,{title:(0,L.t)("admin.billing.subscription.paymentVerificationFailed"),subtitle:(0,L.t)("admin.billing.subscription.paymentFailed"),icon:O,error:n,buttonText:(0,L.t)("admin.billing.subscription.goBackTryAgain"),buttonHandler:this.handleGoBack,linkText:(0,L.t)("admin.billing.subscription.privateCloudCard.contactSupport"),linkURL:this.props.contactSupportLink});default:return null}}}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let G;j(F,"propTypes",{stripe:h().instanceOf(Promise).isRequired,isDevMode:h().bool.isRequired,contactSupportLink:h().string.isRequired,addPaymentMethod:h().func.isRequired,onBack:h().func.isRequired,onClose:h().func.isRequired});class V extends g.PureComponent{constructor(e){super(e),B(this,"modal",g.createRef()),B(this,"onPaymentInput",(e=>{this.setState({paymentInfoIsValid:(0,N.b)(e)&&this.state.cardInputComplete}),this.setState({billingDetails:e})})),B(this,"handleCardInputChange",(e=>{this.setState({paymentInfoIsValid:(0,N.b)(this.state.billingDetails)&&e.complete}),this.setState({cardInputComplete:e.complete})})),B(this,"handleSubmitClick",(async()=>{this.setState({processing:!0,paymentInfoIsValid:!1})})),B(this,"purchaseScreen",(()=>{let e,t;return this.props.isFreeTrial?(e=g.createElement(f.Z,{defaultMessage:"Provide Your Payment Details",id:"admin.billing.subscription.providePaymentDetails"}),t=g.createElement(f.Z,{defaultMessage:"Subscribe",id:"admin.billing.subscription.cloudTrial.subscribe"})):(e=g.createElement(f.Z,{defaultMessage:"Upgrade your Mattermost Cloud Susbcription",id:"admin.billing.subscription.upgradeCloudSubscription"}),t=g.createElement(f.Z,{defaultMessage:"Upgrade",id:"admin.billing.subscription.upgrade"})),g.createElement("div",{className:this.state.processing?"processing":""},g.createElement("div",{className:"LHS"},g.createElement("div",{className:"title"},e),g.createElement("img",{className:"image",alt:"upgrade",src:E}),g.createElement("div",{className:"footer-text"},g.createElement(f.Z,{defaultMessage:"Questions?",id:"admin.billing.subscription.questions"})),g.createElement("a",{className:"footer-text",onClick:()=>(0,S.L9)(d.EA.CLOUD_PURCHASING,"click_contact_support"),href:this.props.contactSupportLink,rel:"noopener noreferrer",target:"_new"},g.createElement(f.Z,{defaultMessage:"Contact Support",id:"admin.billing.subscription.privateCloudCard.contactSupport"}))),g.createElement("div",{className:"central-panel"},g.createElement(R.Z,{className:"normal-text",onInputChange:this.onPaymentInput,onCardInputChange:this.handleCardInputChange})),g.createElement("div",{className:"RHS"},g.createElement("div",{className:"price-container"},g.createElement("div",{className:"bold-text"},g.createElement(f.Z,{defaultMessage:"Mattermost Cloud",id:"admin.billing.subscription.mattermostCloud"})),g.createElement("div",{className:"price-text"},"$".concat(this.state.productPrice||0),g.createElement("span",{className:"monthly-text"},g.createElement(f.Z,{defaultMessage:" /user/month",id:"admin.billing.subscription.perUserPerMonth"}))),g.createElement("div",{className:"footer-text"},g.createElement(f.Z,{defaultMessage:"Payment begins: {beginDate}",id:"admin.billing.subscription.payamentBegins",values:{beginDate:(0,I.Nw)()}})),g.createElement("button",{disabled:!this.state.paymentInfoIsValid,onClick:this.handleSubmitClick},t),g.createElement("div",{className:"fineprint-text"},g.createElement("span",null,g.createElement(f.Z,{defaultMessage:"Your total is calculated at the end of the billing cycle based on the number of enabled users. You’ll only be charged if you exceed the free tier limits. ",id:"admin.billing.subscription.disclaimer"}))," ",g.createElement("a",{href:d.Xq.BILLING_DOCS,target:"_new",rel:"noopener noreferrer"},g.createElement(f.Z,{defaultMessage:"See how billing works.",id:"admin.billing.subscription.howItWorks"})))),g.createElement("div",{className:"footer-text"},g.createElement(f.Z,{defaultMessage:"Need other billing options?",id:"admin.billing.subscription.otherBillingOption"})),g.createElement("a",{className:"footer-text",onClick:()=>{(0,S.L9)(d.EA.CLOUD_PURCHASING,"click_contact_sales")},href:this.props.contactSalesLink,target:"_new",rel:"noopener noreferrer"},g.createElement(f.Z,{defaultMessage:"Contact Sales",id:"admin.billing.subscription.privateCloudCard.contactSales"})),g.createElement("div",{className:"logo"},g.createElement("img",{src:w.Z}))))})),this.state={paymentInfoIsValid:!1,productPrice:0,billingDetails:null,cardInputComplete:!1,processing:!1}}static getDerivedStateFromProps(e,t){let n=0;if(e.products){const t=Object.keys(e.products);t.length>0&&(n=e.products[t[0]].price_per_seat)}return q(q({},t),{},{productPrice:n})}componentDidMount(){(0,S.tF)(d.EA.CLOUD_PURCHASING,"pageview_purchase"),this.props.actions.getCloudProducts(),this.props.actions.getClientConfig()}render(){return G||(G=(0,b.loadStripe)(T.Yw)),g.createElement(_.Elements,{options:{fonts:[{cssSrc:T.wW}]},stripe:G},g.createElement(P.Z,null,g.createElement(M.Z,{show:Boolean(this.props.show),onClose:()=>{(0,S.L9)(d.EA.CLOUD_PURCHASING,"click_close_purchasing_screen"),this.props.actions.getCloudSubscription(),this.props.actions.closeModal()},ref:this.modal,ariaLabelledBy:"purchase_modal_title"},g.createElement("div",{className:"PurchaseModal"},this.state.processing?g.createElement("div",null,g.createElement(F,{stripe:G,billingDetails:this.state.billingDetails,addPaymentMethod:this.props.actions.completeStripeAddPaymentMethod,isDevMode:this.props.isDevMode,onClose:()=>{this.props.actions.getCloudSubscription(),this.props.actions.closeModal()},onBack:()=>{this.setState({processing:!1})},contactSupportLink:this.props.contactSalesLink})):null,this.purchaseScreen(),g.createElement("div",null,g.createElement("img",{className:"waves",src:C.Z}),g.createElement("img",{className:"blue-dots",src:y.Z}),g.createElement("img",{className:"lower-blue-dots",src:v}))))))}}B(V,"propTypes",{show:h().bool.isRequired,isDevMode:h().bool.isRequired,contactSupportLink:h().string.isRequired,contactSalesLink:h().string.isRequired,isFreeTrial:h().bool.isRequired,actions:h().shape({closeModal:h().func.isRequired,getCloudProducts:h().func.isRequired,completeStripeAddPaymentMethod:h().func.isRequired,getClientConfig:h().func.isRequired,getCloudSubscription:h().func.isRequired}).isRequired});const W=(0,s.connect)((function(e){const t=e.entities.cloud.subscription;return{show:(0,l.g)(e,d.r8.CLOUD_PURCHASE),products:e.entities.cloud.products,isDevMode:"true"===(0,i.iE)(e).EnableDeveloper,contactSupportLink:(0,c.id)(e,c.IM.Technical),isFreeTrial:"true"===(null==t?void 0:t.is_free_trial),contactSalesLink:(0,c.id)(e,c.IM.Sales)}}),(function(e){return{actions:(0,a.bindActionCreators)({closeModal:()=>(0,m.M)(d.r8.CLOUD_PURCHASE),getCloudProducts:r.nt,completeStripeAddPaymentMethod:u.F,getClientConfig:o.Zb,getCloudSubscription:r.oR},e)}}))(V)},26700:(e,t,n)=>{"use strict";n.d(t,{x:()=>_,Z:()=>f}),n(33948);var s=n(45697),a=n.n(s),i=n(67294),r=n(44012),o=n(19728),l=n(94184),c=n.n(l),d=n(15558),m=n(97550),u=n(92337);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.PureComponent{constructor(...e){super(...e),g(this,"updateInputFromProps",(()=>{this.input&&this.input.value!==this.props.value&&(this.input.value=this.props.value)})),g(this,"getInput",(()=>this.input)),g(this,"setInput",(e=>{this.input=e})),g(this,"onClear",(e=>{e.preventDefault(),e.stopPropagation(),this.props.onClear&&this.props.onClear(),this.focus()}))}componentDidUpdate(e){e.value!==this.props.value&&(this.props.delayInputUpdate?requestAnimationFrame(this.updateInputFromProps):this.updateInputFromProps())}get value(){return this.input.value}set value(e){this.input.value=e}focus(){this.input.focus()}blur(){this.input.blur()}render(){let e=this.props.clearableTooltipText;e||(e=i.createElement(r.Z,{id:"input.clear",defaultMessage:"Clear"}));const t=i.createElement(o.Z,{id:"InputClearTooltip"},e),n=this.props,{value:s,inputComponent:a,clearable:l,clearClassName:p,tooltipPosition:g,clearableWithoutValue:f}=n,b=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["value","inputComponent","clearable","clearClassName","tooltipPosition","clearableWithoutValue"]);Reflect.deleteProperty(b,"delayInputUpdate"),Reflect.deleteProperty(b,"onClear"),Reflect.deleteProperty(b,"clearableTooltipText"),Reflect.deleteProperty(b,"channelId"),Reflect.deleteProperty(b,"clearClassName"),Reflect.deleteProperty(b,"tooltipPosition"),a!==m.Z&&Reflect.deleteProperty(b,"onHeightChange");const _=i.createElement(a||"input",h(h({},b),{},{ref:this.setInput,defaultValue:s})),E=this.props.onClear&&(f||l&&s);return i.createElement("div",null,_,E&&i.createElement("div",{className:c()(p,"input-clear visible"),onMouseDown:this.onClear,onTouchEnd:this.onClear},i.createElement(d.Z,{delayShow:u.ZP.OVERLAY_TIME_DELAY,placement:g,overlay:t},i.createElement("span",{className:"input-clear-x","aria-hidden":"true"},i.createElement("i",{className:"icon icon-close-circle"})))))}}g(f,"propTypes",{delayInputUpdate:a().bool,inputComponent:a().elementType,value:a().string.isRequired,clearable:a().bool,clearableTooltipText:a().oneOfType([a().string,a().element]),onClear:a().func,clearClassName:a().string,tooltipPosition:a().oneOf(["top","bottom"]),onChange:a().func,clearableWithoutValue:a().bool}),g(f,"defaultProps",{delayInputUpdate:!1,value:"",clearable:!1,tooltipPosition:"bottom"}),n(19601);const b=(0,i.forwardRef)(((e,t)=>{let{className:n,defaultValue:s,maxLength:a}=e,r=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["className","defaultValue","maxLength"]);const o=s?s.length-a:0,l=c()({MaxLengthInput:!0,[n]:Boolean(n),"has-error":o>0});return i.createElement(i.Fragment,null,i.createElement("input",Object.assign({className:l,defaultValue:s,ref:t},r)),o>0&&i.createElement("span",{className:"MaxLengthInput__validation"},"-",o))}));b.propTypes={className:a().string.isRequired,defaultValue:a().string,maxLength:a().number.isRequired};const _=b},89922:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var s=n(37703),a=n(14890),i=n(15433),r=n(45697),o=n.n(r),l=(n(88674),n(67294)),c=n(43253),d=n(44012),m=n(45288),u=n(89262),p=n(92337),h=n(74935),g=n(47470),f=n(82251),b=n(39864),_=n(92094),E=(n(19601),n(73210),n(23157),n(23123),n(33948),n(32023),n(70082)),C=n(11106),y=n(70493),v=n(79592),w=n(26961),S=n(42560),T=n(16146),P=n(89980),M=n(80722),N=n(47590),I=n(85357),R=n(71816),A=n(79097),O=n(54300),L=n(46261),D=n(68403),k=n(67844),x=n(72009),U=n(64972),Z=n(91857);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const q=x.Z.getState,B=(0,P.J1)();class G extends Z.Z{static get propTypes(){return F(F({},super.propTypes),{},{channelMember:o().object,hasDraft:o().bool,userImageUrl:o().string,dmChannelTeammate:o().object})}render(){const{item:e,isSelection:t,userImageUrl:n,status:s,userItem:a}=this.props,i=e.channel,r=i.delete_at&&0!==i.delete_at,o=this.props.channelMember,c=this.props.dmChannelTeammate;let d=null;o&&o.notify_props&&o.mention_count>0&&(d=l.createElement("span",{className:"badge"},o.mention_count));let m="mentions__name";t&&(m+=" suggestion--selected");let u,g=l.createElement(l.Fragment,null,i.display_name,l.createElement("div",{className:"mentions__fullname"},"~".concat(i.name)));u=r?l.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},l.createElement("i",{className:"icon icon-archive-outline"})):this.props.hasDraft?l.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},l.createElement("i",{className:"icon icon-pencil-outline"})):i.type===p.gT.OPEN_CHANNEL?l.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},l.createElement("i",{className:"icon icon-globe"})):i.type===p.gT.PRIVATE_CHANNEL?l.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},l.createElement("i",{className:"icon icon-lock-outline"})):i.type===p.gT.GM_CHANNEL?l.createElement("div",{className:"suggestion-list__icon suggestion-list__icon--large"},l.createElement("div",{className:"status status--group"},"G")):l.createElement("div",{className:"pull-left"},l.createElement(v.Z,{src:n,status:c&&c.is_bot?null:s,size:"sm"}));let f=null,b=null;if(i.type===p.gT.DM_CHANNEL){let e;f=l.createElement(l.Fragment,null,l.createElement(O.Z,{show:Boolean(c&&c.is_bot),className:"badge-autocomplete"}),l.createElement(L.Z,{show:Boolean(c&&h.a_(c)),className:"badge-autocomplete"})),b=l.createElement(D.Z,{showTooltip:!0,userID:a.id,emojiStyle:{marginBottom:2,marginLeft:8}}),a.delete_at&&(e=" - "+h._u("channel_switch_modal.deactivated","Deactivated")),g=c&&c.is_bot?l.createElement(l.Fragment,null,a.username,e):i.display_name?l.createElement(l.Fragment,null,i.display_name,l.createElement("div",{className:"mentions__fullname"},"@".concat(a.username),e)):l.createElement(l.Fragment,null,a.username,e)}else i.type===p.gT.GM_CHANNEL&&(g=i.display_name);let _=null;return i.shared&&(_=l.createElement(A.Z,{className:"shared-channel-icon",channelType:i.type})),l.createElement("div",Object.assign({onClick:this.handleClick,onMouseMove:this.handleMouseMove,className:m,role:"listitem",ref:e=>{this.node=e},id:"switchChannel_".concat(i.name),"data-testid":i.name,"aria-label":g||i.name},Z.Z.baseProps),u,l.createElement("span",{className:"suggestion-list__info_user"},g),b,_,f,d)}}const V=(0,s.connect)((function(e,t){const n=t.item&&t.item.channel,s=n?n.id:"",a=!!s&&(0,k.HG)(e,p.hC.DRAFT,s),i=n&&(0,P.PR)(e,n.userId),r=i&&h.bb(i.id,i.last_picture_update);let o=n&&n.type===p.gT.DM_CHANNEL&&h.PR(e,n.id);const l=(0,P.dQ)(e,n.name),c=(0,P.ZO)(e,n.userId);return n&&h.Qr(o)&&(o=(0,P.PR)(e,n.userId)),{channelMember:(0,y.h4)(e)[s],hasDraft:a&&Boolean(a.message.trim()||a.fileInfos.length||a.uploadsInProgress.length),userImageUrl:r,dmChannelTeammate:o,status:c,userItem:l}}),null,null,{forwardRef:!0})(G);let W="";function z(e,t){const n=!!e.channel.delete_at&&0!==e.channel.delete_at,s=!!t.channel.delete_at&&0!==t.channel.delete_at;if(n&&!s)return 1;if(!n&&s)return-1;if(e.deactivated&&!t.deactivated)return 1;if(t.deactivated&&!e.deactivated)return-1;const a=e.channel,i=t.channel;let r=a.display_name.toLowerCase(),o=i.display_name.toLowerCase();a.type===p.gT.DM_CHANNEL&&r.startsWith("@")&&(r=r.substring(1)),i.type===p.gT.DM_CHANNEL&&o.startsWith("@")&&(o=o.substring(1));const l=r.startsWith(W),c=o.startsWith(W);return a.type!==p.gT.OPEN_CHANNEL||e.last_viewed_at||i.type===p.gT.OPEN_CHANNEL&&!t.last_viewed_at?i.type!==p.gT.OPEN_CHANNEL||t.last_viewed_at?l&&!c?-1:!l&&c?1:e.last_viewed_at&&t.last_viewed_at?t.last_viewed_at-e.last_viewed_at:e.last_viewed_at?-1:t.last_viewed_at?1:(0,R.Ut)("en",a,i):-1:1}class Y extends U.Z{handlePretextChanged(e,t){if(e){if(W=e,this.startNewRequest(e),this.shouldCancelDispatch(e))return!1;const n=(0,y.zE)(q()).concat((0,y.y2)(q())),s=Object.assign([],B(q(),e,!1)),a=this.formatList(e,n,s);a&&t(a),this.fetchUsersAndChannels(e,t)}else this.formatUnreadChannelsAndDispatch(t);return!0}async fetchUsersAndChannels(e,t){const n=q(),s=(0,T.ev)(n);if(!s)return;let a;a="team"===(0,S.iE)(n).RestrictDirectMessage?C.je.autocompleteUsers(e,s,""):C.je.autocompleteUsers(e,"","");const i=(0,M.r6)(s,e)(x.Z.dispatch,x.Z.getState);let r=[],o=[];try{r=await a;const{data:e}=await i;o=e}catch(e){x.Z.dispatch((0,N.H)(e))}if(this.shouldCancelDispatch(e))return;const l=(0,P.rc)(n),c=(0,y.zE)(n).concat((0,y.y2)(n))||[],d=Object.assign([],B(n,e,!1))||[],m=this.formatList(e,c,d),u=o.concat((0,y._3)(n))||[],p=Object.assign([],r.users)||[],h=this.formatList(e,u,p,!1);x.Z.dispatch({type:E.bZ.RECEIVED_PROFILES_LIST,data:[...d.filter((e=>e.id!==l)),...p.filter((e=>e.id!==l))]});const g=[...m.terms,...h.terms.filter((e=>!m.terms.includes(e)))],f=[...m.items,...h.items.filter((e=>!m.terms.includes(e.channel.userId||e.channel.id)))];t(F(F({},m),{items:f,terms:g}))}userWrappedChannel(e,t){let n="";return(e.first_name||e.last_name)&&e.nickname?n+="".concat(h.Pp(e)," (").concat(e.nickname,")"):!e.nickname||e.first_name||e.last_name?(e.first_name||e.last_name)&&(n+="".concat(h.Pp(e))):n+="".concat(e.nickname),{channel:{display_name:n,name:e.username,id:t?t.id:e.id,userId:e.id,update_at:e.update_at,type:p.gT.DM_CHANNEL,last_picture_update:e.last_picture_update||0},name:e.username,deactivated:e.delete_at}}formatList(e,t,n,s=!0){const a=[],i=(0,y.h4)(q()),r={},o=function(e){const t=e.toLowerCase(),n=t.trim().split(/[ ,]+/),s=q(),a=(0,P.ZQ)(s),i={};return e=>{let r="".concat(e.display_name).concat(e.name);if(e.type===p.gT.GM_CHANNEL||e.type===p.gT.DM_CHANNEL){const t=a[e.id]||new Set([]);if(!t.size&&e.type===p.gT.DM_CHANNEL){const n=h.uD(e.name);(0,P.PR)(s,n)&&t.add(n)}for(const e of t){let t=i[e];if(!t){const n=(0,P.PR)(s,e);if(!n)continue;const{nickname:a,username:r}=n;t="".concat(a).concat(r).concat(h.Pp(n)),i[e]=t}r+=t}}if(n.length>1){const e=r.toLowerCase();return n.every((t=>e.includes(t)))}return r.toLowerCase().includes(t)}}(e),l=q(),c=(0,S.iE)(l),d="true"===c.ExperimentalViewArchivedChannels;for(const e of Object.keys(t)){const m=t[e];if(!r[m.id]&&o(m)){const e=Object.assign({},m),t=0!==m.delete_at;let o={channel:e,name:e.name,deactivated:!1};if(i[m.id])o.last_viewed_at=i[m.id].last_viewed_at;else if(s)continue;if(!d&&t)continue;if(t&&i[m.id])o.type=p.gT.ARCHIVED_CHANNEL;else{if(t&&!i[m.id])continue;if(e.type===p.gT.GM_CHANNEL){if(e.name=e.display_name,o.name=e.name,!(0,R.ai)(c,(0,w.VJ)(l),m,(0,I.YA)(l)[m.id],(0,R.I)((0,y.h4)(l),m))&&s)continue}else if(e.type===p.gT.DM_CHANNEL){const t=h.uD(e.name),s=n.find((e=>e.id===t));if(!s)continue;r[s.id]=!0,o=this.userWrappedChannel(s,e),i[m.id]&&(o.last_viewed_at=i[m.id].last_viewed_at)}}r[m.id]=!0,a.push(o)}}for(let e=0;e<n.length;e++){const t=n[e];if(r[t.id])continue;const o=this.userWrappedChannel(t),l=(0,P.rc)(q()),c=h.T8(l,t.id),d=(0,y.ZO)(q(),c);if(d&&i[d.id])o.last_viewed_at=i[d.id].last_viewed_at;else if(s)continue;r[t.id]=!0,a.push(o)}return{matchedPretext:e,terms:a.sort(z).map((e=>e.channel.userId||e.channel.id)),items:a,component:V}}formatUnreadChannelsAndDispatch(e){const t=(0,y.kL)(),n=(0,y.er)(q(),!1),s=[];for(let e=0;e<n.length;e++){const a=t(q(),{id:n[e]})||{};let i={channel:a,name:a.name,deactivated:!1};if(a.type===p.gT.GM_CHANNEL)i.name=a.display_name;else if(a.type===p.gT.DM_CHANNEL){const e=(0,P.PR)(q(),h.uD(a.name));if(!e)continue;i=this.userWrappedChannel(e,a)}i.type=p.gT.MENTION_UNREAD_CHANNELS,s.push(i)}e({matchedPretext:"",terms:s.map((e=>e.channel.id)),items:s,component:V})}}var K=n(6602);const J=x.Z.getState;class Q extends Z.Z{render(){const{item:e,isSelection:t}=this.props;let n="mentions__name";return t&&(n+=" suggestion--selected"),l.createElement("div",Object.assign({onClick:this.handleClick,className:n,onMouseMove:this.handleMouseMove,ref:e=>{this.node=e}},Z.Z.baseProps),l.createElement("div",{className:"status"},l.createElement(d.Z,{id:"general_tab.teamIcon",defaultMessage:"Team Icon"},(e=>l.createElement("i",{className:"fa fa-group",title:e})))),e.display_name)}}let X="";function $(e,t){const n=e.display_name.toLowerCase(),s=t.display_name.toLowerCase(),a=n.startsWith(X),i=s.startsWith(X);if(a&&i){const a=(0,K.B)(J());return n!==s?n.localeCompare(s,a,{numeric:!0}):e.name.localeCompare(t.name,a,{numeric:!0})}return a?-1:1}class ee extends U.Z{handlePretextChanged(e,t){if(e){X=e,this.startNewRequest(e);const n=T.Dc(J()).filter((t=>-1!==t.display_name.toLowerCase().indexOf(e)||-1!==t.name.indexOf(e))),s=n.sort($).map((e=>e.name));return t({matchedPretext:e,terms:s,items:n,component:Q}),!0}return!1}}var te=n(28292),ne=n(13516);function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ae="channel",ie="team";class re extends l.PureComponent{constructor(e){super(e),se(this,"channelProviders",void 0),se(this,"teamProviders",void 0),se(this,"switchBox",void 0),se(this,"focusTextbox",(()=>{if(null===this.switchBox)return;const e=this.switchBox.getTextbox();document.activeElement!==e&&(e.focus(),h.e6(e))})),se(this,"setSwitchBoxRef",(e=>{this.switchBox=e,this.focusTextbox()})),se(this,"onHide",(()=>{this.focusPostTextbox(),this.setState({text:""}),this.props.onHide()})),se(this,"focusPostTextbox",(()=>{g.tq()||setTimeout((()=>{const e=document.querySelector("#post_textbox");e&&e.focus()}))})),se(this,"onChange",(e=>{this.setState({text:e.target.value,shouldShowLoadingSpinner:!0})})),se(this,"handleKeyDown",(e=>{h.pD(e,p.ZP.KeyCodes.TAB)&&(e.preventDefault(),this.switchMode())})),se(this,"handleSubmit",(async e=>{if(e)if(this.state.mode===ae){const{joinChannelById:t,switchToChannel:n}=this.props.actions,s=e.channel;e.type===p.ZP.MENTION_MORE_CHANNELS&&s.type===p.ZP.OPEN_CHANNEL&&await t(s.id),n(s).then((e=>{"data"in e&&this.onHide()}))}else u.m.push("/"+e.name),this.onHide()})),se(this,"enableChannelProvider",(()=>{this.channelProviders[0].disableDispatches=!1,this.teamProviders[0].disableDispatches=!0})),se(this,"enableTeamProvider",(()=>{this.teamProviders[0].disableDispatches=!1,this.channelProviders[0].disableDispatches=!0})),se(this,"switchMode",(()=>{this.state.mode===ae&&this.props.showTeamSwitcher?(this.enableTeamProvider(),this.setState({mode:ie})):this.state.mode===ie&&(this.enableChannelProvider(),this.setState({mode:ae}))})),se(this,"handleOnClick",(e=>{e.preventDefault();const t=e.currentTarget.getAttribute("data-mode");this.enableChannelProvider(),this.setState({mode:t}),this.focusTextbox()})),se(this,"handleSuggestionsReceived",(e=>{const t=e.items.some((e=>e.loading));this.setState({shouldShowLoadingSpinner:t,pretext:e.matchedPretext,hasSuggestions:e.items.length>0})})),se(this,"render",(()=>{let e=this.channelProviders,t=l.createElement("h1",null,l.createElement(d.Z,{id:"quick_switch_modal.switchChannels",defaultMessage:"Switch Channels"})),n=(0,f.t)("quick_switch_modal.channelsShortcut.windows"),s="CTRL+K";h.V5()&&(n=(0,f.t)("quick_switch_modal.channelsShortcut.mac"),s="CMD+K");let a,i=(0,f.t)("quick_switch_modal.teamsShortcut.windows"),r="CTRL+ALT+K";if(h.V5()&&(i=(0,f.t)("quick_switch_modal.teamsShortcut.mac"),r="CMD+ALT+K"),this.props.showTeamSwitcher){let a="",o="";this.state.mode===ie?(e=this.teamProviders,o="active"):a="active",t=l.createElement("div",{className:"nav nav-tabs"},l.createElement("li",{className:a},l.createElement("a",{"data-mode":"channel",href:"#",onClick:this.handleOnClick},l.createElement(d.Z,{id:"quick_switch_modal.channels",defaultMessage:"Channels"}),l.createElement("span",{className:"small"},l.createElement(d.Z,{id:n,defaultMessage:s})))),l.createElement("li",{className:o},l.createElement("a",{"data-mode":"team",href:"#",onClick:this.handleOnClick},l.createElement(d.Z,{id:"quick_switch_modal.teams",defaultMessage:"Teams"}),l.createElement("span",{className:"small"},l.createElement(d.Z,{id:i,defaultMessage:r})))))}return a=h.tq()?l.createElement(m.Z,{id:"quick_switch_modal.help_mobile",defaultMessage:"Type to find a channel."}):this.props.showTeamSwitcher?l.createElement(m.Z,{id:"quick_switch_modal.help",defaultMessage:"Start typing then use TAB to toggle channels/teams, **UP/DOWN** to browse, **ENTER** to select, and **ESC** to dismiss."}):l.createElement(m.Z,{id:"quick_switch_modal.help_no_team",defaultMessage:"Type to find a channel. Use **UP/DOWN** to browse, **ENTER** to select, **ESC** to dismiss."}),l.createElement(c.Z,{dialogClassName:"a11y__modal channel-switcher",ref:"modal",show:!0,onHide:this.onHide,enforceFocus:!1,restoreFocus:!1,role:"dialog","aria-labelledby":"quickSwitchModalLabel","aria-describedby":"quickSwitchHint",animation:!1},l.createElement(c.Z.Header,{id:"quickSwitchModalLabel",closeButton:!0}),l.createElement(c.Z.Body,null,l.createElement("div",{className:"channel-switcher__header"},t,l.createElement("div",{className:"channel-switcher__hint",id:"quickSwitchHint"},a)),l.createElement("div",{className:"channel-switcher__suggestion-box"},l.createElement("i",{className:"icon icon-magnify icon-16"}),l.createElement(b.Z,{id:"quickSwitchInput","aria-label":h._u("quick_switch_modal.input","quick switch input"),ref:this.setSwitchBoxRef,className:"form-control focused",onChange:this.onChange,value:this.state.text,onKeyDown:this.handleKeyDown,onItemSelected:this.handleSubmit,listComponent:_.Z,maxLength:"64",providers:e,listStyle:"bottom",completeOnTab:!1,spellCheck:"false",delayInputUpdate:!0,openWhenEmpty:!0,onSuggestionsReceived:this.handleSuggestionsReceived,forceSuggestionsWhenBlur:!0}),!this.state.shouldShowLoadingSpinner&&!this.state.hasSuggestions&&this.state.text&&l.createElement(te.Z,{variant:ne.U.ChannelSearch,titleValues:{channelName:'"'.concat(this.state.pretext,'"')}}))))})),this.channelProviders=[new Y],this.teamProviders=[new ee],this.switchBox=null,this.state={text:"",mode:ae,hasSuggestions:!0,shouldShowLoadingSpinner:!0,pretext:""}}}se(re,"propTypes",{onHide:o().func.isRequired,showTeamSwitcher:o().bool.isRequired,actions:o().shape({joinChannelById:o().func.isRequired,switchToChannel:o().func.isRequired}).isRequired});const oe=(0,s.connect)((function(){return{showTeamSwitcher:!1}}),(function(e){return{actions:(0,a.bindActionCreators)({joinChannelById:i.$B,switchToChannel:i.qZ},e)}}))(re)},50512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var s=n(67294),a=n(14890),i=n(37703),r=n(74838),o=n(53497),l=n(67844),c=n(3598),d=n(92337),m=n(45697),u=n.n(m),p=n(94184),h=n.n(p),g=n(88097),f=n(93620),b=n(89922),_=n(74935),E=n(57006);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends s.PureComponent{constructor(e){super(e),C(this,"handleResize",(()=>{this.setState({showSearchBar:y.getShowSearchBar(this.props)})})),C(this,"mentionButtonClick",(e=>{e.preventDefault(),this.searchMentions()})),C(this,"searchMentions",(()=>{const{rhsState:e,actions:{closeRightHandSide:t,showMentions:n}}=this.props;e===d.Hp.MENTION?t():n()})),C(this,"searchButtonClick",(e=>{e.preventDefault(),this.props.actions.openRHSSearch()})),C(this,"handleShortcut",(e=>{const{actions:{closeModal:t}}=this.props;_._E(e)&&e.shiftKey&&(_.pD(e,d.gT.KeyCodes.M)&&(e.preventDefault(),t(d.r8.QUICK_SWITCH),this.searchMentions()),_.pD(e,d.gT.KeyCodes.L)&&t(d.r8.QUICK_SWITCH))})),C(this,"handleQuickSwitchKeyPress",(e=>{_._E(e)&&!e.shiftKey&&_.pD(e,d.gT.KeyCodes.K)&&(e.altKey||(e.preventDefault(),this.toggleQuickSwitchModal()))})),C(this,"toggleQuickSwitchModal",(()=>{const{isQuickSwitcherOpen:e,actions:{openModal:t,closeModal:n}}=this.props;e?n(d.r8.QUICK_SWITCH):t({modalId:d.r8.QUICK_SWITCH,dialogType:b.Z})})),this.state={showSearchBar:y.getShowSearchBar(e)}}componentDidMount(){document.addEventListener("keydown",this.handleShortcut),document.addEventListener("keydown",this.handleQuickSwitchKeyPress),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){document.removeEventListener("keydown",this.handleShortcut),document.removeEventListener("keydown",this.handleQuickSwitchKeyPress),window.removeEventListener("resize",this.handleResize)}static getDerivedStateFromProps(e){return{showSearchBar:y.getShowSearchBar(e)}}static getShowSearchBar(e){return!_.tq()&&(_.bn()>1140||e.rhsOpen)}render(){const{rhsOpen:e,rhsState:t}=this.props;return s.createElement(s.Fragment,null,s.createElement(g.Z,{isFocus:_.tq()||e&&Boolean(t),hideSearchBar:!this.state.showSearchBar,enableFindShortcut:!0}),s.createElement(E.Z,{iconComponent:s.createElement(f.Z,{className:"icon icon--standard","aria-hidden":"true"}),ariaLabel:!0,buttonClass:h()("channel-header__icon",{"channel-header__icon--active":t===d.Hp.MENTION}),buttonId:"channelHeaderMentionButton",onClick:this.mentionButtonClick,tooltipKey:"recentMentions"}))}}C(y,"propTypes",{rhsOpen:u().bool.isRequired,isQuickSwitcherOpen:u().bool,actions:u().shape({showMentions:u().func.isRequired,openRHSSearch:u().func.isRequired,closeRightHandSide:u().func.isRequired,openModal:u().func.isRequired,closeModal:u().func.isRequired}).isRequired});const v=y,w=(0,i.connect)((function(e){return{rhsState:(0,l.kV)(e),rhsOpen:(0,l.aC)(e),isQuickSwitcherOpen:(0,c.g)(e,d.r8.QUICK_SWITCH)}}),(e=>({actions:(0,a.bindActionCreators)({showMentions:o.rb,openRHSSearch:o.Xv,closeRightHandSide:o.Lg,openModal:r.h,closeModal:r.M},e)})))(v)},21147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>CE});var s=n(14890),a=n(37703),i=n(42560),r=n(89980),o=n(16146),l=n(47566),c=n(24493),d=(n(88674),n(33948),n(19601),n(23157),n(45697)),m=n.n(d),u=n(67294),p=n(23723),h=n.n(p),g=n(5977),f=n(47244),b=n(39730),_=n(47470),E=n(52332),C=n(59925),y=n(34288),v=n(93814),w=n(14788),S=n(79979),T=n(54140),P=n(89262),M=n(32103),N=n(70082),I=n(74838),R=n(92337),A=n(72278),O=n(72009);let L="";O.Z.subscribe((()=>{const e=O.Z.getState(),t=e.entities.integrations.dialogTriggerId;t!==L&&(L=t,(e.entities.integrations.dialog||{}).trigger_id===t&&O.Z.dispatch((0,I.h)({modalId:R.r8.INTERACTIVE_DIALOG,dialogType:A.Z})))})),window.React=n(67294),window.ReactDOM=n(73935),window.Redux=n(14890),window.ReactRedux=n(37703),window.ReactBootstrap=n(21856),window.ReactRouterDom=n(73727),window.PropTypes=n(45697),window.PDFJS=n(99299),window.PostUtils={formatText:T.RZ,messageHtmlToComponent:S.Z},window.openInteractiveDialog=function(e){O.Z.dispatch({type:N.bK.RECEIVED_DIALOG,data:e}),O.Z.dispatch((0,I.h)({modalId:R.r8.INTERACTIVE_DIALOG,dialogType:A.Z}))},window.WebappUtils={browserHistory:P.m},window.UComponents={Textbox:M.Z};var D=n(94741);function k(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const x=u.lazy((()=>n.e(77).then(n.bind(n,76006)))),U=u.lazy((()=>n.e(865).then(n.bind(n,48865)))),Z=e=>{let{component:t}=e,n=k(e,["component"]);return u.createElement(g.AW,Object.assign({},n,{render:e=>u.createElement(u.Suspense,{fallback:null},u.createElement(x,e,u.createElement(t,e)))}))},j=e=>{let{component:t}=e,n=k(e,["component"]);return u.createElement(g.AW,Object.assign({},n,{render:e=>u.createElement(u.Suspense,{fallback:null},u.createElement(U,e,u.createElement(u.Suspense,{fallback:null},u.createElement(x,e,u.createElement(t,e)))))}))};var F=n(6602),H=n(29558),q=n(11106),B=n(40943),G=n(84197),V=n(74935);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class z extends u.PureComponent{constructor(...e){super(...e),W(this,"handleLocaleChange",(e=>{q.je.setAcceptLanguage(e),this.loadTranslationsIfNecessary(e)})),W(this,"loadTranslationsIfNecessary",(e=>{if(this.props.translations)return;const t=G.fK(e);t&&this.props.actions.loadTranslations(e,t.url)}))}componentDidMount(){G.F8(),(0,B.M)(V._u),this.handleLocaleChange(this.props.locale)}componentDidUpdate(e){e.locale!==this.props.locale&&this.handleLocaleChange(this.props.locale)}render(){return this.props.translations?u.createElement(H.Z,{key:this.props.locale,locale:this.props.locale,messages:this.props.translations,textComponent:"span",wrapRichTextChunksInFragment:!1},this.props.children):null}}W(z,"propTypes",{children:m().element.isRequired,locale:m().string.isRequired,translations:m().object,actions:m().shape({loadTranslations:m().func.isRequired}).isRequired});const Y=(0,a.connect)((function(e){const t=(0,F.B)(e);return{locale:t,translations:(0,F.F)(e,t)}}),(function(e){return{actions:(0,s.bindActionCreators)({loadTranslations:l.XJ},e)}}))(z);n(4723);var K=n(18493),J=n(80722),Q=n(11754),X=n(91925),$=n(26961),ee=n(70493),te=n(66527),ne=n(12083),se=n(72657),ae=n(28823),ie=n(15433),re=n(59930),oe=n(31425),le=n.n(oe),ce=n(58008),de=n(80868),me=n(391),ue=n(21440),pe=n(92405),he=n(74650),ge=n(38348),fe=n(10873),be=n(28645),_e=n(34959),Ee=n(49725),Ce=n(51),ye=(n(73210),n(43253)),ve=n(44012),we=n(74806),Se=n(94184),Te=n.n(Se),Pe=n(85174),Me=n(72654),Ne=n(14906),Ie=n(17293),Re=n(1594),Ae=n(49880),Oe=n(64501);function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const De=R.gT.KeyCodes;class ke extends u.PureComponent{constructor(e){super(e),Le(this,"setShowPreview",(e=>{this.props.actions.setShowPreview(e)})),Le(this,"getContainer",(()=>this.editModalBody.current)),Le(this,"toggleEmojiPicker",(()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker}),!this.state.showEmojiPicker&&this.editbox&&this.editbox.focus()})),Le(this,"hideEmojiPicker",(()=>{this.setState({showEmojiPicker:!1}),this.editbox&&this.editbox.focus()})),Le(this,"handleEmojiClick",(e=>{const t=e&&(e.name||e.aliases&&e.aliases[0]);if(t){if(""===this.state.editText)this.setState({editText:":"+t+": "});else{const{editText:e}=this.state,{firstPiece:n,lastPiece:s}=(0,Pe.Nn)(this.state.caretPosition,e),a=""===n?":".concat(t,": ").concat(s):"".concat(n," :").concat(t,": ").concat(s),i=""===n?":".concat(t,": ").length:"".concat(n," :").concat(t,": ").length,r=this.editbox.getInputBox();this.setState({editText:a,caretPosition:i},(()=>{V.Mq(r,i)}))}this.setState({showEmojiPicker:!1}),this.editbox&&this.editbox.focus()}})),Le(this,"handleGifClick",(e=>{if(""===this.state.editText)this.setState({editText:e});else{const t=/\s+$/.test(this.state.editText)?this.state.editText+e:this.state.editText+" "+e;this.setState({editText:t})}this.setState({showEmojiPicker:!1}),this.editbox.focus()})),Le(this,"getTarget",(()=>this.refs.editPostEmoji)),Le(this,"handlePostError",(e=>{this.state.postError!==e&&this.setState({postError:e})})),Le(this,"handleEdit",(async()=>{if(this.isSaveDisabled())return;const{actions:e,editingPost:t}=this.props,n={message:this.state.editText,id:t.postId,channel_id:t.post.channel_id};if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout((()=>{this.setState({errorClass:null})}),R.gT.ANIMATION_TIMEOUT);if(n.message===(t.post.message_source||t.post.message))return void this.handleHide();const s=t.post.file_ids&&t.post.file_ids.length>0;if(0!==n.message.trim().length||s)e.addMessageIntoHistory(n.message),await e.editPost(n)&&window.scrollTo(0,0),this.handleHide();else{this.handleHide(!1);const e={ModalId:R.r8.DELETE_POST,dialogType:Ie.Z,dialogProps:{post:t.post,commentCount:t.commentCount,isRHS:t.isRHS}};this.props.actions.openModal(e)}})),Le(this,"handleChange",(e=>{const t=e.target.value;this.setState({editText:t})})),Le(this,"handlePaste",(e=>{if(!e.clipboardData||!e.clipboardData.items||!this.props.canEditPost||"edit_textbox"!==e.target.id)return;const{clipboardData:t}=e,n=(0,Ne.hC)(t);if(!n)return;e.preventDefault();const{editText:s}=this.state;let a=s,i=this.state.caretPosition;if((0,Ne.lw)(n.className)){const{formattedMessage:e,formattedCodeBlock:n}=(0,Ne.fB)(this.state.caretPosition,a,t);i=this.state.caretPosition+n.length,a=e}else a=(0,Ne.Kt)(n,s.trim(),i),i=a.length-(s.length-i);this.setState({editText:a,caretPosition:i},(()=>{V.Mq(this.editbox.getInputBox(),i)}))})),Le(this,"handleEditKeyPress",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,{allowSending:s,ignoreKeyPress:a}=(0,Pe.bp)(e,this.state.editText,t,n,Date.now(),this.lastChannelSwitchAt,this.state.caretPosition);if(a)return e.preventDefault(),void e.stopPropagation();s&&(e.preventDefault(),this.editbox.blur(),this.handleEdit())})),Le(this,"handleMouseUpKeyUp",(e=>{const t=V.qK(e.target);this.setState({caretPosition:t})})),Le(this,"handleSelect",(e=>{V.cf(this.editbox.getInputBox(),e)})),Le(this,"handleKeyDown",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,s=e.ctrlKey||e.metaKey,a=V._E(e)&&!e.altKey&&!e.shiftKey,i=V._E(e,!0)&&e.altKey,r=(t||n)&&V.pD(e,De.ENTER)&&s,o=V.pD(e,De.B)||V.pD(e,De.I),l=V.pD(e,De.K);V.m(e)?(e.stopPropagation(),this.setState({editText:V.V4(e)})):r?this.handleEdit():V.pD(e,De.ESCAPE)&&!this.state.showEmojiPicker?this.handleHide():(a&&o||i&&l)&&this.applyHotkeyMarkdown(e)})),Le(this,"applyHotkeyMarkdown",(e=>{const t=V.IG(e);this.setState({editText:t.message},(()=>{const e=this.editbox.getInputBox();V.AU(e,t.selectionStart,t.selectionEnd)}))})),Le(this,"handleHide",((e=!0)=>{this.refocusId=e?this.props.editingPost.refocusId:null,this.props.actions.hideEditPostModal()})),Le(this,"handleCheckForChangesHide",(()=>{this.state.editText===this.props.editingPost.post.message&&this.handleHide()})),Le(this,"handleEntered",(()=>{this.editbox&&(this.editbox.focus(),this.editbox.recalculateSize())})),Le(this,"handleHeightChange",((e,t)=>{this.editbox&&this.setState({renderScrollbar:e>t,scrollbarWidth:V.LF(this.editbox.getInputBox())})})),Le(this,"handleExit",(()=>{this.props.actions.setShowPreview(!1)})),Le(this,"handleExited",(()=>{const e=this.refocusId;e&&setTimeout((()=>{const t=document.getElementById(e);t&&t.focus()})),this.refocusId=null,this.setState({editText:"",postError:"",errorClass:null,showEmojiPicker:!1,prevShowState:!1}),this.props.actions.setShowPreview(!1)})),Le(this,"setEditboxRef",(e=>{this.editbox=e,this.editbox&&this.editbox.focus()})),Le(this,"isSaveDisabled",(()=>{const e=this.props.editingPost.post;return e&&e.file_ids&&e.file_ids.length>0||""!==this.state.editText.trim()?!this.props.canEditPost:!this.props.canDeletePost})),this.state={editText:"",caretPosition:"".length,postError:"",errorClass:null,showEmojiPicker:!1,renderScrollbar:!1,scrollbarWidth:0,prevShowState:e.editingPost.show},this.editModalBody=u.createRef()}static getDerivedStateFromProps(e,t){return e.editingPost.show&&!t.prevShowState?{editText:e.editingPost.post.message_source||e.editingPost.post.message,prevShowState:e.editingPost.show}:null}componentDidMount(){document.addEventListener("paste",this.handlePaste)}componentWillUnmount(){document.removeEventListener("paste",this.handlePaste)}render(){const{formatMessage:e}=this.props.intl,t="edit-post-footer"+(this.state.postError?" has-error":"");let n=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");n=u.createElement("label",{className:e},this.state.postError)}let s=null;const a=e({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();return"true"!==this.props.config.EnableEmojiPicker||this.props.shouldShowPreview||(s=u.createElement("div",null,u.createElement(Re.Z,{show:this.state.showEmojiPicker,container:this.getContainer,target:this.getTarget,onHide:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,onGifClick:this.handleGifClick,enableGifPicker:"true"===this.props.config.EnableGifPicker,topOffset:0,rightOffset:10}),u.createElement("button",{"aria-label":a,id:"editPostEmoji",ref:"editPostEmoji",className:"style--none post-action",onClick:this.toggleEmojiPicker},u.createElement(Ae.Z,{className:"icon icon--emoji"})))),u.createElement(ye.Z,{id:"editPostModal",dialogClassName:"a11y__modal edit-modal",show:this.props.editingPost.show,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onHide:this.handleCheckForChangesHide,onEntered:this.handleEntered,onExit:this.handleExit,onExited:this.handleExited,keyboard:!1,role:"dialog","aria-labelledby":"editPostModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0,onHide:this.handleHide},u.createElement(ye.Z.Title,{componentClass:"h1",id:"editPostModalLabel"},u.createElement(ve.Z,{id:"edit_post.edit",defaultMessage:"Edit {title}",values:{title:this.props.editingPost.title}}))),u.createElement(ye.Z.Body,{bsClass:"modal-body edit-modal-body".concat(this.state.showEmojiPicker?" edit-modal-body--add-reaction":""),ref:this.editModalBody},u.createElement("div",{className:"post-create__container"},u.createElement("div",{className:Te()("textarea-wrapper",{scroll:this.state.renderScrollbar}),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0},u.createElement(M.Z,{tabIndex:"0",onChange:this.handleChange,onKeyPress:this.handleEditKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:this.state.editText,channelId:this.props.editingPost.post&&this.props.editingPost.post.channel_id,emojiEnabled:"true"===this.props.config.EnableEmojiPicker,createMessage:V._u("edit_post.editPost","Edit the post..."),supportsCommands:!1,suggestionListStyle:"bottom",id:"edit_textbox",ref:this.setEditboxRef,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,useChannelMentions:this.props.useChannelMentions}),u.createElement("div",{className:"post-body__actions"},s)),u.createElement("div",{className:"post-create-footer"},u.createElement(Oe.Z,{characterLimit:this.props.maxPostSize,showPreview:this.props.shouldShowPreview,ref:this.setTextboxLinksRef,updatePreview:this.setShowPreview,message:this.state.editText}),u.createElement("div",{className:t},n)))),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link",onClick:this.handleHide},u.createElement(ve.Z,{id:"edit_post.cancel",defaultMessage:"Cancel"})),u.createElement("button",{id:"editButton",type:"button",className:"btn btn-primary",disabled:this.isSaveDisabled(),onClick:this.handleEdit},u.createElement(ve.Z,{id:"edit_post.save",defaultMessage:"Save"}))))}}Le(ke,"propTypes",{canEditPost:m().bool,canDeletePost:m().bool,codeBlockOnCtrlEnter:m().bool,ctrlSend:m().bool,config:m().object.isRequired,intl:Me.gm.isRequired,maxPostSize:m().number.isRequired,shouldShowPreview:m().bool.isRequired,useChannelMentions:m().bool.isRequired,editingPost:m().shape({post:m().object,postId:m().string,refocusId:m().string,commentCount:m().number,show:m().bool.isRequired,title:m().string,isRHS:m().bool}).isRequired,actions:m().shape({addMessageIntoHistory:m().func.isRequired,editPost:m().func.isRequired,hideEditPostModal:m().func.isRequired,openModal:m().func.isRequired,setShowPreview:m().func.isRequired}).isRequired});const xe=(0,we.ZP)(ke),Ue=(0,a.connect)((function(e){var t;const n=(0,i.iE)(e),s=(0,Ce.YK)(e),a=(0,r.rc)(e),l=(null==s||null===(t=s.post)||void 0===t?void 0:t.channel_id)||(0,ee.gO)(e),c=(0,o.ev)(e);let d=!1,m=!1;s&&s.post&&s.post.user_id===a?(d=(0,ge.Ai)(e,{channel:l,team:c,permission:he.Pl.DELETE_POST}),m=(0,ge.Ai)(e,{channel:l,team:c,permission:he.Pl.EDIT_POST})):(d=(0,ge.Ai)(e,{channel:l,team:c,permission:he.Pl.DELETE_OTHERS_POSTS}),m=(0,ge.Ai)(e,{channel:l,team:c,permission:he.Pl.EDIT_OTHERS_POSTS}));const u=(0,ge.Ai)(e,{channel:l,team:c,permission:he.Pl.USE_CHANNEL_MENTIONS});return{canEditPost:m,canDeletePost:d,codeBlockOnCtrlEnter:(0,$.o4)(e,he.uP.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:(0,$.o4)(e,he.uP.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),config:n,editingPost:s,channelId:l,shouldShowPreview:(0,be.fM)(e),maxPostSize:parseInt(n.MaxPostSize,10)||R.ZP.DEFAULT_CHARACTER_LIMIT,useChannelMentions:u}}),(function(e){return{actions:(0,s.bindActionCreators)({addMessageIntoHistory:pe.$s,editPost:Ee.d,hideEditPostModal:_e.D_,openModal:I.h,setShowPreview:fe.YQ},e)}}))(xe);var Ze=n(94159),je=n(43832),Fe=n(17187),He=n.n(Fe),qe=n(37780);function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ge=R.ZP.ActionTypes;class Ve extends(He()){constructor(){super(),Be(this,"addModalListener",((e,t)=>{this.on(e,t)})),Be(this,"removeModalListener",((e,t)=>{this.removeListener(e,t)})),Be(this,"handleEventPayload",(e=>{const t=e.action,{type:n,value:s}=t,a=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["type","value"]);switch(n){case Ge.TOGGLE_SHORTCUTS_MODAL:case Ge.TOGGLE_IMPORT_THEME_MODAL:case Ge.TOGGLE_DELETE_POST_MODAL:case Ge.TOGGLE_GET_TEAM_INVITE_LINK_MODAL:case Ge.TOGGLE_GET_PUBLIC_LINK_MODAL:case Ge.TOGGLE_QUICK_SWITCH_MODAL:case Ge.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL:case Ge.TOGGLE_CHANNEL_NAME_UPDATE_MODAL:case Ge.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL:this.emit(n,s,a)}})),this.dispatchToken=qe.Z.register(this.handleEventPayload)}}const We=new Ve;var ze=n(20608);function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ke extends u.PureComponent{constructor(e){super(e),Ye(this,"textAreaRef",u.createRef()),Ye(this,"onHide",(()=>{this.setState({copiedLink:!1}),this.props.onHide()})),Ye(this,"copyLink",(()=>{const e=this.textAreaRef.current;if(e){e.focus(),e.setSelectionRange(0,this.props.link.length);try{this.setState({copiedLink:document.execCommand("copy")})}catch(e){this.setState({copiedLink:!1})}}})),this.state={copiedLink:!1}}render(){let e=null;this.props.helpText&&(e=u.createElement("p",null,this.props.helpText,u.createElement("br",null),u.createElement("br",null)));let t=null;document.queryCommandSupported("copy")&&(t=u.createElement("button",{id:"linkModalCopyLink","data-copy-btn":"true",type:"button",className:"btn btn-primary pull-left",onClick:this.copyLink},u.createElement(ve.Z,{id:"get_link.copy",defaultMessage:"Copy Link"})));const n=u.createElement("textarea",{id:"linkModalTextArea",className:"form-control no-resize min-height",ref:this.textAreaRef,dir:"auto",value:this.props.link,onClick:this.copyLink,readOnly:!0});let s=null;return this.state.copiedLink&&(s=u.createElement("p",{className:"alert alert-success alert--confirm"},u.createElement(ze.Z,null),u.createElement(ve.Z,{id:"get_link.clipboard",defaultMessage:" Link copied"}))),u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.props.show,onHide:this.onHide,role:"dialog","aria-labelledby":"getLinkModalLabel"},u.createElement(ye.Z.Header,{id:"getLinkModalLabel",closeButton:!0},u.createElement("h4",{className:"modal-title"},this.props.title)),u.createElement(ye.Z.Body,null,e,n),u.createElement(ye.Z.Footer,null,u.createElement("button",{id:"linkModalCloseButton",type:"button",className:"btn btn-link",onClick:this.onHide},u.createElement(ve.Z,{id:"get_link.close",defaultMessage:"Close"})),t,s))}}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ye(Ke,"propTypes",{show:m().bool.isRequired,onHide:m().func.isRequired,title:m().string.isRequired,helpText:m().string,link:m().string.isRequired}),Ye(Ke,"defaultProps",{helpText:null});class Qe extends u.PureComponent{constructor(e){super(e),Je(this,"handleToggle",((e,t)=>{this.setState({show:e,fileId:t.fileId})})),Je(this,"onHide",(()=>{this.setState({show:!1})})),this.state={show:!1,fileId:""}}componentWillUnmount(){We.removeModalListener(R.ZP.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL,this.handleToggle)}componentDidMount(){We.addModalListener(R.ZP.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL,this.handleToggle)}componentDidUpdate(e,t){this.state.show&&!t.show&&this.props.actions.getFilePublicLink(this.state.fileId)}render(){return u.createElement(Ke,{show:this.state.show,onHide:this.onHide,title:V._u("get_public_link_modal.title","Copy Public Link"),helpText:V._u("get_public_link_modal.help","The link below allows anyone to see this file without being registered on this server."),link:this.props.link})}}Je(Qe,"propTypes",{link:m().string,actions:m().shape({getFilePublicLink:m().func.isRequired}).isRequired}),Je(Qe,"defaultProps",{link:""});const Xe=(0,a.connect)((function(e){var t;return{link:null===(t=je.c9(e))||void 0===t?void 0:t.link}}),(function(e){return{actions:(0,s.bindActionCreators)({getFilePublicLink:Ze.c9},e)}}))(Qe);var $e=n(32579);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tt extends u.PureComponent{constructor(e){super(e),et(this,"handleKeyPress",(e=>{"Enter"===e.key&&this.state.show&&this.handleSubmit()})),et(this,"handleSubmit",(()=>{const{actions:e}=this.props,{channel:t}=this.state;if(t){const n=t.id;e.leaveChannel(n).then((e=>{e.data&&this.handleHide()}))}})),et(this,"handleToggle",(e=>{this.setState({channel:e,show:null!==e})})),et(this,"handleHide",(()=>{this.setState({show:!1})})),this.state={show:!1}}componentDidMount(){We.addModalListener(R.ZP.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,this.handleToggle)}componentWillUnmount(){We.removeModalListener(R.ZP.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,this.handleToggle)}render(){let e,t;this.state.channel&&this.state.channel.display_name&&(e=u.createElement(ve.Z,{id:"leave_private_channel_modal.title",defaultMessage:"Leave Private Channel {channel}",values:{channel:u.createElement("b",null,this.state.channel.display_name)}}),t=u.createElement(ve.Z,{id:"leave_private_channel_modal.message",defaultMessage:"Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.",values:{channel:u.createElement("b",null,this.state.channel.display_name)}}));const n=u.createElement(ve.Z,{id:"leave_private_channel_modal.leave",defaultMessage:"Yes, leave channel"});return u.createElement($e.Z,{show:this.state.show,title:e,message:t,confirmButtonClass:"btn btn-danger",confirmButtonText:n,onConfirm:this.handleSubmit,onCancel:this.handleHide})}}et(tt,"propTypes",{actions:m().shape({leaveChannel:m().func.isRequired}).isRequired});const nt=(0,a.connect)(null,(function(e){return{actions:(0,s.bindActionCreators)({leaveChannel:ie.TL},e)}}))(tt);var st=n(28847),at=n(47715),it=n(82251);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ct extends u.PureComponent{constructor(e){super(e),lt(this,"hideModal",(()=>{this.setState({show:!1})})),lt(this,"onConfirm",(e=>{this.hideModal();const t=ot({},this.state.currentUserStatus);if(t.status=this.state.newStatus,this.props.actions.setStatus(t),e){const e={category:he.uP.CATEGORY_AUTO_RESET_MANUAL_STATUS,user_id:t.user_id,name:t.user_id,value:"true"};this.props.actions.savePreferences(e.user_id,[e])}})),lt(this,"onCancel",(e=>{if(this.hideModal(),e){const e=ot({},this.state.currentUserStatus),t={category:he.uP.CATEGORY_AUTO_RESET_MANUAL_STATUS,user_id:e.user_id,name:e.user_id,value:"false"};this.props.actions.savePreferences(t.user_id,[t])}})),lt(this,"renderModalMessage",(()=>this.props.currentUserStatus===R.gg.OUT_OF_OFFICE?u.createElement(ve.Z,{id:"modal.manual_status.auto_responder.message_".concat(this.state.newStatus),defaultMessage:'Would you like to switch your status to "{status}" and disable Automatic Replies?',values:{status:(0,V.cv)(this.state.newStatus)}}):u.createElement(ve.Z,{id:"modal.manual_status.message_".concat(this.state.newStatus),defaultMessage:'Would you like to switch your status to "{status}"?',values:{status:(0,V.cv)(this.state.newStatus)}}))),this.state={show:!1,currentUserStatus:{},newStatus:e.newStatus||"online"}}componentDidMount(){this.props.actions.autoResetStatus().then((e=>{const t=e.manual,n=""===this.props.autoResetPref;this.setState({currentUserStatus:e,show:Boolean(e.status===R.gg.OUT_OF_OFFICE||t&&n)})}))}render(){const e=this.state.currentUserStatus.status||"",t="modal.manual_status.title_"+e,n=u.createElement(ve.Z,{id:t,defaultMessage:'Your Status is Set to "{status}"',values:{status:(0,V.cv)(e)}}),s=this.renderModalMessage(),a=u.createElement(ve.Z,{id:"modal.manual_status.button_".concat(this.state.newStatus),defaultMessage:'Yes, set my status to "{status}"',values:{status:(0,V.cv)(this.state.newStatus)}}),i="modal.manual_status.cancel_"+e,r=u.createElement(ve.Z,{id:i,defaultMessage:'No, keep it as "{status}"',values:{status:(0,V.cv)(e)}}),o=u.createElement(ve.Z,{id:"modal.manual_status.ask",defaultMessage:"Do not ask me again"}),l=this.props.currentUserStatus!==R.gg.OUT_OF_OFFICE;return u.createElement($e.Z,{show:this.state.show,title:n,message:s,confirmButtonText:a,onConfirm:this.onConfirm,cancelButtonText:r,onCancel:this.onCancel,onExited:this.props.onHide,showCheckbox:l,checkboxText:o})}}lt(ct,"propTypes",{autoResetPref:m().string,currentUserStatus:m().string,newStatus:m().string,onHide:m().func,actions:m().shape({autoResetStatus:m().func.isRequired,setStatus:m().func.isRequired,savePreferences:m().func.isRequired}).isRequired}),(0,it.t)("modal.manual_status.auto_responder.message_"),(0,it.t)("modal.manual_status.auto_responder.message_away"),(0,it.t)("modal.manual_status.auto_responder.message_dnd"),(0,it.t)("modal.manual_status.auto_responder.message_offline"),(0,it.t)("modal.manual_status.auto_responder.message_online"),(0,it.t)("modal.manual_status.button_"),(0,it.t)("modal.manual_status.button_away"),(0,it.t)("modal.manual_status.button_dnd"),(0,it.t)("modal.manual_status.button_offline"),(0,it.t)("modal.manual_status.button_online"),(0,it.t)("modal.manual_status.cancel_"),(0,it.t)("modal.manual_status.cancel_away"),(0,it.t)("modal.manual_status.cancel_dnd"),(0,it.t)("modal.manual_status.cancel_offline"),(0,it.t)("modal.manual_status.cancel_ooo"),(0,it.t)("modal.manual_status.message_"),(0,it.t)("modal.manual_status.message_away"),(0,it.t)("modal.manual_status.message_dnd"),(0,it.t)("modal.manual_status.message_offline"),(0,it.t)("modal.manual_status.message_online"),(0,it.t)("modal.manual_status.title_"),(0,it.t)("modal.manual_status.title_away"),(0,it.t)("modal.manual_status.title_dnd"),(0,it.t)("modal.manual_status.title_offline"),(0,it.t)("modal.manual_status.title_ooo");const dt=(0,a.connect)((function(e){const{currentUserId:t}=e.entities.users;return{autoResetPref:(0,$.U2)(e,he.uP.CATEGORY_AUTO_RESET_MANUAL_STATUS,t,""),currentUserStatus:(0,r.ZO)(e,t)}}),(function(e){return{actions:(0,s.bindActionCreators)({autoResetStatus:at.u1,setStatus:K.Tf,savePreferences:st.$A},e)}}))(ct);n(23123);var mt=n(50049);function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pt=(0,mt.vU)({mainHeader:{default:{id:(0,it.t)("shortcuts.header"),defaultMessage:"Keyboard Shortcuts\tCtrl|/"},mac:{id:(0,it.t)("shortcuts.header.mac"),defaultMessage:"Keyboard Shortcuts\t⌘|/"}},navHeader:{id:(0,it.t)("shortcuts.nav.header"),defaultMessage:"Navigation"},navPrev:{default:{id:(0,it.t)("shortcuts.nav.prev"),defaultMessage:"Previous channel:\tAlt|Up"},mac:{id:(0,it.t)("shortcuts.nav.prev.mac"),defaultMessage:"Previous channel:\t⌥|Up"}},navNext:{default:{id:(0,it.t)("shortcuts.nav.next"),defaultMessage:"Next channel:\tAlt|Down"},mac:{id:(0,it.t)("shortcuts.nav.next.mac"),defaultMessage:"Next channel:\t⌥|Down"}},navUnreadPrev:{default:{id:(0,it.t)("shortcuts.nav.unread_prev"),defaultMessage:"Previous unread channel:\tAlt|Shift|Up"},mac:{id:(0,it.t)("shortcuts.nav.unread_prev.mac"),defaultMessage:"Previous unread channel:\t⌥|Shift|Up"}},navUnreadNext:{default:{id:(0,it.t)("shortcuts.nav.unread_next"),defaultMessage:"Next unread channel:\tAlt|Shift|Down"},mac:{id:(0,it.t)("shortcuts.nav.unread_next.mac"),defaultMessage:"Next unread channel:\t⌥|Shift|Down"}},teamNavPrev:{default:{id:(0,it.t)("shortcuts.team_nav.prev"),defaultMessage:"Previous team:\tCtrl|Alt|Up"},mac:{id:(0,it.t)("shortcuts.team_nav.prev.mac"),defaultMessage:"Previous team:\t⌘|⌥|Up"}},teamNavNext:{default:{id:(0,it.t)("shortcuts.team_nav.next"),defaultMessage:"Next team:\tCtrl|Alt|Down"},mac:{id:(0,it.t)("shortcuts.team_nav.next.mac"),defaultMessage:"Next team:\t⌘|⌥|Down"}},teamNavSwitcher:{default:{id:(0,it.t)("shortcuts.team_nav.switcher"),defaultMessage:"Switch to a specific team:\tCtrl|Alt|[1-9]"},mac:{id:(0,it.t)("shortcuts.team_nav.switcher.mac"),defaultMessage:"Switch to a specific team:\t⌘|⌥|[1-9]"}},navSwitcher:{default:{id:(0,it.t)("shortcuts.nav.switcher"),defaultMessage:"Quick channel switcher:\tCtrl|K"},mac:{id:(0,it.t)("shortcuts.nav.switcher.mac"),defaultMessage:"Quick channel switcher:\t⌘|K"}},navDMMenu:{default:{id:(0,it.t)("shortcuts.nav.direct_messages_menu"),defaultMessage:"Direct messages menu:\tCtrl|Shift|K"},mac:{id:(0,it.t)("shortcuts.nav.direct_messages_menu.mac"),defaultMessage:"Direct messages menu:\t⌘|Shift|K"}},navSettings:{default:{id:(0,it.t)("shortcuts.nav.settings"),defaultMessage:"Account settings:\tCtrl|Shift|A"},mac:{id:(0,it.t)("shortcuts.nav.settings.mac"),defaultMessage:"Account settings:\t⌘|Shift|A"}},navMentions:{default:{id:(0,it.t)("shortcuts.nav.recent_mentions"),defaultMessage:"Recent mentions:\tCtrl|Shift|M"},mac:{id:(0,it.t)("shortcuts.nav.recent_mentions.mac"),defaultMessage:"Recent mentions:\t⌘|Shift|M"}},navFocusCenter:{default:{id:(0,it.t)("shortcuts.nav.focus_center"),defaultMessage:"Set focus to input field:\tCtrl|Shift|L"},mac:{id:(0,it.t)("shortcuts.nav.focus_center.mac"),defaultMessage:"Set focus to input field:\t⌘|Shift|L"}},navOpenCloseSidebar:{default:{id:(0,it.t)("shortcuts.nav.open_close_sidebar"),defaultMessage:"Open or close the right sidebar\tCtrl|."},mac:{id:(0,it.t)("shortcuts.nav.open_close_sidebar.mac"),defaultMessage:"Open or close the right sidebar\t⌘|."}},msgHeader:{id:(0,it.t)("shortcuts.msgs.header"),defaultMessage:"Messages"},msgInputHeader:{id:(0,it.t)("shortcuts.msgs.input.header"),defaultMessage:"Works inside an empty input field"},msgEdit:{id:(0,it.t)("shortcuts.msgs.edit"),defaultMessage:"Edit last message in channel:\tUp"},msgReply:{id:(0,it.t)("shortcuts.msgs.reply"),defaultMessage:"Reply to last message in channel:\tShift|Up"},msgReprintPrev:{default:{id:(0,it.t)("shortcuts.msgs.reprint_prev"),defaultMessage:"Reprint previous message:\tCtrl|Up"},mac:{id:(0,it.t)("shortcuts.msgs.reprint_prev.mac"),defaultMessage:"Reprint previous message:\t⌘|Up"}},msgReprintNext:{default:{id:(0,it.t)("shortcuts.msgs.reprint_next"),defaultMessage:"Reprint next message:\tCtrl|Down"},mac:{id:(0,it.t)("shortcuts.msgs.reprint_next.mac"),defaultMessage:"Reprint next message:\t⌘|Down"}},msgCompHeader:{id:(0,it.t)("shortcuts.msgs.comp.header"),defaultMessage:"Autocomplete"},msgCompUsername:{id:(0,it.t)("shortcuts.msgs.comp.username"),defaultMessage:"Username:\t@|[a-z]|Tab"},msgCompChannel:{id:(0,it.t)("shortcuts.msgs.comp.channel"),defaultMessage:"Channel:\t~|[a-z]|Tab"},msgCompEmoji:{id:(0,it.t)("shortcuts.msgs.comp.emoji"),defaultMessage:"Emoji:\t:|[a-z]|Tab"},msgLastReaction:{default:{id:(0,it.t)("shortcuts.msgs.comp.last_reaction"),defaultMessage:"React to last message:\tCtrl|Shift|⧵"},mac:{id:(0,it.t)("shortcuts.msgs.comp.last_reaction.mac"),defaultMessage:"React to last message:\t⌘|Shift|⧵"}},msgMarkdownHeader:{id:(0,it.t)("shortcuts.msgs.markdown.header"),defaultMessage:"Formatting"},msgMarkdownBold:{default:{id:(0,it.t)("shortcuts.msgs.markdown.bold"),defaultMessage:"Bold:\tCtrl|B"},mac:{id:(0,it.t)("shortcuts.msgs.markdown.bold.mac"),defaultMessage:"Bold:\t⌘|B"}},msgMarkdownItalic:{default:{id:(0,it.t)("shortcuts.msgs.markdown.italic"),defaultMessage:"Italic:\tCtrl|I"},mac:{id:(0,it.t)("shortcuts.msgs.markdown.italic.mac"),defaultMessage:"Italic:\t⌘|I"}},msgMarkdownLink:{default:{id:(0,it.t)("shortcuts.msgs.markdown.link"),defaultMessage:"Link:\tCtrl|Alt|K"},mac:{id:(0,it.t)("shortcuts.msgs.markdown.link.mac"),defaultMessage:"Link:\t⌘|Alt|K"}},filesHeader:{id:(0,it.t)("shortcuts.files.header"),defaultMessage:"Files"},filesUpload:{default:{id:(0,it.t)("shortcuts.files.upload"),defaultMessage:"Upload files:\tCtrl|U"},mac:{id:(0,it.t)("shortcuts.files.upload.mac"),defaultMessage:"Upload files:\t⌘|U"}},browserHeader:{id:(0,it.t)("shortcuts.browser.header"),defaultMessage:"Built-in Browser Commands"},browserChannelPrev:{default:{id:(0,it.t)("shortcuts.browser.channel_prev"),defaultMessage:"Back in history:\tAlt|Left"},mac:{id:(0,it.t)("shortcuts.browser.channel_prev.mac"),defaultMessage:"Back in history:\t⌘|["}},browserChannelNext:{default:{id:(0,it.t)("shortcuts.browser.channel_next"),defaultMessage:"Forward in history:\tAlt|Right"},mac:{id:(0,it.t)("shortcuts.browser.channel_next.mac"),defaultMessage:"Forward in history:\t⌘|]"}},browserFontIncrease:{default:{id:(0,it.t)("shortcuts.browser.font_increase"),defaultMessage:"Zoom in:\tCtrl|+"},mac:{id:(0,it.t)("shortcuts.browser.font_increase.mac"),defaultMessage:"Zoom in:\t⌘|+"}},browserFontDecrease:{default:{id:(0,it.t)("shortcuts.browser.font_decrease"),defaultMessage:"Zoom out:\tCtrl|-"},mac:{id:(0,it.t)("shortcuts.browser.font_decrease.mac"),defaultMessage:"Zoom out:\t⌘|-"}},browserInputHeader:{id:(0,it.t)("shortcuts.browser.input.header"),defaultMessage:"Works inside an input field"},browserHighlightPrev:{id:(0,it.t)("shortcuts.browser.highlight_prev"),defaultMessage:"Highlight text to the previous line:\tShift|Up"},browserHighlightNext:{id:(0,it.t)("shortcuts.browser.highlight_next"),defaultMessage:"Highlight text to the next line:\tShift|Down"},browserNewline:{id:(0,it.t)("shortcuts.browser.newline"),defaultMessage:"Create a new line:\tShift|Enter"},info:{id:(0,it.t)("shortcuts.info"),defaultMessage:"Begin a message with / for a list of all the commands at your disposal."}});class ht extends u.PureComponent{constructor(e){super(e),ut(this,"handleToggle",(()=>{this.setState({show:!this.state.show})})),ut(this,"handleHide",(()=>{this.setState({show:!1})})),this.state={show:!1}}componentDidMount(){We.addModalListener(R.ZP.ActionTypes.TOGGLE_SHORTCUTS_MODAL,this.handleToggle)}componentWillUnmount(){We.removeModalListener(R.ZP.ActionTypes.TOGGLE_SHORTCUTS_MODAL,this.handleToggle)}getShortcuts(){const{isMac:e}=this.props,t={};return Object.keys(pt).forEach((n=>{e&&pt[n].mac?t[n]=pt[n].mac:!e&&pt[n].default?t[n]=pt[n].default:t[n]=pt[n]})),t}render(){const e=this.getShortcuts(),{formatMessage:t}=this.props.intl,n=V.IJ();return u.createElement(ye.Z,{dialogClassName:"a11y__modal shortcuts-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleHide,role:"dialog","aria-labelledby":"shortcutsModalLabel"},u.createElement("div",{className:"shortcuts-content"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"shortcutsModalLabel"},u.createElement("strong",null,gt(t(e.mainHeader))))),u.createElement(ye.Z.Body,null,u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-4"},u.createElement("div",{className:"section"},u.createElement("div",null,u.createElement("h4",{className:"section-title"},u.createElement("strong",null,t(e.navHeader))),gt(t(e.navPrev)),gt(t(e.navNext)),gt(t(e.navUnreadPrev)),gt(t(e.navUnreadNext)),!n&&gt(t(e.teamNavPrev)),!n&&gt(t(e.teamNavNext)),gt(t(e.teamNavSwitcher)),gt(t(e.navSwitcher)),gt(t(e.navDMMenu)),gt(t(e.navSettings)),gt(t(e.navMentions)),gt(t(e.navFocusCenter)),gt(t(e.navOpenCloseSidebar))))),u.createElement("div",{className:"col-sm-4"},u.createElement("div",{className:"section"},u.createElement("div",null,u.createElement("h4",{className:"section-title"},u.createElement("strong",null,t(e.msgHeader))),u.createElement("span",null,u.createElement("strong",null,t(e.msgInputHeader))),u.createElement("div",{className:"subsection"},gt(t(e.msgEdit)),gt(t(e.msgReply)),gt(t(e.msgLastReaction)),gt(t(e.msgReprintPrev)),gt(t(e.msgReprintNext))),u.createElement("span",null,u.createElement("strong",null,t(e.msgCompHeader))),u.createElement("div",{className:"subsection"},gt(t(e.msgCompUsername)),gt(t(e.msgCompChannel)),gt(t(e.msgCompEmoji))),u.createElement("span",null,u.createElement("strong",null,t(e.msgMarkdownHeader))),u.createElement("div",{className:"subsection"},gt(t(e.msgMarkdownBold)),gt(t(e.msgMarkdownItalic)),gt(t(e.msgMarkdownLink)))))),u.createElement("div",{className:"col-sm-4"},u.createElement("div",{className:"section"},u.createElement("div",null,u.createElement("h4",{className:"section-title"},u.createElement("strong",null,t(e.filesHeader))),gt(t(e.filesUpload))),u.createElement("div",{className:"section--lower"},u.createElement("h4",{className:"section-title"},u.createElement("strong",null,t(e.browserHeader))),gt(t(e.browserChannelPrev)),gt(t(e.browserChannelNext)),gt(t(e.browserFontIncrease)),gt(t(e.browserFontDecrease)),u.createElement("span",null,u.createElement("strong",null,t(e.browserInputHeader))),u.createElement("div",{className:"subsection"},gt(t(e.browserHighlightPrev)),gt(t(e.browserHighlightNext)),gt(t(e.browserNewline))))))),u.createElement("div",{className:"info__label"},t(e.info)))))}}function gt(e){if(!e)return null;const t=e.split("\t"),n=u.createElement("span",null,t[0]);let s=null;return t.length>1&&(s=t[1].split("|").map((e=>u.createElement("span",{className:"shortcut-key",key:e},e)))),u.createElement("div",{className:"shortcut-line"},n,s)}ut(ht,"propTypes",{intl:Me.gm.isRequired,isMac:m().bool.isRequired});const ft=(0,we.ZP)(ht);var bt=n(53497),_t=n(67844);const Et=n.p+"files/55d77b94009ea98824ee008af39dedb2.png",Ct=n.p+"files/4eb96b5c6c13ac9b339766de94d9a0ca.png",yt=e=>{let t="file-overlay hidden";return"right"===e.overlayType?t+=" right-file-overlay":"center"===e.overlayType&&(t+=" center-file-overlay"),u.createElement("div",{className:t},u.createElement("div",{className:"overlay__indent"},u.createElement("div",{className:"overlay__circle"},u.createElement("img",{className:"overlay__files",src:Et,alt:"Files"}),u.createElement("span",null,u.createElement(ve.Z,{id:"generic_icons.upload",defaultMessage:"Upload Icon"},(e=>u.createElement("i",{className:"fa fa-upload",title:e}))),u.createElement(ve.Z,{id:"upload_overlay.info",defaultMessage:"Drop a file to upload it."})),u.createElement("img",{className:"overlay__logo",src:Ct,width:"100",alt:"Logo"}))))};yt.propTypes={overlayType:m().string.isRequired};const vt=yt;var wt=n(85357),St=n(16403),Tt=n(19728),Pt=n(15558);function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Nt extends u.PureComponent{constructor(...e){super(...e),Mt(this,"handleBack",(e=>{switch(e.preventDefault(),this.props.previousRhsState){case R.Hp.SEARCH:this.props.actions.showSearchResults();break;case R.Hp.MENTION:this.props.actions.showMentions();break;case R.Hp.FLAG:this.props.actions.showFlaggedPosts();break;case R.Hp.PIN:this.props.actions.showPinnedPosts()}})),Mt(this,"handleJumpClick",(()=>{(0,V.tq)()&&this.props.actions.closeRightHandSide(),this.props.actions.setRhsExpanded(!1);const e=this.props.relativeTeamUrl;P.m.push("".concat(e,"/pl/").concat(this.props.rootPostId))}))}render(){let e;const t=u.createElement(Tt.Z,{id:"closeSidebarTooltip"},u.createElement(ve.Z,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close"}));let n;switch(this.props.previousRhsState){case R.Hp.SEARCH:case R.Hp.MENTION:n=u.createElement(Tt.Z,{id:"backToResultsTooltip"},u.createElement(ve.Z,{id:"rhs_header.backToResultsTooltip",defaultMessage:"Back to search results"}));break;case R.Hp.FLAG:n=u.createElement(Tt.Z,{id:"backToResultsTooltip"},u.createElement(ve.Z,{id:"rhs_header.backToFlaggedTooltip",defaultMessage:"Back to saved posts"}));break;case R.Hp.PIN:n=u.createElement(Tt.Z,{id:"backToResultsTooltip"},u.createElement(ve.Z,{id:"rhs_header.backToPinnedTooltip",defaultMessage:"Back to pinned posts"}))}const s=u.createElement(Tt.Z,{id:"expandSidebarTooltip"},u.createElement(ve.Z,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),a=u.createElement(Tt.Z,{id:"shrinkSidebarTooltip"},u.createElement(ve.Z,{id:"rhs_header.collapseSidebarTooltip",defaultMessage:"Collapse Sidebar"})),i=this.props.channel.display_name;return n&&(e=u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:n},u.createElement("a",{href:"#",onClick:this.handleBack,className:"sidebar--right__back"},u.createElement(ve.Z,{id:"generic_icons.back",defaultMessage:"Back Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-back-ios","aria-label":e})))))),u.createElement("div",{className:"sidebar--right__header"},u.createElement("span",{className:"sidebar--right__title"},e,u.createElement(ve.Z,{id:"rhs_header.details",defaultMessage:"Thread"}),i&&u.createElement("button",{onClick:this.handleJumpClick,className:"style--none sidebar--right__title__channel"},i)),u.createElement("div",{className:"pull-right"},u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:this.props.isExpanded?a:s},u.createElement("button",{type:"button",className:"sidebar--right__expand btn-icon","aria-label":"Expand",onClick:this.props.actions.toggleRhsExpanded},u.createElement(ve.Z,{id:"rhs_header.expandSidebarTooltip.icon",defaultMessage:"Expand Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-expand","aria-label":e}))),u.createElement(ve.Z,{id:"rhs_header.collapseSidebarTooltip.icon",defaultMessage:"Collapse Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-collapse","aria-label":e}))))),u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:t},u.createElement("button",{id:"rhsCloseButton",type:"button",className:"sidebar--right__close btn-icon","aria-label":"Close",onClick:this.props.actions.closeRightHandSide},u.createElement(ve.Z,{id:"rhs_header.closeTooltip.icon",defaultMessage:"Close Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-close","aria-label":e})))))))}}Mt(Nt,"propTypes",{isExpanded:m().bool.isRequired,rootPostId:m().string.isRequired,previousRhsState:m().string,relativeTeamUrl:m().string.isRequired,actions:m().shape({setRhsExpanded:m().func.isRequired,showMentions:m().func.isRequired,showSearchResults:m().func.isRequired,showFlaggedPosts:m().func.isRequired,showPinnedPosts:m().func.isRequired,closeRightHandSide:m().func.isRequired,toggleRhsExpanded:m().func.isRequired}).isRequired});const It=(0,a.connect)((function(e){return{isExpanded:(0,_t.OZ)(e),relativeTeamUrl:(0,o.gm)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({setRhsExpanded:bt.JI,showSearchResults:bt.O8,showMentions:bt.rb,showFlaggedPosts:bt.Yv,showPinnedPosts:bt.B7,showChannelFiles:bt.Cj,closeRightHandSide:bt.Lg,toggleRhsExpanded:bt.fV},e)}}))(Nt);var Rt=n(77409);const At=({selected:e,posts:t,channel:n,previousRhsState:s})=>null!=t&&null!=e&&n?u.createElement("div",{id:"rhsContainer",className:"sidebar-right__body"},u.createElement(It,{rootPostId:e.id,channel:n,previousRhsState:s}),u.createElement(Rt.Z,{rootPostId:e.id,useRelativeTimestamp:!1})):u.createElement("div",null);At.propTypes={posts:m().array.isRequired,previousRhsState:m().string};const Ot=(0,u.memo)(At),Lt=(0,a.connect)((function(){const e=(0,wt.Zf)();return function(t){const n=(0,_t.ct)(t),s=(0,St.L)(t),a=(0,_t.Gu)(t);let i=[];n&&(i=e(t,{rootId:n.id}));const r=(0,$.U2)(t,R.uP.CATEGORY_DISPLAY_SETTINGS,R.uP.COLLAPSE_DISPLAY,R.uP.COLLAPSE_DISPLAY_DEFAULT);return{selected:n,channel:a,posts:i,socketConnectionStatus:s.connected,previewCollapsed:r,previewEnabled:(0,$.o4)(t,R.uP.CATEGORY_DISPLAY_SETTINGS,R.uP.LINK_PREVIEW_DISPLAY,"true"===R.uP.LINK_PREVIEW_DISPLAY_DEFAULT),directTeammate:(0,V.PR)(t,null==a?void 0:a.id)}}}),(function(e){return{actions:(0,s.bindActionCreators)({removePost:pe.M8,selectPostCard:bt.Jm,getPostThread:pe.ct},e)}}))(Ot);var Dt=n(31298),kt=n(73727),xt=n(8142);function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Zt extends u.PureComponent{constructor(...e){super(...e),Ut(this,"handleBack",(e=>{switch(e.preventDefault(),this.props.previousRhsState){case R.Hp.CHANNEL_FILES:case R.Hp.SEARCH:this.props.actions.showSearchResults();break;case R.Hp.MENTION:this.props.actions.showMentions();break;case R.Hp.FLAG:this.props.actions.showFlaggedPosts();break;case R.Hp.PIN:this.props.actions.showPinnedPosts()}}))}render(){let e,t;switch(this.props.previousRhsState){case R.Hp.SEARCH:case R.Hp.MENTION:t=u.createElement(Tt.Z,{id:"backToResultsTooltip"},u.createElement(ve.Z,{id:"rhs_header.backToResultsTooltip",defaultMessage:"Back to search results"}));break;case R.Hp.FLAG:t=u.createElement(Tt.Z,{id:"backToResultsTooltip"},u.createElement(ve.Z,{id:"rhs_header.backToFlaggedTooltip",defaultMessage:"Back to saved posts"}));break;case R.Hp.PIN:t=u.createElement(Tt.Z,{id:"backToResultsTooltip"},u.createElement(ve.Z,{id:"rhs_header.backToPinnedTooltip",defaultMessage:"Back to pinned posts"}))}const n=u.createElement(Tt.Z,{id:"closeSidebarTooltip"},u.createElement(ve.Z,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close"})),s=u.createElement(Tt.Z,{id:"expandSidebarTooltip"},u.createElement(ve.Z,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),a=u.createElement(Tt.Z,{id:"shrinkSidebarTooltip"},u.createElement(ve.Z,{id:"rhs_header.collapseSidebarTooltip",defaultMessage:"Collapse Sidebar"}));return t&&(e=u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:t},u.createElement("a",{href:"#",onClick:this.handleBack,className:"sidebar--right__back"},u.createElement(ve.Z,{id:"generic_icons.back",defaultMessage:"Back Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-back-ios","aria-label":e})))))),u.createElement("div",{className:"sidebar--right__header"},u.createElement("span",{className:"sidebar--right__title"},e,u.createElement(ve.Z,{id:"search_header.title5",defaultMessage:"Extra information"})),u.createElement("div",{className:"pull-right"},u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:this.props.isExpanded?a:s},u.createElement("button",{type:"button",className:"sidebar--right__expand btn-icon","aria-label":"Expand",onClick:this.props.actions.toggleRhsExpanded},u.createElement(ve.Z,{id:"rhs_header.expandSidebarTooltip.icon",defaultMessage:"Expand Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-expand","aria-label":e}))),u.createElement(ve.Z,{id:"rhs_header.collapseSidebarTooltip.icon",defaultMessage:"Collapse Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-collapse","aria-label":e}))))),u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:n},u.createElement("button",{type:"button",className:"sidebar--right__close btn-icon","aria-label":"Close",onClick:this.props.actions.closeRightHandSide},u.createElement(ve.Z,{id:"rhs_header.closeTooltip.icon",defaultMessage:"Close Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-close","aria-label":e})))))))}}Ut(Zt,"propTypes",{isExpanded:m().bool.isRequired,actions:m().shape({showMentions:m().func.isRequired,showSearchResults:m().func.isRequired,showFlaggedPosts:m().func.isRequired,showPinnedPosts:m().func.isRequired,closeRightHandSide:m().func.isRequired,toggleRhsExpanded:m().func.isRequired}).isRequired});const jt=(0,a.connect)((function(e){return{isExpanded:(0,_t.OZ)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({showMentions:bt.rb,showSearchResults:bt.O8,showFlaggedPosts:bt.Yv,showPinnedPosts:bt.B7,closeRightHandSide:bt.Lg,toggleRhsExpanded:bt.fV},e)}}))(Zt);var Ft=n(64852),Ht=n(20528),qt=n(30529);function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function Vt(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function Wt(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class zt extends u.Component{constructor(e){super(e),Bt(this,"handleScroll",(()=>{this.state.isScrolling||this.setState({isScrolling:!0}),this.scrollStopAction.fireAfter(R.ZP.SCROLL_DELAY)})),Bt(this,"handleScrollStop",(()=>{this.setState({isScrolling:!1})})),Bt(this,"handleClick",(()=>{V.tq()&&y.Fy()})),this.scrollStopAction=new xt.Z(this.handleScrollStop),this.state={isScrolling:!1,topRhsPostCreateAt:0}}shouldComponentUpdate(e,t){return!V.JB(t.selected,this.props.selected)||t.isScrolling!==this.state.isScrolling}render(){if(null==this.props.selected)return u.createElement("div",null);const{selected:e,pluginPostCardTypes:t,teamUrl:n}=this.props,s=e.type;let a=null;if(t.hasOwnProperty(s)){const n=t[s].component;a=u.createElement(n,{post:e})}a||(a=u.createElement("div",{className:"info-card"},u.createElement(Ft.Z,{message:e.props&&e.props.card})));let i=u.createElement(Ht.Z,{userId:e.user_id,hideStatus:!0,disablePopover:!0});e.props.override_username&&this.props.enablePostUsernameOverride&&(i=u.createElement(Ht.Z,{userId:e.user_id,hideStatus:!0,disablePopover:!0,overwriteName:e.props.override_username}));const r=u.createElement(qt.Z,{compactDisplay:!1,post:e,userId:e.user_id});return u.createElement("div",{className:"sidebar-right__body sidebar-right__card"},u.createElement(jt,{previousRhsState:this.props.previousRhsState}),u.createElement(Dt.ZP,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:Vt,renderThumbVertical:Wt,renderView:Gt,onScroll:this.handleScroll},u.createElement("div",{className:"post-right__scroll"},a,u.createElement("div",{className:"d-flex post-card--info"},u.createElement("div",{className:"post-card--post-by overflow--ellipsis"},u.createElement(ve.Z,{id:"rhs_card.message_by",defaultMessage:"Message by {avatar} {user}",values:{user:i,avatar:r}})),u.createElement("div",{className:"post-card--view-post"},u.createElement(kt.Link,{to:"".concat(n,"/pl/").concat(e.id),className:"post__permalink",onClick:this.handleClick},u.createElement(ve.Z,{id:"rhs_card.jump",defaultMessage:"Jump"})))))))}}Bt(zt,"propTypes",{selected:m().object,pluginPostCardTypes:m().object,previousRhsState:m().oneOf(Object.values(R.Hp)),enablePostUsernameOverride:m().bool,teamUrl:m().string}),Bt(zt,"defaultProps",{pluginPostCardTypes:{}});const Yt=(0,a.connect)((function(e){const t=(0,_t.Kj)(e);return{enablePostUsernameOverride:"true"===(0,i.iE)(e).EnablePostUsernameOverride,selected:t,pluginPostCardTypes:e.plugins.postCardTypes,teamUrl:(0,o.gm)(e)}}))(zt);var Kt,Jt,Qt,Xt=n(88097),$t=n(8943);class en extends u.PureComponent{render(){return u.createElement("div",{id:"rhsContainer",className:"sidebar-right__body"},u.createElement($t.Z,null,this.props.title),this.props.showPluggable&&u.createElement(D.Z,{pluggableName:"RightHandSidebarComponent",pluggableId:this.props.pluggableId}))}}Kt=en,Jt="propTypes",Qt={showPluggable:m().bool.isRequired,pluggableId:m().string.isRequired,title:m().oneOfType([m().string,m().object])},Jt in Kt?Object.defineProperty(Kt,Jt,{value:Qt,enumerable:!0,configurable:!0,writable:!0}):Kt[Jt]=Qt;const tn=(0,a.connect)((function(e){const t=e.plugins.components.RightHandSidebarComponent,n=(0,_t.n_)(e),s=t.find((e=>e.id===n)),a=s?s.title:"";return{showPluggable:Boolean(s),pluggableId:n,title:a}}))(en);function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class sn extends u.PureComponent{constructor(e){super(e),nn(this,"setPrevious",(()=>{this.props.isOpen&&(this.previous={searchVisible:this.props.searchVisible,isMentionSearch:this.props.isMentionSearch,isPinnedPosts:this.props.isPinnedPosts,isChannelFiles:this.props.isChannelFiles,isFlaggedPosts:this.props.isFlaggedPosts,selectedPostId:this.props.selectedPostId,selectedPostCardId:this.props.selectedPostCardId,previousRhsState:this.props.previousRhsState})})),nn(this,"handleShortcut",(e=>{V._E(e)&&V.pD(e,R.ZP.KeyCodes.PERIOD)&&(e.preventDefault(),this.props.isOpen?this.props.actions.closeRightHandSide():this.props.actions.openAtPrevious(this.previous))})),nn(this,"determineTransition",(()=>{const e=window.getComputedStyle(this.sidebarRight.current).getPropertyValue("transition"),t=Boolean(e)&&"all 0s ease 0s"!==e;this.sidebarRight.current&&t?(this.setState({isOpened:this.props.isOpen}),this.sidebarRight.current.addEventListener("transitionend",this.onFinishTransition)):(this.setState({isOpened:!0}),this.sidebarRight.current&&this.sidebarRight.current.removeEventListener("transitionend",this.onFinishTransition))})),nn(this,"onFinishTransition",(e=>{"transform"===e.propertyName&&this.setState({isOpened:this.props.isOpen})})),nn(this,"onShrink",(()=>{this.props.actions.setRhsExpanded(!1)})),nn(this,"handleUpdateSearchTerms",(e=>{this.props.actions.updateSearchTerms(e),this.focusSearchBar()})),nn(this,"getSearchBarFocus",(e=>{this.focusSearchBar=e})),this.sidebarRight=u.createRef(),this.state={isOpened:!1}}componentDidMount(){window.addEventListener("resize",this.determineTransition),document.addEventListener("keydown",this.handleShortcut),this.determineTransition()}componentWillUnmount(){window.removeEventListener("resize",this.determineTransition),document.removeEventListener("keydown",this.handleShortcut),this.sidebarRight.current&&this.sidebarRight.current.removeEventListener("transitionend",this.onFinishTransition)}componentDidUpdate(e){const t=e.searchVisible||e.postRightVisible,n=this.props.searchVisible||this.props.postRightVisible;!t&&n&&(this.determineTransition(),(0,C.L9)("ui","ui_rhs_opened"));const{actions:s,isChannelFiles:a,isPinnedPosts:i,rhsChannel:r,channel:o}=this.props;i&&e.isPinnedPosts===i&&r.id!==e.rhsChannel.id&&s.showPinnedPosts(r.id),a&&e.isChannelFiles===a&&r.id!==e.rhsChannel.id&&s.showChannelFiles(r.id),o&&e.channel&&o.id!==e.channel.id&&this.props.actions.setRhsExpanded(!1),this.setPrevious()}render(){const{rhsChannel:e,isFlaggedPosts:t,isPinnedPosts:n,isChannelFiles:s,postRightVisible:a,postCardVisible:i,previousRhsState:r,searchVisible:o,isPluginView:l,isOpen:c,isExpanded:d}=this.props;let m=null;const p=(a||i||l||o)&&d;switch(!0){case a:m=u.createElement("div",{className:"post-right__container"},u.createElement(vt,{overlayType:"right"}),u.createElement(Lt,{previousRhsState:r,toggleSize:this.toggleSize,shrink:this.onShrink}));break;case i:m=u.createElement(Yt,{previousRhsState:r});break;case l:m=u.createElement(tn,null)}return u.createElement("div",{className:Te()("sidebar--right",{"sidebar--right--expanded":p},{"move--left":c}),id:"sidebar-right",role:"complementary",ref:this.sidebarRight},u.createElement("div",{onClick:this.onShrink,className:"sidebar--right__bg"}),u.createElement("div",{className:"sidebar-right-container"},u.createElement(Xt.Z,{isFocus:o&&!t&&!n&&!s,isSideBarRight:!0,isSideBarRightOpen:this.state.isOpened,getFocus:this.getSearchBarFocus,channelDisplayName:e?e.display_name:""},m)))}}nn(sn,"propTypes",{isExpanded:m().bool.isRequired,isOpen:m().bool.isRequired,channel:m().object,postRightVisible:m().bool,postRightSameAsSelectedThread:m().bool,postCardVisible:m().bool,searchVisible:m().bool,isMentionSearch:m().bool,isFlaggedPosts:m().bool,isPinnedPosts:m().bool,isChannelFiles:m().bool,isPluginView:m().bool,previousRhsState:m().string,rhsChannel:m().object,selectedPostId:m().string,selectedPostCardId:m().string,actions:m().shape({setRhsExpanded:m().func.isRequired,showPinnedPosts:m().func.isRequired,openRHSSearch:m().func.isRequired,closeRightHandSide:m().func.isRequired,openAtPrevious:m().func.isRequired,updateSearchTerms:m().func.isRequired,showChannelFiles:m().func.isRequired})});const an=(0,a.connect)((function(e){const t=(0,_t.kV)(e),n=(0,ee.TB)(e),s=(0,_t.Bh)(e),a=(0,_t.lW)(e);return{isExpanded:(0,_t.OZ)(e),isOpen:(0,_t.aC)(e),channel:n,postRightVisible:Boolean(s),postCardVisible:Boolean(a),searchVisible:Boolean(t)&&t!==R.Hp.PLUGIN,previousRhsState:(0,_t.ZR)(e),isMentionSearch:t===R.Hp.MENTION,isFlaggedPosts:t===R.Hp.FLAG,isPinnedPosts:t===R.Hp.PIN,isChannelFiles:t===R.Hp.CHANNEL_FILES,isPluginView:t===R.Hp.PLUGIN,rhsChannel:(0,_t.Gu)(e),selectedPostId:s,selectedPostCardId:a}}),(function(e){return{actions:(0,s.bindActionCreators)({setRhsExpanded:bt.JI,showPinnedPosts:bt.B7,openRHSSearch:bt.Xv,closeRightHandSide:bt.Lg,openAtPrevious:bt.DQ,updateSearchTerms:bt.MR,showChannelFiles:bt.Cj},e)}}))(sn);var rn=n(66660),on=n(45288),ln=(n(39714),n(10188));const cn=n.p+"files/4f99c2f6b91b67d35afdb9344dd442d0.gif",dn=n.p+"files/e5be3dc87420090bc22a4fd084ddf15d.gif";function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const un=R.ZP.Preferences,pn=R.ZP.TutorialSteps;class hn extends u.PureComponent{constructor(e){super(e),mn(this,"targetRef",void 0),mn(this,"show",(()=>{this.setState({show:!0})})),mn(this,"hide",(()=>{this.setState({show:!1})})),mn(this,"handleNext",(()=>{if(this.state.currentScreen<this.props.screens.length-1)return void this.setState({currentScreen:this.state.currentScreen+1});if(this.props.telemetryTag){let e=this.props.telemetryTag;this.props.screens.length>1&&(e+="_"+(this.state.currentScreen+1).toString()),this.state.currentScreen===this.props.screens.length-1?e+="_okay":e+="_next",(0,C.L9)("tutorial",e)}const{currentUserId:e,actions:t}=this.props,{closeRhsMenu:n,savePreferences:s}=t,a=[{user_id:e,category:un.TUTORIAL_STEP,name:e,value:(this.props.step+1).toString()}];n(),this.hide(),s(e,a)})),mn(this,"skipTutorial",(e=>{if(e.preventDefault(),this.props.telemetryTag){let e=this.props.telemetryTag;this.props.screens.length>1&&(e+="_"+this.state.currentScreen),e+="_skip",(0,C.L9)("tutorial",e)}const{currentUserId:t,actions:n}=this.props,s=[{user_id:t,category:un.TUTORIAL_STEP,name:t,value:pn.FINISHED.toString()}];n.savePreferences(t,s)})),mn(this,"handleCircleClick",((e,t)=>{e.preventDefault(),this.setState({currentScreen:t})})),mn(this,"getTarget",(()=>this.targetRef.current)),this.state={currentScreen:0,show:!1},this.targetRef=u.createRef()}render(){const e=this.state.currentScreen===this.props.screens.length-1?u.createElement(ve.Z,{id:"tutorial_tip.ok",defaultMessage:"Okay"}):u.createElement(ve.Z,{id:"tutorial_tip.next",defaultMessage:"Next"}),t=[];if(this.props.screens.length>1)for(let e=0;e<this.props.screens.length;e++){let n="circle";e===this.state.currentScreen&&(n+=" active"),t.push(u.createElement("a",{href:"#",key:"dotactive"+e,className:n,"data-screen":e,onClick:t=>this.handleCircleClick(t,e)}))}let n=cn;return"tip-overlay--header"!==this.props.overlayClass&&"tip-overlay--sidebar"!==this.props.overlayClass&&"tip-overlay--header--up"!==this.props.overlayClass||(n=dn),u.createElement("div",{id:"tipButton",className:"tip-div "+this.props.overlayClass,onClick:this.show},u.createElement("img",{alt:"tutorial tip",className:"tip-button",src:n,width:"35",onClick:this.show,ref:this.targetRef}),u.createElement(ln.Z,{show:this.state.show},u.createElement("div",{className:"tip-backdrop"})),u.createElement(ln.Z,{placement:this.props.placement,show:this.state.show,rootClose:!0,onHide:this.hide,target:this.getTarget},u.createElement("div",{className:"tip-overlay "+this.props.overlayClass},u.createElement("div",{className:"arrow"}),this.props.screens[this.state.currentScreen],u.createElement("div",{className:"tutorial__footer"},u.createElement("div",{className:"tutorial__circles"},t),u.createElement("div",{className:"text-right"},u.createElement("button",{id:"tipNextButton",className:"btn btn-primary",onClick:this.handleNext},e),u.createElement("div",{className:"tip-opt"},u.createElement(ve.Z,{id:"tutorial_tip.seen",defaultMessage:"Seen this before? "}),u.createElement("a",{href:"#",onClick:this.skipTutorial},u.createElement(ve.Z,{id:"tutorial_tip.out",defaultMessage:"Opt out of these tips."}))))))))}}mn(hn,"propTypes",{currentUserId:m().string.isRequired,step:m().number.isRequired,screens:m().arrayOf(m().element).isRequired,placement:m().string.isRequired,overlayClass:m().string,telemetryTag:m().string,actions:m().shape({closeRhsMenu:m().func.isRequired,savePreferences:m().func.isRequired}).isRequired}),mn(hn,"defaultProps",{overlayClass:""});const gn=(0,a.connect)((function(e){const t=(0,r.rc)(e);return{currentUserId:t,step:(0,$.wS)(e,R.uP.TUTORIAL_STEP,t,0)}}),(function(e){return{actions:(0,s.bindActionCreators)({closeRhsMenu:bt.Wj,savePreferences:st.$A},e)}}))(hn),fn=({toggleFunc:e,onBottom:t})=>{const n=[];n.push(u.createElement("div",null,u.createElement("h4",null,u.createElement(ve.Z,{id:"sidebar_header.tutorial.title",defaultMessage:"Main Menu"})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar_header.tutorial.body1",defaultMessage:"The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**."})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar_header.tutorial.body2",defaultMessage:"Team administrators can also access their **Team Settings** from this menu."})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar_header.tutorial.body3",defaultMessage:"System administrators will find a **System Console** option to administrate the entire system."}))));let s="right",a="left";return t&&(s="bottom",a="up"),u.createElement("div",{onClick:e},u.createElement(gn,{placement:s,screens:n,overlayClass:"tip-overlay--header--"+a,telemetryTag:"tutorial_tip_3_main_menu"}))};fn.propTypes={toggleFunc:m().func,onBottom:m().bool.isRequired};const bn=fn;var _n=n(36745);function En(e){return{type:R.MF.SET_SHOW_NEXT_STEPS_VIEW,show:e}}const Cn=()=>async(e,t)=>{const n=(0,r.rc)(t());e(En(!0)),e((0,st.$A)(n,[{user_id:n,category:R.uP.RECOMMENDED_NEXT_STEPS,name:R.jm.HIDE,value:"false"}]))};n(32023);var yn=n(22222);function vn(e){return e?"cloud_first_user_onboarding":"cloud_end_user_onboarding"}function wn(e,t){return t.split(" ").some((t=>e.roles.includes(t)))||0===e.roles.length}var Sn=n(50696),Tn=(n(60285),n(60291));function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const In=e=>{const{name:t,src:n,defaultSrc:s,placeholder:a,loadingPicture:i,onSelect:r,onRemove:o}=e,[l,c]=(0,u.useState)(),[d,m]=(0,u.useState)(),p=u.createRef(),h=u.createRef();let g;return(0,u.useEffect)((()=>{l||(n?c(n):s&&c(s))}),[n,l]),l&&l!==s&&(g=u.createElement("button",{"data-testid":"PictureSelector__removeButton",className:"PictureSelector__removeButton",disabled:i,onClick:()=>{o(),c(s||void 0)}},u.createElement(ve.Z,{id:"picture_selector.remove_picture",defaultMessage:"Remove picture"}))),u.createElement("div",{className:"PictureSelector"},u.createElement("input",{name:t,"data-testid":"PictureSelector__input-".concat(t),ref:p,className:"PictureSelector__input hidden",accept:".jpg,.png,.bmp",type:"file",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0],n=new FileReader;n.onload=e=>{c(URL.createObjectURL(t));const n=Tn.Ii(e.target.result);m(Tn.vl(n))},n.readAsArrayBuffer(t),r(t)}},disabled:i,"aria-hidden":!0,tabIndex:-1}),u.createElement("div",{className:"PictureSelector__imageContainer"},u.createElement("div",{"aria-label":(0,V._u)("picture_selector.image.ariaLabel","Picture selector image"),className:"PictureSelector__image",style:Mn({backgroundImage:"url("+l+")"},d)},!l&&a),u.createElement("button",{ref:h,"data-testid":"PictureSelector__selectButton",className:"PictureSelector__selectButton",disabled:i,onClick:()=>{var t;e.onOpenDialog&&e.onOpenDialog(),p&&p.current&&(null===(t=h.current)||void 0===t||t.blur(),p.current.value="",p.current.click())},"aria-label":(0,V._u)("picture_selector.select_button.ariaLabel","Select picture")},u.createElement("i",{className:"icon icon-pencil-outline"}))),g)};In.propTypes={name:m().string.isRequired,src:m().string,defaultSrc:m().string,placeholder:m().node,loadingPicture:m().bool,onOpenDialog:m().func,onSelect:m().func.isRequired,onRemove:m().func.isRequired};const Rn=In;function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class On extends u.PureComponent{constructor(e){super(e),An(this,"handleInputChange",(e=>{let t;e.target.value?e.target.value.length>128&&(t=V._u("next_steps_view.complete_profile_step.fullNameTooBig","Your name must be less than 128 character")):t=V._u("next_steps_view.complete_profile_step.fullNameCannotBeBlank","Your full name cannot be blank"),this.setState({fullName:e.target.value,fullNameError:t})})),An(this,"handleUsernameChange",(e=>{const t=V.rh(e.target.value);let n;t&&(n=t.id===R.qf.RESERVED_NAME?V._u("user.settings.general.usernameReserved","This username is reserved, please choose a new one."):V._u("next_steps_view.complete_profile_step.usernameTooBig","Username must begin with a letter, and contain between 3 to 22 lowercase characters made up of numbers, letters, and the symbols '.', '-', and '_'.")),this.setState({username:e.target.value,usernameError:n})})),An(this,"isFinishDisabled",(()=>Boolean(!this.state.fullName||this.state.fullNameError||this.state.profilePictureError||this.state.usernameError))),An(this,"onSkip",(()=>{this.props.onSkip(this.props.id)})),An(this,"onFinish",(()=>{const e=this.state.fullName.split(" "),t=e[0].slice(0,64),n=e.slice(1).join(" ").slice(0,64),s=this.state.username.trim(),a=Object.assign({},this.props.currentUser,{username:s,first_name:t,last_name:n});this.props.actions.updateMe(a),this.state.profilePicture?this.props.actions.uploadProfileImage(this.props.currentUser.id,this.state.profilePicture):this.state.removeProfilePicture&&this.props.actions.setDefaultProfileImage(this.props.currentUser.id),(0,C.L9)(vn(this.props.isAdmin),"click_save_profile"),this.props.onFinish(this.props.id)})),An(this,"onOpenPictureDialog",(()=>{(0,C.L9)(vn(this.props.isAdmin),"click_add_profile_photo")})),An(this,"onSelectPicture",(e=>{if(!R.Ec.includes(e.type)||e.size>this.props.maxFileSize)return(0,C.L9)(vn(this.props.isAdmin),"error_profile_photo_invalid"),void this.setState({profilePictureError:!0});this.setState({profilePicture:e,profilePictureError:!1,removeProfilePicture:!1})})),An(this,"onRemovePicture",(()=>{(0,C.L9)(vn(this.props.isAdmin),"click_remove_photo"),this.setState({profilePicture:void 0,profilePictureError:!1,removeProfilePicture:!0})}));const t=e.currentUser;this.state={fullName:t.first_name||t.last_name?"".concat(t.first_name," ").concat(t.last_name):"",username:t.username||"",profilePictureError:!1,removeProfilePicture:!1}}componentDidMount(){this.props.expanded&&(0,C.tF)(vn(this.props.isAdmin),"pageview_complete_profile")}componentDidUpdate(e){e.expanded!==this.props.expanded&&this.props.expanded&&(0,C.tF)(vn(this.props.isAdmin),"pageview_complete_profile")}render(){const{currentUser:e}=this.props,t=e.last_picture_update?V.bb(e.id,e.last_picture_update):void 0,n=V.Vl(e.id);return u.createElement("div",{className:"NextStepsView__stepWrapper"},u.createElement("div",{className:"CompleteProfileStep"},u.createElement("div",{className:"CompleteProfileStep__profilePicture"},u.createElement("h3",null,u.createElement(ve.Z,{id:"next_steps_view.complete_profile_step.addAPhoto",defaultMessage:"Upload avatar"})),u.createElement(Rn,{name:"CompleteProfileStep__profilePicture",onOpenDialog:this.onOpenPictureDialog,onSelect:this.onSelectPicture,onRemove:this.onRemovePicture,src:t,defaultSrc:n})),u.createElement("div",{className:"CompleteProfileStep_compose"},u.createElement("div",{className:"CompleteProfileStep__fullName"},u.createElement("h3",null,u.createElement(ve.Z,{id:"next_steps_view.complete_profile_step.enterYourName",defaultMessage:"Enter your name"})),u.createElement(Sn.Z,{name:"fullName",type:"text",value:this.state.fullName,onChange:this.handleInputChange,placeholder:V._u("next_steps_view.complete_profile_step.yourFullName","Your full name"),error:this.state.fullNameError,info:V._u("next_steps_view.complete_profile_step.nameWillBeDisplayed","Your name will be displayed with your messages")})),u.createElement("div",{className:"CompleteProfileStep__username"},u.createElement("h3",null,u.createElement(ve.Z,{id:"next_steps_view.complete_profile_step.enterYourUsername",defaultMessage:"Tài khoản"})),u.createElement(Sn.Z,{name:"username",type:"text",value:this.state.username,onChange:this.handleUsernameChange,placeholder:V._u("next_steps_view.complete_profile_step.yourUsername","Đặt tên tài khoản"),error:this.state.usernameError,info:V._u("next_steps_view.complete_profile_step.usernameWillBeDisplayed","Tên tài khoản sẽ giúp người khác tìm bạn nhanh hơn")})))),this.state.profilePictureError&&u.createElement("span",{className:"CompleteProfileStep__pictureError"},u.createElement("i",{className:"icon icon-alert-outline"}),u.createElement(on.Z,{id:"next_steps_view.complete_profile_step.pictureError",defaultMessage:"Photos must be in BMP, JPG or PNG format. Maximum file size is {max}.",values:{max:V.eA(this.props.maxFileSize)}})),u.createElement("div",{className:"NextStepsView__wizardButtons"},u.createElement("button",{"data-testid":"CompleteProfileStep__saveProfileButton",className:Te()("NextStepsView__button NextStepsView__finishButton primary",{disabled:this.isFinishDisabled()}),onClick:this.onFinish,disabled:this.isFinishDisabled()},u.createElement(ve.Z,{id:"next_steps_view.complete_profile_step.saveProfile",defaultMessage:"Save profile"}))))}}An(On,"propTypes",{maxFileSize:m().number.isRequired,actions:m().shape({updateMe:m().func.isRequired,setDefaultProfileImage:m().func.isRequired,uploadProfileImage:m().func.isRequired}).isRequired});const Ln=(0,a.connect)((function(e){const t=(0,i.iE)(e);return{maxFileSize:parseInt(t.MaxFileSize,10)}}),(function(e){return{actions:(0,s.bindActionCreators)({updateMe:K.DO,setDefaultProfileImage:K.QJ,uploadProfileImage:K._p},e)}}))(On);var Dn=n(96269);function kn(e){return u.createElement("div",{className:"TextCardWithAction"},u.createElement("div",{className:"card-body"},u.createElement(ve.Z,{id:e.cardBodyMessageId,defaultMessage:e.cardBodyDefaultMessage})),u.createElement("div",{className:"NextStepsView__wizardButtons"},u.createElement("button",{className:"NextStepsView__button NextStepsView__finishButton primary",onClick:e.onClick},u.createElement(ve.Z,{id:e.buttonMessageId,defaultMessage:e.buttonDefaultMessage}))))}var xn=n(18402);const Un=[{id:R.jm.COMPLETE_PROFILE,title:(0,V._u)("next_steps_view.titles.completeProfile","Hoàn thành hồ sơ"),component:Ln,roles:[],visible:!0},{id:R.jm.NOTIFICATION_SETUP,title:(0,V._u)("next_steps_view.notificationSetup.setNotifications","Cài đặt thông báo"),roles:["system_user"],component:function(e){(0,u.useEffect)((()=>{e.expanded&&(0,C.tF)(vn(e.isAdmin),"pageview_enable_notifications")}),[e.expanded]);const t=async()=>{(0,C.L9)(vn(e.isAdmin),"click_enable_notifications");try{await(0,xn.c)({title:V._u("next_steps_view.notificationSetup.notficationsEnabledTitle","Notifications Enabled!"),body:V._u("next_steps_view.notificationSetup.notficationsEnabledBody","This is how notifications from Mattermost will appear"),requireInteraction:!1,silent:!1,onClick:()=>{}})}catch(e){}e.onFinish(e.id)};return"Notification"in window&&"denied"!==Notification.permission?u.createElement(kn,{cardBodyMessageId:"next_steps_view.notificationSetup.notficationsEnabledBody",cardBodyDefaultMessage:"We recommend enabling desktop notifications so you don’t miss any important communications.",buttonMessageId:"next_steps_view.notificationSetup.setNotifications",buttonDefaultMessage:"Set up notifications",onClick:t}):u.createElement("div",null,u.createElement(kn,{cardBodyMessageId:"next_steps_view.notificationSetupNotificationsDisabled",cardBodyDefaultMessage:"Notifications were previously disabled or you may be browsing in private mode. You'll need to open your browser settings or turn off private mode to enable notifications.",buttonMessageId:"next_steps_view.notificationSetup.skipThisStep",buttonDefaultMessage:"Skip this step",onClick:t}))},visible:!0},{id:R.jm.PREFERENCES_SETUP,title:(0,V._u)("next_steps_view.titles.preferenceSetup","Set your preferences"),roles:["system_user"],component:function(e){(0,u.useEffect)((()=>{e.expanded&&(0,C.tF)(vn(e.isAdmin),"pageview_enable_notifications")}),[e.expanded]);const t=(0,a.useDispatch)(),n=()=>{e.onFinish(e.id)};return u.createElement(u.Fragment,null,u.createElement(kn,{cardBodyMessageId:"next_steps_view.preferenceSetup",cardBodyDefaultMessage:"You can change how you receive notifications, update your profile, customize display settings and more. Preferences can be accessed through the Main Menu.",buttonMessageId:"next_steps_view.preferenceSetup.setPreferences",buttonDefaultMessage:"Set Preferences",onClick:()=>{(0,C.L9)(vn(e.isAdmin),"click_set_preferences"),t((0,I.h)({modalId:R.r8.USER_SETTINGS,dialogType:Dn.Z,dialogProps:{onExit:n}}))}}))},visible:!1}],Zn=(0,yn.P1)((e=>(0,r.ts)(e)),(e=>(0,r.Rf)(e)),((e,t)=>{if(!e.roles.includes("system_admin"))return!1;const n=Object.keys(t);for(const s of n){const n=t[s];if(n.roles.includes("system_admin")&&n.create_at<e.create_at)return!1}return!0})),jn=(0,yn.P1)((e=>(0,r.ts)(e)),(e=>Zn(e)),((e,t)=>{const n=t?"first_admin ".concat(e.roles):e.roles;return Un.filter((e=>wn(e,n)&&e.visible))})),Fn=(0,$.YX)(),Hn=(0,yn.P1)((e=>Bn(e)),(e=>Gn(e)),(e=>(0,i.lJ)(e)),(e=>e.views.nextSteps.show),((e,t,n,s)=>!s&&"true"===n.Cloud&&(e||t))),qn=(0,yn.P1)((e=>Fn(e,R.uP.RECOMMENDED_NEXT_STEPS)),(e=>e.some((e=>e.name===R.jm.HIDE&&"true"===e.value)))),Bn=(0,yn.P1)((e=>Fn(e,R.uP.RECOMMENDED_NEXT_STEPS)),(e=>(0,i.lJ)(e)),(e=>Vn(e)),((e,t,n)=>!e.some((e=>e.name===R.jm.SKIP&&"true"===e.value))&&"true"===t.Cloud&&n)),Gn=(0,yn.P1)((e=>Fn(e,R.uP.RECOMMENDED_NEXT_STEPS)),(e=>(0,i.lJ)(e)),(e=>Vn(e)),((e,t,n)=>!!e.some((e=>e.name===R.jm.SKIP&&"true"===e.value))||"true"===t.Cloud&&!n)),Vn=(0,yn.P1)((e=>Fn(e,R.uP.RECOMMENDED_NEXT_STEPS)),(e=>(0,r.ts)(e)),(e=>Zn(e)),((e,t,n)=>{const s=n?"first_admin ".concat(t.roles):t.roles;return!Un.every((t=>e.some((e=>e.name===t.id&&"true"===e.value||!wn(t,s)))))}));var Wn=n(33574),zn=n(36846),Yn=n(3598),Kn=n(2015),Jn=(n(64765),n(85206)),Qn=n(56727);function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $n extends u.PureComponent{constructor(e){super(e),Xn(this,"handleTermChange",(e=>{this.setState({term:e})})),Xn(this,"nextPage",(()=>{this.setState({page:this.state.page+1}),this.props.nextPage(this.state.page+1)})),Xn(this,"previousPage",(()=>{this.setState({page:this.state.page-1})})),Xn(this,"search",(e=>{this.props.search(e),""!==e&&this.setState({page:0})})),this.state={term:"",page:0}}render(){return u.createElement(Qn.Z,Object.assign({},this.props,{nextPage:this.nextPage,previousPage:this.previousPage,search:this.search,page:this.state.page,term:this.state.term,onTermChange:this.handleTermChange}))}}Xn($n,"propTypes",{users:m().arrayOf(m().object),usersPerPage:m().number,total:m().number,extraInfo:m().object,nextPage:m().func.isRequired,search:m().func.isRequired,actions:m().arrayOf(m().any),actionProps:m().object,actionUserProps:m().object,focusOnMount:m().bool});var es=n(92902),ts=n(15240),ns=n(38122);function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class as extends u.PureComponent{constructor(e){super(e),ss(this,"handleMakeMember",(async()=>{const e=this.props.currentUser;if(this.props.user.id===e.id&&e.roles.includes("system_admin"))this.handleDemote(this.props.user,"team_user");else{const{error:t}=await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id,this.props.user.id,!0,!1);t?this.setState({serverError:t.message}):(this.props.actions.getUser(this.props.user.id),this.props.actions.getTeamMember(this.props.teamMember.team_id,this.props.user.id),this.props.user.id===e.id&&(await this.props.actions.getMyTeamMembers(),this.props.actions.getMyTeamUnreads()))}})),ss(this,"handleRemoveFromTeam",(async()=>{const{error:e}=await this.props.actions.removeUserFromTeamAndGetStats(this.props.teamMember.team_id,this.props.user.id);e&&this.setState({serverError:e.message})})),ss(this,"handleMakeAdmin",(async()=>{const e=this.props.currentUser;if(this.props.user.id===e.id&&e.roles.includes("system_admin"))this.handleDemote(this.props.user,"team_user team_admin");else{const{error:e}=await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id,this.props.user.id,!0,!0);e?this.setState({serverError:e.message}):(this.props.actions.getUser(this.props.user.id),this.props.actions.getTeamMember(this.props.teamMember.team_id,this.props.user.id))}})),ss(this,"handleDemote",((e,t)=>{this.setState({serverError:this.state.serverError,showDemoteModal:!0,user:e,role:t})})),ss(this,"handleDemoteCancel",(()=>{this.setState({serverError:null,showDemoteModal:!1,user:null,role:null})})),ss(this,"handleDemoteSubmit",(async()=>{const{error:e}=await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id,this.props.user.id,!0,!1);e?this.setState({serverError:e.message}):(this.props.actions.getUser(this.props.user.id),P.m.push(this.props.teamUrl))})),this.state={serverError:null,showDemoteModal:!1,user:null,role:null}}render(){let e=null;this.state.serverError&&(e=u.createElement("div",{className:"has-error"},u.createElement("label",{className:"has-error control-label"},this.state.serverError)));const{currentTeam:t,teamMember:n,user:s}=this.props;let a=null;a=V.a_(s)?u.createElement(ve.Z,{id:"team_members_dropdown.guest",defaultMessage:"Guest"}):s.roles.length>0&&V.$O(s.roles)?u.createElement(ve.Z,{id:"team_members_dropdown.systemAdmin",defaultMessage:"System Admin"}):n.roles.length>0&&V.GJ(n.roles)||n.scheme_admin?u.createElement(ve.Z,{id:"team_members_dropdown.teamAdmin",defaultMessage:"Team Admin"}):u.createElement(ve.Z,{id:"team_members_dropdown.member",defaultMessage:"Member"});const i=this.props.currentUser;let r=!V.a_(s)&&(V.GJ(n.roles)||n.scheme_admin)&&!V.$O(s.roles),o=!(V.a_(s)||V.GJ(n.roles)||V.$O(s.roles)||n.scheme_admin);s.delete_at>0&&(a=u.createElement(ve.Z,{id:"team_members_dropdown.inactive",defaultMessage:"Inactive"}),r=!1,o=!1);const l=s.id!==i.id&&(!t.group_constrained||s.is_bot);let c=null;if(s.id===i.id){const t=u.createElement(ve.Z,{id:"team_members_dropdown.confirmDemoteRoleTitle",defaultMessage:"Confirm Demotion from System Admin Role"}),n=u.createElement("div",null,u.createElement(ve.Z,{id:"team_members_dropdown.confirmDemoteDescription",defaultMessage:"If you demote yourself from the System Admin role and there is not another user with System Admin privileges, you'll need to re-assign a System Admin by accessing the Mattermost server through a terminal and running the following command."}),u.createElement("br",null),u.createElement("br",null),u.createElement(ve.Z,{id:"team_members_dropdown.confirmDemotionCmd",defaultMessage:"platform roles system_admin {username}",values:{username:i.username}}),e),s=u.createElement(ve.Z,{id:"team_members_dropdown.confirmDemotion",defaultMessage:"Confirm Demotion"});c=u.createElement($e.Z,{show:this.state.showDemoteModal,title:t,message:n,confirmButtonText:s,onConfirm:this.handleDemoteSubmit,onCancel:this.handleDemoteCancel})}if(!l&&!o&&!r)return u.createElement("div",null,a);const{index:d,totalUsers:m}=this.props;let p=!1;m>3&&m-d<=3&&(p=!0);const h=u.createElement(ts.Z.ItemAction,{id:"removeFromTeam",onClick:this.handleRemoveFromTeam,text:V._u("team_members_dropdown.leave_team","Remove From Team")}),g=u.createElement(ts.Z.ItemAction,{onClick:this.handleMakeAdmin,text:V._u("team_members_dropdown.makeAdmin","Make Team Admin")}),f=u.createElement(ts.Z.ItemAction,{onClick:this.handleMakeMember,text:V._u("team_members_dropdown.makeMember","Make Member")});return u.createElement(ns.Z,null,u.createElement("button",{id:"teamMembersDropdown_".concat(s.username),className:"dropdown-toggle theme color--link style--none",type:"button","aria-expanded":"true"},u.createElement("span",null,a," "),u.createElement(es.Z,null)),u.createElement("div",null,u.createElement(ts.Z,{openLeft:!0,openUp:p,ariaLabel:V._u("team_members_dropdown.menuAriaLabel","Change the role of a team member")},l?h:null,o?g:null,r?f:null),c,e))}}ss(as,"propTypes",{teamUrl:m().string.isRequired,index:m().number.isRequired,totalUsers:m().number.isRequired,actions:m().shape({getMyTeamMembers:m().func.isRequired,getMyTeamUnreads:m().func.isRequired,getUser:m().func.isRequired,getTeamMember:m().func.isRequired,getTeamStats:m().func.isRequired,getChannelStats:m().func.isRequired,updateTeamMemberSchemeRoles:m().func.isRequired,updateUserActive:m().func.isRequired,removeUserFromTeamAndGetStats:m().func.isRequired}).isRequired});const is=(0,a.connect)((function(e){return{currentUser:(0,r.ts)(e),teamUrl:(0,o.gm)(e),currentTeam:(0,o.kA)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getMyTeamMembers:Q.r8,getMyTeamUnreads:Q.Jw,getUser:K.PR,getTeamMember:Q.PB,getTeamStats:Q.zG,getChannelStats:J.mx,updateUserActive:K.q0,updateTeamMemberSchemeRoles:Q.Ih,removeUserFromTeamAndGetStats:ae.u7},e)}}))(as);function rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class os extends u.PureComponent{constructor(e){super(e),rs(this,"searchTimeoutId",void 0),rs(this,"loadComplete",(()=>{this.setState({loading:!1})})),rs(this,"nextPage",(async e=>{this.setState({loading:!0}),await Promise.all([this.props.actions.loadProfilesAndTeamMembers(e,50,this.props.currentTeamId,{active:!0}),this.props.actions.getTeamMembers(this.props.currentTeamId,e,R.ZP.DEFAULT_MAX_USERS_PER_TEAM,{sort:he.pd.SORT_USERNAME_OPTION,exclude_deleted_users:!0})]),this.loadComplete()})),rs(this,"search",(e=>{this.props.actions.setModalSearchTerm(e)})),this.searchTimeoutId=0,this.state={loading:!0}}async componentDidMount(){await Promise.all([this.props.actions.loadProfilesAndTeamMembers(0,R.ZP.PROFILE_CHUNK_SIZE,this.props.currentTeamId,{active:!0}),this.props.actions.getTeamMembers(this.props.currentTeamId,0,R.ZP.DEFAULT_MAX_USERS_PER_TEAM,{sort:he.pd.SORT_USERNAME_OPTION,exclude_deleted_users:!0}),this.props.actions.getTeamStats(this.props.currentTeamId)]),this.loadComplete()}componentWillUnmount(){this.props.actions.setModalSearchTerm("")}componentDidUpdate(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)return this.loadComplete(),void(this.searchTimeoutId=0);const t=window.setTimeout((async()=>{const{loadStatusesForProfilesList:n,loadTeamMembersForProfilesList:s,searchProfiles:a}=this.props.actions,{data:i}=await a(e,{team_id:this.props.currentTeamId});t===this.searchTimeoutId&&(this.setState({loading:!0}),n(i),s(i,this.props.currentTeamId,!0).then((({data:e})=>{e&&this.loadComplete()})))}),R.ZP.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=t}}render(){let e=null;this.props.canManageTeamMembers&&(e=[is]);const t=this.props.teamMembers,n=this.props.users,s={};let a;if(this.state.loading)a=null;else{a=[];for(let e=0;e<n.length;e++){const i=n[e];t[i.id]&&0===i.delete_at&&(a.push(i),s[i.id]={teamMember:t[i.id]})}}return u.createElement($n,{users:a,usersPerPage:50,total:this.props.totalTeamMembers,nextPage:this.nextPage,search:this.search,actions:e,actionUserProps:s,focusOnMount:!_.tq()})}}rs(os,"propTypes",{searchTerm:m().string.isRequired,users:m().array.isRequired,currentTeamId:m().string.isRequired,totalTeamMembers:m().number.isRequired,canManageTeamMembers:m().bool,actions:m().shape({getTeamMembers:m().func.isRequired,searchProfiles:m().func.isRequired,getTeamStats:m().func.isRequired,loadProfilesAndTeamMembers:m().func.isRequired,loadStatusesForProfilesList:m().func.isRequired,loadTeamMembersForProfilesList:m().func.isRequired,setModalSearchTerm:m().func.isRequired}).isRequired});const ls=(0,a.connect)((function(e,t){const n=(0,ge.Rm)(e,{team:t.teamId,permission:he.Pl.MANAGE_TEAM_ROLES}),s=e.views.search.modalSearch;let a;a=s?(0,r.lo)(e,s):(0,r.fv)(e);const i=(0,o.vP)(e)||{active_member_count:0};return{searchTerm:s,users:a,teamMembers:(0,o.or)(e)||{},currentTeamId:e.entities.teams.currentTeamId,totalTeamMembers:i.active_member_count,canManageTeamMembers:n}}),(function(e){return{actions:(0,s.bindActionCreators)({searchProfiles:K.t6,getTeamStats:Q.zG,getTeamMembers:Q.YY,loadProfilesAndTeamMembers:at.$u,loadStatusesForProfilesList:se.xO,loadTeamMembersForProfilesList:at.Z5,setModalSearchTerm:Jn.Gl},e)}}))(os);var cs=n(41609),ds=n.n(cs);function ms(e,t,n){return async(s,a)=>{t.length>0&&await s(Q._x(e,t.map((e=>e.id))));const i=a(),r=[],l=[],c=[];for(const n of t){const t=(0,o.PB)(i,e,n.id);(0,V.a_)(n)?l.push({user:n,reason:(0,V._u)("invite.members.user-is-guest","Contact your admin to make this guest a full member.")}):t?l.push({user:n,reason:(0,V._u)("invite.members.already-member","This person is already a team member.")}):c.push(n)}if(c.length>0){const t=(await s((0,ae.XJ)(e,c.map((e=>e.id))))).data||[];for(const e of c){const n=t.find((t=>t.user_id===e.id&&t.error));n?l.push({user:e,reason:n.error.message}):r.push({user:e,reason:(0,V._u)("invite.members.added-to-team","This member has been added to the team.")})}}if(n.length>0){let t;try{t=await s(Q.$B(e,n))}catch(e){t={data:n.map((e=>({email:e,error:{error:(0,V._u)("invite.members.unable-to-add-the-user-to-the-team","Unable to add the user to the team.")}})))}}const a=t.data||[];if(t.error){"app.email.rate_limit_exceeded.app_error"===t.error.server_error_id&&(t.error.message=(0,V._u)("invite.rate-limit-exceeded","Invite emails rate limit exceeded."));for(const e of n)l.push({email:e,reason:t.error.message})}else for(const e of n){const t=a.find((t=>e.toLowerCase()===t.email&&t.error));t?l.push({email:e,reason:t.error.message}):r.push({email:e,reason:(0,V._u)("invite.members.invite-sent","An invitation email has been sent.")})}}return{sent:r,notSent:l}}}function us(e,t,n,s,a){return async(i,r)=>{n.length>0&&await i(Q._x(e,n.map((e=>e.id))));const o=r(),l=[],c=[],d=(0,ee.E0)(o),m=await Promise.all(n.map((n=>async function(e,t,n,s,a){if(!(0,V.a_)(t))return{notSent:{user:t,reason:(0,V._u)("invite.members.user-is-not-guest","This person is already a member.")}};let i=!0,r=!1;for(const e of s)a&&a[e]&&a[e][t.id]?r=!0:i=!1;if(i)return{notSent:{user:t,reason:(0,V._u)("invite.guests.already-all-channels-member","This person is already a member of all the channels.")}};try{await e((0,ae.XJ)(n,[t.id]));for(const i of s)a&&a[i]&&a[i][t.id]||await e((0,J.JJ)(t.id,n,i))}catch(e){return{notSent:{user:t,reason:(0,V._u)("invite.guests.unable-to-add-the-user-to-the-channels","Unable to add the guest to the channels.")}}}return r?{notSent:{user:t,reason:(0,V._u)("invite.guests.already-some-channels-member","This person is already a member of some of the channels.")}}:{sent:{user:t,reason:{id:(0,it.t)("invite.guests.new-member"),message:"This guest has been added to the team and {count, plural, one {channel} other {channels}}.",values:{count:s.length}}}}}(i,n,e,t,d))));for(const e of m)e.sent&&l.push(e.sent),e.notSent&&c.push(e.notSent);if(s.length>0){let n;try{n=await i(Q.AG(e,t,s,a))}catch(e){n={data:s.map((e=>({email:e,error:{error:(0,V._u)("invite.guests.unable-to-add-the-user-to-the-channels","Unable to add the guest to the channels.")}})))}}if(n.error){"app.email.rate_limit_exceeded.app_error"===n.error.server_error_id&&(n.error.message=(0,V._u)("invite.rate-limit-exceeded","Invite emails rate limit exceeded."));for(const e of s)c.push({email:e,reason:n.error.message})}else for(const e of n.data||[])e.error?c.push({email:e.email,reason:e.error.message}):l.push({email:e.email,reason:(0,V._u)("invite.guests.added-to-channel","An invitation email has been sent.")})}return{sent:l,notSent:c}}}var ps,hs=n(86486),gs=n(75872),fs=n(78318),bs=n(65339),_s=n(86896);let Es;!function(e){e.NotStarted="NOT_STARTED",e.Started="STARTED",e.Success="SUCCESS",e.Failed="FAILED"}(ps||(ps={})),function(e){e.NotifyAdmin="Notify the admin.",e.Sending="Sending...",e.Sent="Sent!",e.Failed="Failed. Try again later."}(Es||(Es={}));const Cs=e=>{const[t,n]=(0,u.useState)(ps.NotStarted),{formatMessage:s}=(0,_s.Z)();return(0,u.useEffect)((()=>{"function"==typeof e.extraFunc&&(t!==ps.Success&&t!==ps.Failed||e.extraFunc())}),[t]),u.createElement("button",{disabled:t!==ps.NotStarted,onClick:()=>(async()=>{try{n(ps.Started),await q.je.sendAdminUpgradeRequestEmail(),n(ps.Success)}catch(e){e&&n(ps.Failed)}})(),className:e.className?e.className:"btn-link"},(e=>{switch(e){case ps.Started:return s({id:"invitation-modal.notify-admin.sending",defaultMessage:Es.Sending});case ps.Success:return s({id:"invitation-modal.notify-admin.sent",defaultMessage:Es.Sent});case ps.Failed:return s({id:"invitation-modal.notify-admin.failed",defaultMessage:Es.Failed});default:return s({id:"invitation-modal.notify-admin.notify",defaultMessage:Es.NotifyAdmin})}})(t))};Cs.propTypes={className:m().string,extraFunc:m().func};const ys=Cs,vs=()=>u.createElement("svg",{width:"512",height:"156",viewBox:"0 0 250 156",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{opacity:"0.1",d:"M154.728 52.6597C153.343 52.398 151.911 52.5537 150.616 53.1067C149.834 53.4519 148.988 53.6284 148.133 53.6246C147.278 53.6209 146.434 53.4369 145.655 53.0848C144.737 52.6839 143.742 52.4863 142.739 52.5057C141.737 52.5251 140.751 52.761 139.848 53.1971C139.333 53.4696 138.759 53.613 138.176 53.6148C135.822 53.6148 133.863 51.2527 133.456 48.1359C133.926 47.7929 134.325 47.3634 134.633 46.8706C136.013 44.655 138.152 43.2334 140.552 43.2334C142.953 43.2334 145.064 44.6379 146.437 46.8315C146.85 47.4949 147.429 48.0407 148.116 48.4156C148.804 48.7905 149.577 48.982 150.361 48.9713H150.422C152.303 48.981 153.926 50.4784 154.728 52.6597Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M218.4 76.0436C216.577 75.7024 214.693 75.9053 212.987 76.6264C211.958 77.0764 210.845 77.3065 209.719 77.3016C208.594 77.2967 207.482 77.0568 206.458 76.5977C205.249 76.0751 203.939 75.8175 202.62 75.8428C201.3 75.8681 200.002 76.1757 198.815 76.7442C198.137 77.0995 197.381 77.2864 196.613 77.2888C193.515 77.2888 190.936 74.2092 190.4 70.1456C191.019 69.6985 191.545 69.1385 191.949 68.4959C193.766 65.6074 196.581 63.7539 199.741 63.7539C202.901 63.7539 205.68 65.5851 207.487 68.4449C208.031 69.3099 208.792 70.0214 209.697 70.5103C210.602 70.9991 211.62 71.2487 212.652 71.2347H212.732C215.208 71.2475 217.345 73.1997 218.4 76.0436Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M161.888 42.8765L158.082 45.2825L160.392 41.0957C159.737 40.5762 158.927 40.2883 158.09 40.2774H158.029C157.764 40.2821 157.5 40.2633 157.239 40.2212L155.954 41.0347L156.508 40.0332C155.594 39.7152 154.804 39.1165 154.252 38.3233L151.942 39.7889L153.414 37.1483C152.063 35.5337 150.243 34.542 148.242 34.542C145.842 34.542 143.703 35.9661 142.323 38.1816C141.915 38.8468 141.336 39.392 140.647 39.7611C139.957 40.1303 139.182 40.3101 138.399 40.2823H138.269C135.619 40.2823 133.471 43.2771 133.471 46.968C133.471 50.6589 135.619 53.6536 138.269 53.6536C138.852 53.6517 139.426 53.5093 139.942 53.2383C140.844 52.8012 141.83 52.5646 142.832 52.5447C143.835 52.5249 144.83 52.7224 145.748 53.1235C146.525 53.4709 147.365 53.6515 148.216 53.6536C149.067 53.6557 149.909 53.4793 150.687 53.1358C151.599 52.7423 152.584 52.5485 153.578 52.5675C154.571 52.5864 155.549 52.8177 156.444 53.2457C156.955 53.5116 157.521 53.6515 158.097 53.6536C160.748 53.6536 162.896 50.6613 162.896 46.968C162.91 45.5414 162.564 44.1343 161.888 42.8765V42.8765Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M228.257 62.9219L223.187 66.1324L226.264 60.5458C225.391 59.8525 224.312 59.4684 223.197 59.4539H223.115C222.763 59.4601 222.411 59.435 222.063 59.3789L220.352 60.4643L221.09 59.1279C219.872 58.7036 218.819 57.9048 218.085 56.8464L215.007 58.802L216.967 55.2786C215.168 53.1241 212.744 51.8008 210.078 51.8008C206.88 51.8008 204.032 53.701 202.193 56.6573C201.649 57.545 200.878 58.2724 199.96 58.7649C199.041 59.2575 198.008 59.4975 196.966 59.4604H196.793C193.262 59.4604 190.4 63.4564 190.4 68.3814C190.4 73.3064 193.262 77.3024 196.793 77.3024C197.569 77.2999 198.334 77.1098 199.021 76.7483C200.222 76.1651 201.536 75.8493 202.871 75.8228C204.207 75.7964 205.533 76.0599 206.756 76.5951C207.79 77.0586 208.91 77.2996 210.044 77.3024C211.177 77.3053 212.299 77.0698 213.335 76.6114C214.549 76.0864 215.863 75.8278 217.186 75.8531C218.509 75.8784 219.812 76.1871 221.005 76.7581C221.685 77.113 222.44 77.2997 223.207 77.3024C226.738 77.3024 229.599 73.3097 229.599 68.3814C229.619 66.4779 229.157 64.6003 228.257 62.9219V62.9219Z",fill:"var(--button-bg)"}),u.createElement("path",{d:"M127.166 35.4361C127.137 35.2133 127.068 34.9974 126.963 34.7986C126.879 34.6801 126.779 34.5747 126.664 34.4859C126.479 34.3143 126.262 34.18 126.026 34.0902C125.906 34.0435 125.776 34.0267 125.648 34.0412C125.52 34.0556 125.397 34.101 125.29 34.1733C125.101 34.3433 124.986 34.5813 124.972 34.8352C124.92 35.1796 124.98 35.5313 125.143 35.8392C125.34 36.1787 125.678 36.4059 125.96 36.677C126.167 36.8728 126.347 37.0955 126.494 37.339C126.562 37.4662 126.644 37.585 126.74 37.6932C126.787 37.7467 126.847 37.7883 126.914 37.8146C126.981 37.8409 127.053 37.8512 127.125 37.8446C127.244 37.8138 127.353 37.7504 127.439 37.6614C127.554 37.5613 127.868 37.3781 127.877 37.2169C127.887 37.0556 127.632 36.7918 127.581 36.6697C127.399 36.2742 127.261 35.8607 127.166 35.4361Z",fill:"var(--online-indicator)"}),u.createElement("path",{d:"M128 156C198.692 156 256 153.485 256 150.382C256 147.279 198.692 144.764 128 144.764C57.3076 144.764 0 147.279 0 150.382C0 153.485 57.3076 156 128 156Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"}),u.createElement("path",{d:"M216.08 148.526H205.663C205.09 148.526 204.541 148.299 204.135 147.895C203.73 147.492 203.503 146.945 203.503 146.374C203.503 145.803 203.73 145.256 204.135 144.852C204.541 144.449 205.09 144.222 205.663 144.222C205.373 144.232 205.085 144.183 204.814 144.079C204.544 143.976 204.297 143.819 204.089 143.618C203.88 143.417 203.715 143.177 203.601 142.911C203.488 142.645 203.43 142.36 203.43 142.071C203.43 141.782 203.488 141.497 203.601 141.231C203.715 140.965 203.88 140.725 204.089 140.524C204.297 140.323 204.544 140.166 204.814 140.063C205.085 139.959 205.373 139.91 205.663 139.92H206.139C206.411 138.069 208.507 136.627 211.058 136.625C213.608 136.623 215.717 138.061 215.984 139.91H216.08C216.369 139.901 216.658 139.949 216.928 140.053C217.199 140.157 217.446 140.313 217.654 140.514C217.862 140.715 218.028 140.955 218.141 141.221C218.254 141.487 218.313 141.773 218.313 142.061C218.313 142.35 218.254 142.636 218.141 142.901C218.028 143.167 217.862 143.408 217.654 143.608C217.446 143.809 217.199 143.966 216.928 144.07C216.658 144.173 216.369 144.222 216.08 144.212C216.653 144.212 217.202 144.439 217.607 144.842C218.012 145.246 218.24 145.793 218.24 146.364C218.24 146.935 218.012 147.482 217.607 147.886C217.202 148.289 216.653 148.516 216.08 148.516V148.526Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M218.238 142.069C218.237 142.64 218.009 143.186 217.605 143.59C217.2 143.993 216.652 144.22 216.08 144.222H205.666L216.013 139.91H216.077C216.651 139.911 217.201 140.14 217.606 140.544C218.011 140.949 218.238 141.498 218.238 142.069V142.069Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M203.567 146.395C203.569 146.965 203.797 147.511 204.202 147.914C204.606 148.317 205.155 148.543 205.727 148.545H216.143L205.788 144.253H205.732C205.16 144.254 204.612 144.479 204.207 144.88C203.801 145.281 203.571 145.826 203.567 146.395V146.395Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{d:"M152.766 145.955H146.854C146.529 145.955 146.217 145.827 145.987 145.598C145.757 145.368 145.628 145.058 145.628 144.734C145.628 144.41 145.757 144.099 145.987 143.87C146.217 143.641 146.529 143.513 146.854 143.513C146.529 143.513 146.217 143.384 145.987 143.155C145.757 142.926 145.628 142.615 145.628 142.291C145.628 141.967 145.757 141.657 145.987 141.428C146.217 141.199 146.529 141.07 146.854 141.07H147.126C147.278 140.019 148.47 139.201 149.917 139.201C151.364 139.201 152.555 140.015 152.712 141.065H152.766C153.091 141.065 153.403 141.194 153.633 141.423C153.863 141.652 153.992 141.962 153.992 142.286C153.992 142.61 153.863 142.921 153.633 143.15C153.403 143.379 153.091 143.508 152.766 143.508C153.091 143.508 153.403 143.636 153.633 143.865C153.863 144.094 153.992 144.405 153.992 144.729C153.992 145.053 153.863 145.364 153.633 145.593C153.403 145.822 153.091 145.95 152.766 145.95V145.955Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M153.992 142.292C153.992 142.616 153.863 142.926 153.633 143.155C153.403 143.384 153.091 143.513 152.766 143.513H146.854L152.739 141.07H152.766C153.091 141.07 153.403 141.199 153.633 141.428C153.863 141.657 153.992 141.968 153.992 142.292V142.292Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M145.667 144.742C145.667 145.066 145.797 145.376 146.027 145.605C146.257 145.835 146.568 145.963 146.894 145.963H152.803L146.918 143.521H146.881C146.558 143.524 146.25 143.654 146.022 143.883C145.795 144.111 145.667 144.42 145.667 144.742V144.742Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{d:"M42.0414 152.885H29.5356C29.1887 152.896 28.8432 152.837 28.5195 152.712C28.1959 152.587 27.9007 152.399 27.6516 152.158C27.4024 151.918 27.2043 151.63 27.069 151.311C26.9337 150.993 26.864 150.651 26.864 150.305C26.864 149.959 26.9337 149.617 27.069 149.298C27.2043 148.98 27.4024 148.692 27.6516 148.451C27.9007 148.211 28.1959 148.022 28.5195 147.897C28.8432 147.772 29.1887 147.713 29.5356 147.724C29.1887 147.735 28.8432 147.676 28.5195 147.551C28.1959 147.426 27.9007 147.238 27.6516 146.997C27.4024 146.756 27.2043 146.468 27.069 146.15C26.9337 145.831 26.864 145.489 26.864 145.143C26.864 144.798 26.9337 144.455 27.069 144.137C27.2043 143.819 27.4024 143.53 27.6516 143.29C27.9007 143.049 28.1959 142.861 28.5195 142.736C28.8432 142.611 29.1887 142.552 29.5356 142.563H30.1045C30.4306 140.342 32.9489 138.613 36.0067 138.61C39.0645 138.608 41.5853 140.332 41.9163 142.55H42.0291C42.7024 142.571 43.3412 142.852 43.8101 143.334C44.279 143.815 44.5413 144.46 44.5413 145.131C44.5413 145.802 44.279 146.447 43.8101 146.929C43.3412 147.41 42.7024 147.691 42.0291 147.712C42.7024 147.732 43.3412 148.013 43.8101 148.495C44.279 148.977 44.5413 149.622 44.5413 150.293C44.5413 150.964 44.279 151.608 43.8101 152.09C43.3412 152.572 42.7024 152.853 42.0291 152.873L42.0414 152.885Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M44.6284 145.142C44.6271 145.826 44.3543 146.481 43.8695 146.965C43.3848 147.449 42.7276 147.722 42.0414 147.724H29.5356L41.9482 142.551H42.0242C42.3661 142.55 42.7047 142.617 43.0206 142.747C43.3365 142.877 43.6236 143.068 43.8655 143.309C44.1073 143.55 44.2992 143.836 44.4301 144.15C44.561 144.465 44.6284 144.802 44.6284 145.142Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M27.0271 150.321C27.0303 151.005 27.3049 151.66 27.791 152.142C28.277 152.625 28.935 152.897 29.6214 152.898H42.1272L29.7023 147.749H29.6263C28.9401 147.75 28.282 148.02 27.7951 148.502C27.3083 148.984 27.0323 149.638 27.0271 150.321Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M67.6781 37.3877C66.7052 37.2017 65.6986 37.3089 64.7871 37.6955C64.2432 37.9378 63.6541 38.063 63.0583 38.063C62.4626 38.063 61.8735 37.9378 61.3296 37.6955C60.6866 37.415 59.9901 37.2767 59.2882 37.2902C58.5863 37.3037 57.8957 37.4686 57.264 37.7737C56.9037 37.9642 56.5023 38.0647 56.0944 38.0668C54.4466 38.0668 53.0758 36.4131 52.7914 34.2293C53.1205 33.99 53.4002 33.6898 53.6153 33.3451C54.5814 31.794 56.0674 30.7998 57.7569 30.7998C59.4464 30.7998 60.9177 31.7769 61.8838 33.3182C62.1727 33.7806 62.5762 34.1613 63.0554 34.4235C63.5347 34.6857 64.0736 34.8208 64.6203 34.8156H64.6645C65.9764 34.8131 67.1117 35.8611 67.6781 37.3877Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M72.6854 30.5407L70.0224 32.2237L71.6384 29.2925C71.1809 28.927 70.6137 28.7249 70.0273 28.7184H69.9857C69.8009 28.7227 69.6162 28.7096 69.4339 28.6793L68.5291 29.2485L68.9165 28.5474C68.2771 28.3247 67.7245 27.9067 67.3374 27.353L65.7165 28.3764L66.7366 26.5273C65.7926 25.3988 64.5175 24.7051 63.1173 24.7051C61.4376 24.7051 59.9296 25.6993 58.9733 27.2504C58.6866 27.7131 58.2823 28.0924 57.8014 28.3497C57.3205 28.607 56.7799 28.7334 56.2342 28.716H56.1533C54.2995 28.716 52.7939 30.8118 52.7939 33.3962C52.7939 35.9805 54.2995 38.0764 56.1533 38.0764C56.5614 38.0755 56.963 37.9748 57.323 37.7832C57.9547 37.4782 58.6453 37.3132 59.3472 37.2997C60.0491 37.2862 60.7455 37.4245 61.3886 37.7051C61.9357 37.9484 62.5279 38.0749 63.1271 38.0764C63.7185 38.0756 64.3032 37.9517 64.8436 37.7124C65.4816 37.4372 66.1714 37.3017 66.8665 37.3152C67.5616 37.3287 68.2457 37.4908 68.8724 37.7906C69.2296 37.977 69.6266 38.0751 70.0298 38.0764C71.886 38.0764 73.3892 35.9805 73.3892 33.3962C73.3982 32.4007 73.1562 31.4188 72.6854 30.5407V30.5407Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M32.5198 64.2579C33.4888 64.0743 34.4907 64.1815 35.3986 64.5656C35.942 64.808 36.5307 64.9333 37.1261 64.9333C37.7215 64.9333 38.3102 64.808 38.8536 64.5656C39.4966 64.2851 40.1931 64.1468 40.895 64.1603C41.5969 64.1738 42.2875 64.3388 42.9192 64.6438C43.2796 64.834 43.6809 64.9346 44.0888 64.9369C45.7366 64.9369 47.1098 63.2832 47.3943 61.0995C47.0646 60.8608 46.7847 60.5605 46.5704 60.2152C45.6042 58.6641 44.106 57.6699 42.4263 57.6699C40.7466 57.6699 39.268 58.647 38.3018 60.1883C38.0118 60.6517 37.6066 61.0328 37.1255 61.2946C36.6444 61.5565 36.1037 61.6904 35.5555 61.6833H35.5138C34.2093 61.6833 33.0715 62.7312 32.5198 64.2579Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M27.498 57.4103L30.1609 59.0933L28.5425 56.1621C29.0002 55.797 29.5673 55.5949 30.1536 55.588H30.1977C30.3825 55.5923 30.5672 55.5792 30.7494 55.549L31.6518 56.1181L31.2644 55.4171C31.9045 55.1945 32.458 54.7765 32.846 54.2226L34.4619 55.2436L33.4394 53.3945C34.3859 52.266 35.6586 51.5723 37.0612 51.5723C38.7409 51.5723 40.2366 52.5664 41.2052 54.1176C41.4917 54.5805 41.8959 54.9599 42.3769 55.2172C42.8579 55.4746 43.3986 55.6008 43.9442 55.5832H44.0325C45.8888 55.5832 47.3919 57.679 47.3919 60.2634C47.3919 62.8477 45.8888 64.9435 44.0325 64.9435C43.6245 64.9421 43.223 64.8414 42.8629 64.6504C42.2312 64.3454 41.5406 64.1804 40.8387 64.1669C40.1368 64.1534 39.4403 64.2917 38.7973 64.5723C38.251 64.8156 37.6596 64.9421 37.0612 64.9435C36.4697 64.9433 35.885 64.8193 35.3447 64.5796C34.7063 64.3043 34.016 64.1689 33.3205 64.1823C32.625 64.1958 31.9406 64.358 31.3134 64.6578C30.9564 64.8445 30.5593 64.9425 30.156 64.9435C28.3022 64.9435 26.7966 62.8477 26.7966 60.2634C26.7873 59.2689 27.0284 58.288 27.498 57.4103V57.4103Z",fill:"var(--button-bg)"}),u.createElement("path",{d:"M128 152C150.091 152 168 151.105 168 150C168 148.895 150.091 148 128 148C105.909 148 88 148.895 88 150C88 151.105 105.909 152 128 152Z",fill:"var(--center-channel-color)",fillOpacity:"0.2"}),u.createElement("ellipse",{cx:"125",cy:"75.4243",rx:"50.6957",ry:"50.1196",fill:"none"}),u.createElement("path",{d:"M178 76.0017C178 86.4841 174.891 96.731 169.067 105.447C163.243 114.162 154.965 120.955 145.281 124.966C135.596 128.977 124.939 130.027 114.659 127.981C104.378 125.936 94.9341 120.888 87.5221 113.475C80.1102 106.063 75.0628 96.6192 73.0181 86.3381C70.9734 76.057 72.0233 65.4005 76.0351 55.7162C80.0468 46.0318 86.8402 37.7546 95.5562 31.9312C104.272 26.1077 114.519 22.9997 125.002 23C131.962 23.0002 138.854 24.3713 145.284 27.035C151.714 29.6988 157.557 33.6029 162.478 38.5246C167.399 43.4462 171.303 49.289 173.966 55.7194C176.63 62.1497 178 69.0416 178 76.0017V76.0017ZM118.875 104.056L158.19 64.7408C158.508 64.4234 158.761 64.0465 158.933 63.6314C159.105 63.2164 159.194 62.7714 159.194 62.3221C159.194 61.8727 159.105 61.4278 158.933 61.0127C158.761 60.5977 158.508 60.2207 158.19 59.9034L153.353 55.1014C153.036 54.7834 152.66 54.5311 152.245 54.359C151.831 54.1868 151.386 54.0982 150.937 54.0982C150.489 54.0982 150.044 54.1868 149.63 54.359C149.215 54.5311 148.839 54.7834 148.522 55.1014L116.457 87.1675L101.485 72.1601C100.842 71.5209 99.9724 71.1622 99.066 71.1622C98.1596 71.1622 97.29 71.5209 96.6473 72.1601L91.81 77.0259C91.1708 77.6687 90.8121 78.5382 90.8121 79.4446C90.8121 80.351 91.1708 81.2206 91.81 81.8633L114.039 104.084C114.356 104.402 114.733 104.655 115.148 104.827C115.563 104.999 116.008 105.088 116.458 105.088C116.907 105.088 117.352 104.999 117.767 104.827C118.182 104.655 118.559 104.402 118.876 104.084L118.875 104.056Z",fill:"var(--online-indicator)"})),ws=e=>u.createElement(u.Fragment,null,u.createElement(ye.Z,{className:"ConfirmNotifyAdminModal",show:e.show,id:"confirmNotifyAdminModal",role:"dialog",onHide:e.actions.closeModal},u.createElement(ye.Z.Header,{closeButton:!0}),u.createElement(ye.Z.Body,null,u.createElement(vs,null),u.createElement("div",{className:"title"},u.createElement(ve.Z,{id:"confirm.notification_sent_to_admin.modal_title",defaultMessage:"Thank you!"})),u.createElement("div",{className:"description"},u.createElement(ve.Z,{id:"confirm.notification_sent_to_admin.modal_body",defaultMessage:"A notification has been sent to your administrator."})),u.createElement("div",{className:"buttons"},u.createElement(fs.Z,{className:"confirm-button",onClick:e.actions.closeModal},u.createElement(ve.Z,{id:"confirm.notification_sent_to_admin.modal_done",defaultMessage:"Done"}))))));ws.propTypes={show:m().bool.isRequired,actions:m().shape({closeModal:m().func.isRequired}).isRequired};const Ss=ws,Ts=(0,a.connect)((function(e){return{show:(0,Yn.g)(e,R.r8.CONFIRM_NOTIFY_ADMIN)}}),(function(e){return{actions:(0,s.bindActionCreators)({closeModal:()=>(0,I.M)(R.r8.CONFIRM_NOTIFY_ADMIN)},e)}}))(Ss),Ps=()=>u.createElement("svg",{width:"512",height:"156",viewBox:"0 0 512 156",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{opacity:"0.1",d:"M282.728 52.6597C281.343 52.398 279.911 52.5537 278.616 53.1067C277.834 53.4519 276.988 53.6284 276.133 53.6246C275.278 53.6209 274.434 53.4369 273.655 53.0848C272.737 52.6839 271.742 52.4863 270.74 52.5057C269.737 52.5251 268.751 52.761 267.849 53.1971C267.334 53.4696 266.76 53.613 266.176 53.6148C263.822 53.6148 261.863 51.2527 261.456 48.1359C261.926 47.7929 262.326 47.3634 262.633 46.8706C264.014 44.655 266.152 43.2334 268.552 43.2334C270.953 43.2334 273.064 44.6379 274.438 46.8315C274.851 47.4949 275.429 48.0407 276.117 48.4156C276.804 48.7905 277.577 48.982 278.361 48.9713H278.422C280.303 48.981 281.926 50.4784 282.728 52.6597Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M346.4 76.0436C344.578 75.7024 342.693 75.9053 340.988 76.6264C339.959 77.0764 338.845 77.3065 337.72 77.3016C336.594 77.2967 335.483 77.0568 334.458 76.5977C333.249 76.0751 331.94 75.8175 330.62 75.8428C329.301 75.8681 328.002 76.1757 326.815 76.7442C326.137 77.0995 325.381 77.2864 324.614 77.2888C321.515 77.2888 318.936 74.2092 318.4 70.1456C319.019 69.6985 319.545 69.1385 319.95 68.4959C321.767 65.6074 324.581 63.7539 327.741 63.7539C330.901 63.7539 333.68 65.5851 335.488 68.4449C336.032 69.3099 336.793 70.0214 337.698 70.5103C338.603 70.9991 339.62 71.2487 340.652 71.2347H340.733C343.208 71.2475 345.345 73.1997 346.4 76.0436Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M289.888 42.8765L286.082 45.2825L288.392 41.0957C287.737 40.5762 286.927 40.2883 286.09 40.2774H286.029C285.764 40.2821 285.5 40.2633 285.239 40.2212L283.954 41.0347L284.508 40.0332C283.594 39.7152 282.804 39.1165 282.252 38.3233L279.942 39.7889L281.414 37.1483C280.063 35.5337 278.243 34.542 276.242 34.542C273.842 34.542 271.703 35.9661 270.323 38.1816C269.915 38.8468 269.336 39.392 268.647 39.7611C267.957 40.1303 267.182 40.3101 266.399 40.2823H266.269C263.619 40.2823 261.471 43.2771 261.471 46.968C261.471 50.6589 263.619 53.6536 266.269 53.6536C266.852 53.6517 267.426 53.5093 267.942 53.2383C268.844 52.8012 269.83 52.5646 270.832 52.5447C271.835 52.5249 272.83 52.7224 273.748 53.1235C274.525 53.4709 275.365 53.6515 276.216 53.6536C277.067 53.6557 277.909 53.4793 278.687 53.1357C279.599 52.7423 280.584 52.5485 281.578 52.5675C282.571 52.5864 283.549 52.8177 284.444 53.2457C284.955 53.5116 285.521 53.6515 286.097 53.6536C288.748 53.6536 290.896 50.6613 290.896 46.968C290.91 45.5414 290.564 44.1343 289.888 42.8765Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M356.257 62.9219L351.187 66.1324L354.265 60.5458C353.392 59.8525 352.313 59.4684 351.197 59.4539H351.116C350.763 59.4601 350.411 59.435 350.064 59.3789L348.352 60.4643L349.09 59.1279C347.872 58.7036 346.82 57.9048 346.085 56.8464L343.008 58.802L344.968 55.2786C343.168 53.1241 340.744 51.8008 338.079 51.8008C334.88 51.8008 332.032 53.701 330.193 56.6573C329.649 57.545 328.878 58.2724 327.96 58.7649C327.042 59.2575 326.008 59.4975 324.966 59.4604H324.793C321.262 59.4604 318.4 63.4564 318.4 68.3814C318.4 73.3064 321.262 77.3024 324.793 77.3024C325.57 77.2999 326.334 77.1098 327.021 76.7483C328.222 76.1651 329.536 75.8493 330.872 75.8228C332.207 75.7964 333.533 76.0599 334.756 76.5951C335.79 77.0586 336.911 77.2996 338.044 77.3024C339.178 77.3053 340.299 77.0698 341.335 76.6114C342.55 76.0864 343.863 75.8278 345.186 75.8531C346.51 75.8784 347.812 76.1871 349.005 76.7581C349.685 77.113 350.44 77.2997 351.207 77.3024C354.738 77.3024 357.6 73.3097 357.6 68.3814C357.619 66.4779 357.157 64.6003 356.257 62.9219Z",fill:"var(--button-bg)"}),u.createElement("path",{d:"M255.167 35.4361C255.137 35.2133 255.068 34.9974 254.963 34.7986C254.88 34.6801 254.779 34.5747 254.664 34.4859C254.479 34.3143 254.263 34.18 254.026 34.0902C253.906 34.0435 253.777 34.0267 253.648 34.0412C253.52 34.0556 253.397 34.101 253.291 34.1733C253.101 34.3433 252.986 34.5813 252.972 34.8352C252.92 35.1796 252.981 35.5313 253.144 35.8392C253.34 36.1787 253.678 36.4059 253.96 36.677C254.167 36.8728 254.347 37.0955 254.495 37.339C254.562 37.4662 254.645 37.585 254.74 37.6932C254.788 37.7467 254.848 37.7883 254.914 37.8146C254.981 37.8409 255.053 37.8512 255.125 37.8446C255.245 37.8138 255.353 37.7504 255.439 37.6614C255.554 37.5613 255.868 37.3781 255.878 37.2169C255.888 37.0556 255.633 36.7918 255.581 36.6697C255.4 36.2742 255.261 35.8607 255.167 35.4361Z",fill:"var(--online-indicator)"}),u.createElement("path",{d:"M256 156C326.692 156 384 153.485 384 150.382C384 147.279 326.692 144.764 256 144.764C185.308 144.764 128 147.279 128 150.382C128 153.485 185.308 156 256 156Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M251.2 152.213C266.664 152.213 279.2 151.321 279.2 150.221C279.2 149.121 266.664 148.229 251.2 148.229C235.736 148.229 223.2 149.121 223.2 150.221C223.2 151.321 235.736 152.213 251.2 152.213Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M253.016 150.152C252.148 150.321 251.253 150.283 250.403 150.044C249.552 149.804 248.77 149.368 248.119 148.772C247.469 148.176 246.968 147.436 246.658 146.611C246.347 145.787 246.235 144.901 246.332 144.026C246.974 138.369 248.973 129.255 254.438 115.573C260.775 99.7106 258.489 95.8781 251.699 84.5025C249.507 80.8262 247.021 76.6614 244.343 71.3119C237.438 57.5693 240.062 46.9778 243.47 40.5316C247.094 33.6701 252.278 30.0769 252.857 29.6885L258.207 38.5066L257.717 38.9951C257.705 38.9951 257.962 38.9951 258.335 39.6718C256.241 41.4795 254.519 43.6755 253.266 46.1376C250.299 52.0562 250.692 58.8395 254.431 66.2824C256.935 71.2704 259.308 75.2495 261.402 78.7597C265.164 85.0618 268.133 90.04 269.117 96.3251C270.134 102.83 268.871 109.828 264.926 119.726C259.725 132.743 258.06 140.89 257.553 145.262C257.416 146.45 256.904 147.564 256.089 148.442C255.275 149.32 254.201 149.918 253.023 150.147L253.016 150.152Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M228.291 22.6071L250.985 0L273.9 22.6071H258.327V39.894H243.864V22.717L228.291 22.6071Z",fill:"var(--button-bg)"}),u.createElement("path",{d:"M300.8 149.822C308.753 149.822 315.2 149.287 315.2 148.627C315.2 147.967 308.753 147.432 300.8 147.432C292.847 147.432 286.4 147.967 286.4 148.627C286.4 149.287 292.847 149.822 300.8 149.822Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M301.631 148.924C301.178 149.012 300.711 148.993 300.267 148.868C299.823 148.743 299.414 148.515 299.075 148.204C298.735 147.893 298.474 147.507 298.311 147.076C298.149 146.646 298.091 146.183 298.142 145.726C298.475 142.773 299.52 138.015 302.374 130.872C305.682 122.589 304.488 120.588 300.945 114.648C299.799 112.73 298.492 110.554 297.097 107.759C293.498 100.585 294.866 95.0575 296.646 91.6915C297.819 89.4517 299.498 87.5136 301.55 86.0293L304.343 90.6338L304.083 90.878C304.083 90.878 304.216 90.878 304.407 91.2322C303.313 92.1757 302.413 93.3222 301.759 94.608C300.211 97.698 300.417 101.237 302.369 105.126C303.676 107.73 304.915 109.809 306.008 111.641C307.97 114.931 309.522 117.53 310.037 120.813C310.567 124.209 309.912 127.863 307.847 133.027C305.133 139.822 304.262 144.075 303.997 146.359C303.928 146.98 303.661 147.562 303.236 148.021C302.811 148.481 302.249 148.792 301.634 148.911L301.631 148.924Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M288.721 82.3295L300.569 70.5264L312.536 82.3295H304.404V91.3552H296.852V82.3881L288.721 82.3295Z",fill:"var(--button-bg)"}),u.createElement("path",{d:"M201.6 149.026C209.553 149.026 216 148.49 216 147.83C216 147.17 209.553 146.635 201.6 146.635C193.647 146.635 187.2 147.17 187.2 147.83C187.2 148.49 193.647 149.026 201.6 149.026Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M200.561 148.924C201.013 149.012 201.481 148.993 201.925 148.868C202.369 148.743 202.777 148.515 203.117 148.204C203.457 147.893 203.718 147.507 203.88 147.076C204.042 146.646 204.1 146.183 204.05 145.726C203.716 142.773 202.672 138.015 199.818 130.872C196.51 122.589 197.704 120.588 201.247 114.648C202.392 112.73 203.699 110.554 205.094 107.759C208.694 100.585 207.326 95.0575 205.546 91.6915C204.372 89.4517 202.694 87.5136 200.641 86.0293L197.848 90.6338L198.108 90.878C198.108 90.878 197.976 90.878 197.785 91.2322C198.879 92.1757 199.778 93.3222 200.433 94.608C201.98 97.698 201.774 101.237 199.822 105.126C198.515 107.73 197.277 109.809 196.184 111.641C194.222 114.931 192.67 117.53 192.155 120.813C191.625 124.209 192.28 127.863 194.344 133.027C197.059 139.822 197.929 144.075 198.194 146.359C198.264 146.98 198.531 147.562 198.956 148.021C199.381 148.481 199.942 148.792 200.558 148.911L200.561 148.924Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M213.471 82.3295L201.623 70.5264L189.656 82.3295H197.787V91.3552H205.34V82.3881L213.471 82.3295Z",fill:"var(--button-bg)"}),u.createElement("path",{d:"M344.079 148.526H333.663C333.09 148.526 332.54 148.299 332.135 147.895C331.73 147.492 331.502 146.945 331.502 146.374C331.502 145.803 331.73 145.256 332.135 144.852C332.54 144.449 333.09 144.222 333.663 144.222C333.373 144.232 333.084 144.183 332.814 144.079C332.544 143.976 332.297 143.819 332.088 143.618C331.88 143.417 331.714 143.177 331.601 142.911C331.488 142.645 331.43 142.36 331.43 142.071C331.43 141.782 331.488 141.497 331.601 141.231C331.714 140.965 331.88 140.725 332.088 140.524C332.297 140.323 332.544 140.166 332.814 140.063C333.084 139.959 333.373 139.91 333.663 139.92H334.138C334.411 138.069 336.507 136.627 339.057 136.625C341.608 136.623 343.716 138.061 343.984 139.91H344.079C344.369 139.901 344.658 139.949 344.928 140.053C345.199 140.157 345.445 140.313 345.654 140.514C345.862 140.715 346.028 140.955 346.141 141.221C346.254 141.487 346.312 141.773 346.312 142.061C346.312 142.35 346.254 142.636 346.141 142.901C346.028 143.167 345.862 143.408 345.654 143.608C345.445 143.809 345.199 143.966 344.928 144.07C344.658 144.173 344.369 144.222 344.079 144.212C344.652 144.212 345.202 144.439 345.607 144.842C346.012 145.246 346.24 145.793 346.24 146.364C346.24 146.935 346.012 147.482 345.607 147.886C345.202 148.289 344.652 148.516 344.079 148.516V148.526Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M346.238 142.069C346.237 142.64 346.01 143.186 345.605 143.59C345.201 143.993 344.652 144.22 344.08 144.222H333.666L344.014 139.91H344.078C344.652 139.911 345.201 140.14 345.606 140.544C346.011 140.949 346.239 141.498 346.238 142.069Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M331.566 146.395C331.568 146.965 331.797 147.511 332.201 147.914C332.606 148.317 333.155 148.543 333.727 148.545H344.143L333.788 144.253H333.732C333.16 144.254 332.612 144.479 332.206 144.88C331.801 145.281 331.571 145.826 331.566 146.395Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{d:"M280.766 145.955H274.854C274.529 145.955 274.217 145.827 273.987 145.598C273.757 145.368 273.628 145.058 273.628 144.734C273.628 144.41 273.757 144.099 273.987 143.87C274.217 143.641 274.529 143.513 274.854 143.513C274.529 143.513 274.217 143.384 273.987 143.155C273.757 142.926 273.628 142.615 273.628 142.291C273.628 141.967 273.757 141.657 273.987 141.428C274.217 141.199 274.529 141.07 274.854 141.07H275.126C275.278 140.019 276.47 139.201 277.917 139.201C279.363 139.201 280.555 140.015 280.712 141.065H280.766C281.091 141.065 281.403 141.194 281.633 141.423C281.863 141.652 281.992 141.962 281.992 142.286C281.992 142.61 281.863 142.921 281.633 143.15C281.403 143.379 281.091 143.508 280.766 143.508C281.091 143.508 281.403 143.636 281.633 143.865C281.863 144.094 281.992 144.405 281.992 144.729C281.992 145.053 281.863 145.364 281.633 145.593C281.403 145.822 281.091 145.95 280.766 145.95V145.955Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M281.993 142.292C281.993 142.616 281.863 142.926 281.633 143.155C281.404 143.384 281.092 143.513 280.767 143.513H274.854L280.74 141.07H280.767C281.092 141.07 281.404 141.199 281.633 141.428C281.863 141.657 281.993 141.968 281.993 142.292Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M273.668 144.742C273.668 145.066 273.797 145.376 274.027 145.605C274.257 145.835 274.569 145.963 274.894 145.963H280.804L274.919 143.521H274.882C274.559 143.524 274.25 143.654 274.023 143.883C273.795 144.111 273.668 144.42 273.668 144.742Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{d:"M170.042 152.885H157.536C157.189 152.896 156.843 152.837 156.52 152.712C156.196 152.587 155.901 152.399 155.652 152.158C155.403 151.918 155.205 151.63 155.069 151.311C154.934 150.993 154.864 150.651 154.864 150.305C154.864 149.959 154.934 149.617 155.069 149.298C155.205 148.98 155.403 148.692 155.652 148.451C155.901 148.211 156.196 148.022 156.52 147.897C156.843 147.772 157.189 147.713 157.536 147.724C157.189 147.735 156.843 147.676 156.52 147.551C156.196 147.426 155.901 147.238 155.652 146.997C155.403 146.756 155.205 146.468 155.069 146.15C154.934 145.831 154.864 145.489 154.864 145.143C154.864 144.798 154.934 144.455 155.069 144.137C155.205 143.819 155.403 143.53 155.652 143.29C155.901 143.049 156.196 142.861 156.52 142.736C156.843 142.611 157.189 142.552 157.536 142.563H158.105C158.431 140.342 160.949 138.613 164.007 138.61C167.065 138.608 169.586 140.332 169.917 142.55H170.029C170.703 142.571 171.341 142.852 171.81 143.334C172.279 143.815 172.542 144.46 172.542 145.131C172.542 145.802 172.279 146.447 171.81 146.929C171.341 147.41 170.703 147.691 170.029 147.712C170.703 147.732 171.341 148.013 171.81 148.495C172.279 148.977 172.542 149.622 172.542 150.293C172.542 150.964 172.279 151.608 171.81 152.09C171.341 152.572 170.703 152.853 170.029 152.873L170.042 152.885Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M172.628 145.142C172.627 145.826 172.354 146.481 171.869 146.965C171.384 147.449 170.727 147.722 170.041 147.724H157.535L169.948 142.551H170.024C170.366 142.55 170.704 142.617 171.02 142.747C171.336 142.877 171.623 143.068 171.865 143.309C172.107 143.55 172.299 143.836 172.43 144.15C172.561 144.465 172.628 144.802 172.628 145.142Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M155.027 150.321C155.031 151.005 155.305 151.66 155.791 152.142C156.277 152.625 156.935 152.897 157.622 152.898H170.127L157.703 147.749H157.627C156.94 147.75 156.282 148.02 155.795 148.502C155.309 148.984 155.033 149.638 155.027 150.321Z",fill:"var(--center-channel-color)",fillOpacity:"0.48"}),u.createElement("path",{opacity:"0.1",d:"M195.678 37.3877C194.705 37.2017 193.698 37.3089 192.787 37.6955C192.243 37.9378 191.654 38.063 191.058 38.063C190.462 38.063 189.873 37.9378 189.329 37.6955C188.686 37.415 187.99 37.2767 187.288 37.2902C186.586 37.3037 185.895 37.4686 185.264 37.7737C184.903 37.9642 184.502 38.0647 184.094 38.0668C182.446 38.0668 181.075 36.4131 180.791 34.2293C181.12 33.99 181.4 33.6898 181.615 33.3451C182.581 31.794 184.067 30.7998 185.757 30.7998C187.446 30.7998 188.917 31.7769 189.883 33.3182C190.172 33.7806 190.576 34.1613 191.055 34.4235C191.534 34.6857 192.073 34.8208 192.62 34.8156H192.664C193.976 34.8131 195.111 35.8611 195.678 37.3877Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M200.685 30.5407L198.022 32.2237L199.638 29.2925C199.181 28.927 198.614 28.7249 198.027 28.7184H197.986C197.801 28.7227 197.616 28.7096 197.434 28.6793L196.529 29.2485L196.917 28.5474C196.277 28.3247 195.725 27.9067 195.337 27.353L193.717 28.3764L194.737 26.5273C193.793 25.3988 192.517 24.7051 191.117 24.7051C189.438 24.7051 187.93 25.6993 186.973 27.2504C186.687 27.7131 186.282 28.0924 185.801 28.3497C185.32 28.607 184.78 28.7334 184.234 28.716H184.153C182.3 28.716 180.794 30.8118 180.794 33.3962C180.794 35.9805 182.3 38.0764 184.153 38.0764C184.561 38.0755 184.963 37.9748 185.323 37.7832C185.955 37.4782 186.645 37.3132 187.347 37.2997C188.049 37.2862 188.746 37.4245 189.389 37.7051C189.936 37.9484 190.528 38.0749 191.127 38.0764C191.718 38.0756 192.303 37.9517 192.844 37.7124C193.482 37.4372 194.171 37.3017 194.867 37.3152C195.562 37.3287 196.246 37.4908 196.872 37.7906C197.23 37.977 197.627 38.0751 198.03 38.0764C199.886 38.0764 201.389 35.9805 201.389 33.3962C201.398 32.4007 201.156 31.4188 200.685 30.5407Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M160.52 64.2579C161.489 64.0743 162.49 64.1815 163.398 64.5656C163.942 64.808 164.53 64.9333 165.126 64.9333C165.721 64.9333 166.31 64.808 166.853 64.5656C167.496 64.2851 168.193 64.1468 168.895 64.1603C169.597 64.1738 170.287 64.3388 170.919 64.6438C171.279 64.834 171.681 64.9346 172.089 64.9369C173.736 64.9369 175.11 63.2832 175.394 61.0995C175.064 60.8608 174.784 60.5605 174.57 60.2152C173.604 58.6641 172.106 57.6699 170.426 57.6699C168.746 57.6699 167.268 58.647 166.302 60.1883C166.012 60.6517 165.606 61.0328 165.125 61.2946C164.644 61.5565 164.103 61.6904 163.555 61.6833H163.514C162.209 61.6833 161.071 62.7312 160.52 64.2579Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M155.498 57.4103L158.161 59.0933L156.543 56.1621C157.001 55.797 157.568 55.5949 158.154 55.588H158.198C158.383 55.5923 158.568 55.5792 158.75 55.549L159.652 56.1181L159.265 55.4171C159.905 55.1945 160.458 54.7765 160.846 54.2226L162.462 55.2436L161.44 53.3945C162.386 52.266 163.659 51.5723 165.062 51.5723C166.741 51.5723 168.237 52.5664 169.206 54.1176C169.492 54.5805 169.896 54.9599 170.377 55.2172C170.858 55.4746 171.399 55.6008 171.945 55.5832H172.033C173.889 55.5832 175.392 57.679 175.392 60.2634C175.392 62.8477 173.889 64.9436 172.033 64.9436C171.625 64.9421 171.223 64.8414 170.863 64.6504C170.232 64.3454 169.541 64.1804 168.839 64.1669C168.137 64.1534 167.441 64.2917 166.798 64.5723C166.251 64.8156 165.66 64.9421 165.062 64.9436C164.47 64.9433 163.885 64.8193 163.345 64.5796C162.707 64.3043 162.017 64.1689 161.321 64.1823C160.626 64.1958 159.941 64.358 159.314 64.6578C158.957 64.8445 158.56 64.9425 158.157 64.9436C156.303 64.9436 154.797 62.8477 154.797 60.2634C154.788 59.2689 155.029 58.288 155.498 57.4103Z",fill:"var(--button-bg)"}));function Ms(e){const[t,n]=(0,u.useState)(!1);(0,u.useEffect)((()=>{(0,C.tF)(R.EA.CLOUD_PURCHASING,"pageview_modal_user_limit_reached")}),[]),(0,u.useEffect)((()=>{!0===t&&(e.actions.closeModal(R.r8.UPGRADE_CLOUD_ACCOUNT),e.actions.openModal({modalId:R.r8.CONFIRM_NOTIFY_ADMIN,dialogType:Ts}))}),[t]);const s=()=>{(0,C.L9)(R.EA.CLOUD_PURCHASING,"click_modal_user_limit_not_now"),e.actions.closeModal(R.r8.UPGRADE_CLOUD_ACCOUNT)},a=e.userIsAdmin?u.createElement(fs.Z,{className:"confirm-button",onClick:()=>{(0,C.L9)(R.EA.CLOUD_PURCHASING,"click_modal_user_limit_upgrade"),e.actions.closeModal(R.r8.UPGRADE_CLOUD_ACCOUNT),e.actions.openModal({modalId:R.r8.CLOUD_PURCHASE,dialogType:bs.Z})}},u.createElement(ve.Z,{id:"upgrade.cloud",defaultMessage:"Upgrade Mattermost Cloud"})):u.createElement(ys,{extraFunc:()=>n(!0),className:"confirm-button"});return u.createElement(u.Fragment,null,e.show&&u.createElement(ye.Z,{className:"UserLimitModal",show:e.show,id:"userLimitModal",role:"dialog",onHide:s},u.createElement(ye.Z.Header,{closeButton:!0}),u.createElement(ye.Z.Body,null,u.createElement(Ps,null),u.createElement("div",{className:"title"},u.createElement(ve.Z,{id:"upgrade.cloud_modal_title",defaultMessage:"You've reached the user limit\""})),u.createElement("div",{className:"description"},u.createElement(ve.Z,{id:"upgrade.cloud_modal_body",defaultMessage:"The free tier is limited to {num} users. Upgrade Mattermost Cloud for more users.",values:{num:e.cloudUserLimit}})),u.createElement("div",{className:"buttons"},u.createElement(fs.Z,{className:"dismiss-link",onClick:s},u.createElement(ve.Z,{id:"cloud.upgrade.notrightnow",defaultMessage:"Not right now"})),a))))}function Ns(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"126px",height:"32px",viewBox:"0 0 126 32",role:"img","aria-label":t({id:"generic_icons.invite",defaultMessage:"Invite Icon"})},u.createElement("path",{d:"M 106,18 86,5.52 V 4 c 0,-2.22 1.78,-4 4,-4 h 32 c 2.20914,0 4,1.790861 4,4 v 1.5 z m 20,10 c 0,2.209139 -1.79086,4 -4,4 H 90 c -2.22,0 -4,-1.8 -4,-4 V 10.22 l 4,2.5 V 28 h 32 V 12.72 l 4,-2.5 z M 1,15 h 62 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 1 C 0.44771525,17 0,16.552285 0,16 0,15.447715 0.44771525,15 1,15 Z M 21,5 h 48 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 21 C 20.447715,7 20,6.552285 20,6 20,5.447715 20.447715,5 21,5 Z m 0,20 h 48 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 21 c -0.552285,0 -1,-0.447715 -1,-1 0,-0.552285 0.447715,-1 1,-1 z"})))}function Is(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.channel.arrow-right",defaultMessage:"Arrow right"})},u.createElement("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})))}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ms.propTypes={userIsAdmin:m().bool.isRequired,show:m().bool.isRequired,cloudUserLimit:m().string.isRequired,actions:m().shape({closeModal:m().func.isRequired,openModal:m().func.isRequired}).isRequired};class As extends u.PureComponent{constructor(...e){super(...e),Rs(this,"onMembersKeyDown",(e=>{const t=e.which;13!==t&&32!==t||this.props.goToMembers()})),Rs(this,"onGuestsKeyDown",(e=>{const t=e.which;13!==t&&32!==t||this.props.goToGuests()}))}render(){const e=this.props.teamName;return u.createElement("div",{className:"InvitationModalInitialStep"},u.createElement("div",{className:"modal-icon"},u.createElement(Ns,null)),u.createElement("h1",{id:"invitation_modal_title"},u.createElement(on.Z,{id:"invitation_modal.title",defaultMessage:"Invite people to **{teamName}**",values:{teamName:e}})),u.createElement("div",{className:"invitation-modal-option",onClick:this.props.goToMembers,"data-testid":"inviteMembersLink",tabIndex:"0",onKeyDown:this.onMembersKeyDown,"aria-labelledby":"inviteMembersSectionHeader","aria-describedby":"inviteMembersSectionDescription"},u.createElement("div",{"data-testid":"inviteMembersSection"},u.createElement("h2",{id:"inviteMembersSectionHeader"},u.createElement(on.Z,{id:"invitation_modal.invite_members.title",defaultMessage:"Invite **Members**"})),this.props.emailInvitationsEnabled&&u.createElement(ve.Z,{id:"invitation_modal.invite_members.description",defaultMessage:"Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels."},(e=>u.createElement("span",{id:"inviteMembersSectionDescription"},e))),!this.props.emailInvitationsEnabled&&u.createElement(ve.Z,{id:"invitation_modal.invite_members.description-email-disabled",defaultMessage:"Invite new team members with a link. Team members have access to messages and files in open teams and public channels."},(e=>u.createElement("span",{id:"inviteMembersSectionDescription"},e)))),u.createElement(Is,{className:"arrow"})),u.createElement("div",{className:"invitation-modal-option",onClick:this.props.goToGuests,"data-testid":"inviteGuestLink",tabIndex:"0",onKeyDown:this.onGuestsKeyDown,"aria-labelledby":"inviteGuestsSectionHeader","aria-describedby":"inviteGuestsSectionDescription"},u.createElement("div",null,u.createElement("h2",{id:"inviteGuestsSectionHeader"},u.createElement(on.Z,{id:"invitation_modal.invite_guests.title",defaultMessage:"Invite **Guests**"})),u.createElement(ve.Z,{id:"invitation_modal.invite_guests.description",defaultMessage:"Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of."},(e=>u.createElement("span",{id:"inviteGuestsSectionDescription"},e)))),u.createElement(Is,{className:"arrow"})))}}Rs(As,"propTypes",{teamName:m().string.isRequired,goToMembers:m().func.isRequired,goToGuests:m().func.isRequired,emailInvitationsEnabled:m().bool.isRequired});var Os=n(60871),Ls=n(87742);function Ds(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"126px",height:"38px",viewBox:"0 0 126 38",role:"img","aria-label":t({id:"generic_icons.invite_members",defaultMessage:"Invite Members Icon"})},u.createElement("path",{d:"M 108.83398 0.03515625 C 108.64165 0.03515625 108.4496 0.04983111 108.25977 0.08203125 C 109.08339 0.57981559 109.86736 1.165576 110.60156 1.8359375 C 113.34699 4.3426243 115.07813 7.1515117 115.07812 10.777344 L 115.07812 15.908203 C 115.07812 17.577458 114.81586 19.392207 114.32812 21.453125 C 114.19039 22.035006 114.02467 22.601886 113.83008 23.152344 C 116.57398 24.811724 118.17106 25.88194 118.62109 26.361328 C 120.0119 27.842823 120.78516 29.798054 120.78516 31.830078 L 120.78516 32 C 122.99178 32 124.78125 32.008356 124.78125 30.001953 C 124.78125 26.755542 122.78085 23.90476 118.77734 21.453125 L 118.46875 21.267578 L 118.46094 21.285156 C 118.44384 21.330296 118.43871 21.318446 118.44531 21.253906 L 118.46875 21.267578 L 118.47266 21.251953 C 118.52056 21.104379 118.6246 20.690139 118.78516 20.011719 C 119.2074 18.22759 119.07227 17.224165 119.07227 15.908203 L 119.07227 10.777344 C 119.07227 8.5210935 117.78998 3.8565489 115.79297 2.0332031 C 113.81134 0.22387865 111.50192 0.03515625 108.83594 0.03515625 L 108.83398 0.03515625 z M 100.84375 2.0332031 C 98.23721 2.0332031 95.848767 2.9659792 93.835938 4.7363281 C 91.761167 6.5611731 90.535156 8.4793085 90.535156 10.777344 L 90.535156 15.908203 C 90.535156 17.293336 90.80759 18.870238 91.328125 20.703125 C 91.751681 22.194536 92.389981 23.518449 93.25 24.634766 L 87.810547 27.792969 C 87.734577 27.827779 87.659451 27.865141 87.585938 27.904297 C 87.562827 27.916627 87.538385 27.928746 87.515625 27.941406 C 87.254658 28.067724 87.009242 28.216755 86.775391 28.382812 L 86.509766 28.574219 C 85.454567 29.323561 84.826172 30.535879 84.826172 31.830078 L 84.826172 33.994141 C 84.826172 36.20075 86.615661 37.992188 88.822266 37.992188 L 112.79492 37.992188 C 115.00153 37.992188 116.79102 36.20075 116.79102 33.994141 L 116.79102 31.830078 C 116.79102 30.814065 116.40241 29.834497 115.70703 29.09375 C 115.33382 28.696209 114.89968 28.36777 114.42188 28.113281 L 114.13867 27.962891 C 114.10527 27.945041 114.06897 27.932866 114.03516 27.916016 C 113.99746 27.894746 113.96392 27.869949 113.92578 27.849609 L 108.53711 24.673828 C 109.43906 23.498248 110.06724 22.107856 110.43945 20.535156 C 110.86169 18.751027 111.08203 17.224166 111.08203 15.908203 L 111.08203 10.777344 C 111.08203 8.5210941 109.90325 6.6104541 107.90625 4.7871094 C 105.92461 2.977785 103.50974 2.0332043 100.84375 2.0332031 z M 100.84375 6.0273438 C 102.50853 6.0273438 103.96628 6.5982778 105.21484 7.7382812 C 106.46343 8.878286 107.08789 9.8906745 107.08789 10.777344 L 107.08789 15.908203 C 107.08789 16.870874 106.90948 18.105944 106.55273 19.613281 C 106.19601 21.12062 105.52977 22.279175 104.55469 23.089844 C 104.24552 23.343181 104.012 23.661015 103.85742 24.041016 C 103.70244 24.421017 103.65168 24.811463 103.69922 25.216797 C 103.72302 25.622132 103.84065 25.997842 104.05469 26.339844 C 104.26872 26.681846 104.54401 26.953582 104.87695 27.15625 L 112.04492 31.375 C 112.09262 31.40033 112.13432 31.425832 112.16992 31.451172 C 112.20552 31.476502 112.23401 31.488281 112.25781 31.488281 L 112.54297 31.640625 C 112.63817 31.691295 112.72361 31.754092 112.79492 31.830078 L 112.79492 33.994141 L 88.822266 33.994141 L 88.822266 31.830078 L 89.089844 31.640625 C 89.196862 31.564625 89.297447 31.513613 89.392578 31.488281 C 89.416398 31.462951 89.439071 31.442357 89.462891 31.429688 C 89.486711 31.416988 89.513289 31.412109 89.537109 31.412109 L 96.921875 27.117188 C 97.254845 26.939854 97.526184 26.681846 97.740234 26.339844 C 97.954274 25.997845 98.073886 25.622132 98.097656 25.216797 C 98.145256 24.811463 98.089577 24.421017 97.935547 24.041016 C 97.780967 23.661012 97.562734 23.343179 97.277344 23.089844 C 96.302254 22.279177 95.599958 21.120619 95.171875 19.613281 C 94.743792 18.105943 94.529297 16.870874 94.529297 15.908203 L 94.529297 10.777344 C 94.529297 9.8906751 95.178468 8.8782834 96.474609 7.7382812 C 97.770749 6.5982776 99.22654 6.0273453 100.84375 6.0273438 z M 21 7.9707031 C 20.447715 7.9707031 20 8.4184181 20 8.9707031 C 20 9.5229881 20.447715 9.9707031 21 9.9707031 L 69 9.9707031 C 69.552285 9.9707031 70 9.5229881 70 8.9707031 C 70 8.4184181 69.552285 7.9707031 69 7.9707031 L 21 7.9707031 z M 1 17.970703 C 0.4477153 17.970703 -2.220446e-16 18.418418 0 18.970703 C 0 19.522988 0.4477153 19.970703 1 19.970703 L 63 19.970703 C 63.552285 19.970703 64 19.522988 64 18.970703 C 64 18.418418 63.552285 17.970703 63 17.970703 L 1 17.970703 z M 21 27.970703 C 20.447715 27.970703 20 28.418418 20 28.970703 C 20 29.522988 20.447715 29.970703 21 29.970703 L 69 29.970703 C 69.552285 29.970703 70 29.522988 70 28.970703 C 70 28.418418 69.552285 27.970703 69 27.970703 L 21 27.970703 z"})))}var ks=n(48552),xs=n(14504);function Us(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.mail",defaultMessage:"Mail Icon"})},u.createElement("path",{d:"M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4M12,11L20,6H4L12,11M4,18H20V8.37L12,13.36L4,8.37V18Z"})))}function Zs(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.add-mail",defaultMessage:"Add Mail Icon"})},u.createElement("path",{d:"M3,4C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H14V18H3V8.37L11,13.36L19,8.37V13H21V6A2,2 0 0,0 19,4H3M3,6H19L11,11L3,6M19,15V18H16V20H19V23H21V20H24V18H21V15H19Z"})))}var js=n(38769),Fs=n(46261),Hs=n(54300),qs=n(56640),Bs=n(69632);function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Vs extends u.PureComponent{constructor(e){super(e),Gs(this,"renderUserName",(e=>{const t=(0,V.H6)(e);let n=null;t.fullName&&(n=u.createElement("span",{className:"fullname"},t.fullName));let s=null;return t.nickname&&(s=u.createElement("span",{className:"nickname"},t.nickname)),u.createElement(u.Fragment,null,t.displayName,n,s)})),Gs(this,"loadingMessage",(()=>{const e=u.createElement(ve.Z,{id:this.props.loadingMessageId,defaultMessage:this.props.loadingMessageDefault});return u.createElement(qs.Z,{text:e})})),Gs(this,"getOptionValue",(e=>e.id||e.value)),Gs(this,"formatOptionLabel",((e,t)=>{const n=(0,V.bb)(e.id,e.last_picture_update);let s=null,a=null;return e.is_bot&&(a=u.createElement(Hs.Z,null)),!(0,Ls.Jh)(e.value)&&(0,V.a_)(e)&&(s=u.createElement(Fs.Z,null)),"menu"===t.context?e.value&&(0,Ls.Jh)(e.value)?this.getCreateLabel(e.value):u.createElement(u.Fragment,null,u.createElement(Bs.Z,{size:"lg",username:e.username,url:n}),this.renderUserName(e),a,s):e.value&&(0,Ls.Jh)(e.value)?u.createElement(u.Fragment,null,u.createElement(Us,{className:"mail-icon"}),u.createElement("span",null,e.value)):u.createElement(u.Fragment,null,u.createElement(Bs.Z,{size:"sm",username:e.username,url:n}),(0,V.Gf)(e),a,s)})),Gs(this,"onChange",(e=>{this.props.onChange&&this.props.onChange(e.map((e=>e.id?e:e.value)))})),Gs(this,"getCreateLabel",(e=>u.createElement(u.Fragment,null,u.createElement(Zs,{className:"mail-plus-icon"}),u.createElement(on.Z,{key:"widgets.users_emails_input.valid_email",id:this.props.validAddressMessageId,defaultMessage:this.props.validAddressMessageDefault,values:{email:e},disableLinks:!0})))),Gs(this,"NoOptionsMessage",(e=>{const t=e.selectProps.inputValue;return t?u.createElement("div",{className:"users-emails-input__option users-emails-input__option--no-matches"},u.createElement(on.Z,{id:this.props.noMatchMessageId,defaultMessage:this.props.noMatchMessageDefault,values:{text:t},disableLinks:!0},(t=>u.createElement(xs.wx.NoOptionsMessage,e,t)))):null})),Gs(this,"MultiValueRemove",(({children:e,innerProps:t})=>u.createElement("div",t,e||u.createElement(js.Z,null)))),Gs(this,"components",{NoOptionsMessage:this.NoOptionsMessage,MultiValueRemove:this.MultiValueRemove,IndicatorsContainer:()=>null}),Gs(this,"handleInputChange",((e,t)=>{if("input-blur"===t.action&&""!==e){const e=this.props.value.map((e=>e.id?e:{label:e,value:e}));for(const t of this.state.options){if(this.props.inputValue===t.username||this.props.inputValue==="@"+t.username)return this.onChange([...e,t]),void this.props.onInputChange("");if(this.props.inputValue===t.email)return this.onChange([...e,t]),void this.props.onInputChange("")}if(this.props.emailInvitationsEnabled&&(0,Ls.Jh)(this.props.inputValue)){const t=this.props.inputValue;this.onChange([...e,{value:t,label:t}]),this.props.onInputChange("")}}"input-blur"!==t.action&&"menu-close"!==t.action&&this.props.onInputChange(e)})),Gs(this,"optionsLoader",((e,t)=>{const n=e=>{this.setState({options:e}),t(e)},s=this.props.usersLoader(this.props.inputValue,n);s&&s.then&&s.then(n)})),Gs(this,"showAddEmail",((e,t,n)=>this.props.emailInvitationsEnabled&&0===n.length&&(0,Ls.Jh)(e))),Gs(this,"onFocus",(()=>{this.selectRef.current.handleInputChange(this.props.inputValue,{action:"custom"})})),Gs(this,"onBlur",(()=>{this.selectRef.current.handleInputChange(this.props.inputValue,{action:"input-blur"})})),this.selectRef=u.createRef(),this.state={options:[]}}render(){const e=this.props.value.map((e=>e.id?e:{label:e,value:e}));return u.createElement(u.Fragment,null,u.createElement(ks.Z,{ref:this.selectRef,styles:this.customStyles,onChange:this.onChange,loadOptions:this.optionsLoader,isValidNewOption:this.showAddEmail,isMulti:!0,isClearable:!1,className:Te()("UsersEmailsInput",this.props.showError?"error":"",{empty:""===this.props.inputValue}),classNamePrefix:"users-emails-input",placeholder:this.props.placeholder,components:this.components,getOptionValue:this.getOptionValue,formatOptionLabel:this.formatOptionLabel,defaultOptions:!1,defaultMenuIsOpen:!1,openMenuOnClick:!1,loadingMessage:this.loadingMessage,onInputChange:this.handleInputChange,inputValue:this.props.inputValue,openMenuOnFocus:!0,onFocus:this.onFocus,onBlur:this.onBlur,tabSelectsValue:!0,value:e,"aria-label":this.props.ariaLabel}),this.props.showError&&u.createElement("div",{className:"InputErrorBox"},u.createElement(on.Z,{id:this.props.errorMessageId,defaultMessage:this.props.errorMessageDefault,values:this.props.errorMessageValues||null,disableLinks:!0},(e=>u.createElement(xs.wx.NoOptionsMessage,null,e))),this.props.extraErrorText||null))}}Gs(Vs,"propTypes",{placeholder:m().string,ariaLabel:m().string.isRequired,usersLoader:m().func,onChange:m().func,showError:m().bool,errorMessageId:m().string,errorMessageDefault:m().string,errorMessageValues:m().object,value:m().arrayOf(m().oneOfType([m().object,m().string])),onInputChange:m().func,inputValue:m().string,noMatchMessageId:m().string,noMatchMessageDefault:m().string,validAddressMessageId:m().string,validAddressMessageDefault:m().string,loadingMessageId:m().string,loadingMessageDefault:m().string,emailInvitationsEnabled:m().bool,extraErrorText:m().any}),Gs(Vs,"defaultProps",{noMatchMessageId:(0,it.t)("widgets.users_emails_input.no_user_found_matching"),noMatchMessageDefault:"No one found matching **{text}**, type email address",validAddressMessageId:(0,it.t)("widgets.users_emails_input.valid_email"),validAddressMessageDefault:"Add **{email}**",loadingMessageId:(0,it.t)("widgets.users_emails_input.loading"),loadingMessageDefault:"Loading",showError:!1});const Ws=e=>{const t=(0,a.useDispatch)(),n=e.styleButton?" style-button":"",s=e.styleLink?" style-link":"",i=u.createElement(ve.Z,{id:"upgradeLink.warn.upgrade_now",defaultMessage:"Upgrade now"});return u.createElement("button",{className:"upgradeLink".concat(n).concat(s),onClick:n=>(async n=>{n.preventDefault(),e.telemetryInfo&&(0,C.L9)("upgrade_mm_cloud",e.telemetryInfo);try{t((0,I.h)({modalId:R.r8.CLOUD_PURCHASE,dialogType:bs.Z}))}catch(e){}})(n)},e.buttonText?e.buttonText:i)};Ws.propTypes={telemetryInfo:m().string,buttonText:m().string,styleButton:m().bool,styleLink:m().bool};const zs=Ws;function Ys(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.link",defaultMessage:"Link Icon"})},u.createElement("path",{d:"M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z"})))}var Ks=n(12266),Js=n(67530);function Qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Xs extends u.PureComponent{constructor(e){super(e),Qs(this,"copyLink",(()=>{this.props.isCloud&&(0,C.L9)("cloud_invite_users","click_copy_link");const e=this.inviteLinkRef.current,t=document.createElement("textarea");t.innerText=e.value,t.style.position="fixed",t.style.opacity=0,document.body.appendChild(t),t.select();try{this.setState({copiedLink:document.execCommand("copy")})}catch(e){this.setState({copiedLink:!1})}t.remove(),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.setState({copiedLink:!1})}),3e3)})),Qs(this,"debouncedSearchProfiles",(0,Os.Ds)(((e,t)=>{this.props.searchProfiles(e).then((({data:n})=>{t(n),0===n.length?this.setState({termWithoutResults:e}):this.setState({termWithoutResults:null})})).catch((()=>{t([])}))}),150)),Qs(this,"usersLoader",((e,t)=>{if(this.state.termWithoutResults&&e.startsWith(this.state.termWithoutResults))t([]);else try{this.debouncedSearchProfiles(e,t)}catch(e){t([])}})),Qs(this,"onChange",(e=>{this.setState({usersAndEmails:e},(()=>{this.shouldShowPickerError()&&this.props.isCloud&&(0,C.L9)("cloud_invite_users","warning_near_limit",{remaining:this.getRemainingUsers()-this.state.usersAndEmails.length})})),this.props.onEdit(e.length>0||this.state.usersInputValue)})),Qs(this,"onUsersInputChange",(e=>{this.setState({usersInputValue:e}),this.props.onEdit(this.state.usersAndEmails.length>0||e)})),Qs(this,"submit",(()=>{this.props.isCloud&&(0,C.L9)("cloud_invite_users","click_send_invitations",{num_invitations:this.state.usersAndEmails.length});const e=[],t=[];for(const n of this.state.usersAndEmails)(0,Ls.Jh)(n)?t.push(n):e.push(n);this.props.onSubmit(e,t,this.state.usersInputValue)})),Qs(this,"getRemainingUsers",(()=>{const{subscriptionStats:e}=this.props,{usersAndEmails:t}=this.state;return e&&e.remaining_seats-t.length})),Qs(this,"shouldShowPickerError",(()=>{const{userLimit:e,isCloud:t,subscriptionStats:n}=this.props;if(n&&"true"===n.is_paid_tier)return!1;if("0"===e||!t)return!1;const s=this.getRemainingUsers();return 0===s&&""!==this.state.usersInputValue||s<0})),this.inviteLinkRef=u.createRef(),this.timeout=null,this.state={usersAndEmails:[],copiedLink:!1,termWithoutResults:null,usersInputValue:""}}render(){const e=(0,Ks.fO)()+"/signup_user_complete/?id="+this.props.inviteId;let t=(0,V._u)("invitation_modal.members.search-and-add.placeholder","Add members or email addresses"),n=(0,it.t)("invitation_modal.members.users_emails_input.no_user_found_matching"),s="No one found matching **{text}**, type email to invite";this.props.emailInvitationsEnabled||(t=(0,V._u)("invitation_modal.members.search-and-add.placeholder-email-disabled","Add members"),n=(0,it.t)("invitation_modal.members.users_emails_input.no_user_found_matching-email-disabled"),s="No one found matching **{text}**");const{subscriptionStats:a}=this.props,i=a&&a.remaining_seats,r=this.state.usersAndEmails.length>R.gT.MAX_ADD_MEMBERS_BATCH||0===this.state.usersAndEmails.length,o={showError:this.shouldShowPickerError(),errorMessageId:(0,it.t)("invitation_modal.invite_members.hit_cloud_user_limit"),errorMessageDefault:"You can only invite **{num} more {num, plural, one {member} other {members}}** to the team on the free tier.",errorMessageValues:{num:i<0?"0":i},extraErrorText:this.props.userIsAdmin?u.createElement(zs,{telemetryInfo:"click_upgrade_users_emails_input"}):u.createElement(ys,null)};return this.state.usersAndEmails.length>R.gT.MAX_ADD_MEMBERS_BATCH&&(o.showError=!0,o.errorMessageId=(0,it.t)("invitation_modal.invite_members.exceeded_max_add_members_batch"),o.errorMessageDefault="No more than **{text}** people can be invited at once",o.errorMessageValues.text=R.gT.MAX_ADD_MEMBERS_BATCH),u.createElement("div",{className:"InvitationModalMembersStep"},u.createElement("div",{className:"modal-icon"},u.createElement(Ds,null)),u.createElement("h1",{id:"invitation_modal_title"},u.createElement(on.Z,{id:"invitation_modal.members.title",defaultMessage:"Invite **Members** to {teamName}",values:{teamName:this.props.teamName}})),u.createElement("div",{className:"share-link","data-testid":"shareLink"},u.createElement("h2",null,u.createElement(ve.Z,{id:"invitation_modal.members.share_link.title",defaultMessage:"Share This Link"})),u.createElement("div",{className:"share-link-input-block"},u.createElement("input",{ref:this.inviteLinkRef,className:"share-link-input",type:"text",readOnly:!0,value:e,"aria-label":this.props.intl.formatMessage({id:"invitation_modal.members.share_link.input",defaultMessage:"team invite link"}),"data-testid":"shareLinkInput"}),u.createElement("button",{className:"share-link-input-button",onClick:this.copyLink,"data-testid":"shareLinkInputButton"},u.createElement(Ys,null),!this.state.copiedLink&&u.createElement(ve.Z,{id:"invitation_modal.members.share_link.copy_button",defaultMessage:"Copy Link"}),this.state.copiedLink&&u.createElement(ve.Z,{id:"invitation_modal.members.share_link.link_copied",defaultMessage:"Link Copied"}))),u.createElement("div",{className:"help-text"},u.createElement(ve.Z,{id:"invitation_modal.members.share_link.description",defaultMessage:"Share this link to invite people to this team."}))),u.createElement("div",{className:"invitation-modal-or"},u.createElement("hr",null),u.createElement("div",null,u.createElement(ve.Z,{id:"invitation_modal.members.or",defaultMessage:"OR"}))),u.createElement("div",{className:"search-and-add","data-testid":"searchAdd"},u.createElement("h2",null,u.createElement(ve.Z,{id:"invitation_modal.members.search_and_add.title",defaultMessage:"Add or Invite People"})),u.createElement("div",{"data-testid":"inputPlaceholder"},u.createElement(Vs,Object.assign({},o,{usersLoader:this.usersLoader,placeholder:t,ariaLabel:(0,V._u)("invitation_modal.members.search_and_add.title","Invite People"),onChange:this.onChange,value:this.state.usersAndEmails,validAddressMessageId:(0,it.t)("invitation_modal.members.users_emails_input.valid_email"),validAddressMessageDefault:"Invite **{email}** as a team member",noMatchMessageId:n,noMatchMessageDefault:s,onInputChange:this.onUsersInputChange,inputValue:this.state.usersInputValue,emailInvitationsEnabled:this.props.emailInvitationsEnabled}))),u.createElement("div",{className:"help-text"},this.props.emailInvitationsEnabled&&u.createElement(ve.Z,{id:"invitation_modal.members.search-and-add.description",defaultMessage:"Add existing members or send email invites to new members."}),!this.props.emailInvitationsEnabled&&u.createElement(ve.Z,{id:"invitation_modal.members.search-and-add.description-email-disabled",defaultMessage:"Add existing members to this team."}))),u.createElement("div",{className:"invite-members"},u.createElement("button",{className:"btn "+(r?"btn-inactive":"btn-primary"),onClick:this.submit,disabled:r,id:"inviteMembersButton"},u.createElement(ve.Z,{id:"invitation_modal.members.invite_button",defaultMessage:"Invite Members"}))))}}Qs(Xs,"propTypes",{teamName:m().string.isRequired,currentTeamId:m().string.isRequired,intl:m().any,inviteId:m().string.isRequired,searchProfiles:m().func.isRequired,emailInvitationsEnabled:m().bool.isRequired,onEdit:m().func.isRequired,onSubmit:m().func.isRequired,userLimit:m().string.isRequired,currentUsers:m().number.isRequired,userIsAdmin:m().bool.isRequired,isCloud:m().bool.isRequired,subscriptionStats:m().object,actions:m().shape({getSubscriptionStats:m().func.isRequired}).isRequired});const $s=(0,we.ZP)((0,Js.Z)(Xs)),ea=(0,a.connect)((function(e){return{userLimit:(0,i.iE)(e).ExperimentalCloudUserLimit,userIsAdmin:(0,V.GJ)((0,r.ts)(e).roles),isCloud:"true"===(0,i.lJ)(e).Cloud,subscriptionStats:(0,i.F3)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getSubscriptionStats:_n.F3},e)}}))($s);function ta(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.close",defaultMessage:"Close Icon"})},u.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})))}var na=n(60820),sa=n(3636),aa=n(37951);function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ra extends u.PureComponent{constructor(e){super(e),ia(this,"getOptionValue",(e=>e.id)),ia(this,"handleInputChange",((e,t)=>{if("input-blur"===t.action&&""!==e)for(const e of this.state.options)if(this.props.inputValue===e.name)return this.onChange([...this.props.value,e]),void this.props.onInputChange("");"input-blur"!==t.action&&"menu-close"!==t.action&&this.props.onInputChange(e)})),ia(this,"optionsLoader",((e,t)=>{const n=e=>{this.setState({options:e}),t(e)},s=this.props.channelsLoader(this.props.inputValue,n);s&&s.then&&s.then(n)})),ia(this,"loadingMessage",(()=>{const e=u.createElement(ve.Z,{id:this.props.loadingMessageId,defaultMessage:this.props.loadingMessageDefault});return u.createElement(qs.Z,{text:e})})),ia(this,"NoOptionsMessage",(e=>{const t=e.selectProps.inputValue;return t?u.createElement("div",{className:"channels-input__option channels-input__option--no-matches"},u.createElement(on.Z,{id:this.props.noOptionsMessageId,defaultMessage:this.props.noOptionsMessageDefault,values:{text:t}},(t=>u.createElement(xs.wx.NoOptionsMessage,e,t)))):null})),ia(this,"formatOptionLabel",(e=>{let t=u.createElement(sa.Z,{className:"public-channel-icon"});return e.type===R.gT.PRIVATE_CHANNEL&&(t=u.createElement(aa.Z,{className:"private-channel-icon"})),u.createElement(u.Fragment,null,t,e.display_name,u.createElement("span",{className:"channel-name"},e.name))})),ia(this,"onChange",(e=>{this.props.onChange&&this.props.onChange(e)})),ia(this,"MultiValueRemove",(({children:e,innerProps:t})=>u.createElement("div",t,e||u.createElement(js.Z,null)))),ia(this,"components",{NoOptionsMessage:this.NoOptionsMessage,MultiValueRemove:this.MultiValueRemove,IndicatorsContainer:()=>null}),ia(this,"onFocus",(()=>{this.selectRef.current.handleInputChange(this.props.inputValue,{action:"custom"})})),this.selectRef=u.createRef(),this.state={options:[]}}render(){return u.createElement(na.default,{ref:this.selectRef,styles:this.customStyles,onChange:this.onChange,loadOptions:this.optionsLoader,isMulti:!0,isClearable:!1,className:Te()("ChannelsInput",{empty:""===this.props.inputValue}),classNamePrefix:"channels-input",placeholder:this.props.placeholder,components:this.components,getOptionValue:this.getOptionValue,formatOptionLabel:this.formatOptionLabel,noOptionsMessage:this.noOptionsMessage,loadingMessage:this.loadingMessage,defaultOptions:!1,defaultMenuIsOpen:!1,openMenuOnClick:!1,onInputChange:this.handleInputChange,inputValue:this.props.inputValue,openMenuOnFocus:!0,onFocus:this.onFocus,tabSelectsValue:!0,value:this.props.value,"aria-label":this.props.ariaLabel})}}function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ia(ra,"propTypes",{placeholder:m().string,ariaLabel:m().string.isRequired,channelsLoader:m().func,onChange:m().func,value:m().arrayOf(m().object),onInputChange:m().func,inputValue:m().string,loadingMessageId:m().string,loadingMessageDefault:m().string,noOptionsMessageId:m().string,noOptionsMessageDefault:m().string}),ia(ra,"defaultProps",{loadingMessageId:(0,it.t)("widgets.channels_input.loading"),loadingMessageDefault:"Loading",noOptionsMessageId:(0,it.t)("widgets.channels_input.empty"),noOptionsMessageDefault:"No channels found"});class la extends u.PureComponent{constructor(e){super(e),oa(this,"onUsersEmailsChange",(e=>{this.setState({usersAndEmails:e}),this.props.onEdit(e.length>0||this.state.channels.length>0||""!==this.state.customMessage||this.state.usersInputValue||this.state.channelsInputValue)})),oa(this,"onChannelsChange",(e=>{this.setState({channels:e}),this.props.onEdit(this.state.usersAndEmails.length>0||e.length>0||""!==this.state.customMessage||this.state.usersInputValue||this.state.channelsInputValue)})),oa(this,"onMessageChange",(e=>{this.setState({customMessage:e.target.value}),this.props.onEdit(this.state.usersAndEmails.length>0||this.state.channels.length>0||""!==e.target.value||this.state.usersInputValue||this.state.channelsInputValue)})),oa(this,"onUsersInputChange",(e=>{this.setState({usersInputValue:e}),this.props.onEdit(this.state.usersAndEmails.length>0||this.state.channels.length>0||""!==this.state.customMessage||e||this.state.channelsInputValue)})),oa(this,"onChannelsInputChange",(e=>{this.setState({channelsInputValue:e}),this.props.onEdit(this.state.usersAndEmails.length>0||this.state.channels.length>0||""!==this.state.customMessage||this.state.usersInputValue||e)})),oa(this,"debouncedSearchProfiles",(0,Os.Ds)(((e,t)=>{this.props.searchProfiles(e).then((({data:n})=>{t(n),0===n.length?this.setState({termWithoutResults:e}):this.setState({termWithoutResults:null})})).catch((()=>{t([])}))}),150)),oa(this,"usersLoader",((e,t)=>{if(this.state.termWithoutResults&&e.startsWith(this.state.termWithoutResults))t([]);else try{this.debouncedSearchProfiles(e,t)}catch(e){t([])}})),oa(this,"debouncedSearchChannels",(0,Os.Ds)((e=>this.props.searchChannels(this.props.currentTeamId,e)),150)),oa(this,"channelsLoader",(async e=>e?(this.debouncedSearchChannels(e),this.props.myInvitableChannels.filter((t=>t.display_name.toLowerCase().startsWith(e.toLowerCase())||t.name.toLowerCase().startsWith(e.toLowerCase())))):this.props.myInvitableChannels)),oa(this,"openCustomMessage",(()=>{this.setState({customMessageOpen:!0}),setTimeout((()=>{this.textareaRef.current&&this.textareaRef.current.focus()}))})),oa(this,"closeCustomMessage",(()=>{this.setState({customMessageOpen:!1})})),oa(this,"sendInvites",(()=>{const e=[],t=[];for(const n of this.state.usersAndEmails)(0,Ls.Jh)(n)?t.push(n):e.push(n);this.props.onSubmit(e,t,this.state.channels,this.state.customMessageOpen?this.state.customMessage:"",this.state.usersInputValue,this.state.channelsInputValue)})),oa(this,"getRemainingUsers",(()=>{const{subscriptionStats:e}=this.props,{usersAndEmails:t}=this.state;return e&&e.remaining_seats-t.length})),oa(this,"shouldShowPickerError",(()=>{const{userLimit:e,userIsAdmin:t,isCloud:n,subscriptionStats:s}=this.props;if(s&&"true"===s.is_paid_tier)return!1;if("0"===e||!t||!n)return!1;const a=this.getRemainingUsers();return 0===a&&""!==this.state.usersInputValue||a<0})),this.textareaRef=u.createRef(),this.state={customMessageOpen:Boolean(e.defaultMessage),customMessage:e.defaultMessage||"",usersAndEmails:[],channels:e.defaultChannels||[],usersInputValue:"",channelsInputValue:""}}render(){let e=(0,V._u)("invitation_modal.guests.search-and-add.placeholder","Add guests or email addresses"),t=(0,it.t)("invitation_modal.guests.users_emails_input.no_user_found_matching"),n="No one found matching **{text}**, type email to invite";this.props.emailInvitationsEnabled||(e=(0,V._u)("invitation_modal.guests.search-and-add.placeholder-email-disabled","Add guests"),t=(0,it.t)("invitation_modal.guests.users_emails_input.no_user_found_matching-email-disabled"),n="No one found matching **{text}**");const{subscriptionStats:s}=this.props,a=s&&s.remaining_seats;return u.createElement("div",{className:"InvitationModalGuestsStep"},u.createElement("div",{className:"modal-icon"},u.createElement(Ns,null)),u.createElement("h1",{id:"invitation_modal_title"},u.createElement(on.Z,{id:"invitation_modal.guests.title",defaultMessage:"Invite **Guests** to {teamName}",values:{teamName:this.props.teamName}})),u.createElement("div",{className:"add-people","data-testid":"addPeople"},u.createElement("h2",null,u.createElement(ve.Z,{id:"invitation_modal.guests.add_people.title",defaultMessage:"Invite People"})),u.createElement("div",{"data-testid":"emailPlaceholder"},u.createElement(Vs,{usersLoader:this.usersLoader,placeholder:e,ariaLabel:(0,V._u)("invitation_modal.guests.add_people.title","Invite People"),showError:this.shouldShowPickerError(),errorMessageId:(0,it.t)("invitation_modal.invite_members.hit_cloud_user_limit"),errorMessageDefault:"You can only invite **{num} more {num, plural, one {member} other {members}}** to the team on the free tier.",errorMessageValues:{num:a<0?"0":a},extraErrorText:u.createElement(zs,{handleClick:e=>this.handleLinkClick(e)}),onChange:this.onUsersEmailsChange,value:this.state.usersAndEmails,onInputChange:this.onUsersInputChange,inputValue:this.state.usersInputValue,validAddressMessageId:(0,it.t)("invitation_modal.guests.users_emails_input.valid_email"),validAddressMessageDefault:"Invite **{email}** as a guest",noMatchMessageId:t,noMatchMessageDefault:n,emailInvitationsEnabled:this.props.emailInvitationsEnabled})),u.createElement("div",{className:"help-text"},this.props.emailInvitationsEnabled&&u.createElement(ve.Z,{id:"invitation_modal.guests.add_people.description",defaultMessage:"Add existing guests or send email invites to new guests."}),!this.props.emailInvitationsEnabled&&u.createElement(ve.Z,{id:"invitation_modal.guests.add_people.description-email-disabled",defaultMessage:"Add existing guests."}))),u.createElement("div",{className:"add-channels","data-testid":"channelPlaceholder"},u.createElement("h2",null,u.createElement(ve.Z,{id:"invitation_modal.guests.add_channels.title",defaultMessage:"Search and Add Channels"})),u.createElement("div",null,u.createElement(ve.Z,{id:"invitation_modal.guests.add_channels.placeholder",defaultMessage:"Search and add channels"},(e=>u.createElement(ra,{placeholder:e,ariaLabel:(0,V._u)("invitation_modal.guests.add_channels.title","Search and Add Channels"),channelsLoader:this.channelsLoader,onChange:this.onChannelsChange,onInputChange:this.onChannelsInputChange,inputValue:this.state.channelsInputValue,value:this.state.channels})))),u.createElement("div",{className:"help-text"},u.createElement(ve.Z,{id:"invitation_modal.guests.add-channels.description",defaultMessage:"Specify the channels the guests have access to."}))),u.createElement("div",{className:"custom-message","data-testid":"customMessage"},!this.state.customMessageOpen&&u.createElement("a",{onClick:this.openCustomMessage,href:"#"},u.createElement(ve.Z,{id:"invitation_modal.guests.custom-message.link",defaultMessage:"Set a custom message"})),this.state.customMessageOpen&&u.createElement(u.Fragment,null,u.createElement("div",null,u.createElement(ve.Z,{id:"invitation_modal.guests.custom-message.title",defaultMessage:"Custom message"}),u.createElement(ta,{onClick:this.closeCustomMessage})),u.createElement("textarea",{ref:this.textareaRef,onChange:this.onMessageChange,value:this.state.customMessage})),u.createElement("div",{className:"help-text"},u.createElement(ve.Z,{id:"invitation_modal.guests.custom-message.description",defaultMessage:"Create a custom message to make your invite more personal."}))),u.createElement("div",{className:"invite-guests"},u.createElement("button",{className:"btn "+(0===this.state.channels.length||0===this.state.usersAndEmails.length?"btn-inactive":"btn-primary"),disabled:0===this.state.channels.length||0===this.state.usersAndEmails.length,onClick:this.sendInvites,id:"inviteGuestButton"},u.createElement(ve.Z,{id:"invitation_modal.guests.invite_button",defaultMessage:"Invite Guests"}))))}}oa(la,"propTypes",{teamName:m().string.isRequired,myInvitableChannels:m().array.isRequired,currentTeamId:m().string.isRequired,searchProfiles:m().func.isRequired,searchChannels:m().func.isRequired,defaultChannels:m().array,defaultMessage:m().string,onEdit:m().func.isRequired,onSubmit:m().func.isRequired,emailInvitationsEnabled:m().bool.isRequired,userLimit:m().string.isRequired,userIsAdmin:m().bool.isRequired,isCloud:m().bool.isRequired,subscriptionStats:m().object,actions:m().shape({getSubscriptionStats:m().func.isRequired}).isRequired});const ca=(0,Js.Z)(la),da=(0,a.connect)((function(e){return{userLimit:(0,i.iE)(e).ExperimentalCloudUserLimit,userIsAdmin:(0,V.GJ)((0,r.ts)(e).roles),isCloud:"true"===(0,i.lJ)(e).Cloud,subscriptionStats:(0,i.F3)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getSubscriptionStats:_n.F3},e)}}))(ca);function ma(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.alert",defaultMessage:"Alert Icon"})},u.createElement("path",{d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"})))}class ua extends u.PureComponent{render(){const{invitation:e}=this.props;let t,n,s,a,i;if(e.user){s="name";const r=(0,V.bb)(e.user.id,e.user.last_picture_update);t=u.createElement(Bs.Z,{username:e.user.username,url:r,size:"lg"}),n=(0,V.JF)(e.user),e.user.is_bot&&(i=u.createElement(Hs.Z,null)),(0,V.a_)(e.user)&&(a=u.createElement(Fs.Z,null))}else e.email?(s="email",t=u.createElement(Us,{className:"mail-icon"}),n=e.email):(s="name",t=u.createElement(ma,{className:"alert-icon"}),n=e.text);let r=e.reason;return e.reason&&e.reason.id&&(r=u.createElement(ve.Z,{id:e.reason.id,defaultMessage:e.reason.message,values:e.reason.values})),u.createElement("div",{className:"InvitationModalConfirmStepRow"},u.createElement("div",{className:"username-or-icon"},t,u.createElement("span",{className:s},n,i,a)),u.createElement("div",{className:"reason"},r))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ua,"propTypes",{invitation:m().object.isRequired});class pa extends u.PureComponent{render(){return u.createElement("div",{className:"InvitationModalConfirmStepTable"},u.createElement("div",{className:"table-header"},u.createElement("div",{className:"people-header"},u.createElement(ve.Z,{id:"invitation-modal.confirm.people-header",defaultMessage:"People"})),u.createElement("div",{className:"details-header"},u.createElement(ve.Z,{id:"invitation-modal.confirm.details-header",defaultMessage:"Details"}))),u.createElement("div",{className:"rows"},this.props.invites.map((e=>u.createElement(ua,{key:e.text||e.email||e.user.id,invitation:e})))))}}function ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(pa,"propTypes",{invites:m().arrayOf(m().object).isRequired});class ga extends u.PureComponent{constructor(...e){super(...e),ha(this,"getInvitesCountsMessage",((e,t)=>e>0&&t>0?u.createElement(on.Z,{id:"invitation_modal.confirm.members_subtitle",defaultMessage:"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent",values:{sentCount:e,notSentCount:t}}):e>0&&0===t?u.createElement(on.Z,{id:"invitation_modal.confirm.members_subtitle_without_not_sent",defaultMessage:"**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited",values:{sentCount:e}}):0===e&&t>0?u.createElement(on.Z,{id:"invitation_modal.confirm.members_subtitle_without_sent",defaultMessage:"**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent",values:{notSentCount:t}}):u.createElement(on.Z,{id:"invitation_modal.confirm.members_subtitle_without_sent_and_not_sent",defaultMessage:"No invitation sent"})))}render(){const{teamName:e,invitesType:t,invitesSent:n,invitesNotSent:s,onDone:a,onInviteMore:i}=this.props;return u.createElement("div",{className:"InvitationModalConfirmStep"},u.createElement("div",{className:"modal-icon"},u.createElement(Ns,null)),t===R.wx.INVITE_MEMBER&&u.createElement("h1",{id:"invitation_modal_title"},u.createElement(on.Z,{id:"invitation_modal.confirm.members_title",defaultMessage:"**Members** Invited to **{teamName}**",values:{teamName:e}})),t===R.wx.INVITE_GUEST&&u.createElement("h1",{id:"invitation_modal_title"},u.createElement(on.Z,{id:"invitation_modal.confirm.guests_title",defaultMessage:"**Guests** Invited to **{teamName}**",values:{teamName:e}})),u.createElement("h2",{className:"subtitle"},this.getInvitesCountsMessage(n.length,s.length)),n.length>0&&u.createElement("div",{className:"invitation-modal-confirm-sent"},u.createElement("h2",null,u.createElement(ve.Z,{id:"invitation_modal.confirm.sent-header",defaultMessage:"Successful Invites"})),u.createElement(pa,{invites:n})),s.length>0&&u.createElement("div",{className:"invitation-modal-confirm-not-sent"},u.createElement("h2",null,u.createElement(ve.Z,{id:"invitation_modal.confirm.not-sent-header",defaultMessage:"Invitations Not Sent"})),u.createElement(pa,{invites:s})),u.createElement("div",{className:"button-input-block"},u.createElement("button",{className:"btn invite-more",onClick:i},u.createElement(ve.Z,{id:"invitation_modal.invite.more",defaultMessage:"Invite More People"})),u.createElement("button",{className:"btn btn-primary confirm-done",onClick:a},u.createElement(ve.Z,{id:"invitation_modal.confirm.done",defaultMessage:"Done"}))))}}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ha(ga,"propTypes",{teamName:m().string.isRequired,onDone:m().func.isRequired,onInviteMore:m().func.isRequired,invitesType:m().oneOf([R.wx.INVITE_MEMBER,R.wx.INVITE_GUEST]).isRequired,invitesSent:m().array.isRequired,invitesNotSent:m().array.isRequired});const ba="initial",_a="members",Ea="guests",Ca="confirm";class ya extends u.PureComponent{constructor(e){super(e),fa(this,"modal",u.createRef()),fa(this,"goToFirstStep",(()=>{this.props.canAddUsers&&this.props.canInviteGuests?this.goToInitialStep():this.props.canAddUsers?this.goToMembers():this.props.canInviteGuests?this.goToGuests():this.close()})),fa(this,"goToInitialStep",(()=>{this.state.hasChanges?this.setState({confirmBack:!0}):this.setState({step:ba,hasChanges:!1,lastInviteChannels:[],lastInviteMesssage:"",prevStep:this.state.step}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()})),fa(this,"goToMembers",(()=>{this.props.isCloud&&(0,C.L9)("cloud_invite_users","click_invite_members"),this.setState({step:_a,prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:R.wx.INVITE_MEMBER}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()})),fa(this,"goToGuests",(()=>{this.props.isCloud&&(0,C.L9)("cloud_invite_users","click_invite_guests"),this.setState({step:Ea,prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:R.wx.INVITE_GUEST}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()})),fa(this,"goToPrevStep",(()=>{this.state.prevStep===Ea?this.setState({step:Ea,prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:R.wx.INVITE_GUEST}):this.state.prevStep===_a&&this.setState({step:_a,prevStep:this.state.step,hasChanges:!1,invitesSent:[],invitesNotSent:[],invitesType:R.wx.INVITE_MEMBER}),this.modal&&this.modal.current&&this.modal.current.enforceFocus()})),fa(this,"getBackFunction",(()=>this.state.step===Ca&&this.state.invitesNotSent.length>0?this.goToPrevStep:(this.state.step===_a||this.state.step===Ea)&&this.props.canInviteGuests&&this.props.canAddUsers?this.goToInitialStep:null)),fa(this,"onEdit",(e=>{this.setState({hasChanges:e})})),fa(this,"close",(()=>{this.state.hasChanges?this.setState({confirmModal:!0}):this.props.actions.closeModal()})),fa(this,"confirmBack",(()=>{this.setState({step:ba,hasChanges:!1,confirmBack:!1})})),fa(this,"cancelBack",(()=>{this.setState({confirmBack:!1})})),fa(this,"confirmClose",(()=>{this.props.actions.closeModal(),this.setState({confirmModal:!1})})),fa(this,"cancelClose",(()=>{this.setState({confirmModal:!1})})),fa(this,"onMembersSubmit",(async(e,t,n)=>{const s=await this.props.actions.sendMembersInvites(this.props.currentTeam.id,e,t);this.props.isCloud&&(0,C.L9)("cloud_invite_users","invitations_sent",{num_invitations_sent:s.sent}),""!==n&&s.notSent.push({text:n,reason:u.createElement(ve.Z,{id:"invitation-modal.confirm.not-valid-user-or-email",defaultMessage:"Does not match a valid user or email."})}),this.setState({step:Ca,prevStep:this.state.step,invitesSent:s.sent,invitesNotSent:s.notSent,invitesType:R.wx.INVITE_MEMBER,hasChanges:!1})})),fa(this,"onGuestsSubmit",(async(e,t,n,s,a,i)=>{const r=await this.props.actions.sendGuestsInvites(this.props.currentTeam.id,n.map((e=>e.id)),e,t,s);""!==a&&r.notSent.push({text:a,reason:u.createElement(ve.Z,{id:"invitation-modal.confirm.not-valid-user-or-email",defaultMessage:"Does not match a valid user or email."})}),""!==i&&r.notSent.push({text:i,reason:u.createElement(ve.Z,{id:"invitation-modal.confirm.not-valid-channel",defaultMessage:"Does not match a valid channel name."})}),this.setState({step:Ca,prevStep:this.state.step,lastInviteChannels:n,lastInviteMessage:s,invitesSent:r.sent,invitesNotSent:r.notSent,invitesType:R.wx.INVITE_GUEST,hasChanges:!1})}));let t=ba;e.canInviteGuests||(t=_a),e.canAddUsers||(t=Ea),this.state={step:t,prevStep:null,lastInviteChannels:[],lastInviteMessage:"",confirmModal:!1,confirmBack:!1,hasChanges:!1,invitesType:R.wx.INVITE_MEMBER,invitesSent:[],invitesNotSent:[]}}componentDidMount(){this.props.isCloud&&(0,C.tF)("cloud_invite_users","pageview_invite_users")}componentDidUpdate(e,t){this.state.step!==_a||t.step===_a||this.props.currentTeam.invite_id||this.props.actions.getTeam(this.props.currentTeam.id)}render(){const e=u.createElement(gs.Z,null,u.createElement(hs.Z,{show:Boolean(this.props.show),onClose:this.close,onGoBack:this.getBackFunction(),ref:this.modal,ariaLabelledBy:"invitation_modal_title"},u.createElement("div",{"data-testid":"invitationModal",className:"InvitationModal"},u.createElement($e.Z,{show:this.state.confirmModal||this.state.confirmBack,title:u.createElement(ve.Z,{id:"invitation-modal.discard-changes.title",defaultMessage:"Discard Changes"}),message:u.createElement(ve.Z,{id:"invitation-modal.discard-changes.message",defaultMessage:"You have unsent invitations, are you sure you want to discard them?"}),confirmButtonText:u.createElement(ve.Z,{id:"invitation-modal.discard-changes.button",defaultMessage:"Yes, Discard"}),modalClass:"invitation-modal-confirm",onConfirm:this.state.confirmModal?this.confirmClose:this.confirmBack,onCancel:this.state.confirmModal?this.cancelClose:this.cancelBack}),this.state.step===ba&&u.createElement(As,{teamName:this.props.currentTeam.display_name,goToMembers:this.goToMembers,goToGuests:this.goToGuests,emailInvitationsEnabled:this.props.emailInvitationsEnabled}),this.state.step===_a&&u.createElement(ea,{teamName:this.props.currentTeam.display_name,currentTeamId:this.props.currentTeam.id,inviteId:this.props.currentTeam.invite_id,searchProfiles:this.props.actions.searchProfiles,emailInvitationsEnabled:this.props.emailInvitationsEnabled,onSubmit:this.onMembersSubmit,onEdit:this.onEdit}),this.state.step===Ea&&u.createElement(da,{teamName:this.props.currentTeam.display_name,currentTeamId:this.props.currentTeam.id,myInvitableChannels:this.props.invitableChannels,searchProfiles:this.props.actions.searchProfiles,searchChannels:this.props.actions.searchChannels,defaultChannels:this.state.lastInviteChannels,defaultMessage:this.state.lastInviteMessage,emailInvitationsEnabled:this.props.emailInvitationsEnabled,onSubmit:this.onGuestsSubmit,onEdit:this.onEdit}),this.state.step===Ca&&u.createElement(ga,{teamName:this.props.currentTeam.display_name,currentTeamId:this.props.currentTeam.id,onDone:this.close,onInviteMore:this.goToFirstStep,invitesType:this.state.invitesType,invitesSent:this.state.invitesSent,invitesNotSent:this.state.invitesNotSent})))),t={closeModal:this.props.actions.closeModal,openModal:this.props.actions.openModal},n=u.createElement(Ms,{userIsAdmin:this.props.userIsAdmin,cloudUserLimit:this.props.cloudUserLimit,show:Boolean(this.props.show),actions:t});return u.createElement(u.Fragment,null,this.props.isFreeTierWithNoFreeSeats?n:e)}}fa(ya,"propTypes",{show:m().bool,currentTeam:m().object.isRequired,invitableChannels:m().array.isRequired,canInviteGuests:m().bool.isRequired,canAddUsers:m().bool.isRequired,emailInvitationsEnabled:m().bool.isRequired,isCloud:m().bool.isRequired,isFreeTierWithNoFreeSeats:m().bool.isRequired,userIsAdmin:m().bool.isRequired,cloudUserLimit:m().string.isRequired,actions:m().shape({closeModal:m().func.isRequired,sendGuestsInvites:m().func.isRequired,sendMembersInvites:m().func.isRequired,searchProfiles:m().func.isRequired,searchChannels:m().func.isRequired,getTeam:m().func.isRequired,openModal:m().func}).isRequired});const va=(e,t={})=>e?(0,K.t6)(e,t):(0,K.cp)(0,20,t),wa=(e,t)=>(0,J.r6)(e,t),Sa=(0,a.connect)((function(e){const t=(0,i.iE)(e),n=(0,i.lJ)(e),s=(0,ee.zE)(e),a=(0,o.kA)(e),l=(0,i.F3)(e),c=s.filter((t=>t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&(t.type===R.gT.PRIVATE_CHANNEL?(0,ge.Ai)(e,{channel:t.id,team:a.id,permission:he.Pl.MANAGE_PRIVATE_CHANNEL_MEMBERS}):(0,ge.Ai)(e,{channel:t.id,team:a.id,permission:he.Pl.MANAGE_PUBLIC_CHANNEL_MEMBERS})))),d="true"===t.EnableGuestAccounts,m="true"===t.EnableEmailInvitations,u=n&&"true"===n.IsLicensed,p=!Boolean(a.group_constrained)&&u&&d&&(0,ge.Rm)(e,{team:a.id,permission:he.Pl.INVITE_GUEST}),h="true"===n.Cloud,g=h&&!ds()(l)&&"false"===l.is_paid_tier&&l.remaining_seats<=0,f=(0,ge.Rm)(e,{team:a.id,permission:he.Pl.ADD_USER_TO_TEAM});return{invitableChannels:c,currentTeam:a,canInviteGuests:p,canAddUsers:f,isFreeTierWithNoFreeSeats:g,emailInvitationsEnabled:m,show:(0,Yn.g)(e,R.r8.INVITATION),isCloud:h,userIsAdmin:(0,V.GJ)((0,r.ts)(e).roles),cloudUserLimit:t.ExperimentalCloudUserLimit||"10"}}),(function(e){return{actions:(0,s.bindActionCreators)({closeModal:()=>(0,I.M)(R.r8.INVITATION),sendGuestsInvites:us,sendMembersInvites:ms,searchProfiles:va,searchChannels:wa,getTeam:Q.VP,openModal:e=>(0,I.h)(e)},e)}}))(ya);function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pa extends u.PureComponent{constructor(e){super(e),Ta(this,"handleHide",(()=>{this.setState({show:!1})})),Ta(this,"handleExit",(()=>{this.props.onHide()})),Ta(this,"handleInvitePeople",(()=>{const{actions:e}=this.props;e.openModal({modalId:R.r8.INVITATION,dialogType:Sa}),this.handleExit()})),this.state={show:!0}}componentDidMount(){this.props.onLoad&&this.props.onLoad()}render(){let e="";return this.props.currentTeam&&(e=this.props.currentTeam.display_name),u.createElement(ye.Z,{dialogClassName:"a11y__modal more-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"teamMemberModalLabel",id:"teamMembersModal"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"teamMemberModalLabel"},u.createElement(ve.Z,{id:"team_member_modal.members",defaultMessage:"{team} Members",values:{team:e}})),u.createElement(Wn.Z,{teamId:this.props.currentTeam.id,permissions:[Kn.Z.ADD_USER_TO_TEAM,Kn.Z.INVITE_GUEST]},u.createElement("button",{id:"invitePeople",type:"button",className:"btn btn-primary invite-people-btn",onClick:this.handleInvitePeople},u.createElement(ve.Z,{id:"team_member_modal.invitePeople",defaultMessage:"Invite People"})))),u.createElement(ye.Z.Body,null,u.createElement(ls,{teamId:this.props.currentTeam.id})))}}Ta(Pa,"propTypes",{currentTeam:m().shape({id:m().string.isRequired,display_name:m().string.isRequired}).isRequired,onHide:m().func.isRequired,onLoad:m().func,actions:m().shape({openModal:m().func.isRequired}).isRequired});const Ma=(0,a.connect)((function(e){const t=R.r8.TEAM_MEMBERS;return{currentTeam:(0,o.kA)(e),show:(0,Yn.g)(e,t)}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h},e)}}))(Pa);var Na=n(4002),Ia=n.n(Na),Ra=n(73935),Aa=(n(41817),n(93733)),Oa=n(87878),La=n(68538),Da=n(70767),ka=n(927);function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){Za(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ja=["image/jpeg","image/png","image/bmp"];class Fa extends u.PureComponent{constructor(e){super(e),Za(this,"updateSection",(e=>{this.setState(this.setupInitialState(this.props)),this.props.updateSection(e)})),Za(this,"handleOpenInviteRadio",(e=>{this.setState({allow_open_invite:e})})),Za(this,"handleAllowedDomainsSubmit",(async()=>{var e={serverError:"",clientError:""},t=Ua({},this.props.team);t.allowed_domains=this.state.allowed_domains;const{error:n}=await this.props.actions.patchTeam(t);n?(e.serverError=n.message,this.setState(e)):this.updateSection("")})),Za(this,"handleOpenInviteSubmit",(async()=>{var e={serverError:"",clientError:""},t=Ua({},this.props.team);t.allow_open_invite=this.state.allow_open_invite;const{error:n}=await this.props.actions.patchTeam(t);n?(e.serverError=n.message,this.setState(e)):this.updateSection("")})),Za(this,"handleNameSubmit",(async()=>{var e={serverError:"",clientError:""};let t=!0;const n=this.state.name.trim();if(n?n.length<R.ZP.MIN_TEAMNAME_LENGTH?(e.clientError=u.createElement(ve.Z,{id:"general_tab.teamNameRestrictions",defaultMessage:"Team Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description.",values:{min:R.ZP.MIN_TEAMNAME_LENGTH,max:R.ZP.MAX_TEAMNAME_LENGTH}}),t=!1):e.clientError="":(e.clientError=V._u("general_tab.required","This field is required"),t=!1),this.setState(e),!t)return;var s=Ua({},this.props.team);s.display_name=this.state.name;const{error:a}=await this.props.actions.patchTeam(s);a?(e.serverError=a.message,this.setState(e)):this.updateSection("")})),Za(this,"handleInviteIdSubmit",(async()=>{const e={serverError:"",clientError:""};this.setState(e);const{error:t}=await this.props.actions.regenerateTeamInviteId(this.props.team.id);t?(e.serverError=t.message,this.setState(e)):this.updateSection("")})),Za(this,"handleClose",(()=>{this.updateSection("")})),Za(this,"handleDescriptionSubmit",(async()=>{var e={serverError:"",clientError:""};let t=!0;if(this.state.description.trim()===this.props.team.description?(e.clientError=V._u("general_tab.chooseDescription","Please choose a new description for your team"),t=!1):e.clientError="",this.setState(e),!t)return;var n=Ua({},this.props.team);n.description=this.state.description;const{error:s}=await this.props.actions.patchTeam(n);s?(e.serverError=s.message,this.setState(e)):this.updateSection("")})),Za(this,"handleTeamIconSubmit",(async()=>{if(!this.state.teamIconFile)return;if(!this.state.submitActive)return;this.setState({loadingIcon:!0,clientError:"",serverError:""});const{error:e}=await this.props.actions.setTeamIcon(this.props.team.id,this.state.teamIconFile);e?this.setState({loadingIcon:!1,serverError:e.message}):(this.setState({loadingIcon:!1,submitActive:!1}),this.updateSection(""))})),Za(this,"handleTeamIconRemove",(async()=>{this.setState({loadingIcon:!0,clientError:"",serverError:""});const{error:e}=await this.props.actions.removeTeamIcon(this.props.team.id);e?this.setState({loadingIcon:!1,serverError:e.message}):(this.setState({loadingIcon:!1,submitActive:!1}),this.updateSection(""))})),Za(this,"handleUpdateSection",(e=>{"invite_id"!==e||this.props.activeSection===e||this.props.team.invite_id?this.updateSection(e):this.setState({shouldFetchTeam:!0},(()=>{this.updateSection(e)}))})),Za(this,"updateName",(e=>{this.setState({name:e.target.value})})),Za(this,"updateDescription",(e=>{this.setState({description:e.target.value})})),Za(this,"updateTeamIcon",(e=>{if(e&&e.target&&e.target.files&&e.target.files[0]){const t=e.target.files[0];ja.includes(t.type)?t.size>this.props.maxFileSize?this.setState({clientError:V._u("general_tab.teamIconTooLarge","Unable to upload team icon. File is too large.")}):this.setState({teamIconFile:e.target.files[0],clientError:"",submitActive:!0}):this.setState({clientError:V._u("general_tab.teamIconInvalidFileType","Only BMP, JPG or PNG images may be used for team icons")})}else this.setState({teamIconFile:null,clientError:V._u("general_tab.teamIconError","An error occurred while selecting the image.")})})),Za(this,"updateAllowedDomains",(e=>{this.setState({allowed_domains:e.target.value})})),this.state=this.setupInitialState(e)}setupInitialState(e){const t=e.team;return{name:t.display_name,invite_id:t.invite_id,allow_open_invite:t.allow_open_invite,description:t.description,allowed_domains:t.allowed_domains,serverError:"",clientError:"",teamIconFile:null,loadingIcon:!1,submitActive:!1,isInitialState:!0}}static getDerivedStateFromProps(e,t){const{team:n}=e;return t.isInitialState?null:{name:n.display_name,description:n.description,allowed_domains:n.allowed_domains,invite_id:n.invite_id,allow_open_invite:n.allow_open_invite,isInitialState:!1}}componentDidUpdate(e,t){!t.shouldFetchTeam&&this.state.shouldFetchTeam&&this.fetchTeam()}fetchTeam(){this.state.serverError||this.props.actions.getTeam(this.props.team.id).then((({error:e})=>{const t={shouldFetchTeam:!1};e&&(t.serverError=e.message),this.setState(t)}))}componentDidMount(){Ia()("#team_settings").on("hidden.bs.modal",this.handleClose)}componentWillUnmount(){Ia()("#team_settings").off("hidden.bs.modal",this.handleClose)}render(){const e=this.props.team;let t,n,s,a,i,r,o=null,l=null;if(this.state.clientError&&(o=this.state.clientError),this.state.serverError&&(l=this.state.serverError),"open_invite"===this.props.activeSection){let n;n=e.group_constrained?[u.createElement("div",{key:"userOpenInviteOptions"},u.createElement("div",null,u.createElement(on.Z,{id:"team_settings.openInviteDescription.groupConstrained",defaultMessage:"No, members of this team are added and removed by linked groups. [Learn More](!https://mattermost.com/pl/default-ldap-group-constrained-team-channel.html)"})))]:[u.createElement("fieldset",{key:"userOpenInviteOptions"},u.createElement("legend",{className:"form-legend hidden-label"},u.createElement(ve.Z,{id:"team_settings.openInviteDescription.ariaLabel",defaultMessage:"Invite Code"})),u.createElement("div",{className:"radio"},u.createElement("label",null,u.createElement("input",{id:"teamOpenInvite",name:"userOpenInviteOptions",type:"radio",defaultChecked:this.state.allow_open_invite,onChange:this.handleOpenInviteRadio.bind(this,!0)}),u.createElement(ve.Z,{id:"general_tab.yes",defaultMessage:"Yes"})),u.createElement("br",null)),u.createElement("div",{className:"radio"},u.createElement("label",null,u.createElement("input",{id:"teamOpenInviteNo",name:"userOpenInviteOptions",type:"radio",defaultChecked:!this.state.allow_open_invite,onChange:this.handleOpenInviteRadio.bind(this,!1)}),u.createElement(ve.Z,{id:"general_tab.no",defaultMessage:"No"})),u.createElement("br",null)),u.createElement("div",{className:"mt-5"},u.createElement(ve.Z,{id:"general_tab.openInviteDesc",defaultMessage:'When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team. Changing from "Yes" to "No" will regenerate the  invitation code, create a new invitation link and invalidate the previous link.'})))],t=u.createElement(Aa.Z,{title:V._u("general_tab.openInviteTitle","Allow any user with an account on this server to join this team"),inputs:n,submit:this.handleOpenInviteSubmit,serverError:l,updateSection:this.handleUpdateSection})}else{let n="";n=!0===this.state.allow_open_invite?V._u("general_tab.yes","Yes"):e.group_constrained?V._u("team_settings.openInviteSetting.groupConstrained","No, members of this team are added and removed by linked groups."):V._u("general_tab.no","No"),t=u.createElement(Oa.Z,{title:V._u("general_tab.openInviteTitle","Allow any user with an account on this server to join this team"),describe:n,updateSection:this.handleUpdateSection,section:"open_invite"})}if("invite_id"===this.props.activeSection&&this.props.canInviteTeamMembers){const e=[];e.push(u.createElement("div",{key:"teamInviteSetting"},u.createElement("div",{className:"row"},u.createElement("label",{className:"col-sm-5 control-label visible-xs-block"}),u.createElement("div",{className:"col-sm-12"},u.createElement("input",{id:"teamInviteId",autoFocus:!0,className:"form-control",type:"text",value:this.state.invite_id,maxLength:"32",onFocus:V.h$,readOnly:!0}))),u.createElement("div",{className:"setting-list__hint"},u.createElement(ve.Z,{id:"general_tab.codeLongDesc",defaultMessage:"The Invite Code is part of the unique team invitation link which is sent to members you’re inviting to this team. Regenerating the code creates a new invitation link and invalidates the previous link.",values:{getTeamInviteLink:u.createElement("strong",null,u.createElement(ve.Z,{id:"general_tab.getTeamInviteLink",defaultMessage:"Get Team Invite Link"}))}})))),n=u.createElement(Aa.Z,{title:V._u("general_tab.codeTitle","Invite Code"),inputs:e,submit:this.handleInviteIdSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,saveButtonText:V._u("general_tab.regenerate","Regenerate")})}else this.props.canInviteTeamMembers&&(n=u.createElement(Oa.Z,{title:V._u("general_tab.codeTitle","Invite Code"),describe:V._u("general_tab.codeDesc","Click 'Edit' to regenerate Invite Code."),updateSection:this.handleUpdateSection,section:"invite_id"}));if("name"===this.props.activeSection){const e=[];let t=u.createElement(ve.Z,{id:"general_tab.teamName",defaultMessage:"Team Name"});V.tq()&&(t=""),e.push(u.createElement("div",{key:"teamNameSetting",className:"form-group"},u.createElement("label",{className:"col-sm-5 control-label"},t),u.createElement("div",{className:"col-sm-7"},u.createElement("input",{id:"teamName",autoFocus:!0,className:"form-control",type:"text",maxLength:R.ZP.MAX_TEAMNAME_LENGTH.toString(),onChange:this.updateName,value:this.state.name,onFocus:V.h$}))));const n=u.createElement("span",null,V._u("general_tab.teamNameInfo","Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar."));s=u.createElement(Aa.Z,{title:V._u("general_tab.teamName","Team Name"),inputs:e,submit:this.handleNameSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,extraInfo:n})}else{var c=this.state.name;s=u.createElement(Oa.Z,{title:V._u("general_tab.teamName","Team Name"),describe:c,updateSection:this.handleUpdateSection,section:"name"})}if("description"===this.props.activeSection){const e=[];let t=u.createElement(ve.Z,{id:"general_tab.teamDescription",defaultMessage:"Team Description"});V.tq()&&(t=""),e.push(u.createElement("div",{key:"teamDescriptionSetting",className:"form-group"},u.createElement("label",{className:"col-sm-5 control-label"},t),u.createElement("div",{className:"col-sm-7"},u.createElement("input",{id:"teamDescription",autoFocus:!0,className:"form-control",type:"text",maxLength:R.ZP.MAX_TEAMDESCRIPTION_LENGTH.toString(),onChange:this.updateDescription,value:this.state.description,onFocus:V.h$}))));const n=u.createElement("span",null,V._u("general_tab.teamDescriptionInfo","Team description provides additional information to help users select the right team. Maximum of 50 characters."));a=u.createElement(Aa.Z,{title:V._u("general_tab.teamDescription","Team Description"),inputs:e,submit:this.handleDescriptionSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,extraInfo:n})}else{let e="";e=this.state.description?this.state.description:u.createElement(ve.Z,{id:"general_tab.emptyDescription",defaultMessage:"Click 'Edit' to add a team description."}),a=u.createElement(Oa.Z,{title:V._u("general_tab.teamDescription","Team Description"),describe:e,updateSection:this.handleUpdateSection,section:"description"})}if("team_icon"===this.props.activeSection){const t=u.createElement(on.Z,{id:"setting_picture.help.team",defaultMessage:"Upload a team icon in BMP, JPG or PNG format.\\nSquare images with a solid background color are recommended."});i=u.createElement(La.Z,{imageContext:"team",title:V._u("general_tab.teamIcon","Team Icon"),src:V.uZ(e),file:this.state.teamIconFile,serverError:this.state.serverError,clientError:this.state.clientError,loadingPicture:this.state.loadingIcon,submitActive:this.state.submitActive,updateSection:e=>{this.updateSection(""),e.preventDefault()},onFileChange:this.updateTeamIcon,onSubmit:this.handleTeamIconSubmit,onRemove:this.handleTeamIconRemove,helpText:t})}else{let t;t=e.last_team_icon_update?u.createElement(ve.Z,{id:"general_tab.teamIconLastUpdated",defaultMessage:"Image last updated {date}",values:{date:u.createElement(mt.Ji,{value:new Date(e.last_team_icon_update),day:"2-digit",month:"short",year:"numeric"})}}):V.tq()?V._u("general_tab.teamIconEditHintMobile","Click to upload an image"):V._u("general_tab.teamIconEditHint","Click 'Edit' to upload an image."),i=u.createElement(Oa.Z,{title:V._u("general_tab.teamIcon","Team Icon"),describe:t,section:"team_icon",updateSection:this.handleUpdateSection})}if("allowed_domains"===this.props.activeSection){const e=[];e.push(u.createElement("div",{key:"allowedDomainsSetting",className:"form-group"},u.createElement("div",{className:"col-sm-12"},u.createElement(ka.Z,{id:"allowedDomains",autoFocus:!0,className:"form-control",type:"text",onChange:this.updateAllowedDomains,value:this.state.allowed_domains,onFocus:V.h$,placeholder:{id:(0,it.t)("general_tab.AllowedDomainsExample"),defaultMessage:"corp.mattermost.com, mattermost.org"},"aria-label":V._u("general_tab.allowedDomains.ariaLabel","Allowed Domains")}))));const t=u.createElement("span",null,V._u("general_tab.AllowedDomainsInfo",'Users can only join the team if their email matches a specific domain (e.g. "mattermost.org") or list of comma-separated domains (e.g. "corp.mattermost.com, mattermost.org").'));r=u.createElement(Aa.Z,{title:V._u("general_tab.allowedDomains","Allow only users with a specific email domain to join this team"),inputs:e,submit:this.handleAllowedDomainsSubmit,serverError:l,clientError:o,updateSection:this.handleUpdateSection,extraInfo:t})}else{let e="";e=this.state.allowed_domains?this.state.allowed_domains:u.createElement(ve.Z,{id:"general_tab.allowedDomainsEdit",defaultMessage:"Click 'Edit' to add an email domain whitelist."}),r=u.createElement(Oa.Z,{title:V._u("general_tab.allowedDomains","allowedDomains"),describe:e,updateSection:this.handleUpdateSection,section:"allowed_domains"})}return u.createElement("div",null,u.createElement("div",{className:"modal-header"},u.createElement("button",{id:"closeButton",type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.closeModal},u.createElement("span",{"aria-hidden":"true"},"×")),u.createElement("h4",{className:"modal-title",ref:"title"},u.createElement("div",{className:"modal-back"},u.createElement("span",{onClick:this.props.collapseModal},u.createElement(Da.Z,null))),u.createElement(ve.Z,{id:"general_tab.title",defaultMessage:"General Settings"}))),u.createElement("div",{ref:"wrapper",className:"user-settings"},u.createElement("h3",{className:"tab-header"},u.createElement(ve.Z,{id:"general_tab.title",defaultMessage:"General Settings"})),u.createElement("div",{className:"divider-dark first"}),s,u.createElement("div",{className:"divider-light"}),a,u.createElement("div",{className:"divider-light"}),i,!e.group_constrained&&u.createElement(u.Fragment,null,u.createElement("div",{className:"divider-light"}),r),u.createElement("div",{className:"divider-light"}),t,!e.group_constrained&&u.createElement(u.Fragment,null,u.createElement("div",{className:"divider-light"}),n),u.createElement("div",{className:"divider-dark"})))}}Za(Fa,"propTypes",{updateSection:m().func.isRequired,team:m().object.isRequired,activeSection:m().string.isRequired,closeModal:m().func.isRequired,collapseModal:m().func.isRequired,maxFileSize:m().number,actions:m().shape({getTeam:m().func.isRequired,patchTeam:m().func.isRequired,regenerateTeamInviteId:m().func.isRequired,removeTeamIcon:m().func.isRequired,setTeamIcon:m().func.isRequired}),canInviteTeamMembers:m().bool});const Ha=(0,a.connect)((function(e,t){const n=(0,i.iE)(e);return{maxFileSize:parseInt(n.MaxFileSize,10),canInviteTeamMembers:(0,ge.Rm)(e,{team:t.team.id,permission:he.Pl.INVITE_USER})}}),(function(e){return{actions:(0,s.bindActionCreators)({getTeam:Q.VP,patchTeam:Q.Pb,regenerateTeamInviteId:Q.aF,removeTeamIcon:Q.QL,setTeamIcon:Q.kx},e)}}))(Fa);function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ba extends u.PureComponent{constructor(e){super(e),qa(this,"doFileSelect",(e=>{e.preventDefault();let t=e.target.value;"fakepath"===t.substring(3,11)&&(t=t.substring(12)),this.setState({clientError:"",serverError:"",filename:t})})),qa(this,"openFileSelect",(()=>{this.uploadinput.current.value="",this.uploadinput.current.click()})),qa(this,"doSubmit",(e=>{e.preventDefault();const t=this.uploadinput.current;t.files&&t.files[0]?this.props.submit(t.files[0]):this.setState({clientError:!0})})),this.uploadinput=u.createRef(),this.state={clientError:"",serverError:"",filename:""}}render(){let e=null;this.state.clientError&&(e=u.createElement("div",{className:"file-status"},u.createElement(ve.Z,{id:"setting_upload.noFile",defaultMessage:"No file selected."})));let t=null;this.state.serverError&&(t=u.createElement("div",{className:"file-status"},this.state.serverError));let n=null,s="btn btn-sm btn-primary disabled";return this.state.filename&&(n=u.createElement("div",{className:"file-status file-name"},this.state.filename),s="btn btn-sm btn-primary"),u.createElement("ul",{className:"section-max"},u.createElement("li",{className:"col-sm-12 section-title"},this.props.title),u.createElement("li",{className:"col-sm-offset-3 col-sm-9"},this.props.helpText),u.createElement("li",{className:"col-sm-offset-3 col-sm-9"},u.createElement("ul",{className:"setting-list"},u.createElement("li",{className:"setting-list-item"},u.createElement("input",{ref:this.uploadinput,accept:this.props.fileTypesAccepted,type:"file",onChange:this.doFileSelect,tabIndex:"-1","aria-hidden":!0}),u.createElement("button",{onClick:this.openFileSelect,className:"btn btn-sm btn-primary btn-file sel-btn"},u.createElement(ve.Z,{id:"setting_upload.select",defaultMessage:"Select file"})),u.createElement("a",{className:s,onClick:this.doSubmit},u.createElement(ve.Z,{id:"setting_upload.import",defaultMessage:"Import"})),n,t,e))))}}Ba.propTypes={title:m().node.isRequired,submit:m().func.isRequired,fileTypesAccepted:m().string.isRequired,helpText:m().object};var Ga=n(37668);function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wa=(0,mt.vU)({importSlack:{id:(0,it.t)("team_import_tab.importSlack"),defaultMessage:"Import from Slack (Beta)"}});class za extends u.PureComponent{constructor(e){super(e),Va(this,"onImportFailure",(()=>{this.setState({status:"fail"})})),Va(this,"onImportSuccess",(e=>{this.setState({status:"done",link:"data:application/octet-stream;charset=utf-8,"+encodeURIComponent(atob(e.results))})})),Va(this,"doImportSlack",(e=>{this.setState({status:"in-progress",link:""}),V.f4(this.props.team.id,e,this.onImportSuccess,this.onImportFailure)})),this.state={status:"ready",link:""}}render(){const e=u.createElement("a",{href:"https://docs.mattermost.com/administration/migrating.html#migrating-from-slack",target:"_blank",rel:"noopener noreferrer"},u.createElement(ve.Z,{id:"team_import_tab.importHelpDocsLink",defaultMessage:"documentation"})),t=u.createElement("strong",null,u.createElement(ve.Z,{id:"team_import_tab.importHelpExportInstructions",defaultMessage:"Slack > Administration > Workspace settings > Import/Export Data > Export > Start Export"})),n=u.createElement("a",{href:"https://github.com/grundleborg/slack-advanced-exporter",target:"_blank",rel:"noopener noreferrer"},u.createElement(ve.Z,{id:"team_import_tab.importHelpExporterLink",defaultMessage:"Slack Advanced Exporter"})),s=u.createElement("a",{href:"https://docs.mattermost.com/administration/migrating.html#migrating-from-slack-using-the-mattermost-cli",target:"_blank",rel:"noopener noreferrer"},u.createElement(ve.Z,{id:"team_import_tab.importHelpCliDocsLink",defaultMessage:"CLI tool for Slack import"})),a=u.createElement("div",null,u.createElement("p",null,u.createElement(ve.Z,{id:"team_import_tab.importHelpLine1",defaultMessage:"Slack import to Mattermost supports importing of messages in your Slack team's public channels."})),u.createElement("p",null,u.createElement(ve.Z,{id:"team_import_tab.importHelpLine2",defaultMessage:"To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.",values:{exportInstructions:t,uploadDocsLink:e}})),u.createElement("p",null,u.createElement(ve.Z,{id:"team_import_tab.importHelpLine3",defaultMessage:"To import posts with attached files, see {slackAdvancedExporterLink} for details.",values:{slackAdvancedExporterLink:n}})),u.createElement("p",null,u.createElement(ve.Z,{id:"team_import_tab.importHelpLine4",defaultMessage:"For Slack teams with over 10,000 messages, we recommend using the {cliLink}.",values:{cliLink:s}}))),i=u.createElement(Ba,{title:u.createElement(ve.Z,Wa.importSlack),submit:this.doImportSlack,helpText:a,fileTypesAccepted:".zip"});let r;switch(this.state.status){case"ready":r="";break;case"in-progress":r=u.createElement("p",{className:"confirm-import alert alert-warning"},u.createElement(qs.Z,{text:V._u("team_import_tab.importing","Importing...")}));break;case"done":r=u.createElement("p",{className:"confirm-import alert alert-success"},u.createElement(ze.Z,null),u.createElement(ve.Z,{id:"team_import_tab.successful",defaultMessage:" Import successful: "}),u.createElement("a",{href:this.state.link,download:"MattermostImportSummary.txt"},u.createElement(ve.Z,{id:"team_import_tab.summary",defaultMessage:"View Summary"})));break;case"fail":r=u.createElement("p",{className:"confirm-import alert alert-warning"},u.createElement(Ga.Z,null),u.createElement(ve.Z,{id:"team_import_tab.failure",defaultMessage:" Import failure: "}),u.createElement("a",{href:this.state.link,download:"MattermostImportSummary.txt"},u.createElement(ve.Z,{id:"team_import_tab.summary",defaultMessage:"View Summary"})))}return u.createElement("div",null,u.createElement("div",{className:"modal-header"},u.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.props.closeModal},u.createElement("span",{"aria-hidden":"true"},"×")),u.createElement("h4",{className:"modal-title",ref:"title"},u.createElement("div",{className:"modal-back"},u.createElement("span",{onClick:this.props.collapseModal},u.createElement(Da.Z,null))),u.createElement(ve.Z,{id:"team_import_tab.import",defaultMessage:"Import"}))),u.createElement("div",{ref:"wrapper",className:"user-settings"},u.createElement("h3",{className:"tab-header"},u.createElement(ve.Z,{id:"team_import_tab.import",defaultMessage:"Import"})),u.createElement("div",{className:"divider-dark first"}),i,u.createElement("div",{className:"divider-dark"}),r))}}Va(za,"propTypes",{closeModal:m().func.isRequired,collapseModal:m().func.isRequired}),za.propTypes={closeModal:m().func.isRequired,collapseModal:m().func.isRequired,team:m().object.isRequired};const Ya=(0,we.ZP)(za),Ka=({activeTab:e="",activeSection:t="",updateSection:n,closeModal:s,collapseModal:a,team:i})=>{if(!i)return null;let r;switch(e){case"general":r=u.createElement("div",null,u.createElement(Ha,{team:i,activeSection:t,updateSection:n,closeModal:s,collapseModal:a}));break;case"import":r=u.createElement("div",null,u.createElement(Ya,{team:i,activeSection:t,updateSection:n,closeModal:s,collapseModal:a}));break;default:r=u.createElement("div",null)}return r};Ka.propTypes={activeTab:m().string.isRequired,activeSection:m().string.isRequired,updateSection:m().func.isRequired,closeModal:m().func.isRequired,collapseModal:m().func.isRequired};const Ja=Ka,Qa=(0,a.connect)((function(e){return{team:(0,o.kA)(e)}}))(Ja);function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $a=u.lazy((()=>n.e(821).then(n.bind(n,76821))));class ei extends u.PureComponent{constructor(e){super(e),Xa(this,"modalBodyRef",void 0),Xa(this,"updateTab",(e=>{this.setState({activeTab:e,activeSection:""})})),Xa(this,"updateSection",(e=>{this.setState({activeSection:e})})),Xa(this,"collapseModal",(()=>{const e=Ra.findDOMNode(this.modalBodyRef.current);Ia()(e).closest(".modal-dialog").removeClass("display--content"),this.setState({activeTab:"",activeSection:""})})),Xa(this,"handleHide",(()=>{this.setState({show:!1})})),Xa(this,"handleHidden",(()=>{this.setState({activeTab:"general",activeSection:""}),this.props.onHide()})),this.state={activeTab:"general",activeSection:"",show:!0},this.modalBodyRef=u.createRef()}render(){const e=[];return e.push({name:"general",uiName:V._u("team_settings_modal.generalTab","General"),icon:"icon fa fa-cog",iconTitle:V._u("generic_icons.settings","Settings Icon")}),u.createElement(ye.Z,{dialogClassName:"a11y__modal settings-modal settings-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleHidden,role:"dialog","aria-labelledby":"teamSettingsModalLabel",id:"teamSettingsModal"},u.createElement(ye.Z.Header,{id:"teamSettingsModalLabel",closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1"},u.createElement(ve.Z,{id:"team_settings_modal.title",defaultMessage:"Team Settings"}))),u.createElement(ye.Z.Body,{ref:this.modalBodyRef},u.createElement("div",{className:"settings-table"},u.createElement("div",{className:"settings-links"},u.createElement(u.Suspense,{fallback:null},u.createElement($a,{tabs:e,activeTab:this.state.activeTab,updateTab:this.updateTab}))),u.createElement("div",{className:"settings-content minimize-settings"},u.createElement(Qa,{activeTab:this.state.activeTab,activeSection:this.state.activeSection,updateSection:this.updateSection,closeModal:this.handleHide,collapseModal:this.collapseModal})))))}}Xa(ei,"propTypes",{onHide:m().func.isRequired,isCloud:m().bool});const ti=(0,a.connect)((function(e){const t=R.r8.TEAM_SETTINGS;return{show:(0,Yn.g)(e,t),isCloud:"true"===(0,i.lJ)(e).Cloud}}))(ei);var ni=n(66362),si=(n(24603),n(22558)),ai=n(26134);const ii=n.p+"files/377564d283f9bc35cce974f33e37eaf3.png";var ri=n(52718),oi=n(31848);function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class mi extends u.PureComponent{constructor(e){super(e),di(this,"searchTimeoutId",void 0),di(this,"selectedItemRef",void 0),di(this,"handleHide",(()=>{this.props.actions.setModalSearchTerm(""),this.setState({show:!1})})),di(this,"handleExit",(()=>{this.props.onHide&&this.props.onHide()})),di(this,"handleResponse",(e=>{let t=null;e&&e.message&&(t=e.message),this.setState({saving:!1,addError:t})})),di(this,"handleSubmit",(async()=>{const e=this.state.values.map((e=>e.id));if(0!==e.length){if(this.props.skipCommit)return this.props.onAddCallback&&this.props.onAddCallback(e),void this.handleHide();this.setState({saving:!0}),await Promise.all(e.map((async e=>{const{error:t}=await this.props.actions.linkGroupSyncable(e,this.props.currentTeamId,he.Fl.SYNCABLE_TYPE_TEAM,{auto_add:!0,scheme_admin:!1,scheme_mod:!1});this.handleResponse(t),t||this.handleHide()})))}})),di(this,"addValue",(e=>{const t=Object.assign([],this.state.values),n=t.map((e=>e.id));e&&e.id&&-1===n.indexOf(e.id)&&t.push(e),this.setState({values:t})})),di(this,"setGroupsLoadingState",(e=>{this.setState({loadingGroups:e})})),di(this,"handlePageChange",((e,t)=>{e>t&&(this.setGroupsLoadingState(!0),this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId,this.props.searchTerm,e,51).then((()=>{this.setGroupsLoadingState(!1)})))})),di(this,"handleDelete",(e=>this.setState({values:e}))),di(this,"search",(e=>this.props.actions.setModalSearchTerm(e))),di(this,"renderOption",((e,t,n,s)=>{const a=t?"more-modal__row--selected":"";return u.createElement("div",{key:e.id,ref:t?this.selectedItemRef:e.id,className:"more-modal__row clickable "+a,onClick:()=>n(e),onMouseMove:()=>s(e)},u.createElement("img",{className:"more-modal__image",src:ii,alt:"group picture",width:"32",height:"32"}),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},e.display_name,u.createElement(oi.Z,null),"-",u.createElement(oi.Z,null),u.createElement("span",{className:"more-modal__name_sub"},u.createElement(ve.Z,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),u.createElement("div",{className:"more-modal__actions"},u.createElement("div",{className:"more-modal__actions--round"},u.createElement(ri.Z,null))))})),di(this,"renderValue",(e=>e.data.display_name)),this.searchTimeoutId=0,this.state={values:[],show:!0,search:!1,saving:!1,addError:null,loadingGroups:!0},this.selectedItemRef=u.createRef()}componentDidMount(){Promise.all([this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId,"",0,51),this.props.actions.getAllGroupsAssociatedToTeam(this.props.currentTeamId,!1,!0)]).then((()=>{this.setGroupsLoadingState(!1)}))}componentDidUpdate(e){if(this.props.searchTerm!==e.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)return;this.searchTimeoutId=window.setTimeout((async()=>{this.setGroupsLoadingState(!0),await this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId,e),this.setGroupsLoadingState(!1)}),R.ZP.SEARCH_TIMEOUT_MILLISECONDS)}}render(){const e=u.createElement("div",{id:"numGroupsRemaining"},u.createElement(ve.Z,{id:"multiselect.numGroupsRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ",values:{num:10-this.state.values.length}})),t=(0,V._u)("multiselect.add","Add"),n=(0,V._u)("multiselect.adding","Adding...");let s=null;this.state.addError&&(s=u.createElement("div",{className:"has-error col-sm-12"},u.createElement("label",{className:"control-label font-weight--normal"},this.state.addError)));let a=this.props.groups;if(this.props.excludeGroups){const e=e=>{var t;return!(null!==(t=this.props.excludeGroups)&&void 0!==t&&t.find((t=>t.id===e.id)))};a=a.filter(e)}if(this.props.includeGroups){const e=e=>{var t;return null===(t=this.props.includeGroups)||void 0===t?void 0:t.find((t=>t.id===e.id))};a=[...a,...this.props.includeGroups.filter(e)]}const i=a.map((e=>ci(ci({},e),{},{label:e.display_name,value:e.id})));return u.createElement(ye.Z,{id:"addGroupsToTeamModal",dialogClassName:"a11y__modal more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1"},u.createElement(ve.Z,{id:"add_groups_to_team.title",defaultMessage:"Add New Groups to {teamName} Team",values:{teamName:u.createElement("strong",null,this.props.currentTeamName)}}))),u.createElement(ye.Z.Body,null,s,u.createElement(ai.Z,{key:"addGroupsToTeamKey",options:i,optionRenderer:this.renderOption,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:10,numRemainingText:e,buttonSubmitText:t,buttonSubmitLoadingText:n,saving:this.state.saving,loading:this.state.loadingGroups,placeholderText:(0,V._u)("multiselect.addGroupsPlaceholder","Search and add groups")})))}}di(mi,"propTypes",{currentTeamName:m().string.isRequired,currentTeamId:m().string.isRequired,searchTerm:m().string.isRequired,groups:m().array.isRequired,excludeGroups:m().array,includeGroups:m().array,onHide:m().func,skipCommit:m().bool,onAddCallback:m().func,actions:m().shape({getGroupsNotAssociatedToTeam:m().func.isRequired,setModalSearchTerm:m().func.isRequired,linkGroupSyncable:m().func.isRequired,getAllGroupsAssociatedToTeam:m().func.isRequired}).isRequired});const ui=(0,a.connect)((function(e,t){const n=e.views.search.modalSearch,s=t.team||(0,o.kA)(e)||{};let a=(0,si.D$)(e,s.id);if(n){const e=RegExp(n,"i");a=a.filter((t=>e.test(t.display_name)||e.test(t.name)))}return{currentTeamName:s.display_name,currentTeamId:s.id,skipCommit:t.skipCommit,onAddCallback:t.onAddCallback,excludeGroups:t.excludeGroups,searchTerm:n,groups:a}}),(function(e){return{actions:(0,s.bindActionCreators)({getGroupsNotAssociatedToTeam:X.D$,setModalSearchTerm:Jn.Gl,linkGroupSyncable:X.Bh,getAllGroupsAssociatedToTeam:X.K9},e)}}))(mi);var pi=n(19476);function hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class gi extends u.PureComponent{constructor(e){super(e),hi(this,"handleHide",(()=>{this.setState({show:!1})})),hi(this,"handleExit",(()=>{this.props.onHide&&this.props.onHide()})),hi(this,"onNext",(()=>{const e=this.state.page+1;this.onPageChange(e)})),hi(this,"onPrev",(()=>{const e=this.state.page-1;this.onPageChange(e)})),hi(this,"onPageChange",(async e=>{this.setState({loading:!0});const t=await this.props.loadItems(e,this.state.searchTerm);this.setState({page:e,items:t.items,loading:!1})})),hi(this,"onSearchInput",(async e=>{const{target:t}=e,n=t.value;this.setState({loading:!0,searchTerm:n});const s=await this.props.loadItems(0,n),{items:a,totalCount:i}=s;this.setState({loading:!1,items:a,totalCount:i})})),this.numPerPage=e.numPerPage||50,this.state={show:!0,page:0,items:[],totalCount:0,loading:!0,searchTerm:""}}async componentDidMount(){const{totalCount:e,items:t}=await this.props.loadItems(0,"");this.setState({totalCount:e,items:t,loading:!1})}renderRows(){return this.state.loading?u.createElement("div",null,u.createElement(pi.Z,{position:"absolute",key:"loading"})):this.state.items.map((e=>this.props.renderRow(e,this)))}paginationRange(){let e=this.state.page*this.numPerPage+1;const t=e+this.state.items.length-1;return 0===t&&(e=0),{startCount:e,endCount:t}}render(){if(!this.props.show)return null;const{endCount:e,startCount:t}=this.paginationRange();return u.createElement("div",null,u.createElement(ye.Z,{dialogClassName:"a11y__modal more-modal more-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1"},u.createElement("span",{className:"name"},this.props.titleText)),this.props.titleBarButtonText&&this.props.titleBarButtonOnClick&&u.createElement("a",{className:"btn btn-md btn-primary",href:"#",onClick:this.props.titleBarButtonOnClick},this.props.titleBarButtonText)),u.createElement(ye.Z.Body,null,u.createElement("div",{className:"filtered-user-list"},u.createElement("div",{className:"filter-row"},u.createElement("div",{className:"col-xs-12"},u.createElement("label",{className:"hidden-label",htmlFor:"searchUsersInput"},this.props.searchPlaceholderText),u.createElement("input",{id:"searchUsersInput",className:"form-control filter-textbox",placeholder:this.props.searchPlaceholderText,onChange:this.onSearchInput})),u.createElement("div",{className:"col-sm-12"},u.createElement("span",{className:"member-count pull-left"},u.createElement(ve.Z,{id:"list_modal.paginatorCount",defaultMessage:"{startCount, number} - {endCount, number} of {total, number} total",values:{startCount:t,endCount:e,total:this.state.totalCount}})))),u.createElement("div",{className:"more-modal__list"},u.createElement("div",null,this.renderRows())),u.createElement("div",{className:"filter-controls"},this.state.page>0&&u.createElement("button",{onClick:this.onPrev,className:"btn btn-link filter-control filter-control__prev"},u.createElement(ve.Z,{id:"filtered_user_list.prev",defaultMessage:"Previous"})),this.state.items.length>=this.props.numPerPage&&e!==this.state.totalCount&&u.createElement("button",{onClick:this.onNext,className:"btn btn-link filter-control filter-control__next"},u.createElement(ve.Z,{id:"filtered_user_list.next",defaultMessage:"Next"})))))))}}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}hi(gi,"propTypes",{loadItems:m().func.isRequired,renderRow:m().func.isRequired,onHide:m().func,titleText:m().string,searchPlaceholderText:m().string,titleBarButtonText:m().string,titleBarButtonOnClick:m().func,numPerPage:m().number,show:m().bool}),hi(gi,"defaultProps",{show:!0});class bi extends u.PureComponent{constructor(...e){super(...e),fi(this,"state",{showConfirmModal:!1,item:{member_count:0},listModal:null}),fi(this,"loadItems",(async(e,t)=>{const{data:n}=await this.props.actions.getGroupsAssociatedToTeam(this.props.team.id,t,e,50,!0);return{items:n.groups,totalCount:n.totalGroupCount}})),fi(this,"handleDeleteCanceled",(()=>{this.setState({showConfirmModal:!1})})),fi(this,"handleDeleteConfirmed",(()=>{this.setState({showConfirmModal:!1});const{item:e,listModal:t}=this.state;this.props.actions.unlinkGroupSyncable(e.id,this.props.team.id,he.Fl.SYNCABLE_TYPE_TEAM).then((async()=>{t.setState({loading:!0});const{items:e,totalCount:n}=await t.props.loadItems(t.setState.page,t.state.searchTerm);t.setState({loading:!1,items:e,totalCount:n})}))})),fi(this,"onClickRemoveGroup",((e,t)=>{this.setState({showConfirmModal:!0,item:e,listModal:t})})),fi(this,"onClickConfirmRemoveGroup",((e,t)=>this.props.actions.unlinkGroupSyncable(e.id,this.props.team.id,he.Fl.SYNCABLE_TYPE_TEAM).then((async()=>{t.setState({loading:!0});const{items:e,totalCount:n}=await t.props.loadItems(t.setState.page,t.state.searchTerm);t.setState({loading:!1,items:e,totalCount:n})})))),fi(this,"onHide",(()=>{this.props.actions.closeModal(R.r8.MANAGE_TEAM_GROUPS)})),fi(this,"titleButtonOnClick",(()=>{this.onHide(),this.props.actions.openModal({modalId:R.r8.ADD_GROUPS_TO_TEAM,dialogType:ui})})),fi(this,"setTeamMemberStatus",(async(e,t,n)=>{this.props.actions.patchGroupSyncable(e.id,this.props.team.id,he.Fl.SYNCABLE_TYPE_TEAM,{scheme_admin:n}).then((async()=>{t.setState({loading:!0});const{items:e,totalCount:n}=await t.props.loadItems(t.setState.page,t.state.searchTerm);this.props.actions.getMyTeamMembers(),t.setState({loading:!1,items:e,totalCount:n})}))})),fi(this,"renderRow",((e,t)=>{let n;return n=e.scheme_admin?V._u("team_members_dropdown.teamAdmins","Team Admins"):V._u("team_members_dropdown.teamMembers","Team Members"),u.createElement("div",{key:e.id,className:"more-modal__row"},u.createElement("img",{className:"more-modal__image",src:ii,alt:"group picture",width:"32",height:"32"}),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},e.display_name," ","-"," ","&nbsp;",u.createElement("span",{className:"more-modal__name_count"},u.createElement(ve.Z,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),u.createElement("div",{className:"more-modal__actions"},u.createElement(ns.Z,null,u.createElement("button",{id:"teamGroupsDropdown_".concat(e.display_name),className:"dropdown-toggle theme color--link style--none",type:"button","aria-expanded":"true"},u.createElement("span",null,n," "),u.createElement(es.Z,null)),u.createElement(ts.Z,{openLeft:!0,ariaLabel:V._u("team_members_dropdown.menuAriaLabel","Change the role of a team member")},u.createElement(ts.Z.ItemAction,{show:!e.scheme_admin,onClick:()=>this.setTeamMemberStatus(e,t,!0),text:V._u("team_members_dropdown.makeTeamAdmins","Make Team Admins")}),u.createElement(ts.Z.ItemAction,{show:Boolean(e.scheme_admin),onClick:()=>this.setTeamMemberStatus(e,t,!1),text:V._u("team_members_dropdown.makeTeamMembers","Make Team Members")}),u.createElement(ts.Z.ItemAction,{onClick:()=>this.onClickRemoveGroup(e,t),text:V._u("group_list_modal.removeGroupButton","Remove Group")})))))}))}render(){const{formatMessage:e}=this.props.intl,t=this.state.item.member_count;return u.createElement(u.Fragment,null,u.createElement(gi,{show:!this.state.showConfirmModal,titleText:e({id:"groups",defaultMessage:"{team} Groups"},{team:this.props.team.display_name}),searchPlaceholderText:e({id:"manage_team_groups_modal.search_placeholder",defaultMessage:"Search groups"}),renderRow:this.renderRow,loadItems:this.loadItems,onHide:this.onHide,titleBarButtonText:e({id:"group_list_modal.addGroupButton",defaultMessage:"Add Groups"}),titleBarButtonOnClick:this.titleButtonOnClick}),u.createElement($e.Z,{show:this.state.showConfirmModal,title:e({id:"remove_group_confirm_title",defaultMessage:"Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}"},{memberCount:t}),message:e({id:"remove_group_confirm_message",defaultMessage:"{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?"},{memberCount:t}),confirmButtonText:e({id:"remove_group_confirm_button",defaultMessage:"Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}"},{memberCount:t}),onConfirm:this.handleDeleteConfirmed,onCancel:this.handleDeleteCanceled}))}}fi(bi,"propTypes",{intl:Me.gm.isRequired,team:m().object.isRequired,actions:m().shape({getGroupsAssociatedToTeam:m().func.isRequired,unlinkGroupSyncable:m().func.isRequired,patchGroupSyncable:m().func.isRequired,getMyTeamMembers:m().func.isRequired,closeModal:m().func.isRequired,openModal:m().func.isRequired}).isRequired});const _i=(0,we.ZP)(bi),Ei=(0,a.connect)(((e,t)=>({team:e.entities.teams.teams[t.teamID]})),(e=>({actions:(0,s.bindActionCreators)({getGroupsAssociatedToTeam:X.c9,closeModal:I.M,openModal:I.h,unlinkGroupSyncable:X.je,patchGroupSyncable:X.B2,getMyTeamMembers:Q.r8},e)})))(_i);function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class yi extends u.PureComponent{constructor(...e){super(...e),Ci(this,"toggleShortcutsModal",(e=>{e.preventDefault(),y.kk()})),Ci(this,"handleKeyDown",(e=>{(0,V._E)(e)&&e.shiftKey&&(0,V.pD)(e,R.gT.KeyCodes.A)&&this.props.actions.openModal({ModalId:R.r8.USER_SETTINGS,dialogType:Dn.Z})})),Ci(this,"handleEmitUserLoggedOutEvent",(()=>{y.gc()})),Ci(this,"getFlagged",(e=>{e.preventDefault(),this.props.actions.showFlaggedPosts(),this.props.actions.closeRhsMenu()})),Ci(this,"searchMentions",(e=>{e.preventDefault(),this.props.isMentionSearch?this.props.actions.closeRightHandSide():(this.props.actions.closeRhsMenu(),this.props.actions.showMentions())}))}async componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{currentUser:e,teamIsGroupConstrained:t,isLicensedForLDAPGroups:n}=this.props;if(!e)return null;const{formatMessage:s}=this.props.intl;return u.createElement(ts.Z,{mobile:this.props.mobile,id:this.props.id,openUp:!0,ariaLabel:s({id:"navbar_dropdown.menuAriaLabel",defaultMessage:"main menu"})},u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{id:"recentMentions",show:this.props.mobile,onClick:this.searchMentions,icon:this.props.mobile&&u.createElement("i",{className:"mentions"},"@"),text:s({id:"sidebar_right_menu.recentMentions",defaultMessage:"Recent Mentions"})})),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemToggleModalRedux,{id:"accountSettings",modalId:R.r8.USER_SETTINGS,dialogType:Dn.Z,text:s({id:"navbar_dropdown.accountSettings",defaultMessage:"Account Settings"}),icon:this.props.mobile&&u.createElement("i",{className:"fa fa-cog"})})),u.createElement(ts.Z.Group,null,u.createElement(Wn.Z,{teamId:this.props.teamId,permissions:[he.Pl.MANAGE_TEAM]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"teamSettings",modalId:R.r8.TEAM_SETTINGS,dialogType:ti,text:s({id:"navbar_dropdown.teamSettings",defaultMessage:"Team Settings"}),icon:this.props.mobile&&u.createElement("i",{className:"fa fa-globe"})})),u.createElement(Wn.Z,{teamId:this.props.teamId,permissions:[he.Pl.MANAGE_TEAM]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"manageGroups",show:t&&n,modalId:R.r8.MANAGE_TEAM_GROUPS,dialogProps:{teamID:this.props.teamId},dialogType:Ei,text:s({id:"navbar_dropdown.manageGroups",defaultMessage:"Manage Groups"}),icon:this.props.mobile&&u.createElement("i",{className:"fa fa-user-plus"})})),u.createElement(Wn.Z,{teamId:this.props.teamId,permissions:[he.Pl.REMOVE_USER_FROM_TEAM,he.Pl.MANAGE_TEAM_ROLES]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"manageMembers",modalId:R.r8.TEAM_MEMBERS,dialogType:Ma,text:s({id:"navbar_dropdown.manageMembers",defaultMessage:"Manage Members"}),icon:this.props.mobile&&u.createElement("i",{className:"fa fa-users"})}))),u.createElement(ts.Z.Group,null,u.createElement(zn.Z,{permissions:he.Pl.SYSCONSOLE_READ_PERMISSIONS},u.createElement(ts.Z.ItemLink,{id:"systemConsole",show:!this.props.mobile,to:"/admin_console",text:s({id:"navbar_dropdown.console",defaultMessage:"System Console"}),icon:this.props.mobile&&u.createElement("i",{className:"fa fa-wrench"})}))),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemToggleModalRedux,{id:"about",modalId:R.r8.ABOUT,dialogType:ni.Z,text:s({id:"navbar_dropdown.about",defaultMessage:"About {appTitle}"},{appTitle:this.props.siteName||"Gomlo"}),icon:this.props.mobile&&u.createElement("i",{className:"fa fa-info"})})),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{id:"logout",onClick:this.handleEmitUserLoggedOutEvent,text:s({id:"navbar_dropdown.logout",defaultMessage:"Log Out"}),icon:this.props.mobile&&u.createElement("i",{className:"fa fa-sign-out"})})))}}Ci(yi,"propTypes",{mobile:m().bool.isRequired,id:m().string,teamId:m().string,teamName:m().string,siteName:m().string,currentUser:m().object,appDownloadLink:m().string,enableCommands:m().bool.isRequired,enableCustomEmoji:m().bool.isRequired,enableIncomingWebhooks:m().bool.isRequired,enableOAuthServiceProvider:m().bool.isRequired,enableOutgoingWebhooks:m().bool.isRequired,canManageSystemBots:m().bool.isRequired,canCreateOrDeleteCustomEmoji:m().bool.isRequired,canManageIntegrations:m().bool.isRequired,enablePluginMarketplace:m().bool.isRequired,experimentalPrimaryTeam:m().string,helpLink:m().string,reportAProblemLink:m().string,moreTeamsToJoin:m().bool.isRequired,pluginMenuItems:m().arrayOf(m().object),isMentionSearch:m().bool,teamIsGroupConstrained:m().bool.isRequired,isLicensedForLDAPGroups:m().bool,showGettingStarted:m().bool.isRequired,intl:Me.gm.isRequired,showNextStepsTips:m().bool,firstAdminVisitMarketplaceStatus:m().bool,actions:m().shape({openModal:m().func.isRequred,showMentions:m().func,showFlaggedPosts:m().func,closeRightHandSide:m().func.isRequired,closeRhsMenu:m().func.isRequired,unhideNextSteps:m().func.isRequired,getSubscriptionStats:m().func.isRequired}).isRequired}),Ci(yi,"defaultProps",{teamType:"",mobile:!1,pluginMenuItems:[]});const vi=(0,we.ZP)((0,Js.Z)(yi)),wi=(0,a.connect)((function(e){const t=(0,i.iE)(e),n=(0,o.kA)(e),s=(0,r.ts)(e),a=t.AppDownloadLink,l="true"===t.EnableCommands,c="true"===t.EnableCustomEmoji,d=t.SiteName,m="true"===t.EnableIncomingWebhooks,u="true"===t.EnableOAuthServiceProvider,p="true"===t.EnableOutgoingWebhooks,h="true"===t.PluginsEnabled&&"true"===t.EnableMarketplace,g=t.ExperimentalPrimaryTeam,f=t.HelpLink,b=t.ReportAProblemLink;let _=(0,ge.AN)(e,{permission:he.Pl.CREATE_EMOJIS})||(0,ge.AN)(e,{permission:he.Pl.DELETE_EMOJIS});if(!_)for(const t of(0,o.Dc)(e))if((0,ge.Rm)(e,{team:t.id,permission:he.Pl.CREATE_EMOJIS})||(0,ge.Rm)(e,{team:t.id,permission:he.Pl.DELETE_EMOJIS})){_=!0;break}const E=(0,ge.ch)(e,{permission:he.Pl.MANAGE_SLASH_COMMANDS})||(0,ge.ch)(e,{permission:he.Pl.MANAGE_OAUTH})||(0,ge.ch)(e,{permission:he.Pl.MANAGE_INCOMING_WEBHOOKS})||(0,ge.ch)(e,{permission:he.Pl.MANAGE_OUTGOING_WEBHOOKS}),C=(0,ge.AN)(e,{permission:he.Pl.MANAGE_BOTS})||(0,ge.AN)(e,{permission:he.Pl.MANAGE_OTHERS_BOTS}),y=E||C,v=(0,o.O5)(e),w=v&&v.length>0,S=(0,_t.kV)(e),T="true"===(0,i.lJ)(e).Cloud,P=e.entities.cloud.subscription,M="true"===(null==P?void 0:P.is_free_trial),N=(0,V.Hq)(null==P?void 0:P.trial_end_at);return{appDownloadLink:a,enableCommands:l,enableCustomEmoji:c,canManageIntegrations:y,enableIncomingWebhooks:m,enableOAuthServiceProvider:u,enableOutgoingWebhooks:p,canManageSystemBots:C,enablePluginMarketplace:h,experimentalPrimaryTeam:g,helpLink:f,reportAProblemLink:b,pluginMenuItems:e.plugins.components.MainMenu,canCreateOrDeleteCustomEmoji:_,moreTeamsToJoin:w,siteName:d,teamId:n.id,teamName:n.name,currentUser:s,isMentionSearch:S===R.Hp.MENTION,teamIsGroupConstrained:Boolean(n.group_constrained),isLicensedForLDAPGroups:"true"===e.entities.general.license.LDAPGroups,showGettingStarted:Hn(e),showNextStepsTips:Gn(e),isFreeTrial:M,daysLeftOnTrial:N,showNextSteps:Bn(e),isCloud:T,subscriptionStats:(0,i.F3)(e),firstAdminVisitMarketplaceStatus:(0,i.zv)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,showMentions:bt.rb,showFlaggedPosts:bt.Yv,closeRightHandSide:bt.Lg,closeRhsMenu:bt.Wj,unhideNextSteps:Cn,getSubscriptionStats:_n.F3},e)}}))(vi);function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ti extends u.PureComponent{constructor(...e){super(...e),Si(this,"handleEmitUserLoggedOutEvent",(()=>{y.gc()}))}render(){let e="";null!=this.props.siteName&&(e=this.props.siteName);let t=e;this.props.teamDisplayName&&(t=this.props.teamDisplayName);let n=null;return this.props.showTutorialTip&&(n=u.createElement(bn,{onBottom:!0}),this.props.actions.openRhsMenu()),u.createElement("div",{className:Te()("sidebar--menu",{"move--left":this.props.isOpen&&V.tq()}),id:"sidebar-menu"},u.createElement("div",{className:"team__header theme"},u.createElement(kt.Link,{className:"team__name",to:"/group/".concat(R.gT.DEFAULT_CHANNEL)},t)),u.createElement("div",{className:"nav-pills__container mobile-main-menu"},n,u.createElement(rn.Z,{in:this.props.isOpen&&V.tq(),classNames:"MobileRightSidebarMenu",enter:!0,exit:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:500,exit:500}},u.createElement(wi,{mobile:!0}))))}}Si(Ti,"propTypes",{isOpen:m().bool.isRequired,teamDisplayName:m().string,showTutorialTip:m().bool.isRequired,siteName:m().string,actions:m().shape({openRhsMenu:m().func.isRequired}).isRequired});const Pi=(0,a.connect)((function(e){const t=(0,i.iE)(e),n=(0,o.kA)(e),s="true"===t.EnableTutorial,a=(0,$.wS)(e,R.uP.TUTORIAL_STEP,(0,r.rc)(e),R.PN.FINISHED),l=t.SiteName;return{teamDisplayName:n&&n.display_name,isOpen:(0,_t.Xb)(e),showTutorialTip:s&&(0,V.tq)()&&a===R.PN.MENU_POPOVER,siteName:l}}),(function(e){return{actions:(0,s.bindActionCreators)({openRhsMenu:bt.qn},e)}}))(Ti);var Mi=n(2418);function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ii=R.ZP.ActionTypes;class Ri extends u.PureComponent{constructor(e){super(e),Ni(this,"updateShow",((e,t)=>{this.setState({show:e,callback:t.callback})})),Ni(this,"handleSubmit",(e=>{var t,n;e.preventDefault();const s=this.state.value;if(!Ri.isInputValid(s))return void this.setState({inputError:u.createElement(ve.Z,{id:"user.settings.import_theme.submitError",defaultMessage:"Invalid format, please try copying and pasting in again."})});const[a,i,r,o,l,c,d,m]=s.split(","),p={type:"custom",sidebarBg:a,sidebarText:c,sidebarUnreadText:c,sidebarTextHoverBg:l,sidebarTextActiveBorder:r,sidebarTextActiveColor:o,sidebarHeaderBg:i,sidebarTeamBarBg:(0,Mi.B5)(i,"#000000",.2,!0),sidebarHeaderTextColor:c,onlineIndicator:d,mentionBg:m};(0,Mi.Yn)(p),null===(t=(n=this.state).callback)||void 0===t||t.call(n,p),this.setState({show:!1,callback:null})})),Ni(this,"handleChange",(e=>{const t=e.target.value;this.setState({value:t}),Ri.isInputValid(t)?this.setState({inputError:null}):this.setState({inputError:u.createElement(ve.Z,{id:"user.settings.import_theme.submitError",defaultMessage:"Invalid format, please try copying and pasting in again."})})})),Ni(this,"handleOnHide",(()=>{this.setState({show:!1})})),this.state={value:"",inputError:null,show:!1,callback:null}}componentDidMount(){We.addModalListener(Ii.TOGGLE_IMPORT_THEME_MODAL,this.updateShow)}componentWillUnmount(){We.removeModalListener(Ii.TOGGLE_IMPORT_THEME_MODAL,this.updateShow)}static isInputValid(e){if(0===e.length)return!1;if(-1!==e.indexOf(" "))return!1;if(e.length>0&&-1===e.indexOf(","))return!1;if(e.length>0){const t=e.split(",");if(10!==t.length)return!1;for(let e=0;e<t.length;e++){if(7!==t[e].length&&4!==t[e].length)return!1;if("#"!==t[e].charAt(0))return!1}}return!0}render(){return u.createElement("span",null,u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.handleOnHide,role:"dialog","aria-labelledby":"importThemeModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"importThemeModalLabel"},u.createElement(ve.Z,{id:"user.settings.import_theme.importHeader",defaultMessage:"Import Slack Theme"}))),u.createElement("form",{role:"form",className:"form-horizontal"},u.createElement(ye.Z.Body,null,u.createElement("p",null,u.createElement(ve.Z,{id:"user.settings.import_theme.importBody",defaultMessage:'To import a theme, go to a Slack team and look for "Preferences -> Themes". Open the custom theme option, copy the theme color values and paste them here:'})),u.createElement("div",{className:"form-group less"},u.createElement("div",{className:"col-sm-12"},u.createElement("input",{id:"themeVector",type:"text",className:"form-control",value:this.state.value,onChange:this.handleChange}),u.createElement("div",{className:"input__help"},this.state.inputError)))),u.createElement(ye.Z.Footer,null,u.createElement("button",{id:"cancelButton",type:"button",className:"btn btn-link",onClick:this.handleOnHide},u.createElement(ve.Z,{id:"user.settings.import_theme.cancel",defaultMessage:"Cancel"})),u.createElement("button",{id:"submitButton",onClick:this.handleSubmit,type:"submit",className:"btn btn-primary"},u.createElement(ve.Z,{id:"user.settings.import_theme.submit",defaultMessage:"Submit"}))))))}}const Ai=(0,we.ZP)(Ri);var Oi=n(48196);function Li(e){return e.views.lhs.isOpen}var Di=n(60862),ki=n(60868),xi=n(88136),Ui=(n(27852),n(31738));function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ji extends u.PureComponent{constructor(...e){super(...e),Zi(this,"copy",(()=>{let e=this.props.link;-1===e.indexOf("http://")&&-1===e.indexOf("https://")&&(e=this.props.siteURL+e),this.props.actions.copyToClipboard(e)}))}render(){const e=u.createElement(Ui.xV,{id:"copy-url-context-menu"+this.props.menuId},u.createElement(Ui.sN,{onClick:this.copy},u.createElement(ve.Z,{id:"copy_url_context_menu.getChannelLink",defaultMessage:"Copy Link"}))),t=u.createElement(Ui.W4,{id:"copy-url-context-menu"+this.props.menuId,holdToDisplay:-1},this.props.children);return u.createElement("span",null,e,t)}}Zi(ji,"propTypes",{children:m().node.isRequired,link:m().string.isRequired,menuId:m().string.isRequired,siteURL:m().string,actions:m().shape({copyToClipboard:m().func.isRequired}).isRequired});const Fi=(0,a.connect)((function(e){return{siteURL:(0,i.iE)(e).SiteURL}}),(function(){return{actions:{copyToClipboard:V.vQ}}}))(ji);var Hi=n(97281);function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bi extends u.PureComponent{constructor(...e){super(...e),qi(this,"handleSwitch",(e=>{e.preventDefault(),(0,C.B1)("TeamLink#click"),(0,C.L9)("ui","ui_team_sidebar_switch_team"),this.props.switchTeam(this.props.url)})),qi(this,"handleDisabled",(e=>{e.preventDefault()}))}render(){const{teamIconUrl:e,displayName:t,btnClass:n,mentions:s,unread:a,isDraggable:i=!1,teamIndex:r,teamId:o}=this.props,{formatMessage:l}=this.props.intl;let c=this.props.active?"active":"";const d=this.props.disabled?"team-disabled":"",m=!this.props.url.endsWith("create_team")&&!this.props.url.endsWith("select_team"),p=this.props.active||this.props.disabled?this.handleDisabled:this.handleSwitch;let h,g=l({id:"team.button.ariaLabel",defaultMessage:"{teamName} team"},{teamName:t});c||(a?(c="unread",h=u.createElement("span",{className:"unread-badge"})):c=m?"":"special",g=l({id:"team.button.unread.ariaLabel",defaultMessage:"{teamName} team unread"},{teamName:t}),s&&(g=l({id:"team.button.mentions.ariaLabel",defaultMessage:"{teamName} team, {mentionCount} mentions"},{teamName:t,mentionCount:s}),h=u.createElement("span",{className:"badge badge-max-number pull-right small"},s>99?"99+":s))),g=g.toLowerCase();const f=u.createElement(Hi.Z,{className:c,withHover:!0,content:this.props.content||t||"",url:e});let b,E=this.props.tip||(0,V._u)("team.button.name_undefined","This team does not have a name");if(void 0!==this.props.order&&this.props.order<10){let e;e=(0,V.V5)()?l({id:"team.button.tooltip.mac",defaultMessage:"⌘ ⌥ {order}"},{order:this.props.order}):l({id:"team.button.tooltip",defaultMessage:"Ctrl+Alt+{order}"},{order:this.props.order}),E=u.createElement(u.Fragment,null,E,u.createElement("div",{className:"tooltip-help"},e)),this.props.showOrder&&(b=u.createElement("div",{className:"order-indicator"},this.props.order))}const C=u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:this.props.placement,overlay:u.createElement(Tt.Z,{id:"tooltip-".concat(this.props.url)},E)},u.createElement("div",{className:"team-btn "+n},h,f));let y=u.createElement(kt.Link,{id:"".concat(this.props.url.slice(1),"TeamButton"),"aria-label":g,className:d,to:this.props.url,onClick:p},C);return(0,_.P)()&&m&&(y=u.createElement(Fi,{link:this.props.url,menuId:this.props.url},y)),i?u.createElement(ki._l,{draggableId:o,index:r},((e,t)=>u.createElement("div",Object.assign({className:"draggable-team-container",ref:e.innerRef},e.draggableProps,e.dragHandleProps),u.createElement("div",{className:Te()(["team-container ".concat(c),{isDragging:t.isDragging}])},y,b)))):u.createElement("div",{className:"team-container ".concat(c)},y,b)}}qi(Bi,"propTypes",{btnClass:m().string,url:m().string.isRequired,displayName:m().string,content:m().node,tip:m().oneOfType([m().string,m().element]).isRequired,order:m().number,showOrder:m().bool,active:m().bool,disabled:m().bool,unread:m().bool,mentions:m().number,placement:m().oneOf(["left","right","top","bottom"]),teamIconUrl:m().oneOfType([m().string,m().oneOf([null])]),switchTeam:m().func.isRequired,isDraggable:m().bool,teamIndex:m().number,teamId:m().string});const Gi=(0,we.ZP)(Bi);function Vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function zi(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function Yi(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class Ki extends u.PureComponent{constructor(e){super(e),Vi(this,"switchToPrevOrNextTeam",((e,t,n)=>{if(V.pD(e,R.gT.KeyCodes.UP)||V.pD(e,R.gT.KeyCodes.DOWN)){e.preventDefault();const s=V.pD(e,R.gT.KeyCodes.DOWN)?1:-1,a=n.findIndex((e=>e.id===t))+s;let i;return i=-1===a?n[n.length-1]:a===n.length?n[0]:n[a],this.props.actions.switchTeam("/".concat(i.name)),!0}return!1})),Vi(this,"switchToTeamByNumber",((e,t,n)=>{const s=[R.gT.KeyCodes.ONE,R.gT.KeyCodes.TWO,R.gT.KeyCodes.THREE,R.gT.KeyCodes.FOUR,R.gT.KeyCodes.FIVE,R.gT.KeyCodes.SIX,R.gT.KeyCodes.SEVEN,R.gT.KeyCodes.EIGHT,R.gT.KeyCodes.NINE,R.gT.KeyCodes.ZERO];for(const a in s)if(V.pD(e,s[a])&&parseInt(a,10)<n.length){if(e.preventDefault(),n[a].id===t)return!1;const s=n[a];return this.props.actions.switchTeam("/".concat(s.name)),!0}return!1})),Vi(this,"handleKeyDown",(e=>{if((e.ctrlKey||e.metaKey)&&e.altKey){const{currentTeamId:t}=this.props,n=(0,xi.Z)(this.props.myTeams,this.props.locale,this.props.userTeamsOrderPreference);if(this.switchToPrevOrNextTeam(e,t,n))return;if(this.switchToTeamByNumber(e,t,n))return;this.setState({showOrder:!0})}})),Vi(this,"handleKeyUp",(e=>{(e.ctrlKey||e.metaKey)&&e.altKey||this.setState({showOrder:!1})})),Vi(this,"onDragEnd",(e=>{const{updateTeamsOrderForUser:t}=this.props.actions;if(!e.destination)return;const n=(0,xi.Z)(this.props.myTeams,this.props.locale,this.props.userTeamsOrderPreference),s=e.source.index,a=e.destination.index,i=((e,t,s)=>[...e.slice(0,t),n.find((e=>e.id===s)),...e.slice(t,e.length)])((o=s,[...(r=n).slice(0,o),...r.slice(o+1,r.length)]),a,e.draggableId);var r,o;t(i.map((e=>e.id))),this.setState({teamsOrder:i})})),this.state={showOrder:!1,teamsOrder:[]}}componentDidMount(){this.props.actions.getTeams(0,200),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}render(){const e=document.querySelector("#root");if(this.props.myTeams.length<=1)return e.classList.remove("multi-teams"),null;e.classList.add("multi-teams");const t=[],n=(0,xi.Z)(this.props.myTeams,this.props.locale,this.props.userTeamsOrderPreference).map(((e,t)=>{var n,s,a,i;const r=this.props.myTeamMembers[e.id];return u.createElement(Gi,{key:"switch_team_"+e.name,url:"/".concat(e.name),tip:e.display_name,active:e.id===this.props.currentTeamId,displayName:e.display_name,unread:this.props.collapsedThreads?r.msg_count_root+(null===(n=this.props.threadCounts)||void 0===n||null===(s=n[e.id])||void 0===s?void 0:s.total_unread_threads)>0:r.msg_count>0,order:t+1,showOrder:this.state.showOrder,mentions:this.props.collapsedThreads?r.mention_count_root+(null===(a=this.props.threadCounts)||void 0===a||null===(i=a[e.id])||void 0===i?void 0:i.total_unread_mentions):r.mention_count,teamIconUrl:V.uZ(e),switchTeam:this.props.actions.switchTeam,isDraggable:!0,teamId:e.id,teamIndex:t})})),s=[];return this.props.moreTeamsToJoin&&!this.props.experimentalPrimaryTeam?s.push(u.createElement(Gi,{btnClass:"team-btn__add",key:"more_teams",url:"/select_team",tip:u.createElement(ve.Z,{id:"team_sidebar.join",defaultMessage:"Other teams you can join"}),content:u.createElement("i",{className:"icon icon-plus"}),switchTeam:this.props.actions.switchTeam})):s.push(u.createElement(zn.Z,{permissions:[Kn.Z.CREATE_TEAM],key:"more_teams"},u.createElement(Gi,{btnClass:"team-btn__add",url:"/create_team",tip:u.createElement(ve.Z,{id:"navbar_dropdown.create",defaultMessage:"Create a Team"}),content:u.createElement("i",{className:"icon icon-plus"}),switchTeam:this.props.actions.switchTeam}))),t.push(u.createElement("div",{key:"team-sidebar-bottom-plugin",className:"team-sidebar-bottom-plugin is-empty"},u.createElement(D.Z,{pluggableName:"BottomTeamSidebar"}))),u.createElement("div",{className:Te()("team-sidebar",{"move--right":this.props.isOpen}),role:"navigation","aria-labelledby":"teamSidebarWrapper"},u.createElement("div",{className:"team-wrapper",id:"teamSidebarWrapper"},u.createElement(Dt.ZP,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:zi,renderThumbVertical:Yi,renderView:Wi},u.createElement(ki.Z5,{onDragEnd:this.onDragEnd},u.createElement(ki.bK,{droppableId:"my_teams",type:"TEAM_BUTTON"},(e=>u.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),n,e.placeholder)))),s)),t)}}Vi(Ki,"propTypes",{myTeams:m().array.isRequired,collapsedThreads:m().bool.isRequired,currentTeamId:m().string.isRequired,match:m().shape({url:m().string.isRequired}).isRequired,moreTeamsToJoin:m().bool.isRequired,isOpen:m().bool.isRequired,experimentalPrimaryTeam:m().string,locale:m().string.isRequired,actions:m().shape({getTeams:m().func.isRequired,switchTeam:m().func.isRequired,updateTeamsOrderForUser:m().func.isRequired}).isRequired,userTeamsOrderPreference:m().string.isRequired});const Ji=(0,g.EN)((0,a.connect)((function(e){const t=(0,i.iE)(e).ExperimentalPrimaryTeam,n=(0,o.O5)(e),s=n&&n.length>0;return{currentTeamId:(0,o.ev)(e),myTeams:(0,o.Dc)(e),myTeamMembers:(0,o.gb)(e),isOpen:Li(e),collapsedThreads:(0,$.ym)(e),experimentalPrimaryTeam:t,locale:(0,F.B)(e),moreTeamsToJoin:s,userTeamsOrderPreference:(0,$.U2)(e,R.uP.TEAMS_ORDER,"",""),threadCounts:(0,Di.qN)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getTeams:Q.LK,switchTeam:ae.Xr,updateTeamsOrderForUser:ae.A6},e)}}))(Ki));var Qi=n(2535),Xi=(n(85827),n(23493)),$i=n.n(Xi),er=n(78233),tr=n(47667),nr=n(71816),sr=n(67556),ar=n(45403);function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rr=new(n(45860).Z)({concurrency:2});class or extends u.PureComponent{constructor(...e){super(...e),ir(this,"prefetchTimeout",void 0),ir(this,"prefetchPosts",(e=>{let t;const n=this.props.unreadChannels.find((t=>e===t.id));return!n||n.type!==R.gT.PRIVATE_CHANNEL&&n.type!==R.gT.OPEN_CHANNEL||Date.now()-n.last_post_at<=1e3&&(t=1e3*Math.random()),this.props.actions.prefetchChannelPosts(e,t)})),ir(this,"prefetchData",(()=>{const{prefetchRequestStatus:e,prefetchQueueObj:t}=this.props;for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n];for(const t of s)e.hasOwnProperty(t)||rr.add((async()=>this.prefetchPosts(t)))}}))}async componentDidUpdate(e){const{currentChannelId:t,prefetchQueueObj:n,sidebarLoaded:s}=this.props;!t||!s||e.currentChannelId&&e.sidebarLoaded?e.prefetchQueueObj!==n&&(clearTimeout(this.prefetchTimeout),await rr.clear(),this.prefetchData()):(rr.add((async()=>this.prefetchPosts(t))),await(0,at.D3)(),this.prefetchData(),this.props.actions.trackDMGMOpenChannels())}render(){return null}}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mr;ir(or,"propTypes",{currentChannelId:m().string.isRequired,sidebarLoaded:m().bool.isRequired,unreadChannels:m().array.isRequired,actions:m().shape({prefetchChannelPosts:m().func.isRequired,trackDMGMOpenChannels:m().func.isRequired}).isRequired}),function(e){e[e.high=1]="high",e[e.medium=2]="medium",e[e.low=3]="low"}(mr||(mr={}));const ur=(0,Ls.GA)(((e,t)=>e.reduce(((e,n)=>{const s=n.id,a=t[s];if(a&&!(0,nr.Mm)(a)){if(a.mention_count>0)return cr(cr({},e),{},{[mr.high]:[...e[mr.high],s]});if(a.notify_props&&"mention"!==a.notify_props.mark_unread&&n.total_msg_count-a.msg_count)return cr(cr({},e),{},{[mr.medium]:[...e[mr.medium],s]})}return e}),{[mr.high]:[],[mr.medium]:[],[mr.low]:[]})));function pr(e){return"true"===(0,i.iE)(e).EnableLegacySidebar||(0,ar.Yy)(e).length>0}const hr=(0,a.connect)((function(e){const t=e.views.channel.lastUnreadChannel,n=(0,sr.h4)(e),s=(0,ee.Xn)(e,t),a=ur(s,n),i=e.views.channel.channelPrefetchStatus;return{currentChannelId:(0,ee.gO)(e),prefetchQueueObj:a,prefetchRequestStatus:i,sidebarLoaded:pr(e),unreadChannels:s}}),(function(e){return{actions:(0,s.bindActionCreators)({prefetchChannelPosts:ie.AV,trackDMGMOpenChannels:at.eq},e)}}))(or);var gr=n(63951);function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class br extends u.PureComponent{static getDerivedStateFromProps(e){return!1===e.show?{displayNameError:""}:null}constructor(e){super(e),fr(this,"onEnterKeyDown",(e=>{const t=V.pD(e,R.ZP.KeyCodes.ENTER),{ctrlSend:n}=this.props;n&&t&&!e.ctrlKey?e.preventDefault():(n&&t&&e.ctrlKey||!n&&t&&!e.shiftKey&&!e.altKey)&&this.handleSubmit(e)})),fr(this,"handleSubmit",(e=>{e.preventDefault(),this.displayNameInput.current.value.trim().length<R.ZP.MIN_CHANNELNAME_LENGTH?this.setState({displayNameError:!0}):this.props.onSubmitChannel()})),fr(this,"handleChange",(()=>{const e={displayName:this.displayNameInput.current.value,purpose:this.channelPurposeInput.current.value};this.props.onDataChanged(e)})),fr(this,"handleOnURLChange",(e=>{e.preventDefault(),this.props.onChangeURLPressed&&this.props.onChangeURLPressed()})),fr(this,"handlePublicTypeSelect",(()=>{this.props.onTypeSwitched("O")})),fr(this,"handlePrivateTypeSelect",(()=>{this.props.onTypeSwitched("P")})),this.state={displayNameError:""},this.channelPurposeInput=u.createRef(),this.displayNameInput=u.createRef()}render(){const{canCreatePublicChannel:e,canCreatePrivateChannel:t}=this.props,n=e&&t;var s=null,a=null,i="form-group";this.state.displayNameError&&(s=u.createElement("p",{className:"input__help error"},u.createElement(ve.Z,{id:"channel_modal.displayNameError",defaultMessage:"Display name must have at least 2 characters."}),this.state.displayNameError),i+=" has-error"),this.props.serverError&&(a=u.createElement("div",{className:"form-group has-error"},u.createElement("div",{className:"col-sm-12"},u.createElement("p",{id:"createChannelError",className:"input__help error"},this.props.serverError))));const r=u.createElement("div",{className:"flex-parent"},u.createElement(sa.Z,{className:"icon icon__globe icon--body type-icon"}),u.createElement(ve.Z,{id:"channel_modal.publicName",defaultMessage:"Public"}),u.createElement(ve.Z,{id:"channel_modal.publicHint",defaultMessage:" - Anyone can join this channel"})),o=u.createElement("div",{className:"flex-parent"},u.createElement(aa.Z,{className:"icon icon__lock icon--body type-icon"}),u.createElement(ve.Z,{id:"channel_modal.privateName",defaultMessage:"Private"}),u.createElement(ve.Z,{id:"channel_modal.privateHint",defaultMessage:" - Only invited members can join this channel"}));let l=null;l=n?u.createElement("fieldset",{key:"channelType",className:"multi-select__radio"},u.createElement("div",{className:"radio"},u.createElement("label",null,u.createElement("input",{id:"public",type:"radio",name:"channelType",checked:"O"===this.props.channelType,onChange:this.handlePublicTypeSelect,"aria-labelledby":"channelModalTypeLabel"}),r)),u.createElement("div",{className:"radio"},u.createElement("label",null,u.createElement("input",{id:"private",type:"radio",name:"channelType",checked:"P"===this.props.channelType,onChange:this.handlePrivateTypeSelect,"aria-labelledby":"channelModalTypeLabel"}),o))):u.createElement("div",{className:"type-container multi-select__radio"},u.createElement("div",{className:"radio"},e?r:null,t?o:null));const c=(0,Ks.ZC)();return u.createElement("span",null,u.createElement(ye.Z,{dialogClassName:"a11y__modal new-channel__modal new-channel",show:this.props.show,bsSize:"large",onHide:this.props.onModalDismissed,onExited:this.props.onModalExited,autoFocus:!0,restoreFocus:!0,role:"dialog","aria-labelledby":"newChannelModalLabel"},u.createElement(ye.Z.Header,null,u.createElement("button",{type:"button",className:"close",onClick:this.props.onModalDismissed,"aria-label":"Close",title:"Close"},u.createElement("span",{"aria-hidden":"true"},"×")),u.createElement(ye.Z.Title,{componentClass:"h1",id:"newChannelModalLabel"},u.createElement(ve.Z,{id:"channel_modal.modalTitle",defaultMessage:"New Channel"}))),u.createElement("form",{role:"form",className:"form-horizontal"},u.createElement(ye.Z.Body,null,u.createElement("div",{className:"form-group"},u.createElement("label",{className:"col-sm-3 form__label control-label",id:"channelModalTypeLabel"},u.createElement(ve.Z,{id:"channel_modal.type",defaultMessage:"Type"})),u.createElement("div",{className:"col-sm-9"},l)),u.createElement("div",{className:i},u.createElement("label",{className:"col-sm-3 form__label control-label",htmlFor:"newChannelName"},u.createElement(ve.Z,{id:"channel_modal.name",defaultMessage:"Name"})),u.createElement("div",{className:"col-sm-9"},u.createElement(ka.Z,{id:"newChannelName",onChange:this.handleChange,type:"text",ref:this.displayNameInput,className:"form-control",placeholder:{id:(0,it.t)("channel_modal.nameEx"),defaultMessage:'E.g.: "Bugs", "Marketing", "客户支持"'},maxLength:R.ZP.MAX_CHANNELNAME_LENGTH,value:this.props.channelData.displayName,autoFocus:!0,onKeyDown:this.onEnterKeyDown}),s,u.createElement("p",{className:"input__help dark"},"URL: "+c+this.props.channelData.name+" (",u.createElement("button",{className:"color--link style--none",onClick:this.handleOnURLChange},u.createElement(ve.Z,{id:"channel_modal.edit",defaultMessage:"Edit"})),")"))),u.createElement("div",{className:"form-group"},u.createElement("div",{className:"col-sm-3"},u.createElement("label",{className:"form__label control-label",htmlFor:"newChannelPurpose"},u.createElement(ve.Z,{id:"channel_modal.purpose",defaultMessage:"Purpose"})),u.createElement("label",{className:"form__label light"},u.createElement(ve.Z,{id:"channel_modal.optional",defaultMessage:"(optional)"}))),u.createElement("div",{className:"col-sm-9"},u.createElement("textarea",{id:"newChannelPurpose",className:"form-control no-resize",ref:this.channelPurposeInput,rows:"4",placeholder:V._u("channel_modal.purposeEx",'E.g.: "A channel to file bugs and improvements"'),maxLength:"250",value:this.props.channelData.purpose,onChange:this.handleChange}),a))),u.createElement(ye.Z.Footer,null,u.createElement("button",{id:"cancelNewChannel",type:"button",className:"btn btn-link",onClick:this.props.onModalDismissed,onBlur:()=>document.getElementById("newChannelName").focus()},u.createElement(ve.Z,{id:"channel_modal.cancel",defaultMessage:"Cancel"})),u.createElement("button",{id:"submitNewChannel",onClick:this.handleSubmit,type:"submit",className:"btn btn-primary"},u.createElement(ve.Z,{id:"channel_modal.createNew",defaultMessage:"Create Channel"}))))))}}fr(br,"propTypes",{show:m().bool.isRequired,currentTeamId:m().string.isRequired,channelType:m().string.isRequired,channelData:m().object.isRequired,ctrlSend:m().bool,serverError:m().node,onSubmitChannel:m().func.isRequired,onModalDismissed:m().func.isRequired,onModalExited:m().func,onTypeSwitched:m().func.isRequired,onChangeURLPressed:m().func.isRequired,onDataChanged:m().func.isRequired,canCreatePublicChannel:m().bool.isRequired,canCreatePrivateChannel:m().bool.isRequired});const _r=(0,a.connect)((function(e){return{ctrlSend:(0,$.o4)(e,he.uP.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),currentTeamId:(0,o.ev)(e)}}))(br);function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(15306);class Cr extends u.PureComponent{constructor(e){super(e),Er(this,"urlInput",void 0),Er(this,"onURLChanged",(e=>{const t=e.target.value.trim();this.setState({currentURL:t.replace(/[^A-Za-z0-9-_]/g,"").toLowerCase(),userEdit:!0})})),Er(this,"onSubmit",(e=>{var t,n;e.preventDefault(),e.preventDefault();const s=(null===(t=this.urlInput)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.value)||"",a=(0,Ks.pj)(s);a.length>0?this.setState({urlErrors:a}):(this.setState({urlErrors:"",userEdit:!1}),this.props.onModalSubmit(s))})),Er(this,"onCancel",(()=>{this.setState({urlErrors:"",userEdit:!1}),this.props.onModalDismissed()})),this.urlInput=u.createRef(),this.state={currentURL:e.currentURL,urlErrors:"",userEdit:!1}}static getDerivedStateFromProps(e,t){return t.userEdit?null:{currentURL:e.currentURL}}render(){let e="input-group input-group--limit",t=null,n=null;this.state.urlErrors&&(e+=" has-error"),this.props.serverError||this.state.urlErrors?t=u.createElement("div",{className:"has-error"},u.createElement("p",{className:"input__help error"},this.state.urlErrors||this.props.serverError)):n=u.createElement("p",{className:"input__help"},u.createElement(ve.Z,{id:"change_url.helpText",defaultMessage:"You can use lowercase letters, numbers, dashes, and underscores."}));const s=this.props.currentTeamURL+"/channels",a=(0,Ks.ZC)(s),i=u.createElement(Tt.Z,{id:"urlTooltip"},s);return u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.props.show,onHide:this.onCancel,onExited:this.props.onModalExited,role:"dialog","aria-labelledby":"changeUrlModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"changeUrlModalLabel"},this.props.title)),u.createElement("form",{role:"form",className:"form-horizontal"},u.createElement(ye.Z.Body,null,u.createElement("div",{className:"form-group"},u.createElement("label",{className:"col-sm-3 form__label control-label"},u.createElement(ve.Z,{id:"change_url.urlLabel",defaultMessage:"Channel URL"})),u.createElement("div",{className:"col-sm-9"},u.createElement("div",{className:e},u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:i},u.createElement("span",{className:"input-group-addon"},a)),u.createElement("input",{type:"text",ref:this.urlInput,className:"form-control",maxLength:R.ZP.MAX_CHANNELNAME_LENGTH,onChange:this.onURLChanged,value:this.state.currentURL,autoFocus:!0})),t,n))),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onCancel},u.createElement(ve.Z,{id:"change_url.close",defaultMessage:"Close"})),u.createElement("button",{onClick:this.onSubmit,type:"submit",className:"btn btn-primary"},this.props.submitButtonText))))}}Er(Cr,"propTypes",{show:m().bool,title:m().node,submitButtonText:m().node,currentURL:m().string,currentTeamURL:m().string.isRequired,serverError:m().node,onModalSubmit:m().func.isRequired,onModalExited:m().func,onModalDismissed:m().func.isRequired}),Er(Cr,"defaultProps",{show:!1,title:"Change URL",submitButtonText:"Save",currentURL:"",serverError:null});const yr=(0,a.connect)((function(e){const t=(0,o.kA)(e);return{currentTeamURL:"".concat((0,Ks.fO)(),"/").concat(t.name)}}))(Cr);function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(e){let t=e.channelType||R.ZP.OPEN_CHANNEL;return e.canCreatePublicChannel||t!==R.ZP.OPEN_CHANNEL||(t=R.ZP.PRIVATE_CHANNEL),e.canCreatePrivateChannel||t!==R.ZP.PRIVATE_CHANNEL||(t=R.ZP.OPEN_CHANNEL),t}class Sr extends u.PureComponent{constructor(e){super(e),vr(this,"onSubmit",(()=>{if(!this.state.channelDisplayName)return void this.setState({serverError:V._u("channel_flow.invalidName","Invalid Channel Name")});if(this.state.channelName.length<2)return void this.setState({flowState:3});const{actions:e,currentTeamId:t}=this.props,n={team_id:t,name:this.state.channelName,display_name:this.state.channelDisplayName,purpose:this.state.channelPurpose,header:this.state.channelHeader,type:this.state.channelType,create_at:0,creator_id:"",delete_at:0,extra_update_at:0,group_constrained:!1,id:"",last_post_at:0,scheme_id:"",total_msg_count:0,total_msg_count_root:0,update_at:0};e.createChannel(n).then((({data:t,error:n})=>{n?this.onCreateChannelError(n):t&&(this.onModalDismissed(),e.switchToChannel(t))}))})),vr(this,"onModalDismissed",(()=>{this.props.actions.closeModal(R.r8.NEW_CHANNEL_FLOW)})),vr(this,"onCreateChannelError",(e=>{"model.channel.is_valid.2_or_more.app_error"===e.server_error_id?this.setState({flowState:3,serverError:u.createElement(ve.Z,{id:"channel_flow.handleTooShort",defaultMessage:"Channel URL must be 2 or more lowercase alphanumeric characters"})}):"store.sql_channel.update.exists.app_error"===e.server_error_id?this.setState({serverError:V._u("channel_flow.alreadyExist","A channel with that URL already exists")}):this.setState({serverError:e.message})})),vr(this,"typeSwitched",(e=>{this.setState({channelType:e,serverError:""})})),vr(this,"urlChangeRequested",(e=>{e&&e.preventDefault(),this.setState({flowState:2})})),vr(this,"urlChangeSubmitted",(e=>{3===this.state.flowState?this.setState({channelName:e,nameModified:!0},this.onSubmit):this.setState({flowState:1,serverError:null,channelName:e,nameModified:!0})})),vr(this,"urlChangeDismissed",(()=>{this.setState({flowState:1})})),vr(this,"channelDataChanged",(e=>{this.setState({channelDisplayName:e.displayName,channelPurpose:e.purpose,channelHeader:e.header}),this.state.nameModified||this.setState({channelName:(0,Ks.oK)(e.displayName.trim())})})),this.state={serverError:"",channelType:wr(e),flowState:1,channelDisplayName:"",channelName:"",channelPurpose:"",channelHeader:"",nameModified:!1}}render(){const e={name:this.state.channelName,displayName:this.state.channelDisplayName,purpose:this.state.channelPurpose,header:this.state.channelHeader};let t=!1,n=!1,s="",a="";switch(this.state.flowState){case 1:t=!0;break;case 2:n=!0,s=u.createElement(ve.Z,{id:"channel_flow.changeUrlTitle",defaultMessage:"Change Channel URL"}),a=s;break;case 3:n=!0,s=u.createElement(ve.Z,{id:"channel_flow.set_url_title",defaultMessage:"Set Channel URL"}),a=u.createElement(ve.Z,{id:"channel_flow.create",defaultMessage:"Create Channel"})}return u.createElement("span",null,u.createElement(_r,{show:t,channelType:this.state.channelType,canCreatePublicChannel:this.props.canCreatePublicChannel,canCreatePrivateChannel:this.props.canCreatePrivateChannel,channelData:e,serverError:this.state.serverError,onSubmitChannel:this.onSubmit,onModalDismissed:this.onModalDismissed,onTypeSwitched:this.typeSwitched,onChangeURLPressed:this.urlChangeRequested,onDataChanged:this.channelDataChanged}),u.createElement(yr,{show:n,title:s,submitButtonText:a,currentURL:this.state.channelName,serverError:this.state.serverError,onModalSubmit:this.urlChangeSubmitted,onModalDismissed:this.urlChangeDismissed}))}}vr(Sr,"propTypes",{currentTeamId:m().string.isRequired,canCreatePublicChannel:m().bool.isRequired,canCreatePrivateChannel:m().bool.isRequired,actions:m().shape({createChannel:m().func.isRequired,switchToChannel:m().func.isRequired,closeModal:m().func.isRequired}).isRequired}),vr(Sr,"defaultProps",{channelType:R.ZP.OPEN_CHANNEL});const Tr=(0,a.connect)((function(e){const t=(0,o.kA)(e),n=(0,ee.gO)(e);let s=!1,a=!1;return t&&(s=(0,ge.Ai)(e,{channel:n,team:t.id,permission:Kn.Z.CREATE_PUBLIC_CHANNEL}),a=(0,ge.Ai)(e,{channel:n,team:t.id,permission:Kn.Z.CREATE_PRIVATE_CHANNEL})),{currentTeamId:t.id,canCreatePrivateChannel:a,canCreatePublicChannel:s}}),(function(e){return{actions:(0,s.bindActionCreators)({createChannel:J.mi,switchToChannel:ie.qZ,closeModal:I.M},e)}}))(Sr);var Pr=n(21843),Mr=n(26700),Nr=n(32136),Ir=n(79097);function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ar extends u.PureComponent{static getDerivedStateFromProps(e,t){return{isSearch:e.isSearch,page:e.isSearch&&!t.isSearch?0:t.page}}constructor(e){super(e),Rr(this,"createChannelRow",(e=>{const t="".concat(e.display_name,", ").concat(e.purpose).toLowerCase();let n,s;const{shouldShowArchivedChannels:a}=this.props;return a&&(n=u.createElement("div",{className:"more-modal__icon-container"},u.createElement(Nr.Z,{className:"icon icon__archive"}))),e.shared&&(s=u.createElement(Ir.Z,{className:"shared-channel-icon",channelType:e.type,withTooltip:!0})),u.createElement("div",{className:"more-modal__row",key:e.id,id:"ChannelRow-".concat(e.name)},u.createElement("div",{className:"more-modal__details"},u.createElement("button",{onClick:this.handleJoin.bind(this,e),"aria-label":t,className:"style--none more-modal__name"},n,e.display_name,s),u.createElement("p",{className:"more-modal__description"},e.purpose)),u.createElement("div",{className:"more-modal__actions"},u.createElement("button",{onClick:this.handleJoin.bind(this,e),className:"btn btn-primary",disabled:this.state.joiningChannel},u.createElement(Pr.Z,{loading:this.state.joiningChannel===e.id,text:(0,V._u)("more_channels.joining","Joining...")},u.createElement(ve.Z,{id:a?"more_channels.view":"more_channels.join",defaultMessage:a?"View":"Join"})))))})),Rr(this,"nextPage",(e=>{e.preventDefault(),this.setState({page:this.state.page+1,nextDisabled:!0}),this.nextTimeoutId=setTimeout((()=>this.setState({nextDisabled:!1})),500),this.props.nextPage(this.state.page+1),Ia()(Ra.findDOMNode(this.channelListScroll.current)).scrollTop(0)})),Rr(this,"previousPage",(e=>{e.preventDefault(),this.setState({page:this.state.page-1}),Ia()(Ra.findDOMNode(this.channelListScroll.current)).scrollTop(0)})),Rr(this,"doSearch",(()=>{const e=this.filter.current.value;this.props.search(e),""===e&&this.setState({page:0})})),Rr(this,"toggleArchivedChannelsOn",(()=>{this.props.toggleArchivedChannels(!0)})),Rr(this,"toggleArchivedChannelsOff",(()=>{this.props.toggleArchivedChannels(!1)})),this.nextTimeoutId=0,this.state={joiningChannel:"",page:0,nextDisabled:!1},this.filter=u.createRef(),this.channelListScroll=u.createRef()}componentDidMount(){!_.tq()&&this.filter.current&&this.filter.current.focus()}handleJoin(e){this.setState({joiningChannel:e.id}),this.props.handleJoin(e,(()=>{this.setState({joiningChannel:""})}))}render(){const e=this.props.channels;let t,n,s;if(this.props.loading&&0===e.length)t=u.createElement(pi.Z,null);else if(0===e.length)t=u.createElement("div",{className:"no-channel-message"},u.createElement("p",{className:"primary-message"},u.createElement(ve.Z,{id:"more_channels.noMore",defaultMessage:"No more channels to join"})),this.props.noResultsText);else{const e=this.state.page*this.props.channelsPerPage,a=e+this.props.channelsPerPage,i=this.props.channels.slice(e,a);t=i.map(this.createChannelRow),i.length>=this.props.channelsPerPage&&a<this.props.channels.length&&(n=u.createElement("button",{className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled},u.createElement(ve.Z,{id:"more_channels.next",defaultMessage:"Next"}))),this.state.page>0&&(s=u.createElement("button",{className:"btn btn-link filter-control filter-control__prev",onClick:this.previousPage},u.createElement(ve.Z,{id:"more_channels.prev",defaultMessage:"Previous"})))}let a,i=u.createElement("div",{className:"filter-row filter-row--full"},u.createElement("div",{className:"col-sm-12"},u.createElement(Mr.Z,{id:"searchChannelsTextbox",ref:this.filter,className:"form-control filter-textbox",placeholder:{id:(0,it.t)("filtered_channels_list.search"),defaultMessage:"Search channels"},inputComponent:ka.Z,onInput:this.doSearch})));return this.props.createChannelButton&&(i=u.createElement("div",{className:"channel_search"},u.createElement("div",{className:"search_input"},u.createElement(Mr.Z,{id:"searchChannelsTextbox",ref:this.filter,className:"form-control filter-textbox",placeholder:{id:(0,it.t)("filtered_channels_list.search"),defaultMessage:"Search channels"},inputComponent:ka.Z,onInput:this.doSearch})),u.createElement("div",{className:"create_button"},this.props.createChannelButton))),this.props.canShowArchivedChannels&&(a=u.createElement("div",{className:"more-modal__dropdown"},u.createElement(ns.Z,{id:"channelsMoreDropdown"},u.createElement("a",null,u.createElement("span",null,this.props.shouldShowArchivedChannels?(0,V._u)("more_channels.show_archived_channels","Show: Archived Channels"):(0,V._u)("more_channels.show_public_channels","Show: Public Channels")),u.createElement("span",{className:"caret"})),u.createElement(ts.Z,{openLeft:!1,ariaLabel:(0,V._u)("team_members_dropdown.menuAriaLabel","Change the role of a team member")},u.createElement(ts.Z.ItemAction,{id:"channelsMoreDropdownPublic",onClick:this.toggleArchivedChannelsOff,text:(0,V._u)("suggestion.search.public","Public Channels")}),u.createElement(ts.Z.ItemAction,{id:"channelsMoreDropdownArchived",onClick:this.toggleArchivedChannelsOn,text:(0,V._u)("suggestion.archive","Archived Channels")}))))),u.createElement("div",{className:"filtered-user-list"},i,a,u.createElement("div",{role:"application",ref:"channelList",className:"more-modal__list"},u.createElement("div",{id:"moreChannelsList",ref:this.channelListScroll},t)),u.createElement("div",{className:"filter-controls"},s,n))}}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ar.defaultProps={channels:[],isSearch:!1},Ar.propTypes={channels:m().arrayOf(m().object),channelsPerPage:m().number,nextPage:m().func.isRequired,isSearch:m().bool,search:m().func.isRequired,handleJoin:m().func.isRequired,noResultsText:m().object,loading:m().bool,createChannelButton:m().element,toggleArchivedChannels:m().func.isRequired,shouldShowArchivedChannels:m().bool.isRequired,canShowArchivedChannels:m().bool.isRequired};class Lr extends u.PureComponent{constructor(e){super(e),Or(this,"searchTimeoutId",void 0),Or(this,"handleHide",(()=>{this.setState({show:!1}),this.props.bodyOnly&&this.handleExit()})),Or(this,"handleNewChannel",(()=>{this.handleExit(),this.props.actions.openModal({modalId:R.r8.NEW_CHANNEL_FLOW,dialogType:Tr})})),Or(this,"handleExit",(()=>{this.props.actions.closeModal(R.r8.MORE_CHANNELS)})),Or(this,"onChange",(e=>{this.state.search&&!e||this.setState({searchedChannels:[],serverError:null})})),Or(this,"nextPage",(e=>{this.props.actions.getChannels(this.props.teamId,e+1,50)})),Or(this,"handleJoin",(async(e,t)=>{const{actions:n,currentUserId:s,teamId:a,teamName:i}=this.props,r=await n.joinChannel(s,a,e.id);r.error?this.setState({serverError:r.error.message}):(P.m.push((0,Ks.d0)(i,e.name)),this.handleHide()),t&&t()})),Or(this,"search",(e=>{if(clearTimeout(this.searchTimeoutId),""===e)return this.onChange(!0),this.setState({search:!1,searchedChannels:[],searching:!1,searchTerm:e}),void(this.searchTimeoutId=0);this.setState({search:!0,searching:!0,searchTerm:e});const t=window.setTimeout((async()=>{try{const{data:n}=await this.props.actions.searchMoreChannels(e,this.state.shouldShowArchivedChannels);if(t!==this.searchTimeoutId)return;n?this.setSearchResults(n):this.setState({searchedChannels:[],searching:!1})}catch(e){this.setState({searchedChannels:[],searching:!1})}}),100);this.searchTimeoutId=t})),Or(this,"setSearchResults",(e=>{this.setState({searchedChannels:this.state.shouldShowArchivedChannels?e.filter((e=>0!==e.delete_at)):e.filter((e=>0===e.delete_at)),searching:!1})})),Or(this,"toggleArchivedChannels",(e=>{this.search(this.state.searchTerm),this.setState({shouldShowArchivedChannels:e})})),this.searchTimeoutId=0,this.state={show:!0,shouldShowArchivedChannels:"private"===this.props.morePublicChannelsModalType,search:!1,searchedChannels:[],serverError:null,searching:!1,searchTerm:""}}componentDidMount(){this.props.actions.getChannels(this.props.teamId,0,100),this.props.canShowArchivedChannels&&this.props.actions.getArchivedChannels(this.props.teamId,0,100)}render(){const{channels:e,archivedChannels:t,teamId:n,channelsRequestStarted:s,bodyOnly:a}=this.props,{search:i,searchedChannels:r,serverError:o,show:l,searching:c,shouldShowArchivedChannels:d}=this.state;let m,p;m=d?i?r:t:i?r:e,o&&(p=u.createElement("div",{className:"form-group has-error"},u.createElement("label",{className:"control-label"},o)));const h=u.createElement(Wn.Z,{teamId:n,permissions:[Kn.Z.CREATE_PUBLIC_CHANNEL]},u.createElement("button",{id:"createNewChannel",type:"button",className:"btn btn-primary channel-create-btn",onClick:this.handleNewChannel},u.createElement(ve.Z,{id:"more_channels.create",defaultMessage:"Create Channel"}))),g=u.createElement(Wn.Z,{teamId:n,permissions:[Kn.Z.CREATE_PUBLIC_CHANNEL,Kn.Z.CREATE_PRIVATE_CHANNEL]},u.createElement("p",{className:"secondary-message"},u.createElement(ve.Z,{id:"more_channels.createClick",defaultMessage:"Click 'Create New Channel' to make a new one"}))),f=u.createElement(u.Fragment,null,u.createElement(Ar,{channels:m,channelsPerPage:50,nextPage:this.nextPage,isSearch:i,search:this.search,handleJoin:this.handleJoin,noResultsText:g,loading:i?c:s,createChannelButton:a&&h,toggleArchivedChannels:this.toggleArchivedChannels,shouldShowArchivedChannels:this.state.shouldShowArchivedChannels,canShowArchivedChannels:this.props.canShowArchivedChannels}),p);return a?f:u.createElement(ye.Z,{dialogClassName:"a11y__modal more-modal more-modal--action",show:l,onHide:this.handleHide,onExited:this.handleExit,role:"dialog",id:"moreChannelsModal","aria-labelledby":"moreChannelsModalLabel"},u.createElement(ye.Z.Header,{id:"moreChannelsModalHeader",closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"moreChannelsModalLabel"},u.createElement(ve.Z,{id:"more_channels.title",defaultMessage:"More Channels"})),h),u.createElement(ye.Z.Body,null,f))}}Or(Lr,"propTypes",{channels:m().array.isRequired,archivedChannels:m().array.isRequired,currentUserId:m().string.isRequired,teamId:m().string.isRequired,teamName:m().string.isRequired,channelsRequestStarted:m().bool,bodyOnly:m().bool,canShowArchivedChannels:m().bool,morePublicChannelsModalType:m().string,actions:m().shape({getChannels:m().func.isRequired,getArchivedChannels:m().func.isRequired,joinChannel:m().func.isRequired,searchMoreChannels:m().func.isRequired,openModal:m().func.isRequired,closeModal:m().func.isRequired}).isRequired});const Dr=(0,yn.P1)(ee.Gc,(e=>e&&e.filter((e=>0===e.delete_at)))),kr=(0,yn.P1)(ee.zE,(e=>e&&e.filter((e=>0!==e.delete_at)))),xr=(0,a.connect)((function(e){const t=(0,o.kA)(e)||{};return{channels:Dr(e)||[],archivedChannels:kr(e)||[],currentUserId:(0,r.rc)(e),teamId:t.id,teamName:t.name,channelsRequestStarted:e.requests.channels.getChannels.status===he.eE.STARTED,canShowArchivedChannels:"true"===(0,i.iE)(e).ExperimentalViewArchivedChannels}}),(function(e){return{actions:(0,s.bindActionCreators)({getChannels:J.Ky,getArchivedChannels:J.ey,joinChannel:J.JJ,searchMoreChannels:gr.Hy,openModal:I.h,closeModal:I.M},e)}}))(Lr);var Ur=n(71843),Zr=n.n(Ur),jr=n(23122),Fr=n(70735),Hr=n.n(Fr),qr=n(43174),Br=n.n(qr),Gr=n(23279),Vr=n.n(Gr),Wr=n(79592),zr=n(49801),Yr=n(68403);function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qr=R.ZP.MAX_USERS_IN_GM-1,Xr={useTime:!1,style:"long",ranges:[{within:["minute",-1],display:["second",0]},{within:["hour",-1],display:["minute"]},{within:["hour",-24],display:["hour"]},{within:["day",-30],display:["day"]},{within:["month",-11],display:["month"]},{within:["year",-1e3],display:["year"]}]};function $r(e){return"G"===(null==e?void 0:e.type)}function eo(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({value:e.id,label:$r(e)?e.display_name:e.username},e)}class to extends u.PureComponent{constructor(e){super(e),Jr(this,"searchTimeoutId",void 0),Jr(this,"exitToChannel",void 0),Jr(this,"multiselect",void 0),Jr(this,"selectedItemRef",void 0),Jr(this,"loadModalData",(()=>{this.getUserProfiles(),this.props.actions.getTotalUsersStats(),this.loadProfilesMissingStatus(this.props.users,this.props.statuses)})),Jr(this,"loadProfilesMissingStatus",((e=[],t={})=>{const n=e.filter((e=>!t[e.id])).map((e=>e.id));n.length>0&&this.props.actions.getStatusesByIds(n)})),Jr(this,"handleHide",(()=>{this.props.actions.setModalSearchTerm(""),this.setState({show:!1}),this.props.bodyOnly&&this.handleExit()})),Jr(this,"setUsersLoadingState",(e=>{this.setState({loadingUsers:e})})),Jr(this,"handleExit",(()=>{var e,t,n,s;this.exitToChannel&&P.m.push(this.exitToChannel),null===(e=(t=this.props).onModalDismissed)||void 0===e||e.call(t),null===(n=(s=this.props).onHide)||void 0===n||n.call(s)})),Jr(this,"handleSubmit",((e=this.state.values)=>{const{actions:t}=this.props;if(this.state.saving)return;const n=e.map((e=>e.id));if(0===n.length)return;this.setState({saving:!0});const s=e=>{const{data:t,error:n}=e;this.setState({saving:!1}),n||(this.exitToChannel="/"+this.props.currentTeamName+"/group/"+t.name,this.handleHide())};1===n.length?t.openDirectChannelToUserId(n[0]).then(s):t.openGroupChannelToUserIds(n).then(s)})),Jr(this,"addValue",(e=>{if($r(e))this.addUsers(e.profiles);else{const t=Object.assign([],this.state.values);-1===t.indexOf(e)&&t.push(e),this.setState({values:t})}})),Jr(this,"addUsers",(e=>{const t=Object.assign([],this.state.values),n=t.map((e=>e.id));for(const s of e)-1===n.indexOf(s.id)&&t.push(eo(s));this.setState({values:t})})),Jr(this,"getUserProfiles",(e=>{const t=e?e+1:0;"any"===this.props.restrictDirectMessage?this.props.actions.getProfiles(t,100).then((()=>{this.setUsersLoadingState(!1)})):this.props.actions.getProfilesInTeam(this.props.currentTeamId,t,100).then((()=>{this.setUsersLoadingState(!1)}))})),Jr(this,"handlePageChange",((e,t)=>{e>t&&(this.setUsersLoadingState(!0),this.getUserProfiles(e))})),Jr(this,"resetPaging",(()=>{var e;null===(e=this.multiselect.current)||void 0===e||e.resetPaging()})),Jr(this,"search",Vr()((e=>{this.props.actions.setModalSearchTerm(e)}),250)),Jr(this,"handleDelete",(e=>{this.setState({values:e})})),Jr(this,"renderAriaLabel",(e=>{var t;return null!==(t=null==e?void 0:e.username)&&void 0!==t?t:""})),Jr(this,"optionDisplayParts",(e=>{if($r(e))return u.createElement(u.Fragment,null,u.createElement("div",{className:"more-modal__gm-icon bg-text-200"},e.profiles.length),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},u.createElement("span",null,e.profiles.map((e=>"@".concat(e.username))).join(", ")))));const{id:t,delete_at:n,is_bot:s=!1,last_picture_update:a}=e,i=(0,V.bj)(e);let r=i;return e.id===this.props.currentUserId?r=u.createElement(ve.Z,{id:"more_direct_channels.directchannel.you",defaultMessage:"{displayname} (you)",values:{displayname:i}}):e.delete_at&&(r=u.createElement(ve.Z,{id:"more_direct_channels.directchannel.deactivated",defaultMessage:"{displayname} - Deactivated",values:{displayname:i}})),u.createElement(u.Fragment,null,u.createElement(Wr.Z,{src:q.je.getProfilePictureUrl(t,a),status:n||s?void 0:this.props.statuses[t],size:"md"}),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},r,u.createElement(Hs.Z,{show:s,className:"badge-popoverlist"}),u.createElement(Fs.Z,{show:(0,V.a_)(e),className:"badge-popoverlist"}),u.createElement(Yr.Z,{userID:e.id,showTooltip:!0,emojiSize:15})),!s&&u.createElement("div",{className:"more-modal__description"},e.email)))})),Jr(this,"handleSubmitImmediatelyOn",(e=>e.id===this.props.currentUserId||Boolean(e.delete_at))),Jr(this,"note",(()=>{let e;return this.props.currentChannelMembers&&(this.state.values&&this.state.values.length>=Qr?e=u.createElement(ve.Z,{id:"more_direct_channels.new_convo_note.full",defaultMessage:"You've reached the maximum number of people for this conversation. Consider creating a private channel instead."}):this.props.isExistingChannel&&(e=u.createElement(ve.Z,{id:"more_direct_channels.new_convo_note",defaultMessage:"This will start a new conversation. If you're adding a lot of people, consider creating a private channel instead."}))),e})),Jr(this,"renderOptionValue",((e,t,n,s)=>{const{id:a,last_post_at:i}=e;return u.createElement("div",{key:a,ref:t?this.selectedItemRef:e.id,className:Te()("more-modal__row clickable",{"more-modal__row--selected":t}),onClick:()=>n(e),onMouseEnter:()=>s(e)},this.optionDisplayParts(e),!(0,V.tq)()&&Boolean(i)&&u.createElement("div",{className:"more-modal__lastPostAt"},u.createElement(zr.ZP,Object.assign({},Xr,{value:i}))),u.createElement("div",{className:"more-modal__actions"},u.createElement("div",{className:"more-modal__actions--round"},u.createElement(ri.Z,null))))})),Jr(this,"computeOptions",(()=>{const{currentUserId:e,searchTerm:t,myDirectChannels:n,recentDMUsers:s=[]}=this.props,{values:a}=this.state,[i,r]=Br()(this.props.users,(({delete_at:e})=>0===e)),o=this.props.groupChannels.filter((({profiles:e})=>Hr()(e,a,"id").length)),[l,c]=Br()(o,"last_post_at");let d=a.length?i.filter((({id:t})=>t!==e)):i.concat(r);d=d.filter((e=>(0===e.delete_at||n.some((({name:t})=>t.includes(e.id))))&&!s.some((({id:t})=>t===e.id))));const m=[...a.length?s.filter((({id:t})=>t!==e)):s,...l].sort(((e,t)=>t.last_post_at-e.last_post_at));return m.length&&!t?m.slice(0,20):[...m,...d,...c]})),this.searchTimeoutId=0,this.multiselect=u.createRef(),this.selectedItemRef=u.createRef();const t=[];if(e.currentChannelMembers)for(let n=0;n<e.currentChannelMembers.length;n++){const s=Object.assign({},e.currentChannelMembers[n]);s.id!==e.currentUserId&&t.push(eo(s))}this.state={values:t,show:!0,search:!1,saving:!1,loadingUsers:!0}}updateFromProps(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)this.resetPaging();else{const t="any"===this.props.restrictDirectMessage?"":this.props.currentTeamId;this.searchTimeoutId=setTimeout((async()=>{this.setUsersLoadingState(!0);const[{data:n},{data:s}]=await Promise.all([this.props.actions.searchProfiles(e,{team_id:t}),this.props.actions.searchGroupChannels(e)]);n&&this.props.actions.loadStatusesForProfilesList(n),s&&this.props.actions.loadProfilesForGroupChannels(s),this.resetPaging(),this.setUsersLoadingState(!1)}),R.ZP.SEARCH_TIMEOUT_MILLISECONDS)}}e.users.length===this.props.users.length&&Object.keys(e.statuses).length===Object.keys(this.props.statuses).length||this.loadProfilesMissingStatus(this.props.users,this.props.statuses)}componentDidUpdate(e){this.updateFromProps(e)}renderValue(e){return e.data.username}render(){const{bodyOnly:e}=this.props,{values:t}=this.state,n=(0,V._u)("multiselect.go","Go"),s=(0,V._u)("multiselect.loading","Loading.."),a=u.createElement(ve.Z,{id:"multiselect.numPeopleRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {person} other {people}}. ",values:{num:Qr-t.length}}),i=u.createElement(ai.Z,{key:"moreDirectChannelsList",ref:this.multiselect,options:this.computeOptions().map(eo),optionRenderer:this.renderOptionValue,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,ariaLabelRenderer:this.renderAriaLabel,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,noteText:this.note(),maxValues:Qr,numRemainingText:a,buttonSubmitText:n,buttonSubmitLoadingText:s,submitImmediatelyOn:this.handleSubmitImmediatelyOn,saving:this.state.saving,loading:this.state.loadingUsers,users:this.props.users,totalCount:this.props.totalCount,placeholderText:(0,V._u)("multiselect.placeholder","Search and add members")});return e?i:u.createElement(ye.Z,{dialogClassName:"a11y__modal more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,onEntered:this.loadModalData,role:"dialog","aria-labelledby":"moreDmModalLabel",id:"moreDmModal"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"moreDmModalLabel"},u.createElement(ve.Z,{id:"more_direct_channels.title",defaultMessage:"Direct Messages"}))),u.createElement(ye.Z.Body,{role:"application"},i),u.createElement(ye.Z.Footer,{className:"modal-footer--invisible"},u.createElement("button",{id:"closeModalButton",type:"button",className:"btn btn-link"},u.createElement(ve.Z,{id:"general_button.close",defaultMessage:"Close"}))))}}function no(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?no(Object(n),!0).forEach((function(t){ao(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jr(to,"propTypes",{currentUserId:m().string.isRequired,currentTeamId:m().string.isRequired,currentTeamName:m().string.isRequired,searchTerm:m().string.isRequired,users:m().array.isRequired,groupChannels:m().array.isRequired,myDirectChannels:m().array.isRequired,totalCount:m().number,currentChannelMembers:m().array.isRequired,isExistingChannel:m().bool.isRequired,restrictDirectMessage:m().string,onModalDismissed:m().func.isRequired,onHide:m().func,bodyOnly:m().bool,actions:m().shape({getProfiles:m().func.isRequired,getProfilesInTeam:m().func.isRequired,getStatusesByIds:m().func.isRequired,getTotalUsersStats:m().func.isRequired,loadStatusesForProfilesList:m().func.isRequired,loadProfilesForGroupChannels:m().func.isRequired,openDirectChannelToUserId:m().func.isRequired,openGroupChannelToUserIds:m().func.isRequired,searchProfiles:m().func.isRequired,searchGroupChannels:m().func.isRequired,setModalSearchTerm:m().func.isRequired}).isRequired});const io=(0,Ls.GA)(((e,t)=>e.filter((e=>(0,jr.vI)(e.profiles,t).length>0)))),ro=(0,Ls.GA)(((e,t)=>Object.values(e).filter((e=>e.type===R.gT.DM_CHANNEL&&e.name.includes(t))))),oo=(0,a.connect)((()=>{const e=(0,r.uZ)();return(t,n)=>{const s=(0,r.rc)(t);let a=[];n.isExistingChannel&&(a=(0,r.OX)(t));const l=(0,i.iE)(t).RestrictDirectMessage,c=t.views.search.modalSearch;let d;d=c?"any"===l?e(t,c,!1):(0,r.lo)(t,c,!1):"any"===l?(0,r.cp)(t,{}):(0,r.fv)(t);const m=io((0,ee.P6)(t),c),u=ro((0,ee.IU)(t),s);let p=u.reduce(((e,n)=>{if(!n.last_post_at)return e;const a=(0,r.PR)(t,(0,nr.aU)(s,n.name));return a&&e.push(so(so({},a),{},{last_post_at:n.last_post_at})),e}),[]);c&&(p=Zr()(p,d,"id"));const h=(0,o.kA)(t),g=(0,r.S1)(t)||{total_users_count:0};return{currentTeamId:h.id,currentTeamName:h.name,searchTerm:c,users:d.sort(jr.gh),myDirectChannels:u,groupChannels:m,recentDMUsers:p,statuses:t.entities.users.statuses,currentChannelMembers:a,currentUserId:s,restrictDirectMessage:l,totalCount:g.total_users_count}}}),(function(e){return{actions:(0,s.bindActionCreators)({getProfiles:K.cp,getProfilesInTeam:K.gV,getStatusesByIds:K.W7,getTotalUsersStats:K.S1,loadStatusesForProfilesList:se.xO,loadProfilesForGroupChannels:at.Tg,openDirectChannelToUserId:gr.Pn,openGroupChannelToUserIds:gr.iU,searchProfiles:K.t6,searchGroupChannels:J.PP,setModalSearchTerm:Jn.Gl},e)}}))(to);var lo=n(89922);function co(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.arrow.down",defaultMessage:"Down Arrow Icon"})},u.createElement("path",{d:"M8.696 2H7.184V11L3.062 6.878L2 7.94L7.94 13.88L13.88 7.94L12.818 6.878L8.696 11V2Z"})))}function mo(e){return u.createElement("div",{id:"unreadIndicator"+e.name,className:Te()("nav-pills__unread-indicator",{"nav-pills__unread-indicator--visible":e.show},e.extraClass),onClick:e.onClick},u.createElement(co,{className:"icon icon__unread"}),e.content)}mo.propTypes={onClick:m().func.isRequired,show:m().bool,extraClass:m().string,content:m().node,name:m().string},mo.defaultProps={show:!1,extraClass:"",content:""};const uo=mo;var po=n(55165),ho=n(82704);class go extends u.PureComponent{render(){return this.props.unreadMentions>0?u.createElement("span",{id:"unreadMentions",className:"badge"},this.props.unreadMentions):null}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(go,"propTypes",{unreadMentions:m().number.isRequired});const fo=e=>u.createElement("svg",Object.assign({width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u.createElement("path",{d:"M11.7952 0.00524884C12.1312 0.00524884 12.4144 0.125249 12.6448 0.365248C12.8848 0.595648 13.0048 0.878848 13.0048 1.21485V8.41485C13.0048 8.75085 12.8848 9.03405 12.6448 9.26445C12.4144 9.49485 12.1312 9.61005 11.7952 9.61005H3.4L0.9952 12.0148V1.21485C0.9952 0.878848 1.1104 0.595648 1.3408 0.365248C1.5808 0.125249 1.8688 0.00524884 2.2048 0.00524884H11.7952ZM2.2048 1.21485V9.10605L2.896 8.41485H11.7952V1.21485H2.2048ZM3.4 3.01485H10.6V4.21005H3.4V3.01485ZM3.4 5.40525H8.8V6.61485H3.4V5.40525Z"})),bo=()=>{const{formatMessage:e}=(0,_s.Z)(),t=(0,a.useDispatch)(),n=(0,a.useSelector)($.ym),{url:s}=(0,g.$B)(),{pathname:i}=(0,g.TH)(),r=null!=(0,g.LX)(i,{path:"/:team/threads/:threadIdentifier?"}),{currentTeamId:o,currentUserId:l}=(0,ho.Q)(),c=(0,a.useSelector)(Di.Pd),d=(0,a.useSelector)(ar.fI),m=null==c?void 0:c.total_unread_threads;return(0,u.useEffect)((()=>{n&&t((0,po.hr)(l,o,{perPage:5}))}),[o]),!n||d&&!r&&!m?null:u.createElement("ul",{className:"SidebarGlobalThreads NavGroupContent nav nav-pills__container"},u.createElement("li",{className:Te()("SidebarChannel",{active:r,unread:m}),tabIndex:-1},u.createElement(kt.Link,{to:"".concat(s,"/threads"),draggable:"false",className:Te()("SidebarLink sidebar-item",{"unread-title":Boolean(m)}),role:"listitem",tabIndex:0},u.createElement("span",{className:"icon"},u.createElement(fo,null)),u.createElement("div",{className:"SidebarChannelLinkLabel_wrapper"},u.createElement("span",{className:"SidebarChannelLinkLabel sidebar-item__name"},e({id:(0,it.t)("globalThreads.sidebarLink"),defaultMessage:"Threads"}))),(null==c?void 0:c.total_unread_mentions)>0&&u.createElement(go,{unreadMentions:c.total_unread_mentions}))))};var _o=n(76938);function Eo(e){return{type:R.MF.STATUS_DROPDOWN_TOGGLE,open:e}}var Co=n(13776),yo=n(95421),vo=n(84220),wo=n(50928),So=n(12341),To=n(8696),Po=n(93065),Mo=n(86733),No=n(11381),Io=n(85175);function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Lo extends u.PureComponent{constructor(e){super(e),Oo(this,"formatDate",(e=>{const t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return[e.getFullYear().toString(),t,n].join("-")})),Oo(this,"getText",(()=>({modalHeaderText:u.createElement(ve.Z,{id:"dnd_custom_time_picker_modal.defaultMsg",defaultMessage:"Disable notifications until"}),confirmButtonText:u.createElement(ve.Z,{id:"dnd_custom_time_picker_modal.submitButton",defaultMessage:"Disable Notifications"})}))),Oo(this,"handleConfirm",(e=>{e.preventDefault();const t=parseInt(this.state.selectedTime.split(":")[0],10),n=parseInt(this.state.selectedTime.split(":")[1],10),s=new Date(this.state.selectedDate);s.setHours(t,n),s<new Date||(this.props.actions.setStatus({user_id:this.props.userId,status:R.gg.DND,dnd_end_time:(0,Io.J5)(s),manual:!0,last_activity_at:(0,Io.J5)(this.props.currentDate)}),this.props.onHide())})),Oo(this,"handleDaySelection",(e=>{this.setState(Ao({selectedDate:e},this.makeTimeMenuList(e)))})),Oo(this,"makeTimeMenuList",(e=>{const t=[];let n=0,s=0;const a=this.props.currentDate;this.formatDate(a)===this.formatDate(e)&&(n=a.getHours(),s=a.getMinutes(),s>20?(n++,s=0):s=30);for(let e=n;e<24;e++)for(let n=s/30;n<2;n++){const s=e.toString().padStart(2,"0")+":"+(30*n).toString().padStart(2,"0");t.push(s)}return{timeMenuList:t,selectedTime:t[0]}}));const{currentDate:t}=this.props,n=new Date(t);23===t.getHours()&&t.getMinutes()>20&&n.setDate(t.getDate()+1),this.state=Ao({selectedDate:n,dayPickerStartDate:n},this.makeTimeMenuList(n))}render(){const{modalHeaderText:e,confirmButtonText:t}=this.getText(),{timeMenuList:n,selectedTime:s,selectedDate:a,dayPickerStartDate:i}=this.state,r=n.map((e=>u.createElement(ts.Z.ItemAction,{id:"dndTime_dropdown_".concat(e),key:e,text:e,ariaLabel:"".concat(e," hours"),onClick:()=>{this.setState({selectedTime:e})}},e)));return u.createElement(No.Z,{onHide:this.props.onHide,modalHeaderText:e,confirmButtonText:t,id:"dndCustomTimePickerModal",className:"DndModal modal-overflow"},u.createElement("div",{className:"DndModal__content"},u.createElement("div",null,u.createElement("div",{className:"DndModal__input DndModal__input--no-border"},u.createElement("div",{className:"DndModal__input__label"},u.createElement(ve.Z,{id:"dnd_custom_time_picker_modal.date",defaultMessage:"Date"})),u.createElement("i",{className:"icon icon--no-spacing icon-calendar-outline icon--xs icon-14"}),u.createElement(Mo.default,{value:this.formatDate(a),onDayChange:this.handleDaySelection,dayPickerProps:{selectedDays:a,disabledDays:{before:i}}}))),u.createElement(ns.Z,{id:"dropdown-no-caret",stopPropagationOnToggle:!0},u.createElement("button",{className:"DndModal__input",type:"button"},u.createElement("div",{className:"DndModal__input__label"},u.createElement(ve.Z,{id:"dnd_custom_time_picker_modal.time",defaultMessage:"Time"})),u.createElement("i",{className:"icon icon--no-spacing icon-clock-outline icon--xs icon-14"}),u.createElement("span",null,s)),u.createElement(ts.Z,{openLeft:!1,ariaLabel:"Clear custom status after"},r))),u.createElement("div",{className:"DndModal__footer"},u.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleConfirm},t)))}}Oo(Lo,"propTypes",{onHide:m().func.isRequired,userId:m().string.isRequired,currentDate:m().instanceOf(Date).isRequired,actions:m().shape({setStatus:m().func.isRequired}).isRequired});const Do=(0,a.connect)((function(e){return{userId:(0,r.rc)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({setStatus:K.Tf},e)}}))(Lo);var ko=n(58367),xo=n(36356);function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Zo extends u.PureComponent{constructor(e){super(e),Uo(this,"getCurrentDateTime",((e,t)=>{let n=new Date;return t&&(n=e.useAutomaticTimezone?(0,ko.uH)(e.automaticTimezone):(0,ko.uH)(e.manualTimezone)),n})),Uo(this,"dndTimes",["30 mins","1 hour","2 hours","Tomorrow","Custom"]),Uo(this,"isUserOutOfOffice",(()=>this.props.status===R.gg.OUT_OF_OFFICE)),Uo(this,"setStatus",((e,t)=>{this.props.actions.setStatus({user_id:this.props.userId,status:e,dnd_end_time:t})})),Uo(this,"setOnline",(e=>{e.preventDefault(),this.setStatus(R.gg.ONLINE,"")})),Uo(this,"setOffline",(e=>{e.preventDefault(),this.setStatus(R.gg.OFFLINE,"")})),Uo(this,"setAway",(e=>{e.preventDefault(),this.setStatus(R.gg.AWAY,"")})),Uo(this,"setDnd",((e,t)=>{e.preventDefault();const n=this.getCurrentDateTime(this.props.userTimezone,this.props.isTimezoneEnabled),s=n.getTime();let a;switch(t){case 0:a=new Date(s+18e5);break;case 1:a=new Date(s+36e5);break;case 2:a=new Date(s+72e5);break;case 3:a=new Date(n.getDate()+1),a.setHours(23,59,59,999)}var i=(0,Io.J5)(a);this.setStatus(R.gg.DND,i)})),Uo(this,"setCustomTimedDnd",(()=>{const e={ModalId:R.r8.DND_CUSTOM_TIME_PICKER,dialogType:Do,dialogProps:{userId:this.props.userId,currentDate:this.getCurrentDateTime(this.props.userTimezone,this.props.isTimezoneEnabled)}};this.props.actions.openModal(e)})),Uo(this,"showStatusChangeConfirmation",(e=>{const t={ModalId:R.r8.RESET_STATUS,dialogType:dt,dialogProps:{newStatus:e}};this.props.actions.openModal(t)})),Uo(this,"renderProfilePicture",(()=>this.props.profilePicture?u.createElement(Bs.Z,{size:"lg",url:this.props.profilePicture}):null)),Uo(this,"renderDropdownIcon",(()=>u.createElement(ve.Z,{id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"},(e=>u.createElement("i",{className:"fa fa-caret-down","aria-label":e}))))),Uo(this,"handleClearStatus",(e=>{e.stopPropagation(),e.preventDefault(),this.props.actions.unsetCustomStatus()})),Uo(this,"onToggle",(e=>this.props.actions.setStatusDropdown(e))),Uo(this,"renderCustomStatus",(()=>{if(!this.props.isCustomStatusEnabled)return null;const e=this.props.customStatus,t=e&&(e.text||e.emoji),n=t?e.text:(0,V._u)("status_dropdown.set_custom","Set a Custom Status"),s=t?u.createElement("span",{className:"d-flex"},u.createElement(Yr.Z,{showTooltip:!1,emojiStyle:{marginLeft:0}})):u.createElement(Ae.Z,{className:"custom-status-emoji"}),a=t&&u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:u.createElement(Tt.Z,{id:"clear-custom-status"},u.createElement(ve.Z,{id:"status_dropdown.custom_status.tooltip_clear",defaultMessage:"Clear"}))},u.createElement("button",{className:"style--none input-clear-x",id:"custom_status__clear",onClick:this.handleClearStatus},u.createElement("i",{className:"icon icon-close-circle"}))),i=!t&&this.props.showCustomStatusPulsatingDot&&u.createElement("span",{className:"pulsating_dot"});return u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemToggleModalRedux,{accessibilityLabel:"Custom Status",modalId:R.r8.CUSTOM_STATUS,dialogType:vo.Z,className:"MenuItem__primary-text custom_status__row",id:"status-menu-custom-status",sibling:a},u.createElement("span",{className:"custom_status__icon"},s),u.createElement(xo.Z,{text:n,className:"custom_status__text"}),i))})),Uo(this,"refCallback",(e=>{e&&this.setState({width:e.state.width,open:e.state.open})})),this.state={openUp:!1,width:0}}render(){const e=this.isUserOutOfOffice()&&""===this.props.autoResetPref,t=this.renderProfilePicture(),n=this.renderDropdownIcon(),s=e?()=>this.showStatusChangeConfirmation("online"):this.setOnline,a=e?()=>this.showStatusChangeConfirmation("dnd"):this.setDnd,i=e?()=>this.showStatusChangeConfirmation("away"):this.setAway,r=e?()=>this.showStatusChangeConfirmation("offline"):this.setOffline,o=e?()=>this.showStatusChangeConfirmation("dnd"):this.setCustomTimedDnd,l=[{id:"dndSubMenu-header",direction:"right",text:(0,V._u)("status_dropdown.dnd_sub_menu_header","Disable notifications until:")}].concat(this.dndTimes.map(((e,t)=>({id:"dndTime-".concat(e.split(" ").join("")),direction:"right",text:(0,V._u)("status_dropdown.dnd_sub_menu_item.time",e),action:4===t?()=>o():()=>a(event,t)})))),c=this.renderCustomStatus();return u.createElement(ns.Z,{onToggle:this.onToggle,style:this.props.style,open:this.props.isStatusDropdownOpen,className:"status-dropdown-menu",ref:this.refCallback},u.createElement("div",{className:"status-wrapper status-selector"},t,u.createElement("button",{className:"status style--none","aria-label":(0,V._u)("status_dropdown.menuAriaLabel","Set a status")},u.createElement(yo.Z,{status:this.props.status,button:!0})),u.createElement("span",{className:"status status-edit edit"},n)),u.createElement(ts.Z,{ariaLabel:(0,V._u)("status_dropdown.menuAriaLabel","Set a status"),id:"statusDropdownMenu"},!this.props.isCustomStatusEnabled&&u.createElement(ts.Z.Header,null,u.createElement(ve.Z,{id:"status_dropdown.set_your_status",defaultMessage:"Status"})),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{show:this.isUserOutOfOffice(),onClick:()=>null,ariaLabel:(0,V._u)("status_dropdown.set_ooo","Out of office").toLowerCase(),text:(0,V._u)("status_dropdown.set_ooo","Out of office"),extraText:(0,V._u)("status_dropdown.set_ooo.extra","Automatic Replies are enabled")})),c,u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{onClick:s,ariaLabel:(0,V._u)("status_dropdown.set_online","Online").toLowerCase(),text:(0,V._u)("status_dropdown.set_online","Online"),icon:u.createElement(So.Z,{className:"online--icon"}),id:"status-menu-online"}),u.createElement(ts.Z.ItemAction,{onClick:i,ariaLabel:(0,V._u)("status_dropdown.set_away","Away").toLowerCase(),text:(0,V._u)("status_dropdown.set_away","Away"),icon:u.createElement(wo.Z,{className:"away--icon"}),id:"status-menu-away"}),u.createElement(ts.Z.ItemSubMenu,{subMenu:l,ariaLabel:"".concat((0,V._u)("status_dropdown.set_dnd","Do not disturb").toLowerCase(),". ").concat((0,V._u)("status_dropdown.set_dnd.extra","Disables desktop, email and push notifications").toLowerCase()),text:(0,V._u)("status_dropdown.set_dnd","Do not disturb"),extraText:(0,V._u)("status_dropdown.set_dnd.extra","Disables all notifications"),icon:u.createElement(To.Z,{className:"dnd--icon"}),direction:"right",openUp:this.state.openUp,id:"status-menu-dnd"}),u.createElement(ts.Z.ItemAction,{onClick:r,ariaLabel:(0,V._u)("status_dropdown.set_offline","Offline").toLowerCase(),text:(0,V._u)("status_dropdown.set_offline","Offline"),icon:u.createElement(Po.Z,null),id:"status-menu-offline"}))))}}Uo(Zo,"propTypes",{style:m().object,status:m().string,userId:m().string.isRequired,userTimezone:m().object,isTimezoneEnabled:m().bool,profilePicture:m().string,autoResetPref:m().string,actions:m().shape({openModal:m().func.isRequired,setStatus:m().func.isRequired,unsetCustomStatus:m().func.isRequired,setStatusDropdown:m().func.isRequired}).isRequired,customStatus:m().object,isCustomStatusEnabled:m().bool.isRequired,isStatusDropdownOpen:m().bool.isRequired,showCustomStatusPulsatingDot:m().bool.isRequired}),Uo(Zo,"defaultProps",{userId:"",profilePicture:"",status:R.gg.OFFLINE,customStatus:{}});var jo=n(5445);function Fo(e){return e.views.statusDropdown.isOpen}const Ho=(0,a.connect)((function(e){const t=(0,r.ts)(e),n=(0,jo.yC)();if(!t)return{};const s=t.id;return{userId:s,profilePicture:q.je.getProfilePictureUrl(s,t.last_picture_update),autoResetPref:(0,$.U2)(e,he.uP.CATEGORY_AUTO_RESET_MANUAL_STATUS,s,""),status:(0,r.ZO)(e,s),userTimezone:(0,_o.S)(e,s),isTimezoneEnabled:(0,Co.Y)(e),customStatus:n(e,s),isCustomStatusEnabled:(0,jo.uD)(e),isStatusDropdownOpen:Fo(e),showCustomStatusPulsatingDot:(0,jo.Ed)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,setStatus:K.Tf,unsetCustomStatus:K.Nc,setStatusDropdown:Eo},e)}}))(Zo);var qo=n(69113);function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Go extends u.PureComponent{constructor(e){super(e),Bo(this,"handleCustomStatusEmojiClick",(e=>{e.stopPropagation();const t={ModalId:R.r8.CUSTOM_STATUS,dialogType:vo.Z};this.props.openModal(t)})),Bo(this,"getFirstAdminVisitMarketplaceStatus",(async()=>{const{data:e}=await this.props.getFirstAdminVisitMarketplaceStatus();this.setState({showUnread:!e})})),this.state={showUnread:!1}}componentDidMount(){(0,V.GJ)(this.props.currentUser.roles)&&this.getFirstAdminVisitMarketplaceStatus()}componentDidUpdate(){const e=(0,V.GJ)(this.props.currentUser.roles),{showUnread:t}=this.props;e&&t!==this.state.showUnread&&this.setState({showUnread:this.props.showUnread})}render(){let e=null,t=null;this.props.showTutorialTip&&(e=u.createElement(bn,{onBottom:!1}));let n=u.createElement("h1",{id:"headerTeamName",className:"team__name","data-teamid":this.props.teamId},this.props.teamDisplayName);return this.props.teamDescription&&(n=u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"bottom",overlay:u.createElement(Tt.Z,{id:"team-name__tooltip"},this.props.teamDescription)},n)),this.state.showUnread&&(t=u.createElement("span",{className:"style--none unread-badge-addon"},u.createElement("span",{className:"unread-badge"}))),u.createElement("div",{className:"SidebarHeaderDropdownButton",id:"sidebarHeaderDropdownButton"},e,u.createElement("div",{id:"headerInfo",className:"header__info"},n,u.createElement("div",{id:"headerInfoContent",className:"header__info__content"},u.createElement("div",{id:"headerUsername",className:"user__name"},"@"+this.props.currentUser.username),u.createElement(Yr.Z,{showTooltip:!0,tooltipDirection:"bottom",emojiStyle:{verticalAlign:"top",marginLeft:2},onClick:this.handleCustomStatusEmojiClick})),u.createElement("button",{className:"style--none sidebar-header-dropdown__icon","aria-label":(0,V._u)("navbar_dropdown.menuAriaLabel","main menu")},t,u.createElement(qo.Z,null))))}}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Bo(Go,"propTypes",{showTutorialTip:m().bool.isRequired,teamDescription:m().string.isRequired,teamId:m().string.isRequired,currentUser:m().object.isRequired,teamDisplayName:m().string.isRequired,openModal:m().func,getFirstAdminVisitMarketplaceStatus:m().func,showUnread:m().bool});class Wo extends u.PureComponent{constructor(...e){super(...e),Vo(this,"toggleShortcutsModal",(e=>{e.preventDefault(),y.kk()})),Vo(this,"handleKeyDown",(e=>{(0,V._E)(e)&&e.shiftKey&&(0,V.pD)(e,R.gT.KeyCodes.A)&&this.props.actions.openModal({ModalId:R.r8.USER_SETTINGS,dialogType:Dn.Z})})),Vo(this,"handleEmitUserLoggedOutEvent",(()=>{y.gc()}))}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return this.props.currentUser?u.createElement(ns.Z,{className:"main-menu"},u.createElement(Go,{showTutorialTip:this.props.showTutorialTip,teamDescription:this.props.teamDescription,currentUser:this.props.currentUser,teamDisplayName:this.props.teamDisplayName,teamId:this.props.teamId,openModal:this.props.actions.openModal,getFirstAdminVisitMarketplaceStatus:this.props.actions.getFirstAdminVisitMarketplaceStatus,showUnread:(0,V.GJ)(this.props.currentUser.roles)&&!this.props.firstAdminVisitMarketplaceStatus}),u.createElement(wi,{id:"sidebarDropdownMenu"})):null}}Vo(Wo,"propTypes",{teamDescription:m().string.isRequired,teamDisplayName:m().string.isRequired,teamId:m().string.isRequired,currentUser:m().object,showTutorialTip:m().bool.isRequired,firstAdminVisitMarketplaceStatus:m().bool.isRequired,actions:m().shape({openModal:m().func.isRequired,getFirstAdminVisitMarketplaceStatus:m().func.isRequired}).isRequired}),Vo(Wo,"defaultProps",{teamType:"",pluginMenuItems:[]});const zo=(0,a.connect)((function(e){const t=(0,o.kA)(e),n=(0,r.ts)(e),s=(0,$.wS)(e,R.uP.TUTORIAL_STEP,n.id)===R.PN.MENU_POPOVER&&!V.tq();return{currentUser:n,teamDescription:t.description,teamDisplayName:t.display_name,teamId:t.id,showTutorialTip:s,firstAdminVisitMarketplaceStatus:(0,i.zv)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,getFirstAdminVisitMarketplaceStatus:f.zv},e)}}))(Wo);class Yo extends u.PureComponent{constructor(e){super(e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"handleResize",(()=>{const e=V.tq();this.setState({isMobile:e})})),this.state={isMobile:V.tq()}}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const e=V._u("accessibility.sections.lhsHeader","team menu region");return u.createElement("div",{id:"lhsHeader","aria-label":e,tabIndex:"-1",role:"application",className:"SidebarHeader team__header theme a11y__region","data-a11y-sort-order":"5"},u.createElement("div",{className:"d-flex"},!this.state.isMobile&&u.createElement(Ho,null),u.createElement(zo,null)))}}const Ko=(0,a.connect)((function(e){const t=(0,i.iE)(e),n=(0,r.ts)(e);return{enableTutorial:"true"===t.EnableTutorial,showTutorialTip:(0,$.wS)(e,R.uP.TUTORIAL_STEP,n.id)===R.PN.MENU_POPOVER&&!V.tq(),firstAdminVisitMarketplaceStatus:(0,i.zv)(e)}}))(Yo);var Jo=n(34934);function Qo(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",Object.assign({},e,{id:"draftIcon"}),u.createElement("svg",{width:"14px",height:"14px",viewBox:"0 0 50 51",role:"img","aria-label":t({id:"generic_icons.channel.draft",defaultMessage:"Channel Draft Icon"})},u.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},u.createElement("path",{d:"M11.980198,46.7136356 L14.9834983,43.7103353 L7.22772277,35.9545597 L4.22442244,38.95786 L4.22442244,42.4892132 L8.44884488,42.4892132 L8.44884488,46.7136356 L11.980198,46.7136356 Z M29.2409241,16.0865729 C29.2409241,15.6025221 28.9989023,15.3605003 28.5148515,15.3605003 C28.2948284,15.3605003 28.1078116,15.4375072 27.9537954,15.5915234 L10.0660066,33.4793122 C9.91199043,33.6333283 9.8349835,33.8203452 9.8349835,34.0403683 C9.8349835,34.5244191 10.0770053,34.7664409 10.5610561,34.7664409 C10.7810792,34.7664409 10.968096,34.6894339 11.1221122,34.5354178 L29.009901,16.647629 C29.1639172,16.4936128 29.2409241,16.306596 29.2409241,16.0865729 Z M27.4587459,9.74993922 L41.1881188,23.4793122 L13.7293729,50.938058 L0,50.938058 L0,37.2086851 L27.4587459,9.74993922 Z M50,12.9182561 C50,14.0843785 49.5929634,15.0744676 48.7788779,15.8885531 L43.30033,21.3671009 L29.5709571,7.637728 L35.049505,2.19218345 C35.8415881,1.35609566 36.8316772,0.938058036 38.019802,0.938058036 C39.1859244,0.938058036 40.1870145,1.35609566 41.0231023,2.19218345 L48.7788779,9.91495573 C49.5929634,10.7730458 50,11.7741359 50,12.9182561 Z"}))))}function Xo(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"16",height:"13",viewBox:"0 0 36 30",role:"img","aria-label":t({id:"generic_icons.bot",defaultMessage:"Bot Icon"})},u.createElement("path",{d:"M0,15.7391304 L0,23.0434783 C0,24.0535326 0.786888587,24.8695652 1.76086957,24.8695652 L3.52173913,24.8695652 L3.52173913,13.9130435 L1.76086957,13.9130435 C0.786888587,13.9130435 0,14.7290761 0,15.7391304 Z M26.0496894,6.50271739 L19.7888199,6.50271739 L19.7888199,2.83423913 C19.7888199,1.81967561 18.989441,1 18,1 C17.010559,1 16.2111801,1.81967561 16.2111801,2.83423913 L16.2111801,6.50271739 L9.95031056,6.50271739 C7.47950311,6.50271739 5.47826087,8.55477242 5.47826087,11.0883152 L5.47826087,26.6793478 C5.47826087,28.7027429 7.0826087,30.3478261 9.05590062,30.3478261 L26.9440994,30.3478261 C28.9173913,30.3478261 30.5217391,28.7027429 30.5217391,26.6793478 L30.5217391,11.0883152 C30.5217391,8.55477242 28.5204969,6.50271739 26.0496894,6.50271739 Z M14.4782609,24.8695652 L10.9565217,24.8695652 L10.9565217,22.9130435 L14.4782609,22.9130435 L14.4782609,24.8695652 Z M12.5217391,17.826087 C11.2245652,17.826087 10.173913,16.7754348 10.173913,15.4782609 C10.173913,14.181087 11.2245652,13.1304348 12.5217391,13.1304348 C13.818913,13.1304348 14.8695652,14.181087 14.8695652,15.4782609 C14.8695652,16.7754348 13.818913,17.826087 12.5217391,17.826087 Z M19.9565217,24.8695652 L16.4347826,24.8695652 L16.4347826,22.9130435 L19.9565217,22.9130435 L19.9565217,24.8695652 Z M25.0434783,24.8695652 L21.5217391,24.8695652 L21.5217391,22.9130435 L25.0434783,22.9130435 L25.0434783,24.8695652 Z M23.2826087,17.826087 C22.0935326,17.826087 21.1304348,16.7754348 21.1304348,15.4782609 C21.1304348,14.181087 22.0935326,13.1304348 23.2826087,13.1304348 C24.4716848,13.1304348 25.4347826,14.181087 25.4347826,15.4782609 C25.4347826,16.7754348 24.4716848,17.826087 23.2826087,17.826087 Z M34.2391304,13.9130435 L32.4782609,13.9130435 L32.4782609,24.8695652 L34.2391304,24.8695652 C35.2131114,24.8695652 36,24.0535326 36,23.0434783 L36,15.7391304 C36,14.7290761 35.2131114,13.9130435 34.2391304,13.9130435 Z"})))}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class el extends u.PureComponent{constructor(e){super(e),$o(this,"onSvgLoadError",(()=>{this.setState({svgErrorUrl:this.props.botIconUrl})})),$o(this,"onSvgLoad",(()=>{this.setState({svgErrorUrl:null})})),this.state={svgErrorUrl:null}}render(){let e=null;return this.props.channelIsArchived?e=u.createElement(Nr.Z,{className:"icon icon__archive"}):this.props.hasDraft?e=u.createElement(Qo,{className:"icon icon__draft"}):this.props.channelIsShared?e=u.createElement(Ir.Z,{className:"icon icon__shared",channelType:this.props.channelType}):this.props.channelType===R.gT.OPEN_CHANNEL?e=u.createElement(sa.Z,{className:"icon icon__globe"}):this.props.channelType===R.gT.PRIVATE_CHANNEL?e=u.createElement(aa.Z,{className:"icon icon__lock"}):this.props.channelType===R.gT.GM_CHANNEL?e=u.createElement("div",{className:"status status--group"},this.props.membersCount):this.props.channelType===R.gT.DM_CHANNEL&&(this.props.teammateId&&this.props.teammateDeletedAt?e=u.createElement(Nr.Z,{className:"icon icon__archive"}):this.props.teammateId&&this.props.teammateIsBot?(e=u.createElement(Xo,{className:"icon icon__bot"}),this.props.botIconUrl&&this.props.botIconUrl!==this.state.svgErrorUrl&&(e=u.createElement("span",{className:"icon icon__bot"},u.createElement(Jo.Z,{src:this.props.botIconUrl,onLoad:this.onSvgLoad,onError:this.onSvgLoadError})))):e=u.createElement(yo.Z,{type:"avatar",status:this.props.channelStatus})),e}}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$o(el,"propTypes",{botIconUrl:m().string,channelIsArchived:m().bool.isRequired,channelIsShared:m().bool.isRequired,channelType:m().string.isRequired,channelStatus:m().string,hasDraft:m().bool.isRequired,membersCount:m().number,teammateId:m().string,teammateDeletedAt:m().number,teammateIsBot:m().bool});class nl extends u.PureComponent{constructor(...e){super(...e),tl(this,"handleClose",(e=>{e.stopPropagation(),e.preventDefault(),this.props.handleClose()}))}render(){let e=null;if(this.props.handleClose&&!this.props.badge){let t=u.createElement(Tt.Z,{id:"remove-dm-tooltip"},u.createElement(ve.Z,{id:"sidebar.removeList",defaultMessage:"Remove from this list"}));this.props.channelType!==R.gT.OPEN_CHANNEL&&this.props.channelType!==R.gT.PRIVATE_CHANNEL||(t=u.createElement(Tt.Z,{id:"remove-dm-tooltip"},u.createElement(ve.Z,{id:"sidebar.leave",defaultMessage:"Leave the channel"}))),e=u.createElement(Pt.Z,{delayShow:1e3,placement:"top",overlay:t},u.createElement("span",{onClick:this.handleClose,className:"btn-close"},"×"))}return e}}function sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tl(nl,"propTypes",{handleClose:m().func,channelId:m().string.isRequired,channelType:m().string.isRequired,teammateId:m().string,badge:m().bool});class al extends u.PureComponent{constructor(e){super(e),sl(this,"state",{showTooltip:!1}),sl(this,"enableToolTipIfNeeded",(()=>{const e=this.displayNameRef.current;e&&e.offsetWidth<e.scrollWidth?this.setState({showTooltip:!0}):this.setState({showTooltip:!1})})),sl(this,"trackChannelSelectedEvent",(()=>{(0,C.B1)("SidebarChannelLink#click"),(0,C.L9)("ui","ui_channel_selected")})),sl(this,"handleClick",(()=>{this.trackChannelSelectedEvent(),P.m.push(this.props.link)})),sl(this,"removeTooltipLink",(()=>{this.gmItemRef.current.removeAttribute("aria-describedby")})),sl(this,"render",(()=>{let e=null;this.props.badge&&(e=u.createElement("span",{id:"unreadMentions",className:"badge"},this.props.unreadMentions));const t=this.props.channelType===R.ZP.DM_CHANNEL?u.createElement(Yr.Z,{userID:this.props.teammateId,showTooltip:!0,emojiStyle:{opacity:.8}}):null,n=u.createElement(u.Fragment,null,u.createElement(el,{channelStatus:this.props.channelStatus,channelType:this.props.channelType,botIconUrl:this.props.botIconUrl,channelIsArchived:this.props.channelIsArchived,channelIsShared:this.props.channelIsShared,hasDraft:this.props.hasDraft,membersCount:this.props.membersCount,teammateId:this.props.teammateId,teammateDeletedAt:this.props.teammateDeletedAt,teammateIsBot:this.props.teammateIsBot}),u.createElement("span",{className:"sidebar-item__name"},u.createElement("span",{ref:this.displayNameRef},this.props.displayName)),t,e,u.createElement(nl,{handleClose:this.props.handleClose,channelId:this.props.channelId,channelType:this.props.channelType,teammateId:this.props.teammateId,badge:this.props.badge}));let s,a=this.props.displayName;if(this.props.channelType===R.ZP.OPEN_CHANNEL?a+=" ".concat((0,V._u)("accessibility.sidebar.types.public","public channel")):this.props.channelType===R.ZP.PRIVATE_CHANNEL&&(a+=" ".concat((0,V._u)("accessibility.sidebar.types.private","private channel"))),this.props.channelIsShared&&(a+=" ".concat((0,V._u)("accessibility.sidebar.types.shared","shared"))),1===this.props.unreadMentions?a+=" ".concat(this.props.unreadMentions," ").concat((0,V._u)("accessibility.sidebar.types.mention","mention")):this.props.unreadMentions>1&&(a+=" ".concat(this.props.unreadMentions," ").concat((0,V._u)("accessibility.sidebar.types.mentions","mentions"))),this.props.unreadMsgs>0&&this.props.showUnreadForMsgs&&0===this.props.unreadMentions&&(a+=" ".concat((0,V._u)("accessibility.sidebar.types.unread","unread"))),a=a.toLowerCase(),s=(0,_.P)()?u.createElement("div",null,u.createElement(Fi,{link:this.props.link,menuId:this.props.channelId},u.createElement("button",{className:"btn btn-link "+this.props.rowClass,"aria-label":a,onClick:this.handleClick},n))):u.createElement(kt.Link,{id:"sidebarItem_".concat(this.props.channelName),"aria-label":a,to:this.props.link,className:this.props.rowClass,onClick:this.trackChannelSelectedEvent},n),this.state.showTooltip){const e=u.createElement(Tt.Z,{id:"channel-displayname__tooltip",style:il.channelTooltip},this.props.displayName);s=u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:e,onEntering:this.removeTooltipLink},u.createElement("div",{ref:this.gmItemRef},s))}return s})),this.gmItemRef=u.createRef(),this.displayNameRef=u.createRef()}componentDidMount(){this.enableToolTipIfNeeded()}componentDidUpdate(e){e.displayName!==this.props.displayName&&this.enableToolTipIfNeeded()}}sl(al,"propTypes",{link:m().string.isRequired,rowClass:m().string.isRequired,channelType:m().string.isRequired,channelId:m().string.isRequired,channelName:m().string.isRequired,displayName:m().string.isRequired,botIconUrl:m().string,channelStatus:m().string,handleClose:m().func,hasDraft:m().bool.isRequired,badge:m().bool,membersCount:m().number.isRequired,showUnreadForMsgs:m().bool.isRequired,unreadMsgs:m().number.isRequired,unreadMentions:m().number.isRequired,teammateId:m().string,teammateDeletedAt:m().number,teammateIsBot:m().bool,channelIsArchived:m().bool.isRequired,channelIsShared:m().bool.isRequired});const il={channelTooltip:{paddingLeft:"8px",maxWidth:"228px"}};function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ol extends u.PureComponent{constructor(...e){super(...e),rl(this,"render",(()=>{const e=[];let t=R.gT.DEFAULT_CHANNEL_UI_NAME;this.props.townSquareDisplayName&&(t=this.props.townSquareDisplayName);let n=R.gT.OFFTOPIC_CHANNEL_UI_NAME;return this.props.offTopicDisplayName&&(n=this.props.offTopicDisplayName),e.push(u.createElement("div",null,u.createElement("h4",null,u.createElement(ve.Z,{id:"sidebar.tutorialScreen1.title",defaultMessage:"Channels"})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar.tutorialScreen1.body",defaultMessage:"**Channels** organize conversations across different topics. They're open to everyone on your team. To send private communications use **Direct Messages** for a single person or **Private Channels** for multiple people."})))),e.push(u.createElement("div",null,u.createElement("h4",null,u.createElement(ve.Z,{id:"sidebar.tutorialScreen2.title",defaultMessage:'"{townsquare}" and "{offtopic}" channels',values:{townsquare:t,offtopic:n}})),u.createElement("p",null,u.createElement(ve.Z,{id:"sidebar.tutorialScreen2.body1",defaultMessage:"Here are two public channels to start:"})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar.tutorialScreen2.body2",defaultMessage:"**{townsquare}** is a place for team-wide communication. Everyone in your team is a member of this channel.",values:{townsquare:t}})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar.tutorialScreen2.body3",defaultMessage:"**{offtopic}** is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.",values:{offtopic:n}})))),e.push(u.createElement("div",null,u.createElement("h4",null,u.createElement(ve.Z,{id:"sidebar.tutorialScreen3.title",defaultMessage:"Creating and Joining Channels"})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar.tutorialScreen3.body1",defaultMessage:'Click **"More..."** to create a new channel or join an existing one.'})),u.createElement("p",null,u.createElement(on.Z,{id:"sidebar.tutorialScreen3.body2",defaultMessage:'You can also create a new channel by clicking the **"+" symbol** next to the public or private channel header.'})))),u.createElement(gn,{placement:"right",screens:e,overlayClass:"tip-overlay--sidebar",telemetryTag:"tutorial_tip_2_channels"})}))}componentDidMount(){(this.props.townSquareDisplayName||this.props.offTopicDisplayName)&&this.props.openLhs()}}function ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rl(ol,"propTypes",{townSquareDisplayName:m().string,offTopicDisplayName:m().string,openLhs:m().func});class cl extends u.PureComponent{constructor(...e){super(...e),ll(this,"isLeaving",!1),ll(this,"handleLeavePublicChannel",(()=>{this.props.actions.leaveChannel(this.props.channelId),(0,C.L9)("ui","ui_public_channel_x_button_clicked")})),ll(this,"handleLeavePrivateChannel",(()=>{y.EK({id:this.props.channelId,display_name:this.props.channelDisplayName}),(0,C.L9)("ui","ui_private_channel_x_button_clicked")})),ll(this,"handleLeaveDirectChannel",(()=>{if(!this.isLeaving){let e,t;this.isLeaving=!0,this.props.channelType===R.gT.DM_CHANNEL?(e=this.props.channelTeammateId,t=R.gT.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW):(e=this.props.channelId,t=R.gT.Preferences.CATEGORY_GROUP_CHANNEL_SHOW);const n=this.props.currentUserId;this.props.actions.leaveDirectChannel(this.props.channelName),this.props.actions.savePreferences(n,[{user_id:n,category:t,name:e,value:"false"}]).then((()=>{this.isLeaving=!1})),(0,C.L9)("ui","ui_direct_channel_x_button_clicked")}this.props.active&&P.m.push("/".concat(this.props.currentTeamName,"/group/").concat(this.props.redirectChannel))})),ll(this,"showChannelAsUnread",(()=>this.props.unreadMentions>0||this.props.unreadMsgs>0&&this.props.showUnreadForMsgs)),ll(this,"render",(()=>{if(this.props.channelIsArchived&&!this.props.active)return null;if(!this.props.channelDisplayName||!this.props.channelType)return u.createElement("div",null);let e=null;if(!this.showChannelAsUnread()){if(this.props.shouldHideChannel)return"";this.props.channelType===R.gT.DM_CHANNEL||this.props.channelType===R.gT.GM_CHANNEL?e=this.handleLeaveDirectChannel:"true"===this.props.config.EnableXToLeaveChannelsFromLHS&&(this.props.channelType===R.gT.OPEN_CHANNEL&&this.props.channelName!==R.gT.DEFAULT_CHANNEL?e=this.handleLeavePublicChannel:this.props.channelType===R.gT.PRIVATE_CHANNEL&&(e=this.handleLeavePrivateChannel))}let t="";this.props.active&&(t="active");let n="sidebar-item",s=!1;this.showChannelAsUnread()&&(n+=" unread-title"),this.props.unreadMentions>0&&(n+=" has-badge",s=!0),this.props.channelMuted&&(n+=" muted"),e&&!s&&(n+=" has-close");let a=null;this.props.showTutorialTip&&this.props.channelName===R.gT.DEFAULT_CHANNEL&&(a=u.createElement(ol,{townSquareDisplayName:this.props.townSquareDisplayName,offTopicDisplayName:this.props.offTopicDisplayName,openLhs:this.props.actions.openLhs}));let i="";i=this.props.channelFake?"/".concat(this.props.currentTeamName,"/group/").concat(this.props.channelName,"?fakechannel=").concat(encodeURIComponent(this.props.channelStringified)):this.props.channelType===R.gT.DM_CHANNEL?"/".concat(this.props.currentTeamName,"/messages/@").concat(this.props.channelTeammateUsername):this.props.channelType===R.gT.GM_CHANNEL?"/".concat(this.props.currentTeamName,"/messages/").concat(this.props.channelName):"/".concat(this.props.currentTeamName,"/group/").concat(this.props.channelName);let r="";return r=this.props.currentUserId===this.props.channelTeammateId?this.props.intl.formatMessage({id:"sidebar.directchannel.you",defaultMessage:"{displayname} (you)"},{displayname:this.props.channelDisplayName}):this.props.channelDisplayName,u.createElement("li",{key:this.props.channelName,ref:"channel",className:t},u.createElement(al,{link:i,rowClass:n,channelId:this.props.channelId,channelName:this.props.channelName,botIconUrl:this.props.botIconUrl,channelStatus:this.props.channelStatus,channelType:this.props.channelType,displayName:r,handleClose:e,hasDraft:this.props.hasDraft,badge:s,showUnreadForMsgs:this.props.showUnreadForMsgs,unreadMentions:this.props.unreadMentions,unreadMsgs:this.props.unreadMsgs,membersCount:this.props.membersCount,teammateId:this.props.channelTeammateId,teammateDeletedAt:this.props.channelTeammateDeletedAt,teammateIsBot:this.props.channelTeammateIsBot,channelIsArchived:this.props.channelIsArchived,channelIsShared:this.props.channelIsShared}),a)}))}}ll(cl,"propTypes",{config:m().object.isRequired,channelId:m().string.isRequired,channelName:m().string.isRequired,channelDisplayName:m().string.isRequired,botIconUrl:m().string,channelMuted:m().bool,channelType:m().string.isRequired,channelStatus:m().string,channelFake:m().bool,channelStringified:m().string,channelTeammateId:m().string,channelTeammateUsername:m().string,channelTeammateDeletedAt:m().number,channelTeammateIsBot:m().bool,hasDraft:m().bool.isRequired,intl:Me.gm.isRequired,showUnreadForMsgs:m().bool.isRequired,unreadMsgs:m().number.isRequired,unreadMentions:m().number.isRequired,active:m().bool.isRequired,currentTeamName:m().string.isRequired,currentUserId:m().string.isRequired,showTutorialTip:m().bool.isRequired,townSquareDisplayName:m().string,offTopicDisplayName:m().string,membersCount:m().number.isRequired,shouldHideChannel:m().bool.isRequired,channelIsArchived:m().bool.isRequired,channelIsShared:m().bool.isRequired,redirectChannel:m().string.isRequired,actions:m().shape({savePreferences:m().func.isRequired,leaveChannel:m().func.isRequired,leaveDirectChannel:m().func.isRequired,openLhs:m().func.isRequired}).isRequired});const dl=(0,we.ZP)(cl,{forwardRef:!0});dl.displayName="injectIntl(SidebarChannel)";const ml=dl,ul=(0,a.connect)((function(){const e=(0,ee.kL)();return(t,n)=>{const s=n.channelId,a=(0,$.ym)(t),l=(0,i.iE)(t),c=(0,ee.gO)(t),d=e(t,{id:s})||{},m=!!d.id&&(0,_t.HG)(t,R.hC.DRAFT,d.id),u="true"===l.EnableTutorial,p=(0,$.wS)(t,R.gT.Preferences.TUTORIAL_STEP,n.currentUserId,R.gT.TutorialSteps.FINISHED),h=(0,ee.p7)(t),g=(0,r.ZQ)(t);let f=0;g&&g[d.id]&&(f=g[d.id].size,g[d.id].has(n.currentUserId)&&f--);const b=(0,sr.h4)(t)[s];let _=0,E=0,C=!0;b&&(_=a?b.mention_count_root:b.mention_count,d&&(E=a?Math.max(d.total_msg_count_root-b.msg_count_root,0):Math.max(d.total_msg_count-b.msg_count,0)),b.notify_props&&(C=b.notify_props.mark_unread!==R.XH.MENTION));const y=(0,$.kl)(t);let v=null,w="",S=0,T="",P=!1,M=0,N=d.display_name,I=null;var A;d.type===R.gT.DM_CHANNEL&&(v=(0,r.PR)(t,d.teammate_id),v&&(w=v.id,S=v.delete_at,T=v.username,P=v.is_bot,M=v.bot_last_icon_update,M=void 0===M?0:M),P&&0!==M&&(A=v,I="".concat(q.je.getBotRoute(A.id),"/icon?_=").concat(A.bot_last_icon_update||0)),N=(0,jr.fw)(v,y,!1));let O=!1;return d.name!==R.gT.DEFAULT_CHANNEL||n.active||!(0,ee.pt)(t,d)||(0,ee.Dp)(t,d.id)||(O=!0),{config:l,channelId:s,channelName:d.name,channelDisplayName:N,botIconUrl:I,channelType:d.type,channelStatus:d.status,channelFake:d.fake,channelMuted:(0,nr.Mm)(b),channelStringified:d.fake&&JSON.stringify(d),channelTeammateId:w,channelTeammateUsername:T,channelTeammateDeletedAt:S,channelTeammateIsBot:P,hasDraft:m&&Boolean(m.message.trim()||m.fileInfos.length||m.uploadsInProgress.length)&&c!==d.id,showTutorialTip:u&&p===R.gT.TutorialSteps.CHANNEL_POPOVER,townSquareDisplayName:h[R.gT.DEFAULT_CHANNEL]&&h[R.gT.DEFAULT_CHANNEL].display_name,offTopicDisplayName:h[R.gT.OFFTOPIC_CHANNEL]&&h[R.gT.OFFTOPIC_CHANNEL].display_name,showUnreadForMsgs:C,unreadMsgs:E,unreadMentions:_,membersCount:f,shouldHideChannel:O,channelIsArchived:0!==d.delete_at,channelIsShared:Boolean(d.shared),redirectChannel:(0,ee.fG)(t,(0,o.ev)(t))}}}),(function(e){return{actions:(0,s.bindActionCreators)({savePreferences:st.$A,leaveChannel:ie.TL,leaveDirectChannel:ie.e2,openLhs:Qi.bA},e)}}),null,{forwardRef:!0})(ml);function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class hl extends u.PureComponent{constructor(...e){super(...e),pl(this,"renderPublic",(()=>{if(!this.props.canCreatePublicChannel)return null;const e="".concat(V._u("sidebar.createChannel","Create a public channel").toLowerCase()),t=u.createElement(Tt.Z,{id:"new-channel-tooltip"},u.createElement(ve.Z,{id:"sidebar.createChannel",defaultMessage:"Create a public channel"}));return u.createElement("button",{id:"createPublicChannel","aria-label":e,type:"button",className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createPublicChannel},u.createElement(Pt.Z,{delayShow:500,placement:"top",overlay:t},u.createElement("span",null,"+")))})),pl(this,"renderPrivate",(()=>{if(!this.props.canCreatePrivateChannel)return null;const e="".concat(V._u("sidebar.createGroup","Create a private channel").toLowerCase()),t=u.createElement(Tt.Z,{id:"new-group-tooltip"},u.createElement(ve.Z,{id:"sidebar.createGroup",defaultMessage:"Create a private channel"}));return u.createElement("button",{id:"createPrivateChannel","aria-label":e,type:"button",className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createPrivateChannel},u.createElement(Pt.Z,{delayShow:500,placement:"top",overlay:t},u.createElement("span",null,"+")))})),pl(this,"renderDirect",(()=>{const e=V._u("sidebar.createDirectMessage","Write a direct message").toLowerCase(),t=u.createElement(Tt.Z,{id:"new-group-tooltip",className:"hidden-xs"},u.createElement(ve.Z,{id:"sidebar.createDirectMessage",defaultMessage:"Write a direct message"}));return u.createElement("button",{id:"addDirectChannel","aria-label":e,className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createDirectMessage},u.createElement(Pt.Z,{className:"hidden-xs",delayShow:500,placement:"top",overlay:t},u.createElement("span",null,"+")))})),pl(this,"renderCombined",(()=>{const{canCreatePublicChannel:e,canCreatePrivateChannel:t}=this.props;if(e&&!t)return this.renderPublic();if(t&&!e)return this.renderPrivate();if(!e&&!t)return null;const n=u.createElement(Tt.Z,{id:"new-group-tooltip",className:"hidden-xs"},u.createElement(ve.Z,{id:"sidebar.createPublicPrivateChannel",defaultMessage:"Create a public or private channel"}));return u.createElement("button",{type:"button",className:"add-channel-btn cursor--pointer style--none",onClick:this.props.createPublicDirectChannel},u.createElement(Pt.Z,{className:"hidden-xs",delayShow:500,placement:"top",overlay:n},u.createElement("span",null,"+")))}))}render(){const{sectionType:e}=this.props;switch(e){case"public":return this.renderPublic();case"private":return this.renderPrivate();case"direct":return this.renderDirect();case"recent":case"alpha":return this.renderCombined()}return null}}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pl(hl,"propTypes",{sectionType:d.PropTypes.string.isRequired,createPublicChannel:d.PropTypes.func.isRequired,createPrivateChannel:d.PropTypes.func.isRequired,createDirectMessage:d.PropTypes.func.isRequired,createPublicDirectChannel:d.PropTypes.func.isRequired,canCreatePublicChannel:d.PropTypes.bool.isRequired,canCreatePrivateChannel:d.PropTypes.bool.isRequired});class fl extends u.PureComponent{constructor(...e){super(...e),gl(this,"moreChannelsPublic",(()=>{this.props.moreChannels("public")})),gl(this,"moreChannelsPrivate",(()=>{this.props.moreChannels("private")}))}render(){const{sectionType:e,moreDirectMessages:t,browsePublicDirectChannels:n,viewArchivedChannels:s}=this.props,{formatMessage:a}=this.props.intl;switch(e){case"public":return u.createElement(Wn.Z,{teamId:this.props.currentTeamId,permissions:[he.Pl.JOIN_PUBLIC_CHANNELS]},u.createElement("li",{key:"public-channel-more","data-testid":"morePublicButton"},u.createElement("button",{id:"sidebarPublicChannelsMore","aria-label":a({id:"sidebar.morePublicAria",defaultMessage:"See more public channels"}),className:"nav-more cursor--pointer style--none btn--block",onClick:this.moreChannelsPublic},u.createElement(ve.Z,{id:"sidebar.moreElips",defaultMessage:"More..."}))));case"private":return s?u.createElement(Wn.Z,{teamId:this.props.currentTeamId,permissions:[he.Pl.JOIN_PUBLIC_CHANNELS]},u.createElement("li",{key:"public-channel-more","data-testid":"morePublicButton"},u.createElement("button",{id:"sidebarPrivateChannelsMore","aria-label":a({id:"sidebar.morePublicAria",defaultMessage:"See more public channels"}),className:"nav-more cursor--pointer style--none btn--block",onClick:this.moreChannelsPrivate},u.createElement(ve.Z,{id:"sidebar.moreElips",defaultMessage:"More..."})))):null;case"direct":return u.createElement("li",{key:"dm-more",id:"moreDMButton"},u.createElement("button",{id:"moreDirectMessage","aria-label":a({id:"sidebar.moreDmAria",defaultMessage:"See more direct messages"}),className:"nav-more cursor--pointer style--none btn--block",onClick:t},u.createElement(ve.Z,{id:"sidebar.moreElips",defaultMessage:"More..."})));case"recent":case"alpha":return u.createElement("li",{key:"public-dm-more",id:"moreRecentAlphaButton"},u.createElement("button",{id:"morePublicDirectChannels","aria-label":a({id:"sidebar.morePublicDmAria",defaultMessage:"See more public channels direct messages"}),className:"nav-more cursor--pointer style--none btn--block",onClick:n},u.createElement(ve.Z,{id:"sidebar.moreElips",defaultMessage:"More..."})))}return null}}gl(fl,"propTypes",{currentTeamId:d.PropTypes.string.isRequired,intl:Me.gm.isRequired,sectionType:d.PropTypes.string.isRequired,moreChannels:d.PropTypes.func.isRequired,moreDirectMessages:d.PropTypes.func.isRequired,browsePublicDirectChannels:d.PropTypes.func.isRequired,viewArchivedChannels:d.PropTypes.bool});const bl=(0,we.ZP)(fl);function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const El=["recent","alpha"];class Cl extends u.PureComponent{constructor(...e){super(...e),_l(this,"sectionTypeFormatMessageId",(e=>{switch(e){case"public":return(0,it.t)("sidebar.types.public");case"private":return(0,it.t)("sidebar.types.private");case"direct":return(0,it.t)("sidebar.types.direct");case"favorite":return(0,it.t)("sidebar.types.favorite");case"unreads":return(0,it.t)("sidebar.types.unreads");case"recent":return(0,it.t)("sidebar.types.recent");default:return(0,it.t)("sidebar.types.alpha")}}))}render(){const{sectionType:e,channelName:t,browsePublicDirectChannels:n}=this.props;let s=["hover","focus"];V.tq()&&(s=[]);const a=this.sectionTypeFormatMessageId(e);let i=u.createElement(ve.Z,{id:a,defaultMessage:t});if(-1!==El.indexOf(e)){const e=u.createElement(Tt.Z,{id:"new-group-tooltip",className:"hidden-xs"},u.createElement(ve.Z,{id:"sidebar.browseChannelDirectChannel",defaultMessage:"Browse channels and direct messages"}));i=u.createElement(Pt.Z,{trigger:s,delayShow:500,placement:"top",overlay:e},u.createElement("div",{role:"presentation",className:"public_direct_name",onClick:n},i))}return i}}_l(Cl,"propTypes",{sectionType:d.PropTypes.string.isRequired,channelName:d.PropTypes.string.isRequired,browsePublicDirectChannels:d.PropTypes.func.isRequired});var yl=n(29278),vl=n(63483);function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Sl extends u.PureComponent{constructor(...e){super(...e),wl(this,"state",{show:!0,key:"channels"}),wl(this,"handleHide",(()=>{this.setState({show:!1})})),wl(this,"handleExit",(()=>{this.props.onModalDismissed&&this.props.onModalDismissed()})),wl(this,"handleSelect",(e=>{this.setState({key:e})}))}render(){return u.createElement(ye.Z,{dialogClassName:"a11y__modal more-modal more-direct-channels more-public-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"morePublicModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"morePublicModalLabel"},u.createElement(ve.Z,{id:"more_public_direct_channels.title",defaultMessage:"Channels and Direct Messages"}))),u.createElement(ye.Z.Body,null,u.createElement(yl.Z,{id:"morePublicDirectChannelTabs",className:"modal-tabs",defaultActiveKey:"channels",activeKey:this.state.key,onSelect:this.handleSelect,unmountOnExit:!0},u.createElement(vl.Z,{eventKey:"channels",title:(0,V._u)("more_public_direct_channels.channels","Channels")},u.createElement(xr,{handleNewChannel:this.props.handleNewChannel,onModalDismissed:this.handleHide,bodyOnly:!0})),u.createElement(vl.Z,{eventKey:"dm",title:(0,V._u)("more_public_direct_channels.direct_messages","Direct Messages")},u.createElement(oo,{onModalDismissed:this.handleHide,isExistingChannel:!1,bodyOnly:!0})))))}}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function Ml(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function Nl(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}wl(Sl,"propTypes",{handleNewChannel:m().func,onModalDismissed:m().func});class Il extends u.PureComponent{constructor(e){super(e),Tl(this,"handleOpenMoreDirectChannelsModal",(e=>{e.preventDefault(),this.state.showDirectChannelsModal?this.hideMoreDirectChannelsModal():this.showMoreDirectChannelsModal()})),Tl(this,"onScroll",$i()((()=>{this.updateUnreadIndicators()}),100)),Tl(this,"handleScrollAnimationUpdate",(e=>{const{scrollbar:t}=this.refs,n=e.getCurrentValue();t.scrollTop(n)})),Tl(this,"scrollToFirstUnreadChannel",(()=>{this.scrollToChannel(this.firstUnreadChannel,!0)})),Tl(this,"scrollToLastUnreadChannel",(()=>{this.scrollToChannel(this.lastUnreadChannel,!0)})),Tl(this,"scrollToChannel",((e,t=!1)=>{const n=Ia()(Ra.findDOMNode(this.refs[e]));if(!n)return;const s=n.position();if(!s)return;const a=s.top,i=a+n.height(),r=this.refs.scrollbar.getScrollTop(),o=this.refs.scrollbar.getClientHeight();if(a<r){const n=t||!this.state.showTopUnread?15:60;let s;const i=this.getDisplayedChannels(this.state.orderedChannelIds);s=i.length>0&&i[0]===e?er.MathUtil.mapValueInRange(0,0,1,0,1):er.MathUtil.mapValueInRange(a-n,0,1,0,1),this.scrollToPosition(s)}else if(i>r+o){const e=i-o+(t||!this.state.showBottomUnread?15:60);this.scrollToPosition(e)}})),Tl(this,"scrollToPosition",(e=>{this.scrollAnimation.setCurrentValue(this.refs.scrollbar.getScrollTop()).setAtRest(),this.scrollAnimation.setEndValue(e)})),Tl(this,"updateUnreadIndicators",(()=>{let e=!1,t=!1;if(this.firstUnreadChannel){const t=Ia()(Ra.findDOMNode(this.refs[this.firstUnreadChannel])),n=t?t.position():null;n&&n.top+t.height()-15<this.refs.scrollbar.getScrollTop()&&(e=!0)}if(this.lastUnreadChannel){const e=Ia()(Ra.findDOMNode(this.refs[this.lastUnreadChannel])),n=e?e.position():null;n&&n.top+15>this.refs.scrollbar.getScrollTop()+this.refs.scrollbar.getClientHeight()&&(t=!0)}e===this.state.showTopUnread&&t===this.state.showBottomUnread||this.setState({showTopUnread:e,showBottomUnread:t})})),Tl(this,"navigateChannelShortcut",(e=>{if(!e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||!V.pD(e,R.gT.KeyCodes.UP)&&!V.pD(e,R.gT.KeyCodes.DOWN))V._E(e)&&e.shiftKey&&V.pD(e,R.gT.KeyCodes.K)&&this.handleOpenMoreDirectChannelsModal(e);else{if(e.preventDefault(),this.isSwitchingChannel)return;this.isSwitchingChannel=!0;const t=this.getDisplayedChannels(this.state.orderedChannelIds),n=this.props.currentChannel.id;let s=-1;for(let e=0;e<t.length;e++)t[e]===n&&(s=e);let a=s;a=V.pD(e,R.gT.KeyCodes.DOWN)?s+1:s-1;const i=t[V.wQ(a,t.length)];this.props.actions.switchToChannelById(i),this.scrollToChannel(i),this.isSwitchingChannel=!1}})),Tl(this,"navigateUnreadChannelShortcut",(e=>{if(e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&(V.pD(e,R.gT.KeyCodes.UP)||V.pD(e,R.gT.KeyCodes.DOWN))){if(e.preventDefault(),this.isSwitchingChannel)return;this.isSwitchingChannel=!0;const t=this.getDisplayedChannels(this.state.orderedChannelIds);let n=0;n=V.pD(e,R.gT.KeyCodes.UP)?-1:1;const s=tr.MX(this.props.currentChannel.id,t,this.props.unreadChannelIds,n);if(-1!==s){const e=t[s];this.props.actions.switchToChannelById(e),this.scrollToChannel(e)}this.isSwitchingChannel=!1}})),Tl(this,"getDisplayedChannels",((e=[])=>e.reduce(((e,t)=>(e.push(...t.items),e)),[]))),Tl(this,"channelIdIsDisplayedForProps",((e=[],t)=>{const n=this.getDisplayedChannels(e);for(let e=0;e<n.length;e++)if(n[e]===t)return!0;return!1})),Tl(this,"showMorePublicDirectChannelsModal",(()=>{this.setState({showMorePublicChannelsModal:!0}),(0,C.L9)("ui","ui_channels_more_public_direct")})),Tl(this,"hideMorePublicDirectChannelsModal",(()=>{this.setState({showMorePublicChannelsModal:!1})})),Tl(this,"onHandleNewChannel",(()=>{this.hideMorePublicDirectChannelsModal(),this.showNewChannelModal(R.gT.OPEN_CHANNEL)})),Tl(this,"showMoreChannelsModal",(e=>{this.props.actions.openModal({modalId:R.r8.MORE_CHANNELS,dialogType:xr,dialogProps:{morePublicChannelsModalType:e}}),(0,C.L9)("ui","ui_channels_more_public")})),Tl(this,"showNewPublicChannelModal",(()=>{(0,C.L9)("ui","ui_channels_create_channel_public_v1"),this.showNewChannelModal(R.gT.OPEN_CHANNEL)})),Tl(this,"showNewPrivateChannelModal",(()=>{(0,C.L9)("ui","ui_channels_create_channel_private_v1"),this.showNewChannelModal(R.gT.PRIVATE_CHANNEL)})),Tl(this,"showNewChannelModal",(e=>{this.props.actions.openModal({modalId:R.r8.NEW_CHANNEL_FLOW,dialogType:Tr,dialogProps:{channelType:e}})})),Tl(this,"showMoreDirectChannelsModal",(()=>{(0,C.L9)("ui","ui_channels_more_direct"),this.setState({showDirectChannelsModal:!0})})),Tl(this,"hideMoreDirectChannelsModal",(()=>{this.setState({showDirectChannelsModal:!1})})),Tl(this,"openQuickSwitcher",(e=>{e.preventDefault(),(0,C.L9)("ui","ui_sidebar_open_channel_switcher_v1"),this.props.actions.openModal({modalId:R.r8.QUICK_SWITCH,dialogType:lo.Z})})),Tl(this,"createSidebarChannel",(e=>u.createElement(ul,{key:e,ref:e,channelId:e,active:e===this.props.currentChannel.id,currentTeamName:this.props.currentTeam.name,currentUserId:this.props.currentUser.id}))),Tl(this,"renderOrderedChannels",(()=>{const{orderedChannelIds:e}=this.state,t=[R.T1.UNREADS,R.T1.FAVORITE];return u.createElement(Dt.ZP,{ref:"scrollbar",autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:Ml,renderThumbVertical:Nl,renderView:Pl,onScroll:this.onScroll,style:{position:"absolute"}},u.createElement("div",{id:"sidebarChannelContainer",className:"nav-pills__container"},u.createElement(bo,null),e.map((e=>{const n={type:e.type,name:e.name,items:e.items.map(this.createSidebarChannel)};if(-1!==t.indexOf(n.type)&&0===n.items.length)return null;const s="".concat(n.type,"Channel"),a=n.name.toLowerCase();return u.createElement("ul",{key:n.type,"aria-label":a,className:"nav nav-pills nav-stacked a11y__section",id:s+"List",tabIndex:"-1"},u.createElement("li",{className:"sidebar-section__header"},u.createElement("h4",{role:"presentation",id:s},u.createElement(Cl,{sectionType:n.type,channelName:n.name,browsePublicDirectChannels:this.showMorePublicDirectChannelsModal})),u.createElement(hl,{sectionType:n.type,canCreatePublicChannel:this.props.canCreatePublicChannel,canCreatePrivateChannel:this.props.canCreatePrivateChannel,createPublicChannel:this.showNewPublicChannelModal,createPrivateChannel:this.showNewPrivateChannelModal,createDirectMessage:this.handleOpenMoreDirectChannelsModal,createPublicDirectChannel:this.showNewPublicChannelModal})),n.items,u.createElement(bl,{currentTeamId:this.props.currentTeam.id,sectionType:n.type,moreChannels:this.showMoreChannelsModal,moreDirectMessages:this.handleOpenMoreDirectChannelsModal,browsePublicDirectChannels:this.showMorePublicDirectChannelsModal,viewArchivedChannels:this.props.viewArchivedChannels}))}))))})),this.badgesActive=!1,this.firstUnreadChannel=null,this.lastUnreadChannel=null,this.isLeaving=new Map,this.isSwitchingChannel=!1,this.closedDirectChannel=!1,this.state={orderedChannelIds:e.orderedChannelIds,showDirectChannelsModal:!1,showMorePublicChannelsModal:!1,morePublicChannelsModalType:"public"},this.animate=new er.SpringSystem,this.scrollAnimation=this.animate.createSpring(),this.scrollAnimation.setOvershootClampingEnabled(!0),this.scrollAnimation.addListener({onSpringUpdate:this.handleScrollAnimationUpdate})}static getDerivedStateFromProps(e,t){return e.orderedChannelIds[0].type===R.T1.UNREADS&&t.orderedChannelIds[0].type===R.T1.UNREADS&&t.orderedChannelIds[0].items.length===e.orderedChannelIds[0].items.length&&t.orderedChannelIds[0].items.includes(e.currentChannel.id)?null:e.orderedChannelIds!==t.orderedChannelIds?{orderedChannelIds:e.orderedChannelIds}:null}componentDidMount(){this.updateUnreadIndicators(),document.addEventListener("keydown",this.navigateChannelShortcut),document.addEventListener("keydown",this.navigateUnreadChannelShortcut)}componentDidUpdate(e){if(this.props.currentTeam===e.currentTeam&&this.props.currentChannel.id===e.currentChannel.id&&!this.channelIdIsDisplayedForProps(this.props.orderedChannelIds,this.props.currentChannel.id)&&this.channelIdIsDisplayedForProps(e.orderedChannelIds,this.props.currentChannel.id))return this.closedDirectChannel=!0,void(0,y.mc)();this.props.currentTeam!==e.currentTeam&&this.refs.scrollbar.scrollToTop(),this.props.currentChannel.id,e.currentChannel.id,this.props.currentChannel.id!==e.currentChannel.id&&(this.closedDirectChannel?this.closedDirectChannel=!1:this.props.actions.close()),this.setFirstAndLastUnreadChannels(),this.updateUnreadIndicators()}componentWillUnmount(){document.removeEventListener("keydown",this.navigateChannelShortcut),document.removeEventListener("keydown",this.navigateUnreadChannelShortcut),this.animate.deregisterSpring(this.scrollAnimation),this.animate.removeAllListeners(),this.scrollAnimation.destroy()}setFirstAndLastUnreadChannels(){const{currentChannel:e,unreadChannelIds:t}=this.props,{orderedChannelIds:n}=this.state;this.getDisplayedChannels(n).map((n=>(n!==e.id&&t.includes(n)&&(this.firstUnreadChannel||(this.firstUnreadChannel=n),this.lastUnreadChannel=n),null)))}render(){const{channelSwitcherOption:e,currentTeam:t,currentUser:n,isOpen:s}=this.props,{showDirectChannelsModal:a,showTopUnread:i,showBottomUnread:r}=this.state,o=V._u("accessibility.sections.lhsList","channel sidebar region");if(null==t||null==n)return u.createElement("div",null);this.firstUnreadChannel=null,this.lastUnreadChannel=null;const l=u.createElement(ve.Z,{id:"sidebar.unreads",defaultMessage:"More unreads"}),c=u.createElement(ve.Z,{id:"sidebar.unreads",defaultMessage:"More unreads"});let d;a&&(d=u.createElement(oo,{onModalDismissed:this.hideMoreDirectChannelsModal,isExistingChannel:!1}));let m,p=null;if(e){let e=(0,it.t)("quick_switch_modal.channelsShortcut.windows"),t="- CTRL+K";V.V5()&&(e=(0,it.t)("quick_switch_modal.channelsShortcut.mac"),t="- ⌘K");const n=u.createElement("span",{className:"switch__shortcut hidden-xs"},u.createElement(ve.Z,{id:e,defaultMessage:t}));p=u.createElement("div",{className:"sidebar__switcher"},u.createElement("button",{id:"sidebarSwitcherButton",className:"btn btn-link",onClick:this.openQuickSwitcher},u.createElement(ve.Z,{id:"channel_switch_modal.title",defaultMessage:"Switch Channels"}),n))}return this.state.showMorePublicChannelsModal&&(m=u.createElement(Sl,{onModalDismissed:this.hideMorePublicDirectChannelsModal,handleNewChannel:this.onHandleNewChannel,isExistingChannel:!1})),u.createElement("div",{className:Te()("sidebar--left",{"move--right":s&&V.tq()}),id:"sidebar-left",key:"sidebar-left",role:"navigation","aria-labelledby":"sidebar-left"},u.createElement(hr,null),m,d,u.createElement(Ko,null),u.createElement("div",{className:"sidebar--left__icons"},u.createElement(D.Z,{pluggableName:"LeftSidebarHeader"})),u.createElement("div",{id:"lhsList",role:"application","aria-label":o,tabIndex:"-1",className:"sidebar--left__list a11y__region","data-a11y-sort-order":"6"},u.createElement(uo,{name:"Top",show:i,onClick:this.scrollToFirstUnreadChannel,extraClass:"nav-pills__unread-indicator-top",content:l}),u.createElement(uo,{name:"Bottom",show:r,onClick:this.scrollToLastUnreadChannel,extraClass:"nav-pills__unread-indicator-bottom",content:c}),this.renderOrderedChannels()),p)}}Tl(Il,"propTypes",{isOpen:d.PropTypes.bool.isRequired,unreadChannelIds:d.PropTypes.array,orderedChannelIds:d.PropTypes.arrayOf(d.PropTypes.shape({type:d.PropTypes.string.isRequired,name:d.PropTypes.string.isRequired,items:d.PropTypes.array.isRequired})),currentChannel:d.PropTypes.object,currentTeammate:d.PropTypes.object,currentTeam:d.PropTypes.object,currentUser:d.PropTypes.object,intl:Me.gm.isRequired,unreads:d.PropTypes.object.isRequired,canCreatePublicChannel:d.PropTypes.bool.isRequired,canCreatePrivateChannel:d.PropTypes.bool.isRequired,channelSwitcherOption:d.PropTypes.bool.isRequired,viewArchivedChannels:d.PropTypes.bool,actions:d.PropTypes.shape({close:d.PropTypes.func.isRequired,switchToChannelById:d.PropTypes.func.isRequired,openModal:d.PropTypes.func.isRequired}).isRequired}),Tl(Il,"defaultProps",{currentChannel:{}});const Rl=(0,we.ZP)(Il),Al=(0,a.connect)((function(e){const t=(0,i.iE)(e),n=(0,ee.TB)(e),s=n&&n.teammate_id&&(0,ee.TB)(e,n.teammate_id),a=(0,o.kA)(e);let l=!1,c=!1;a&&(l=(0,ge.Rm)(e,{team:a.id,permission:Kn.Z.CREATE_PUBLIC_CHANNEL}),c=(0,ge.Rm)(e,{team:a.id,permission:Kn.Z.CREATE_PRIVATE_CHANNEL}));const d=(0,$.su)(e),m=e.views.channel.lastUnreadChannel;return{unreadChannelIds:(0,ee.er)(e,m),orderedChannelIds:(0,ee.hF)(e,m,d.grouping,d.sorting,"true"===d.unreads_at_top,"true"===d.favorite_at_top),channelSwitcherOption:(0,$.o4)(e,he.uP.CATEGORY_SIDEBAR_SETTINGS,"channel_switcher_section","true"),currentChannel:n,currentTeammate:s,currentTeam:a,currentUser:(0,r.ts)(e),canCreatePublicChannel:l,canCreatePrivateChannel:c,isOpen:Li(e),unreads:(0,ee.y8)(e),viewArchivedChannels:"true"===t.ExperimentalViewArchivedChannels}}),(function(e){return{actions:(0,s.bindActionCreators)({close:Qi.xv,switchToChannelById:ie.j9,openModal:I.h},e)}}))(Rl);var Ol=n(24210),Ll=n(47486),Dl=n(3163),kl=n(76669);function xl(e){return{type:R.MF.SIDEBAR_DRAGGING_SET_STATE,data:e}}function Ul(){return{type:R.MF.SIDEBAR_DRAGGING_STOP}}function Zl(e,t,n){return async(s,a)=>{if(n){const e=a().views.channelSidebar.multiSelectedChannelIds;n.forEach((t=>{e.indexOf(t)>=0&&s(ql(t))}))}const i=await s((0,Ol.k4)(e,t,n));return s({type:R.MF.ADD_NEW_CATEGORY_ID,data:i.data.id})}}function jl(e,t){return Fl(e,0,t,!1)}function Fl(e,t,n,s=!0){return(a,i)=>{const r=i(),o=r.views.channelSidebar.multiSelectedChannelIds;let l=[];if(o.length&&-1!==o.indexOf(n)){const t=(0,ar.Yy)(r),s=(0,ar.ER)(r);let i=[n];const c=t.find((t=>t.id===e));i=o.filter((e=>{const t=s.find((t=>e===t.id)),n=(null==t?void 0:t.type)===he.LQ.DM_CHANNEL||(null==t?void 0:t.type)===he.LQ.GM_CHANNEL;return(null==c?void 0:c.type)===Ll.y.CUSTOM||(null==c?void 0:c.type)===Ll.y.FAVORITES||n&&(null==c?void 0:c.type)===Ll.y.DIRECT_MESSAGES||!n&&(null==c?void 0:c.type)!==Ll.y.DIRECT_MESSAGES}));const d=s.map((e=>e.id));i.sort(((e,t)=>d.indexOf(e)-d.indexOf(t))),i.forEach((e=>a(ql(e)))),l=i}else l=[n];const c=function(e,t,n,s,a){if(0===s)return 0;const i=(0,Dl.n3)(e,t),r=(0,Dl.kb)()(e,i),o=r.filter(((e,t)=>e!==a&&-1!==n.indexOf(e)&&t<=s)),l=s-o.length;if(i.channel_ids.length===r.length)return l;const c=(0,kl.FY)(r,n,l),d=c[c.indexOf(n[0])-1];let m=i.channel_ids.indexOf(d)+1;const u=i.channel_ids.indexOf(n[0]);return-1!==u&&u<m&&(m-=1),Math.max(m-o.length,0)}(r,e,l,t,n);return a((0,Ol.Yw)(e,l,c,s))}}function Hl(){return(e,t)=>0===t().views.channelSidebar.multiSelectedChannelIds.length?Promise.resolve({data:!0}):e({type:R.MF.MULTISELECT_CHANNEL_CLEAR})}function ql(e){return(t,n)=>{const s=n();if(!s.views.channelSidebar.multiSelectedChannelIds.length){const e=(0,ee.gO)(s);t({type:R.MF.MULTISELECT_CHANNEL,data:e})}return t({type:R.MF.MULTISELECT_CHANNEL_ADD,data:e})}}function Bl(e){return(t,n)=>{const s=n(),a=s.views.channelSidebar.multiSelectedChannelIds;let i=s.views.channelSidebar.lastSelectedChannel;if(!a.length){const e=(0,ee.gO)(s);t({type:R.MF.MULTISELECT_CHANNEL,data:e}),i=e}const r=(0,ar.QP)(s).map((e=>e.id)),o=r.indexOf(e),l=r.indexOf(i);if(o===l)return null;const c=Math.min(l,o),d=Math.max(l,o),m=r.slice(c,d+1);return t({type:R.MF.MULTISELECT_CHANNEL_TO,data:m})}}function Gl(e){return t=>t({type:N.Y.RECEIVED_CATEGORY_CURRENT,data:{id:e}})}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Wl extends u.PureComponent{constructor(e){super(e),Vl(this,"handleClear",(()=>{this.setState({categoryName:""})})),Vl(this,"handleChange",(e=>{this.setState({categoryName:e.target.value})})),Vl(this,"handleCancel",(()=>{this.handleClear()})),Vl(this,"handleConfirm",(()=>{this.props.categoryId?this.props.actions.renameCategory(this.props.categoryId,this.state.categoryName):(this.props.actions.createCategory(this.props.currentTeamId,this.state.categoryName,this.props.channelIdsToAdd),(0,C.L9)("ui","ui_sidebar_created_category"))})),Vl(this,"isConfirmDisabled",(()=>!this.state.categoryName||Boolean(this.props.initialCategoryName)&&this.props.initialCategoryName===this.state.categoryName||this.state.categoryName.length>22)),Vl(this,"getText",(()=>{let e,t,n;return this.props.categoryId?(e=u.createElement(ve.Z,{id:"rename_category_modal.renameCategory",defaultMessage:"Rename Category"}),t=u.createElement(ve.Z,{id:"rename_category_modal.rename",defaultMessage:"Rename"})):(e=u.createElement(ve.Z,{id:"create_category_modal.createCategory",defaultMessage:"Create New Category"}),t=u.createElement(ve.Z,{id:"create_category_modal.create",defaultMessage:"Create"}),n=u.createElement(ve.Z,{id:"edit_category_modal.helpText",defaultMessage:"Drag channels into this category to organize your sidebar."})),{modalHeaderText:e,editButtonText:t,helpText:n}})),this.state={categoryName:e.initialCategoryName||""}}render(){const{modalHeaderText:e,editButtonText:t,helpText:n}=this.getText();return u.createElement(No.Z,{onHide:this.props.onHide,modalHeaderText:e,handleConfirm:this.handleConfirm,handleCancel:this.handleCancel,confirmButtonText:t,isConfirmDisabled:this.isConfirmDisabled(),id:"editCategoryModal"},u.createElement(Mr.Z,{inputComponent:Mr.x,autoFocus:!0,className:"form-control filter-textbox",type:"text",value:this.state.categoryName,placeholder:(0,V._u)("edit_category_modal.placeholder","Name your category"),clearable:!0,onClear:this.handleClear,onChange:this.handleChange,maxLength:22}),Boolean(n)&&u.createElement("span",{className:"edit-category__helpText"},n))}}Vl(Wl,"propTypes",{onHide:m().func.isRequired,currentTeamId:m().string.isRequired,categoryId:m().string,initialCategoryName:m().string,channelIdsToAdd:m().arrayOf(m().string),actions:m().shape({createCategory:m().func.isRequired,renameCategory:m().func.isRequired}).isRequired});const zl=(0,a.connect)((function(e){return{currentTeamId:(0,o.kA)(e).id}}),(function(e){return{actions:(0,s.bindActionCreators)({createCategory:Zl,renameCategory:Ol.t6},e)}}))(Wl);var Yl=n(2913),Kl=n(84827),Jl=n(81214),Ql=n(46919),Xl=n(37060),$l=n(49671),ec=n(13516);function tc(e){return u.createElement("div",{className:"FilesFilterMenu"},u.createElement(ns.Z,null,u.createElement("span",{className:"action-icon dots-icon"},"all"!==e.selectedFilter&&u.createElement("i",{className:"icon-dot"}),u.createElement("i",{className:"icon icon-filter-variant"})),u.createElement(ts.Z,{ariaLabel:"file menu",openLeft:!0},u.createElement(ts.Z.ItemAction,{ariaLabel:"All file types",text:"All file types",onClick:()=>e.onFilter("all"),icon:"all"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}),u.createElement(ts.Z.ItemAction,{ariaLabel:"Documents",text:"Documents",onClick:()=>e.onFilter("documents"),icon:"documents"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}),u.createElement(ts.Z.ItemAction,{ariaLabel:"Spreadsheets",text:"Spreadsheets",onClick:()=>e.onFilter("spreadsheets"),icon:"spreadsheets"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}),u.createElement(ts.Z.ItemAction,{ariaLabel:"Presentations",text:"Presentations",onClick:()=>e.onFilter("presentations"),icon:"presentations"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}),u.createElement(ts.Z.ItemAction,{ariaLabel:"Code",text:"Code",onClick:()=>e.onFilter("code"),icon:"code"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}),u.createElement(ts.Z.ItemAction,{ariaLabel:"Images",text:"Images",onClick:()=>e.onFilter("images"),icon:"images"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}),u.createElement(ts.Z.ItemAction,{ariaLabel:"Audio",text:"Audio",onClick:()=>e.onFilter("audio"),icon:"audio"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}),u.createElement(ts.Z.ItemAction,{ariaLabel:"Videos",text:"Videos",onClick:()=>e.onFilter("video"),icon:"video"===e.selectedFilter?u.createElement("i",{className:"icon icon-check"}):null}))))}tc.propTypes={selectedFilter:m().string.isRequired,onFilter:m().func.isRequired};const{KeyCodes:nc}=R.ZP;function sc(e){return u.createElement("div",{className:"MessagesOrFilesSelector"},u.createElement("div",{className:"buttons-container"},u.createElement("button",{onClick:()=>e.onChange("messages"),onKeyDown:t=>V.pD(t,nc.ENTER)&&e.onChange("messages"),className:"messages"===e.selected?"active tab messages-tab":"tab messages-tab"},u.createElement(ve.Z,{id:"search_bar.messages_tab",defaultMessage:"Messages"}),u.createElement("span",{className:"counter"},e.messagesCounter)),u.createElement("button",{onClick:()=>e.onChange("files"),onKeyDown:t=>V.pD(t,nc.ENTER)&&e.onChange("files"),className:"files"===e.selected?"active tab files-tab":"tab files-tab"},u.createElement(ve.Z,{id:"search_bar.files_tab",defaultMessage:"Files"}),u.createElement("span",{className:"counter"},e.filesCounter))),"files"===e.selected&&u.createElement(tc,{selectedFilter:e.selectedFilter,onFilter:e.onFilter}))}sc.propTypes={selected:m().string.isRequired,messagesCounter:m().string.isRequired,filesCounter:m().string.isRequired,onChange:m().func.isRequired,onFilter:m().func.isRequired};const ac="files",ic="messages",rc=e=>u.createElement("div",Object.assign({},e,{className:"scrollbar--view"})),oc=e=>u.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"})),lc=e=>u.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"})),cc=e=>{const t=(0,u.useRef)(null),[n,s]=(0,u.useState)(e.searchType),a=(0,_s.Z)();(0,u.useEffect)((()=>{var n;"all"!==e.searchFilterType&&e.setSearchFilterType("all"),s(e.searchType),null===(n=t.current)||void 0===n||n.scrollToTop()}),[e.searchTerms]),(0,u.useEffect)((()=>{0!==e.searchPage||e.isChannelFiles||setTimeout((()=>{e.getMorePostsForSearch()}),100)}),[e.searchPage,e.searchTerms]);const i=(0,Os.Ds)((()=>{e.getMoreFlaggedPosts()}),100,!1,(()=>{})),{results:r,fileResults:o,isSearchAtEnd:l,isSearchFilesAtEnd:c,isFlaggedPosts:d,isSearchingFlaggedPost:m,isFlaggedGettingMore:p,handleSearchHintSelection:h,searchFilterType:g,setSearchFilterType:f}=e,b=!r||!Array.isArray(r)||0===r.length,_=!o||!Array.isArray(o)||0===o.length,E=m&&!p,C=!(n===ic&&l||n===ac&&c)&&p,y=!d;let v,w,S=r;const T={},P={variant:ec.U.ChannelSearch};d?(P.variant=ec.U.FlaggedPosts,P.subtitleValues={icon:u.createElement(Xl.Z,{className:"icon  no-results__mini_icon"})},T.id="search_header.title3",T.defaultMessage="Saved Posts"):b&&_?(T.id="search_header.search",T.defaultMessage="Search"):(T.id="search_header.results",T.defaultMessage="Search Results");const M=a.formatMessage(T),N=()=>{h()};switch(!0){case E:v=u.createElement("div",{className:"sidebar--right__subheader a11y__section"},u.createElement("div",{className:"sidebar--right__loading"},u.createElement(Pr.Z,{text:V._u("search_header.loading","Searching")})));break;case b&&!d:v=u.createElement("div",{className:"sidebar--right__subheader search__hints a11y__section"},u.createElement(Ql.Z,{onOptionSelected:N,options:R.M9}));break;default:n===ac&&(S=o),v=S.map(((t,s)=>n!==ic||e.isChannelFiles?u.createElement($l.Z,{key:t.id,fileInfo:t,teamName:e.currentTeamName,channelType:e.channels[t.channel_id]&&e.channels[t.channel_id].type,channelDisplayName:e.channels[t.channel_id]&&e.channels[t.channel_id].display_name}):u.createElement(Jl.Z,{key:t.id,compactDisplay:e.compactDisplay,post:t,channelName:e.channels[t.channel_id]&&e.channels[t.channel_id].display_name,channelType:e.channels[t.channel_id]&&e.channels[t.channel_id].type,channelIsArchived:e.channels[t.channel_id]&&0!==e.channels[t.channel_id].delete_at,matches:e.matches[t.id],term:"",isMentionSearch:!1,a11yIndex:s,isFlaggedPosts:e.isFlaggedPosts,isPinnedPosts:!1}))),w=C?u.createElement("div",{className:"loading-screen"},u.createElement("div",{className:"loading__content"},u.createElement("div",{className:"round round-1"}),u.createElement("div",{className:"round round-2"}),u.createElement("div",{className:"round round-3"}))):null}return u.createElement("div",{id:"searchContainer",className:"SearchResults sidebar-right__body"},u.createElement($t.Z,null,M,e.channelDisplayName&&u.createElement("div",{className:"sidebar--right__title__channel"},e.channelDisplayName)),y&&u.createElement(sc,{selected:n,selectedFilter:g,messagesCounter:l||0===e.searchPage?"".concat(r.length):"".concat(r.length,"+"),filesCounter:c||0===e.searchPage?"".concat(o.length):"".concat(o.length,"+"),onChange:s,onFilter:f}),u.createElement(Dt.ZP,{ref:t,autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:oc,renderThumbVertical:lc,renderView:rc,onScroll:()=>{if(e.isFlaggedPosts&&!e.isFlaggedGettingMore&&!e.isSearchAtEnd){var n,s,a;const e=(null===(n=t.current)||void 0===n?void 0:n.getScrollHeight())||0;((null===(s=t.current)||void 0===s?void 0:s.getScrollTop())||0)+((null===(a=t.current)||void 0===a?void 0:a.getClientHeight())||0)+30>=e&&i()}}},u.createElement("div",{id:"search-items-container",role:"application",className:Te()(["search-items-container post-list__table a11y__region",{"no-results":b&&n===ic||_&&n===ac,"channel-files-container":!1}]),"data-a11y-sort-order":"3","data-a11y-focus-child":!0,"data-a11y-loop-navigation":!1,"aria-label":a.formatMessage({id:"accessibility.sections.rhs",defaultMessage:"{regionTitle} complimentary region"},{regionTitle:M})},v,w)))};cc.defaultProps={isCard:!1,isOpened:!1,channelDisplayName:"",children:null};const dc=(e,t)=>{for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"results"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&"fileResults"!==n&&t[n]!==e[n])return!1;const{results:n}=e,{results:s}=t;if(n.length!==s.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==s[e])return!1;const{fileResults:a}=e,{fileResults:i}=t;if(a.length!==i.length)return!1;for(let e=0;e<a.length;e++)if(a[e]!==i[e])return!1;return!0},mc=u.memo(cc,dc),uc=(0,a.connect)((function(){let e,t,n,s=[];return function(a){var r;const l="true"===(0,i.iE)(a).ExperimentalViewArchivedChannels,c=(0,wt.ud)(a),d={};c&&c!==e&&(e=c,n=[],e.forEach((e=>{if(!e)return;const t=(0,ee.mr)(a,e.channel_id);t&&0!==t.delete_at&&!l||(d[e.channel_id]=t,n.push(e))})));const m=(0,je.lJ)(a);m&&m!==t&&(t=m,s=[],t.forEach((e=>{if(!e)return;const t=(0,ee.mr)(a,e.channel_id);t&&0!==t.delete_at&&!l||s.push(e)}))),t.forEach((e=>{if(!e)return;const t=(0,ee.mr)(a,e.channel_id);d[e.channel_id]=t})),e.forEach((e=>{if(!e)return;const t=(0,ee.mr)(a,e.channel_id);d[e.channel_id]=t}));const u=(0,Kl.xV)(a)||{};return{results:c,fileResults:s,channels:d,matches:(0,wt.Or)(a),searchTerms:"",isSearchingFlaggedPost:(0,_t.Nz)(a),isFlaggedGettingMore:(0,_t.ni)(a),isSearchAtEnd:u.isEnd,isSearchFilesAtEnd:u.isFilesEnd,searchPage:null===(r=u.params)||void 0===r?void 0:r.page,compactDisplay:$.U2(a,R.uP.CATEGORY_DISPLAY_SETTINGS,R.uP.MESSAGE_DISPLAY,R.uP.MESSAGE_DISPLAY_DEFAULT)===R.uP.MESSAGE_DISPLAY_COMPACT,currentTeamName:(0,o.kA)(a).name}}}))(mc),pc=e=>{const{actions:t}=e;return(0,u.useEffect)((()=>{e.show&&t.getFlaggedPosts()}),[e.show]),u.createElement("div",{className:"sidebar--saved-post"},u.createElement("div",{className:"sidebar--right-container"},u.createElement("div",{className:"sidebar--right__content"},u.createElement(uc,{isFlaggedPosts:!0,isChannelFiles:!1,shrink:()=>{},channelDisplayName:e.channelDisplayName,isOpened:!0,updateSearchTerms:()=>{},handleSearchHintSelection:()=>{},getMoreFlaggedPosts:e.actions.getMoreFlaggedPosts,searchFilterType:"all",setSearchType:()=>{},searchType:"messages"}))))};pc.defaultProps={channelDisplayName:"",show:!1};const hc=u.memo(pc),gc=(0,a.connect)((function(e){return{currentChannel:(0,ee.TB)(e),searchType:"",isFlaggedPosts:!0,isSearchingFlaggedPost:(0,_t.Nz)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getFlaggedPosts:Yl.jP,getMoreFlaggedPosts:Yl.u$},e)}}))(hc);var fc=n(29361),bc=n(79247);class _c extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 640 512",fill:"none",stroke:"currentColor"},u.createElement("path",{fill:"currentColor",d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"})))}}function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yc={useTime:!1,style:"long",ranges:[{within:["minute",-1],display:["second",0]},{within:["hour",-1],display:["minute"]},{within:["hour",-24],display:["hour"]},{within:["day",-30],display:["day"]},{within:["month",-11],display:["month"]},{within:["year",-1e3],display:["year"]}]};function vc(e){return"G"===(null==e?void 0:e.type)}function wc(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){Cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({value:e.id,label:vc(e)?e.display_name:e.username},e)}class Sc extends u.PureComponent{constructor(e){super(e),Cc(this,"searchTimeoutId",void 0),Cc(this,"exitToChannel",void 0),Cc(this,"multiselect",void 0),Cc(this,"selectedItemRef",void 0),Cc(this,"loadModalData",(()=>{this.setState({loadingUsers:!1})})),Cc(this,"loadProfilesMissingStatus",((e=[],t={})=>{const n=e.filter((e=>!t[e.id])).map((e=>e.id));n.length>0&&this.props.actions.getStatusesByIds(n)})),Cc(this,"handleHide",(e=>{this.props.actions.setModalSearchTerm(""),this.setState({show:!1}),this.props.bodyOnly&&this.handleExit(e)})),Cc(this,"setUsersLoadingState",(e=>{this.setState({loadingUsers:e})})),Cc(this,"handleExit",(e=>{var t,n,s,a;this.exitToChannel&&P.m.push(this.exitToChannel),null===(t=(n=this.props).onModalDismissed)||void 0===t||t.call(n,e),null===(s=(a=this.props).onHide)||void 0===s||s.call(a)})),Cc(this,"handleSubmit",((e=this.state.values)=>{const{actions:t}=this.props;if(this.state.saving)return;const n=e.map((e=>e.id));if(0===n.length)return;this.setState({saving:!0});const s=e=>{const{data:t,error:n}=e;this.setState({saving:!1}),n||(this.exitToChannel="/"+this.props.currentTeamName+"/group/"+t.name,this.handleHide())};1===n.length?t.openDirectChannelToUserId(n[0]).then(s):t.openGroupChannelToUserIds(n).then(s)})),Cc(this,"addValue",(e=>{this.handleExit(e)})),Cc(this,"addUsers",(e=>{const t=Object.assign([],this.state.values),n=t.map((e=>e.id));for(const s of e)-1===n.indexOf(s.id)&&t.push(wc(s));this.setState({values:t})})),Cc(this,"getUserProfiles",(e=>{const t=e?e+1:0;"any"===this.props.restrictDirectMessage?this.props.actions.getProfiles(t,100).then((()=>{this.setUsersLoadingState(!1)})):this.props.actions.getProfilesInTeam(this.props.currentTeamId,t,100).then((()=>{this.setUsersLoadingState(!1)}))})),Cc(this,"handlePageChange",((e,t)=>{e>t&&(this.setUsersLoadingState(!0),this.getUserProfiles(e))})),Cc(this,"resetPaging",(()=>{var e;null===(e=this.multiselect.current)||void 0===e||e.resetPaging()})),Cc(this,"search",Vr()((e=>{this.props.actions.setModalSearchTerm(e)}),250)),Cc(this,"handleDelete",(e=>{this.setState({values:e})})),Cc(this,"renderAriaLabel",(e=>{var t;return null!==(t=null==e?void 0:e.username)&&void 0!==t?t:""})),Cc(this,"optionDisplayParts",(e=>{if(vc(e))return u.createElement(u.Fragment,null,u.createElement("div",{className:"more-modal__gm-icon bg-text-200"},e.profiles.length),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},u.createElement("span",null,e.profiles.map((e=>"@".concat(e.username))).join(", ")))));const{id:t,delete_at:n,is_bot:s=!1,last_picture_update:a}=e,i=(0,V.bj)(e);let r=i;return e.id===this.props.currentUserId?r=u.createElement(ve.Z,{id:"more_direct_channels.directchannel.you",defaultMessage:"{displayname} (you)",values:{displayname:i}}):e.delete_at&&(r=u.createElement(ve.Z,{id:"more_direct_channels.directchannel.deactivated",defaultMessage:"{displayname} - Deactivated",values:{displayname:i}})),u.createElement(u.Fragment,null,u.createElement(Wr.Z,{src:q.je.getProfilePictureUrl(t,a),status:n||s?void 0:this.props.statuses[t],size:"md"}),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},r,u.createElement(Hs.Z,{show:s,className:"badge-popoverlist"}),u.createElement(Fs.Z,{show:(0,V.a_)(e),className:"badge-popoverlist"}),u.createElement(Yr.Z,{userID:e.id,showTooltip:!0,emojiSize:15})),!s&&u.createElement("div",{className:"more-modal__description"},e.email)))})),Cc(this,"handleSubmitImmediatelyOn",(e=>e.id===this.props.currentUserId||Boolean(e.delete_at))),Cc(this,"note",(()=>{let e;return this.props.currentChannelMembers&&(this.state.values&&this.state.values.length>=1?e=u.createElement(ve.Z,{id:"more_direct_channels.new_convo_note.full",defaultMessage:"You've reached the maximum number of people for this conversation. Consider creating a private channel instead."}):this.props.isExistingChannel&&(e=u.createElement(ve.Z,{id:"more_direct_channels.new_convo_note",defaultMessage:"This will start a new conversation. If you're adding a lot of people, consider creating a private channel instead."}))),e})),Cc(this,"renderOptionValue",((e,t,n,s)=>{const{id:a,last_post_at:i}=e;return u.createElement("div",{key:a,ref:t?this.selectedItemRef:e.id,className:Te()("more-modal__row clickable",{"more-modal__row--selected":t}),onClick:()=>n(e),onMouseEnter:()=>s(e)},this.optionDisplayParts(e),!(0,V.tq)()&&Boolean(i)&&u.createElement("div",{className:"more-modal__lastPostAt"},u.createElement(zr.ZP,Object.assign({},yc,{value:i}))),u.createElement("div",{className:"more-modal__actions"},u.createElement("div",{className:"more-modal__actions--round"},u.createElement(ri.Z,null))))})),Cc(this,"computeOptions",(()=>{const{currentUserId:e,searchTerm:t,myDirectChannels:n,recentDMUsers:s=[]}=this.props,{values:a}=this.state,[i,r]=Br()(this.props.users,(({delete_at:e})=>0===e)),o=this.props.groupChannels.filter((({profiles:e})=>Hr()(e,a,"id").length)),[l,c]=Br()(o,"last_post_at");let d=a.length?i.filter((({id:t})=>t!==e)):i.concat(r);d=d.filter((e=>(0===e.delete_at||n.some((({name:t})=>t.includes(e.id))))&&!s.some((({id:t})=>t===e.id))));const m=[...a.length?s.filter((({id:t})=>t!==e)):s,...l].sort(((e,t)=>t.last_post_at-e.last_post_at));return m.length&&!t?m.slice(0,20):[...m,...d,...c]})),this.searchTimeoutId=0,this.multiselect=u.createRef(),this.selectedItemRef=u.createRef();const t=[];if(e.currentChannelMembers)for(let n=0;n<e.currentChannelMembers.length;n++){const s=Object.assign({},e.currentChannelMembers[n]);s.id!==e.currentUserId&&t.push(wc(s))}this.state={values:t,show:!0,search:!1,saving:!1,loadingUsers:!0}}updateFromProps(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)this.resetPaging();else{const t="any"===this.props.restrictDirectMessage?"":this.props.currentTeamId;this.searchTimeoutId=setTimeout((async()=>{this.setUsersLoadingState(!0);const[{data:n},{data:s}]=await Promise.all([this.props.actions.searchProfiles(e,{team_id:t}),this.props.actions.searchGroupChannels(e)]);n&&this.props.actions.loadStatusesForProfilesList(n),s&&this.props.actions.loadProfilesForGroupChannels(s),this.resetPaging(),this.setUsersLoadingState(!1)}),R.ZP.SEARCH_TIMEOUT_MILLISECONDS)}}e.users.length===this.props.users.length&&Object.keys(e.statuses).length===Object.keys(this.props.statuses).length||this.loadProfilesMissingStatus(this.props.users,this.props.statuses)}componentDidUpdate(e){this.updateFromProps(e)}renderValue(e){return e.data.username}render(){const{bodyOnly:e}=this.props,{values:t}=this.state,n=(0,V._u)("multiselect.go","Find"),s=(0,V._u)("multiselect.loading","Loading..."),a=u.createElement(ve.Z,{id:"multiselect.oneselect",defaultMessage:"Use ↑↓ to browse, ↵ to select.",values:{num:1-t.length}}),i=u.createElement(ai.Z,{key:"moreDirectChannelsList",ref:this.multiselect,options:this.computeOptions().map(wc),optionRenderer:this.renderOptionValue,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,ariaLabelRenderer:this.renderAriaLabel,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,noteText:this.note(),maxValues:1,numRemainingText:a,buttonSubmitText:n,buttonSubmitLoadingText:s,submitImmediatelyOn:this.handleSubmitImmediatelyOn,saving:this.state.saving,loading:this.state.loadingUsers,users:this.props.users,totalCount:this.props.totalCount,placeholderText:(0,V._u)("multiselect.placeholder","Search and add members")});return e?i:u.createElement(ye.Z,{dialogClassName:"a11y__modal more-modal more-direct-channels",show:this.state.show,onHide:()=>this.handleHide(),onExited:()=>this.handleExit(),onEntered:this.loadModalData,role:"dialog","aria-labelledby":"moreDmModalLabel",id:"moreDmModal"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"moreDmModalLabel"},u.createElement(ve.Z,{id:"contacts.modal_search.title",defaultMessage:"Find users"}))),u.createElement(ye.Z.Body,{role:"application"},i),u.createElement(ye.Z.Footer,{className:"modal-footer--invisible"},u.createElement("button",{id:"closeModalButton",type:"button",className:"btn btn-link"},u.createElement(ve.Z,{id:"general_button.close",defaultMessage:"Close"}))))}}function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach((function(t){Mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Cc(Sc,"propTypes",{currentUserId:m().string.isRequired,currentTeamId:m().string.isRequired,currentTeamName:m().string.isRequired,searchTerm:m().string.isRequired,users:m().array.isRequired,groupChannels:m().array.isRequired,myDirectChannels:m().array.isRequired,totalCount:m().number,currentChannelMembers:m().array.isRequired,isExistingChannel:m().bool.isRequired,restrictDirectMessage:m().string,onModalDismissed:m().func.isRequired,onHide:m().func,bodyOnly:m().bool,actions:m().shape({getProfiles:m().func.isRequired,getProfilesInTeam:m().func.isRequired,getStatusesByIds:m().func.isRequired,getTotalUsersStats:m().func.isRequired,loadStatusesForProfilesList:m().func.isRequired,loadProfilesForGroupChannels:m().func.isRequired,openDirectChannelToUserId:m().func.isRequired,openGroupChannelToUserIds:m().func.isRequired,searchProfiles:m().func.isRequired,searchGroupChannels:m().func.isRequired,setModalSearchTerm:m().func.isRequired}).isRequired});const Nc=(0,Ls.GA)(((e,t)=>e.filter((e=>(0,jr.vI)(e.profiles,t).length>0)))),Ic=(0,Ls.GA)(((e,t)=>Object.values(e).filter((e=>e.type===R.gT.DM_CHANNEL&&e.name.includes(t))))),Rc=(0,a.connect)((()=>{const e=(0,r.uZ)();return(t,n)=>{const s=(0,r.rc)(t);let a=[];n.isExistingChannel&&(a=(0,r.OX)(t));const l=(0,i.iE)(t).RestrictDirectMessage,c=t.views.search.modalSearch;let d;d=c?"any"===l?e(t,c,!1):(0,r.lo)(t,c,!1):"any"===l?(0,r.cp)(t,{}):(0,r.fv)(t);const m=Nc((0,ee.P6)(t),c),u=Ic((0,ee.IU)(t),s);let p=u.reduce(((e,n)=>{if(!n.last_post_at)return e;const a=(0,r.PR)(t,(0,nr.aU)(s,n.name));return a&&e.push(Pc(Pc({},a),{},{last_post_at:n.last_post_at})),e}),[]);c&&(p=Zr()(p,d,"id"));const h=(0,o.kA)(t),g=(0,r.S1)(t)||{total_users_count:0};return{currentTeamId:h.id,currentTeamName:h.name,searchTerm:c,users:d.sort(jr.gh),myDirectChannels:u,groupChannels:m,recentDMUsers:p,statuses:t.entities.users.statuses,currentChannelMembers:a,currentUserId:s,restrictDirectMessage:l,totalCount:g.total_users_count}}}),(function(e){return{actions:(0,s.bindActionCreators)({getProfiles:K.cp,getProfilesInTeam:K.gV,getStatusesByIds:K.W7,getTotalUsersStats:K.S1,loadStatusesForProfilesList:se.xO,loadProfilesForGroupChannels:at.Tg,openDirectChannelToUserId:gr.Pn,openGroupChannelToUserIds:gr.iU,searchProfiles:K.t6,searchGroupChannels:J.PP,setModalSearchTerm:Jn.Gl},e)}}))(Sc);var Ac=n(62831);const Oc=u.forwardRef(((e,t)=>u.createElement("div",{className:"SidebarChannelGroupHeader SidebarChannelGroupHeader--static"},u.createElement("div",{ref:t,className:"SidebarChannelGroupHeader_groupButton"},u.createElement("div",{className:"SidebarChannelGroupHeader_text"},(0,Ac.Y)(e.displayName)),e.children))));Oc.propTypes={children:m().node,displayName:m().string.isRequired},Oc.displayName="SidebarCategoryHeaderStatic";const Lc=u.forwardRef(((e,t)=>u.createElement("div",{className:Te()("SidebarChannelGroupHeader",{muted:e.muted})},u.createElement("button",{ref:t,className:Te()("SidebarChannelGroupHeader_groupButton",{dragging:e.isDragging}),"aria-label":e.displayName,onClick:e.onClick},u.createElement("i",{className:Te()("icon icon-chevron-down",{"icon-rotate-minus-90":e.isCollapsed,"hide-arrow":!e.isCollapsible})}),u.createElement("div",Object.assign({className:"SidebarChannelGroupHeader_text"},e.dragHandleProps),(0,Ac.Y)(e.displayName))),e.children)));Lc.propTypes={children:m().node,displayName:m().string.isRequired,isCollapsed:m().bool.isRequired,isCollapsible:m().bool,isDragging:m().bool,isDraggingOver:m().bool,muted:m().bool.isRequired,onClick:m().func.isRequired},Lc.defaultProps={isCollapsible:!0,isDragging:!1,isDraggingOver:!1},Lc.displayName="SidebarCategoryHeader";class Dc extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})))}}function kc(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function xc(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function Uc(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--verticalTrack"}))}function Zc(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}function jc(e){var t,n;const s=(0,_s.Z)(),a=(0,u.createRef)(),[i,r]=(0,u.useState)(!1),o=Vr()((()=>{}),100),l=()=>{e.actions.toggleLhs()};let c=null;0===(null===(t=e.contacts)||void 0===t?void 0:t.length)&&(c=u.createElement("div",{className:"no-contact"},u.createElement(Dc,{className:"icon",classIcon:"contact-empty"}),u.createElement(ve.Z,{id:"sidebar_left.contacts.empty",defaultMessage:"Chưa có liên hệ."}),u.createElement("button",{className:"btn btn-primary add-contact",onClick:()=>e.onNewContact()},u.createElement(ve.Z,{id:"sidebar_left.contacts.add_button",defaultMessage:"Thêm Liên hệ"}))));const d="/".concat(e.currentTeam.name,"/messages/");return u.createElement("div",{className:Te()("SidebarContactGroup a11y__section",{dropDisabled:!0,isCollapsed:i})},u.createElement(Lc,{displayName:s.formatMessage({id:"sidebar_left.sidebar_contact.title",defaultMessage:"Danh bạ"}),isCollapsed:i,isCollapsible:!0,muted:!1,onClick:()=>r((e=>!e))}),u.createElement("div",{className:"SidebarContactGroup_content"},u.createElement("div",{className:Te()("ContactItems animating",{collapsed:i})},c,u.createElement(Dt.ZP,{ref:a,autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:xc,renderThumbVertical:Zc,renderTrackVertical:Uc,renderView:kc,onScroll:o,style:{position:"absolute"}},u.createElement("ul",{role:"list",className:"NavGroupContent"},null===(n=e.contacts)||void 0===n?void 0:n.map((t=>u.createElement("li",{key:t.id,className:"contact-item"},u.createElement(kt.Link,{className:"contact-item",to:"".concat(d).concat(t.user_id),onClick:l},u.createElement("span",{className:"avatar"},u.createElement("img",{className:"Avatar Avatar-xl",alt:"user profile image",src:"/api/v1/users/".concat(t.user_id,"/image")})),u.createElement("span",{className:"contact-name"},t.display_name),u.createElement("button",{className:"SidebarMenu_menuButton","aria-label":"Edit channel menu",onClick:n=>((t,n)=>{t.preventDefault(),e.onEditContact(n)})(n,t)},u.createElement("i",{className:"icon-dots-vertical"})))))))))))}jc.propTypes={userId:m().string,isOpen:m().bool,hasSeenModal:m().bool,contacts:m().array.isRequired,onNewContact:m().func.isRequired,onEditContact:m().func.isRequired,actions:m().shape({toggleLhs:m().func.isRequired,fetchMyContacts:m().func.isRequired,openModal:m().func.isRequired}).isRequired};const Fc=(0,a.connect)((function(e){return{currentTeam:(0,o.kA)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({fetchMyContacts:()=>{},openModal:I.h,toggleLhs:Qi.ZN},e)}}))(jc);var Hc=n(60087);function qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bc extends u.PureComponent{constructor(e){super(e),qc(this,"handleNewContact",(()=>{this.setState({enableModal:!0})})),qc(this,"handleEditContact",(e=>{this.setState({enableModalDetail:!0,contact:e})})),qc(this,"hideModal",(e=>{null!=e&&e.id?this.setState({enableModal:!1,enableModalDetail:!0,user:e}):this.setState({enableModal:!1})})),qc(this,"hideDetailModal",(()=>{this.setState({enableModalDetail:!1,contact:void 0})})),qc(this,"renderModals",(()=>{let e;return this.state.enableModal&&(e=u.createElement(Rc,{onModalDismissed:this.hideModal,isExistingChannel:!1})),u.createElement(u.Fragment,null,e)})),qc(this,"renderModalDetail",(()=>{const{enableModalDetail:e,user:t,contact:n}=this.state,{createContact:s,updateContact:a,deleteContact:i}=this.props.actions;let r;return e&&(r=u.createElement(Hc.Z,{onModalDismissed:this.hideDetailModal,user:t,contact:n,onCreate:s,onUpdate:a,onDelete:i})),u.createElement(u.Fragment,null,r)})),this.state={enableModal:!1,enableModalDetail:!1}}componentDidMount(){this.props.actions.getData(0)}render(){const{contacts:e}=this.props;return u.createElement("div",{className:"sidebar-contacts"},u.createElement("div",{className:"contact-actions"},u.createElement("button",{className:"new-contact",onClick:this.handleNewContact},u.createElement(_c,{className:"icon-add",classIcon:"icon-add-contact"}),u.createElement(ve.Z,{id:"sidebar_left.contacts.add_button",defaultMessage:"Thêm Liên hệ"}))),u.createElement(Fc,{userId:this.props.userId,onNewContact:this.handleNewContact,onEditContact:this.handleEditContact,contacts:e}),this.renderModals(),this.renderModalDetail())}}qc(Bc,"propTypes",{userId:m().string,contacts:m().array.isRequired,actions:m().shape({createContact:m().func.isRequired,updateContact:m().func.isRequired,deleteContact:m().func.isRequired,getData:m().func.isRequired}).isRequired});const Gc=(0,yn.P1)(bc.K2,(e=>Object.values(e).sort(((e,t)=>e.display_name.localeCompare(t.display_name))))),Vc=(0,a.connect)((function(e){return{userId:(0,sr.rc)(e),contacts:Gc(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getData:(e,t)=>(0,fc.K2)(e,t),createContact:fc.rE,updateContact:e=>(0,fc._n)(e.id,e),deleteContact:e=>(0,fc.GK)(e)},e)}}))(Bc);function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zc extends u.PureComponent{constructor(...e){super(...e),Wc(this,"renderDropdownItems",(()=>{const{intl:e,canCreateChannel:t,canJoinPublicChannel:n}=this.props;let s,a;return n&&(s=u.createElement(ts.Z.ItemAction,{id:"showMoreChannels",onClick:this.props.showMoreChannelsModal,icon:u.createElement("i",{className:"icon-globe"}),text:e.formatMessage({id:"sidebar_left.add_channel_dropdown.browseChannels",defaultMessage:"Browse Channels"})})),t&&(a=u.createElement(ts.Z.ItemAction,{id:"showNewChannel",onClick:this.props.showNewChannelModal,icon:u.createElement("i",{className:"icon-plus"}),text:e.formatMessage({id:"sidebar_left.add_channel_dropdown.createNewChannel",defaultMessage:"Create New Channel"})})),u.createElement(u.Fragment,null,u.createElement(ts.Z.Group,null,s,a))}))}render(){const{intl:e,canCreateChannel:t,canJoinPublicChannel:n}=this.props;if(!t&&!n)return null;const s=u.createElement(Tt.Z,{id:"new-group-tooltip",className:"hidden-xs"},u.createElement(ve.Z,{id:"sidebar_left.add_channel_dropdown.browseOrCreateChannels",defaultMessage:"Browse or create channels"}));return u.createElement(ns.Z,{className:"AddChannelDropdown"},u.createElement(Pt.Z,{delayShow:500,placement:"bottom",overlay:s},u.createElement("button",{className:"AddChannelDropdown_dropdownButton","aria-label":e.formatMessage({id:"sidebar_left.add_channel_dropdown.dropdownAriaLabel",defaultMessage:"Add Channel Dropdown"})},u.createElement("i",{className:"icon-plus"}))),u.createElement(ts.Z,{id:"AddChannelDropdown",ariaLabel:e.formatMessage({id:"sidebar_left.add_channel_dropdown.dropdownAriaLabel",defaultMessage:"Add Channel Dropdown"})},this.renderDropdownItems()))}}Wc(zc,"propTypes",{canCreateChannel:m().bool.isRequired,canJoinPublicChannel:m().bool.isRequired,showMoreChannelsModal:m().func.isRequired,showNewChannelModal:m().func.isRequired,showCreateCategoryModal:m().func.isRequired,handleOpenDirectMessagesModal:m().func.isRequired,unreadFilterEnabled:m().bool.isRequired});const Yc=(0,we.ZP)(zc);function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Jc extends u.PureComponent{constructor(...e){super(...e),Kc(this,"openQuickSwitcher",(e=>{e.preventDefault(),(0,C.L9)("ui","ui_sidebar_open_channel_switcher_v2"),this.props.actions.openModal({modalId:R.r8.QUICK_SWITCH,dialogType:lo.Z})})),Kc(this,"goBack",(()=>{(0,C.L9)("ui","ui_history_back"),this.props.actions.goBack()})),Kc(this,"goForward",(()=>{(0,C.L9)("ui","ui_history_forward"),this.props.actions.goForward()}))}render(){let e="Ctrl+K";V.V5()&&(e="⌘K");const t=u.createElement("button",{className:"SidebarChannelNavigator_jumpToButton",onClick:this.openQuickSwitcher,"aria-label":V._u("sidebar_left.channel_navigator.channelSwitcherLabel","Channel Switcher")},u.createElement("i",{className:"icon icon-magnify"}),u.createElement(ve.Z,{id:"sidebar_left.channel_navigator.jumpTo",defaultMessage:"Find channel"}),u.createElement("div",{className:"SidebarChannelNavigator_shortcutText"},e)),n=u.createElement(Yc,{showNewChannelModal:this.props.showNewChannelModal,showMoreChannelsModal:this.props.showMoreChannelsModal,showCreateCategoryModal:this.props.showCreateCategoryModal,canCreateChannel:this.props.canCreateChannel,canJoinPublicChannel:this.props.canJoinPublicChannel,handleOpenDirectMessagesModal:this.props.handleOpenDirectMessagesModal,unreadFilterEnabled:this.props.unreadFilterEnabled});let s;if((0,_.P)()){const e=u.createElement(u.Fragment,null,u.createElement("button",{className:Te()("SidebarChannelNavigator_backButton",{disabled:!this.props.canGoBack}),disabled:!this.props.canGoBack,onClick:this.goBack,"aria-label":V._u("sidebar_left.channel_navigator.goBackLabel","Back")},u.createElement("i",{className:"icon icon-arrow-left"})),u.createElement("button",{className:Te()("SidebarChannelNavigator_forwardButton",{disabled:!this.props.canGoForward}),disabled:!this.props.canGoForward,onClick:this.goForward,"aria-label":V._u("sidebar_left.channel_navigator.goForwardLabel","Forward")},u.createElement("i",{className:"icon icon-arrow-right"})));s=u.createElement("div",{className:"SidebarChannelNavigator desktop"},t,u.createElement("div",{className:"SidebarContainer_filterAddChannel desktop"},u.createElement("div",{className:"SidebarContainer_rightContainer"},e),n))}else s=u.createElement("div",{className:"SidebarChannelNavigator webapp"},t,n);return s}}function Qc(){return()=>(P.m.goBack(),{data:null})}function Xc(){return()=>(P.m.goForward(),{data:null})}Kc(Jc,"propTypes",{canGoForward:m().bool.isRequired,canGoBack:m().bool.isRequired,canJoinPublicChannel:m().bool.isRequired,showMoreChannelsModal:m().func.isRequired,showNewChannelModal:m().func.isRequired,showCreateCategoryModal:m().func.isRequired,handleOpenDirectMessagesModal:m().func.isRequired,unreadFilterEnabled:m().bool.isRequired,canCreateChannel:m().bool.isRequired,showUnreadsCategory:m().bool.isRequired,actions:m().shape({openModal:m().func.isRequired,goBack:m().func.isRequired,goForward:m().func.isRequired}).isRequired});const $c=(0,a.connect)((function(e){return{canGoBack:!0,canGoForward:!0,showUnreadsCategory:(0,$.hC)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,goBack:Qc,goForward:Xc},e)}}))(Jc);n(65069);var ed=n(94163);class td extends u.PureComponent{render(){return 0!==this.props.channel.delete_at?u.createElement("i",{className:"icon icon-archive-outline"}):this.props.hasDraft?u.createElement("i",{"data-testid":"draftIcon",className:"icon icon-pencil-outline"}):this.props.icon}}function nd(e,t,n){return e&&Boolean(e.message.trim()||e.fileInfos.length||e.uploadsInProgress.length)&&t!==(null==n?void 0:n.id)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(td,"propTypes",{icon:m().oneOfType([m().element,m().oneOf([null])]),hasDraft:m().bool.isRequired});const sd=(0,a.connect)((function(e,t){var n;const s=(0,ee.gO)(e);return{hasDraft:nd(!(null===(n=t.channel)||void 0===n||!n.id)&&(0,_t.HG)(e,R.hC.DRAFT,t.channel.id),s,t.channel)}}),(function(e){return{actions:(0,s.bindActionCreators)({},e)}}))(td);var ad=n(95688);function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rd extends u.PureComponent{constructor(e){super(e),id(this,"menuWrapperRef",void 0),id(this,"menuRef",void 0),id(this,"menuButtonRef",void 0),id(this,"closeMenu",(()=>{this.menuWrapperRef.current&&this.menuWrapperRef.current.close(),this.props.onToggleMenu(!1)})),id(this,"disableScrollbar",(()=>{const e=document.querySelectorAll("#SidebarContainer .SidebarNavContainer .scrollbar--view");e&&e[0]&&(e[0].style.zIndex=this.props.isMenuOpen?"3":"unset")})),id(this,"refCallback",(e=>{if(e){var t;this.menuRef=e;const n=e.rect(),s=null===(t=this.menuButtonRef.current)||void 0===t?void 0:t.getBoundingClientRect(),a=(void 0===(null==s?void 0:s.y)?null==s?void 0:s.top:s.y)||0,i=window.innerHeight-80-a;this.setState({openUp:a>i,width:(null==n?void 0:n.width)||0},(()=>{this.props.refCallback&&this.props.refCallback(this)}))}})),id(this,"setMenuPosition",(()=>{if(this.menuButtonRef.current&&this.menuRef){var e;const t=null===(e=this.menuRef.node.current)||void 0===e?void 0:e.parentElement,n=this.state.openUp?-this.menuButtonRef.current.getBoundingClientRect().height:0;t.style.top="".concat(window.scrollY+this.menuButtonRef.current.getBoundingClientRect().top+this.menuButtonRef.current.clientHeight+n,"px")}})),this.state={openUp:!1,width:0},this.menuWrapperRef=u.createRef(),this.menuButtonRef=u.createRef()}componentDidUpdate(e){e.draggingState.state!==this.props.draggingState.state&&this.props.draggingState.state===R.bb.CAPTURE&&this.closeMenu(),this.props.isMenuOpen&&!e.isMenuOpen&&(this.setMenuPosition(),this.disableScrollbar())}render(){const{ariaLabel:e,buttonAriaLabel:t,children:n,isMenuOpen:s,tooltipText:a,id:i,additionalClass:r}=this.props,o=u.createElement(Tt.Z,{id:"new-group-tooltip",className:"hidden-xs"},a);return u.createElement(ns.Z,{ref:this.menuWrapperRef,className:Te()("SidebarMenu",{menuOpen:s}),onToggle:this.props.onToggleMenu,stopPropagationOnToggle:!0},u.createElement(Pt.Z,{delayShow:500,placement:"top",overlay:o,disabled:s},u.createElement("button",{ref:this.menuButtonRef,className:Te()(["SidebarMenu_menuButton",{additionalClass:r}]),"aria-label":t,tabIndex:this.props.tabIndex},u.createElement("i",{className:"icon-dots-vertical"}))),u.createElement(ts.Z,{ref:this.refCallback,openUp:this.state.openUp,id:"SidebarMenu-".concat(i),ariaLabel:e},n))}}id(rd,"propTypes",{id:m().string.isRequired,children:m().node,tooltipText:m().string.isRequired,buttonAriaLabel:m().string.isRequired,ariaLabel:m().string.isRequired,refCallback:m().func,isMenuOpen:m().bool.isRequired,onToggleMenu:m().func.isRequired,tabIndex:m().number,additionalClass:m().string});const od=(0,a.connect)((function(e){return{draggingState:(0,ar.Qy)(e)}}))(rd);function ld(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cd extends u.PureComponent{constructor(e){super(e),ld(this,"isLeaving",void 0),ld(this,"markAsRead",(()=>{this.props.actions.markChannelAsRead(this.props.channel.id),(0,C.L9)("ui","ui_sidebar_channel_menu_markAsRead")})),ld(this,"favoriteChannel",(()=>{this.props.actions.favoriteChannel(this.props.channel.id),(0,C.L9)("ui","ui_sidebar_channel_menu_favorite")})),ld(this,"unfavoriteChannel",(()=>{this.props.actions.unfavoriteChannel(this.props.channel.id),(0,C.L9)("ui","ui_sidebar_channel_menu_unfavorite")})),ld(this,"unmuteChannel",(()=>{this.props.actions.unmuteChannel(this.props.currentUserId,this.props.channel.id)})),ld(this,"muteChannel",(()=>{this.props.actions.muteChannel(this.props.currentUserId,this.props.channel.id)})),ld(this,"moveToCategory",(e=>()=>{this.props.actions.addChannelsInSidebar(e,this.props.channel.id),(0,C.L9)("ui","ui_sidebar_channel_menu_moveToExistingCategory")})),ld(this,"moveToNewCategory",(()=>{const{actions:e,multiSelectedChannelIds:t,channel:n}=this.props;e.openModal({modalId:R.r8.EDIT_CATEGORY,dialogType:zl,dialogProps:{channelIdsToAdd:-1===t.indexOf(n.id)?[n.id]:t}}),(0,C.L9)("ui","ui_sidebar_channel_menu_createCategory")})),ld(this,"copyLink",(()=>{(0,V.vQ)(this.props.channelLink)})),ld(this,"handleLeaveChannel",(e=>{e.preventDefault(),e.stopPropagation(),!this.isLeaving&&this.props.closeHandler&&(this.isLeaving=!0,(0,C.L9)("ui","ui_sidebar_channel_menu_leave"),this.props.closeHandler((()=>{this.isLeaving=!1})))})),ld(this,"addMembers",(()=>{const{channel:e,actions:t}=this.props;t.openModal({modalId:R.r8.CHANNEL_INVITE,dialogType:ad.Z,dialogProps:{channel:e}}),(0,C.L9)("ui","ui_sidebar_channel_menu_addMembers")})),ld(this,"renderDropdownItems",(()=>{const{intl:e,isUnread:t,isFavorite:n,isMuted:s,channel:a,categories:i,displayedChannels:r,multiSelectedChannelIds:o}=this.props;if(!i)return null;let l,c,d;if(t&&(l=u.createElement(ts.Z.ItemAction,{id:"markAsRead-".concat(a.id),onClick:this.markAsRead,icon:u.createElement("i",{className:"icon-mark-as-unread"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.markAsRead",defaultMessage:"Mark as Read"})})),c=n?u.createElement(ts.Z.ItemAction,{id:"unfavorite-".concat(a.id),onClick:this.unfavoriteChannel,icon:u.createElement("i",{className:"icon-star"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.unfavoriteChannel",defaultMessage:"Unfavorite"})}):u.createElement(ts.Z.ItemAction,{id:"favorite-".concat(a.id),onClick:this.favoriteChannel,icon:u.createElement("i",{className:"icon-star-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.favoriteChannel",defaultMessage:"Favorite"})}),s){let t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.unmuteChannel",defaultMessage:"Unmute Channel"});a.type!==R.ZP.DM_CHANNEL&&a.type!==R.ZP.GM_CHANNEL||(t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.unmuteConversation",defaultMessage:"Unmute Conversation"})),d=u.createElement(ts.Z.ItemAction,{id:"unmute-".concat(a.id),onClick:this.unmuteChannel,icon:u.createElement("i",{className:"icon-bell-off-outline"}),text:t})}else{let t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.muteChannel",defaultMessage:"Mute Channel"});a.type!==R.ZP.DM_CHANNEL&&a.type!==R.ZP.GM_CHANNEL||(t=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.muteConversation",defaultMessage:"Mute Conversation"})),d=u.createElement(ts.Z.ItemAction,{id:"mute-".concat(a.id),onClick:this.muteChannel,icon:u.createElement("i",{className:"icon-bell-outline"}),text:t})}const m=-1===o.indexOf(a.id)?[a]:r.filter((e=>-1!==o.indexOf(e.id))),p=m.every((e=>e.type===R.ZP.DM_CHANNEL||e.type===R.ZP.GM_CHANNEL)),h=m.every((e=>e.type!==R.ZP.DM_CHANNEL&&e.type!==R.ZP.GM_CHANNEL)),g=i.filter((e=>{var t;return e.id!==(null===(t=this.props.currentCategory)||void 0===t?void 0:t.id)&&(p?e.type!==Ll.y.CHANNELS:!h||e.type!==Ll.y.DIRECT_MESSAGES)})).map((e=>({id:"moveToCategory-".concat(a.id,"-").concat(e.id),icon:e.type===Ll.y.FAVORITES?u.createElement("i",{className:"icon-star-outline"}):u.createElement("i",{className:"icon-folder-outline"}),direction:"right",text:e.display_name,action:this.moveToCategory(e.id)})));let f,b;g.push({id:"SidebarChannelMenu-moveToDivider",text:u.createElement("li",{className:"MenuGroup menu-divider"})},{id:"moveToNewCategory-".concat(a.id),icon:u.createElement("i",{className:"icon-folder-move-outline"}),direction:"right",text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.moveToNewCategory",defaultMessage:"New Category"}),action:this.moveToNewCategory}),a.type!==R.ZP.OPEN_CHANNEL&&a.type!==R.ZP.PRIVATE_CHANNEL||(f=u.createElement(ts.Z.ItemAction,{id:"copyLink-".concat(a.id),onClick:this.copyLink,icon:u.createElement("i",{className:"icon-link-variant"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.copyLink",defaultMessage:"Copy Link"})})),(a.type===R.ZP.PRIVATE_CHANNEL&&this.props.managePrivateChannelMembers||a.type===R.ZP.OPEN_CHANNEL&&this.props.managePublicChannelMembers)&&(b=u.createElement(ts.Z.ItemAction,{id:"addMembers-".concat(a.id),onClick:this.addMembers,icon:u.createElement("i",{className:"icon-account-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.addMembers",defaultMessage:"Add Members"})}));let _,E=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.leaveChannel",defaultMessage:"Leave Channel"});return a.type!==R.ZP.DM_CHANNEL&&a.type!==R.ZP.GM_CHANNEL||(E=e.formatMessage({id:"sidebar_left.sidebar_channel_menu.leaveConversation",defaultMessage:"Close Conversation"})),a.name!==R.ZP.DEFAULT_CHANNEL&&(_=u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{id:"leave-".concat(a.id),onClick:this.handleLeaveChannel,icon:u.createElement("i",{className:"icon-close"}),text:E}))),u.createElement(u.Fragment,null,u.createElement(ts.Z.Group,null,l,c,d),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemSubMenu,{id:"moveTo-".concat(a.id),subMenu:g,text:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.moveTo",defaultMessage:"Move to"}),icon:u.createElement("i",{className:"icon-folder-move-outline"}),direction:"right",openUp:this.state.openUp})),u.createElement(ts.Z.Group,null,f,b),_)})),ld(this,"refCallback",(e=>{e&&this.setState({openUp:e.state.openUp})})),ld(this,"onToggleMenu",(e=>{this.props.onToggleMenu(e),e&&(0,C.L9)("ui","ui_sidebar_channel_menu_opened")})),this.state={openUp:!1},this.isLeaving=!1}render(){const{channel:e,intl:t,isCollapsed:n,isMenuOpen:s}=this.props;return u.createElement(od,{refCallback:this.refCallback,id:"SidebarChannelMenu-".concat(e.id),ariaLabel:t.formatMessage({id:"sidebar_left.sidebar_channel_menu.dropdownAriaLabel",defaultMessage:"Channel Menu"}),buttonAriaLabel:t.formatMessage({id:"sidebar_left.sidebar_channel_menu.dropdownAriaLabel",defaultMessage:"Channel Menu"}),isMenuOpen:s,onToggleMenu:this.onToggleMenu,tooltipText:t.formatMessage({id:"sidebar_left.sidebar_channel_menu.editChannel",defaultMessage:"Channel options"}),tabIndex:n?-1:0},s&&this.renderDropdownItems())}}ld(cd,"propTypes",{channelLink:m().string.isRequired,categories:m().array,currentUserId:m().string.isRequired,currentTeamId:m().string.isRequired,isUnread:m().bool.isRequired,isFavorite:m().bool.isRequired,isMuted:m().bool.isRequired,managePublicChannelMembers:m().bool.isRequired,managePrivateChannelMembers:m().bool.isRequired,closeHandler:m().func,isCollapsed:m().bool.isRequired,isMenuOpen:m().bool.isRequired,onToggleMenu:m().func.isRequired,multiSelectedChannelIds:m().arrayOf(m().string).isRequired,displayedChannels:m().array.isRequired,actions:m().shape({markChannelAsRead:m().func.isRequired,favoriteChannel:m().func.isRequired,unfavoriteChannel:m().func.isRequired,muteChannel:m().func.isRequired,unmuteChannel:m().func.isRequired,openModal:m().func.isRequired,addChannelsInSidebar:m().func.isRequired}).isRequired});const dd=(0,we.ZP)(cd),md=(0,a.connect)((function(e,t){const n=(0,sr.h4)(e)[t.channel.id],s=(0,o.kA)(e);let a,i,r=!1,l=!1;return s&&(r=(0,ge.Ai)(e,{channel:t.channel.id,team:s.id,permission:Kn.Z.MANAGE_PUBLIC_CHANNEL_MEMBERS}),l=(0,ge.Ai)(e,{channel:t.channel.id,team:s.id,permission:Kn.Z.MANAGE_PRIVATE_CHANNEL_MEMBERS}),a=(0,ar.Yy)(e),i=(0,Dl.Me)(e,s.id,t.channel.id)),{currentTeamId:s.id,currentUserId:(0,sr.rc)(e),categories:a,currentCategory:i,isFavorite:(0,ee.Dp)(e,t.channel.id),isMuted:(0,nr.Mm)(n),channelLink:"".concat((0,Ks.fO)()).concat(t.channelLink),managePublicChannelMembers:r,managePrivateChannelMembers:l,displayedChannels:(0,ar.ER)(e),multiSelectedChannelIds:e.views.channelSidebar.multiSelectedChannelIds}}),(function(e){return{actions:(0,s.bindActionCreators)({markChannelAsRead:J.Eo,favoriteChannel:J.ZE,unfavoriteChannel:J.Dn,muteChannel:gr.D0,unmuteChannel:gr.rA,openModal:I.h,addChannelsInSidebar:jl},e)}}))(dd);function ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class pd extends u.PureComponent{constructor(e){super(e),ud(this,"labelRef",void 0),ud(this,"gmItemRef",void 0),ud(this,"enableToolTipIfNeeded",(()=>{const e=this.gmItemRef.current||this.labelRef.current,t=e&&e.offsetWidth<e.scrollWidth;this.setState({showTooltip:Boolean(t)})})),ud(this,"getAriaLabel",(()=>{const{label:e,ariaLabelPrefix:t,unreadMentions:n}=this.props;let s=e;return t&&(s+=" ".concat(t)),1===n?s+=" ".concat(n," ").concat((0,V._u)("accessibility.sidebar.types.mention","mention")):n>1&&(s+=" ".concat(n," ").concat((0,V._u)("accessibility.sidebar.types.mentions","mentions"))),this.showChannelAsUnread()&&0===n&&(s+=" ".concat((0,V._u)("accessibility.sidebar.types.unread","unread"))),s.toLowerCase()})),ud(this,"removeTooltipLink",(()=>{var e,t;return null===(e=this.gmItemRef.current)||void 0===e||null===(t=e.removeAttribute)||void 0===t?void 0:t.call(e,"aria-describedby")})),ud(this,"handleChannelClick",(e=>{(0,C.B1)("SidebarLink#click"),(0,C.L9)("ui","ui_channel_selected_v2"),this.handleSelectChannel(e)})),ud(this,"handleSelectChannel",(e=>{e.defaultPrevented||0!==e.button||((0,V._E)(e)?(e.preventDefault(),this.props.actions.multiSelectChannelAdd(this.props.channel.id)):e.shiftKey?(e.preventDefault(),this.props.actions.multiSelectChannelTo(this.props.channel.id)):this.props.actions.clearChannelSelection())})),ud(this,"handleMenuToggle",(e=>this.setState({isMenuOpen:e}))),ud(this,"showChannelAsUnread",(()=>this.props.unreadMentions>0||this.props.unreadMsgs>0&&this.props.showUnreadForMsgs)),this.labelRef=u.createRef(),this.gmItemRef=u.createRef(),this.state={isMenuOpen:!1,showTooltip:!0}}componentDidMount(){this.enableToolTipIfNeeded()}componentDidUpdate(e){e.label!==this.props.label&&this.enableToolTipIfNeeded()}render(){const{link:e,label:t,channel:n,unreadMentions:s,icon:a,isMuted:i,isChannelSelected:r}=this.props;let o=u.createElement("span",{className:Te()("SidebarChannelLinkLabel",{truncated:this.state.showTooltip})},(0,Ac.Y)(t));if(this.state.showTooltip){const e=u.createElement(Tt.Z,{id:"channel-displayname__tooltip"},t);o=u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:e,onEntering:this.removeTooltipLink},u.createElement("div",{ref:this.gmItemRef},o))}const l=this.props.teammateId?u.createElement(Yr.Z,{userID:this.props.teammateId,showTooltip:!0,spanStyle:{height:18},emojiStyle:{marginTop:-4,marginLeft:6,marginBottom:0,opacity:.8}}):null,c=u.createElement(u.Fragment,null,u.createElement(sd,{channel:n,icon:a}),u.createElement("div",{className:"SidebarChannelLinkLabel_wrapper",ref:this.labelRef},u.createElement("div",{className:"SidebarChannelLinkLabel_main"},o,l)),u.createElement("div",{className:"SidebarChannelLinkLabel_actions"},u.createElement("div",{className:"SidebarLastPostAt"},u.createElement(zr.ZP,{value:n.last_post_at,className:"post__time",useSemanticOutput:!0,useTime:!1,units:["now","second","minute","Today","Yesterday"]})),u.createElement("div",{className:"SidebarMore"},u.createElement(md,{channel:n,isUnread:this.showChannelAsUnread(),isCollapsed:this.props.isCollapsed,closeHandler:this.props.closeHandler,channelLink:e,isMenuOpen:this.state.isMenuOpen,onToggleMenu:this.handleMenuToggle}),u.createElement(go,{unreadMentions:s})))),d=Te()(["SidebarLink",{menuOpen:this.state.isMenuOpen,muted:i,"unread-title":this.showChannelAsUnread(),selected:r}]);let m=u.createElement(kt.Link,{className:d,id:"sidebarItem_".concat(n.name),"aria-label":this.getAriaLabel(),to:e,onClick:this.handleChannelClick,tabIndex:this.props.isCollapsed?-1:0},c);return(0,_.P)()&&(m=u.createElement(Fi,{link:this.props.link,menuId:n.id},m)),m}}ud(pd,"propTypes",{link:m().string.isRequired,label:m().string.isRequired,ariaLabelPrefix:m().string,closeHandler:m().func,icon:m().oneOfType([m().element,m().oneOf([null])]),unreadMentions:m().number.isRequired,unreadMsgs:m().number.isRequired,showUnreadForMsgs:m().bool.isRequired,isMuted:m().bool.isRequired,isCollapsed:m().bool.isRequired,isChannelSelected:m().bool.isRequired,teammateId:m().string,actions:m().shape({clearChannelSelection:m().func.isRequired,multiSelectChannelTo:m().func.isRequired,multiSelectChannelAdd:m().func.isRequired}).isRequired});const hd=(0,a.connect)((function(e,t){const n=(0,sr.h4)(e)[t.channel.id];let s=0,a=0,i=!0;const r=(0,$.ym)(e);return n&&(s=r?n.mention_count_root:n.mention_count,t.channel&&(a=(0,nr._R)(r,t.channel,n)),n.notify_props&&(i=n.notify_props.mark_unread!==R.XH.MENTION)),{unreadMentions:s,unreadMsgs:a,showUnreadForMsgs:i,isMuted:(0,nr.Mm)(n),isChannelSelected:(0,ar.mF)(e,t.channel.id)}}),(function(e){return{actions:(0,s.bindActionCreators)({clearChannelSelection:Hl,multiSelectChannelTo:Bl,multiSelectChannelAdd:ql},e)}}))(pd);function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fd extends u.PureComponent{constructor(...e){super(...e),gd(this,"handleLeavePublicChannel",(()=>{this.props.actions.leaveChannel(this.props.channel.id),(0,C.L9)("ui","ui_public_channel_x_button_clicked")})),gd(this,"handleLeavePrivateChannel",(()=>{y.EK({id:this.props.channel.id,display_name:this.props.channel.display_name}),(0,C.L9)("ui","ui_private_channel_x_button_clicked")})),gd(this,"getCloseHandler",(()=>{const{channel:e}=this.props;return e.type===R.ZP.OPEN_CHANNEL&&e.name!==R.ZP.DEFAULT_CHANNEL?this.handleLeavePublicChannel:e.type===R.ZP.PRIVATE_CHANNEL?this.handleLeavePrivateChannel:null})),gd(this,"getIcon",(()=>{const{channel:e}=this.props;return e.shared?u.createElement(Ir.Z,{className:"icon",channelType:e.type,withTooltip:!0}):u.createElement(Wr.Z,{src:q.je.getChannelPictureUrl(e.id,e.last_picture_update),size:"xl",status:"",wrapperClass:"DirectChannel__profile-picture",newStatusIcon:!0})}))}render(){const{channel:e,currentTeamName:t}=this.props;let n;return e.type===R.ZP.OPEN_CHANNEL?n=(0,V._u)("accessibility.sidebar.types.public","public channel"):e.type===R.ZP.PRIVATE_CHANNEL&&(n=(0,V._u)("accessibility.sidebar.types.private","private channel")),u.createElement(hd,{channel:e,link:"/".concat(t,"/group/").concat(e.name),label:e.display_name,ariaLabelPrefix:n,closeHandler:this.getCloseHandler(),icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}gd(fd,"propTypes",{currentTeamName:m().string.isRequired,isCollapsed:m().bool.isRequired,actions:m().shape({leaveChannel:m().func.isRequired}).isRequired});const bd=(0,a.connect)(null,(function(e){return{actions:(0,s.bindActionCreators)({leaveChannel:ie.TL},e)}}))(fd);function _d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ed extends u.PureComponent{constructor(e){super(e),_d(this,"handleLeaveChannel",(e=>{const t=this.props.channel.teammate_id,n=R.gT.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,s=this.props.currentUserId;this.props.actions.savePreferences(s,[{user_id:s,category:n,name:t,value:"false"}]).then(e),this.props.actions.leaveDirectChannel(this.props.channel.name),(0,C.L9)("ui","ui_direct_channel_x_button_clicked"),this.props.active&&P.m.push("/".concat(this.props.currentTeamName,"/group/").concat(this.props.redirectChannel))})),_d(this,"onSvgLoadError",(()=>{this.setState({svgErrorUrl:this.props.botIconUrl})})),_d(this,"onSvgLoad",(()=>{this.setState({svgErrorUrl:null})})),_d(this,"getIcon",(()=>{const{channel:e,teammate:t}=this.props;if(!t)return null;if(t.id&&t.delete_at)return u.createElement("i",{className:"icon icon-archive-outline"});let n="";return"online"===e.status?n="status-online":"away"===e.status?n="status-away":"dnd"===e.status&&(n="status-dnd"),u.createElement(Wr.Z,{src:q.je.getProfilePictureUrl(t.id,t.last_picture_update),size:"xl",status:t.is_bot?"":e.status,wrapperClass:"DirectChannel__profile-picture",newStatusIcon:!0,statusClass:"DirectChannel__status-icon ".concat(n)})})),this.state={svgErrorUrl:null}}render(){const{channel:e,teammate:t,currentTeamName:n,contactName:s}=this.props;if(!t)return null;let a=s||e.display_name;return this.props.currentUserId===t.id&&(a=this.props.intl.formatMessage({id:"sidebar.directchannel.you",defaultMessage:"{displayname} (you)"},{displayname:a})),u.createElement(hd,{teammateId:t.id,channel:e,link:"/".concat(n,"/messages/@").concat(t.username),label:a,closeHandler:this.handleLeaveChannel,icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}_d(Ed,"propTypes",{currentTeamName:m().string.isRequired,currentUserId:m().string.isRequired,redirectChannel:m().string.isRequired,contactName:m().string,active:m().bool.isRequired,botIconUrl:m().oneOfType([m().string,m().oneOf([null])]),isCollapsed:m().bool.isRequired,actions:m().shape({savePreferences:m().func.isRequired,leaveDirectChannel:m().func.isRequired}).isRequired});const Cd=(0,we.ZP)(Ed),yd=(0,a.connect)((function(e,t){const n=(0,r.PR)(e,t.channel.teammate_id),s=(0,r.ts)(e),a=(0,o.kA)(e),i=(0,ee.fG)(e,a.id),l=(0,ee.gO)(e),c=t.channel.id===l,d=(0,bc.No)(e,null==n?void 0:n.id);return{teammate:n,currentUserId:s.id,redirectChannel:i,active:c,botIconUrl:(m=n,m&&m.is_bot&&m.bot_last_icon_update?"".concat(q.je.getBotRoute(m.id),"/icon?_=").concat(m.bot_last_icon_update||0):null),contactName:d};var m}),(function(e){return{actions:(0,s.bindActionCreators)({savePreferences:st.$A,leaveDirectChannel:ie.e2},e)}}))(Cd);function vd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class wd extends u.PureComponent{constructor(...e){super(...e),vd(this,"handleLeaveChannel",(e=>{const t=this.props.channel.id,n=R.ZP.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,s=this.props.currentUserId;this.props.actions.savePreferences(s,[{user_id:s,category:n,name:t,value:"false"}]).then(e),(0,C.L9)("ui","ui_direct_channel_x_button_clicked"),this.props.active&&P.m.push("/".concat(this.props.currentTeamName,"/group/").concat(this.props.redirectChannel))})),vd(this,"getIcon",(()=>u.createElement("div",{className:"status status--group"},this.props.membersCount)))}render(){const{channel:e,currentTeamName:t}=this.props;return u.createElement(hd,{channel:e,link:"/".concat(t,"/messages/").concat(e.name),label:e.display_name,closeHandler:this.handleLeaveChannel,icon:this.getIcon(),isCollapsed:this.props.isCollapsed})}}vd(wd,"propTypes",{currentTeamName:m().string.isRequired,currentUserId:m().string.isRequired,redirectChannel:m().string.isRequired,active:m().bool.isRequired,membersCount:m().number.isRequired,isCollapsed:m().bool.isRequired,actions:m().shape({savePreferences:m().func.isRequired}).isRequired});const Sd=(0,a.connect)((function(e,t){const n=(0,r.ts)(e),s=(0,o.kA)(e),a=(0,ee.fG)(e,s.id),i=(0,ee.gO)(e),l=t.channel.id===i,c=(0,r.ZQ)(e);let d=0;if(c&&c[t.channel.id]){const e=c[t.channel.id];d=e.size,e.has(n.id)&&d--}return{currentUserId:n.id,redirectChannel:a,active:l,membersCount:d}}),(function(e){return{actions:(0,s.bindActionCreators)({savePreferences:st.$A},e)}}))(wd);function Td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pd extends u.PureComponent{constructor(...e){super(...e),Td(this,"isUnread",(()=>this.props.unreadMentions>0||this.props.unreadMsgs>0&&this.props.showUnreadForMsgs)),Td(this,"isCollapsed",(e=>e.isCategoryDragged||e.isCategoryCollapsed&&!this.isUnread()&&!e.isCurrentChannel)),Td(this,"removeAnimation",(()=>{const e=this.getRef();e&&e.classList.remove("animating")})),Td(this,"getRef",(()=>this.props.getChannelRef(this.props.channel.id))),Td(this,"setRef",(e=>t=>{this.props.setChannelRef(this.props.channel.id,t),null==e||e(t)}))}componentDidUpdate(e){if(this.isCollapsed(this.props)!==this.isCollapsed(e)&&this.props.draggingState.state!==R.bb.CAPTURE&&this.props.draggingState.state!==R.bb.BEFORE){const e=this.getRef();e&&e.classList.add("animating")}}render(){const{channel:e,channelIndex:t,currentTeamName:n,isCurrentChannel:s,isDraggable:a,isAutoSortedCategory:i,isChannelSelected:r,draggingState:o,multiSelectedChannelIds:l,autoSortedCategoryIds:c}=this.props;let d=bd;e.type===R.ZP.DM_CHANNEL?d=yd:e.type===R.ZP.GM_CHANNEL&&(d=Sd);const m=u.createElement(d,{isCollapsed:this.isCollapsed(this.props),channel:e,currentTeamName:n});let p;if(a){let n;r&&o.state&&o.id===e.id&&l.length>1&&(n=u.createElement("div",{className:"SidebarChannel__selectedCount"},u.createElement(on.Z,{id:"sidebar_left.sidebar_channel.selectedCount",defaultMessage:"{count} selected",values:{count:l.length}}))),p=u.createElement(ki._l,{draggableId:e.id,index:t},((t,a)=>u.createElement("li",Object.assign({draggable:"false",ref:this.setRef(t.innerRef),className:Te()("SidebarChannel",{collapsed:this.isCollapsed(this.props),unread:this.isUnread(),active:s,dragging:a.isDragging,selectedDragging:r&&o.state&&o.id!==e.id,fadeOnDrop:a.isDropAnimating&&a.draggingOver&&c.has(a.draggingOver),noFloat:i&&!a.isDragging}),onTransitionEnd:this.removeAnimation},t.draggableProps,t.dragHandleProps,{role:"listitem",tabIndex:-1}),m,n)))}else p=u.createElement("li",{ref:this.setRef(),className:Te()("SidebarChannel",{collapsed:this.isCollapsed(this.props),unread:this.isUnread(),active:s}),role:"listitem"},m);return p}}Td(Pd,"propTypes",{channelIndex:m().number.isRequired,teammateUsername:m().string,currentTeamName:m().string.isRequired,unreadMentions:m().number.isRequired,unreadMsgs:m().number.isRequired,showUnreadForMsgs:m().bool.isRequired,getChannelRef:m().func.isRequired,setChannelRef:m().func.isRequired,isCategoryCollapsed:m().bool.isRequired,isCurrentChannel:m().bool.isRequired,isAutoSortedCategory:m().bool.isRequired,isDraggable:m().bool,isCategoryDragged:m().bool.isRequired,isDropDisabled:m().bool.isRequired,isChannelSelected:m().bool.isRequired,multiSelectedChannelIds:m().arrayOf(m().string).isRequired,autoSortedCategoryIds:m().instanceOf(Set).isRequired}),Td(Pd,"defaultProps",{isDraggable:!0});const Md=(0,a.connect)((function(){const e=(0,ee.kL)();return(t,n)=>{const s=e(t,{id:n.channelId}),a=(0,o.kA)(t),i=(0,sr.h4)(t)[n.channelId],r=(0,ee.gO)(t),l=(0,$.ym)(t);let c=0,d=0,m=!0;return i&&(c=l?i.mention_count_root:i.mention_count,s&&(d=(0,nr._R)(l,s,i)),i.notify_props&&(m=i.notify_props.mark_unread!==R.XH.MENTION)),{channel:s,isCurrentChannel:s.id===r,currentTeamName:a.name,unreadMentions:c,unreadMsgs:d,showUnreadForMsgs:m,draggingState:(0,ar.Qy)(t),isChannelSelected:(0,ar.mF)(t,n.channelId),multiSelectedChannelIds:t.views.channelSidebar.multiSelectedChannelIds,autoSortedCategoryIds:(0,ar.n7)(t)}}}))(Pd);function Nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Id extends u.PureComponent{constructor(e){super(e),Nd(this,"handleSortDirectMessages",(e=>{const{category:t}=this.props;this.props.actions.setCategorySorting(t.id,e),(0,C.L9)("ui","ui_sidebar_sort_dm_".concat(e))})),Nd(this,"handlelimitVisibleDMsGMs",(e=>{const{currentUserId:t}=this.props;this.props.actions.savePreferences(t,[{user_id:t,category:R.ZP.Preferences.CATEGORY_SIDEBAR_SETTINGS,name:he.uP.LIMIT_VISIBLE_DMS_GMS,value:e.toString()}])})),Nd(this,"renderDropdownItems",(()=>{const{intl:e,category:t}=this.props,n=[{id:"sortAlphabetical",direction:"right",text:e.formatMessage({id:"user.settings.sidebar.sortAlpha",defaultMessage:"Alphabetically"}),action:()=>this.handleSortDirectMessages(ed.r.Alphabetical)},{id:"sortByMostRecent",direction:"right",text:e.formatMessage({id:"sidebar.sortedByRecencyLabel",defaultMessage:"Recent Activity"}),action:()=>this.handleSortDirectMessages(ed.r.Recency)}],s=[10,15,20,40].map((e=>({id:"SidebarCategorySortingMenu-dmCount-".concat(e),direction:"right",text:e,action:()=>this.handlelimitVisibleDMsGMs(e)}))),a=[];a.push({id:"showAllDms",direction:"right",text:e.formatMessage({id:"sidebar.allDirectMessages",defaultMessage:"All direct messages"}),action:()=>this.handlelimitVisibleDMsGMs(1e4)},{id:"SidebarChannelMenu-moveToDivider",text:u.createElement("li",{className:"MenuGroup menu-divider"})},...s);const i=u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{id:"browseDirectMessages",onClick:this.props.handleOpenDirectMessagesModal,icon:u.createElement("i",{className:"icon-account-plus-outline"}),text:e.formatMessage({id:"sidebar.openDirectMessage",defaultMessage:"Open a direct message"})}));return u.createElement(u.Fragment,null,u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemSubMenu,{id:"sortDirectMessages",subMenu:n,text:e.formatMessage({id:"sidebar.sort",defaultMessage:"Sort"}),selectedValueText:t.sorting===ed.r.Alphabetical?e.formatMessage({id:"user.settings.sidebar.sortAlpha",defaultMessage:"Alphabetically"}):e.formatMessage({id:"user.settings.sidebar.recent",defaultMessage:"Recent Activity"}),icon:t.sorting===ed.r.Alphabetical?u.createElement("i",{className:"icon-sort-alphabetical-ascending"}):u.createElement("i",{className:"icon-clock-outline"}),direction:"right",openUp:this.state.openUp,styleSelectableItem:!0}),u.createElement(ts.Z.ItemSubMenu,{id:"showMessageCount",subMenu:a,text:e.formatMessage({id:"sidebar.show",defaultMessage:"Show"}),selectedValueText:1e4===this.props.selectedDmNumber?e.formatMessage({id:"channel_notifications.levels.all",defaultMessage:"All"}):this.props.selectedDmNumber,icon:u.createElement("i",{className:"icon-account-multiple-outline"}),direction:"right",openUp:this.state.openUp,styleSelectableItem:!0})),i)})),Nd(this,"refCallback",(e=>{e&&this.setState({openUp:e.state.openUp})})),Nd(this,"onToggleMenu",(e=>{this.props.onToggleMenu(e),e&&(0,C.L9)("ui","ui_sidebar_channel_menu_opened")})),this.state={openUp:!1}}render(){const{intl:e,isCollapsed:t,isMenuOpen:n}=this.props;return u.createElement(od,{refCallback:this.refCallback,id:"SidebarCategorySortingMenu",ariaLabel:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.dropdownAriaLabel",defaultMessage:"Channel Menu"}),buttonAriaLabel:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.dropdownAriaLabel",defaultMessage:"Channel Menu"}),isMenuOpen:n,onToggleMenu:this.onToggleMenu,tooltipText:e.formatMessage({id:"sidebar_left.sidebar_channel_menu.editChannel",defaultMessage:"Channel options"}),tabIndex:t?-1:0,additionalClass:"additionalClass"},this.renderDropdownItems())}}Nd(Id,"propTypes",{handleOpenDirectMessagesModal:m().func.isRequired,isCollapsed:m().bool.isRequired,isMenuOpen:m().bool.isRequired,onToggleMenu:m().func.isRequired,currentUserId:m().string.isRequired,selectedDmNumber:m().number.isRequired,actions:m().shape({setCategorySorting:m().func.isRequired,savePreferences:m().func.isRequired}).isRequired});const Rd=(0,we.ZP)(Id),Ad=(0,a.connect)((function(){return e=>({selectedDmNumber:(0,$.wS)(e,he.uP.CATEGORY_SIDEBAR_SETTINGS,he.uP.LIMIT_VISIBLE_DMS_GMS,20),currentUserId:(0,r.rc)(e)})}),(function(e){return{actions:(0,s.bindActionCreators)({setCategorySorting:Ol.Wp,savePreferences:st.$A},e)}}))(Rd);function Od(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ld extends u.PureComponent{constructor(e){super(e),Od(this,"handleConfirm",(()=>{this.props.actions.deleteCategory(this.props.category.id)})),this.state={show:!0}}render(){return u.createElement(No.Z,{onHide:this.props.onHide,modalHeaderText:u.createElement(ve.Z,{id:"delete_category_modal.deleteCategory",defaultMessage:"Delete this category?"}),handleConfirm:this.handleConfirm,confirmButtonText:u.createElement(ve.Z,{id:"delete_category_modal.delete",defaultMessage:"Delete"}),confirmButtonClassName:"delete"},u.createElement("span",{className:"delete-category__helpText"},u.createElement(on.Z,{id:"delete_category_modal.helpText",defaultMessage:"Channels in **{category_name}** will move back to the Channels and Direct messages categories. You're not removed from any channels.",values:{category_name:this.props.category.display_name}})))}}Od(Ld,"propTypes",{onHide:m().func.isRequired,actions:m().shape({deleteCategory:m().func.isRequired}).isRequired});const Dd=(0,a.connect)(null,(function(e){return{actions:(0,s.bindActionCreators)({deleteCategory:Ol.uu},e)}}))(Ld);function kd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xd extends u.PureComponent{constructor(e){super(e),kd(this,"toggleCategoryMute",(()=>{this.props.actions.setCategoryMuted(this.props.category.id,!this.props.category.muted)})),kd(this,"deleteCategory",(()=>{this.props.actions.openModal({modalId:R.r8.DELETE_CATEGORY,dialogType:Dd,dialogProps:{category:this.props.category}})})),kd(this,"renameCategory",(()=>{this.props.actions.openModal({modalId:R.r8.EDIT_CATEGORY,dialogType:zl,dialogProps:{categoryId:this.props.category.id,initialCategoryName:this.props.category.display_name}})})),kd(this,"createCategory",(()=>{this.props.actions.openModal({modalId:R.r8.EDIT_CATEGORY,dialogType:zl}),(0,C.L9)("ui","ui_sidebar_category_menu_createCategory")})),kd(this,"handleSortChannels",(e=>{const{category:t}=this.props;this.props.actions.setCategorySorting(t.id,e),(0,C.L9)("ui","ui_sidebar_sort_dm_".concat(e))})),kd(this,"onToggleMenu",(e=>{this.props.onToggleMenu(e),e&&(0,C.L9)("ui","ui_sidebar_category_menu_opened")})),kd(this,"renderDropdownItems",(()=>{const{intl:e,category:t}=this.props;let n;if(t.type!==Ll.y.DIRECT_MESSAGES){let s;s=t.muted?e.formatMessage({id:"sidebar_left.sidebar_category_menu.unmuteCategory",defaultMessage:"Unmute Category"}):e.formatMessage({id:"sidebar_left.sidebar_category_menu.muteCategory",defaultMessage:"Mute Category"}),n=u.createElement(ts.Z.ItemAction,{id:"mute-".concat(t.id),onClick:this.toggleCategoryMute,icon:u.createElement("i",{className:"icon-bell-outline"}),text:s})}const s=[{id:"sortAlphabetical",direction:"right",text:e.formatMessage({id:"user.settings.sidebar.sortAlpha",defaultMessage:"Alphabetically"}),action:()=>this.handleSortChannels(ed.r.Alphabetical)},{id:"sortByMostRecent",direction:"right",text:e.formatMessage({id:"sidebar.sortedByRecencyLabel",defaultMessage:"Recent Activity"}),action:()=>this.handleSortChannels(ed.r.Recency)},{id:"sortManual",direction:"right",text:e.formatMessage({id:"sidebar.sortedManually",defaultMessage:"Manually"}),action:()=>this.handleSortChannels(ed.r.Manual)}];let a,i,r,o;switch(t.type===Ll.y.CUSTOM&&(a=u.createElement(ts.Z.ItemAction,{isDangerous:!0,id:"delete-".concat(t.id),onClick:this.deleteCategory,icon:u.createElement("i",{className:"icon-trash-can-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.deleteCategory",defaultMessage:"Delete Category"})}),i=u.createElement(ts.Z.ItemAction,{id:"rename-".concat(t.id),onClick:this.renameCategory,icon:u.createElement("i",{className:"icon-pencil-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.renameCategory",defaultMessage:"Rename Category"})})),t.sorting){case ed.r.Alphabetical:r=e.formatMessage({id:"user.settings.sidebar.sortAlpha",defaultMessage:"Alphabetically"});break;case ed.r.Recency:r=e.formatMessage({id:"user.settings.sidebar.recent",defaultMessage:"Recent Activity"});break;default:r=e.formatMessage({id:"sidebar.sortedManually",defaultMessage:"Manually"})}switch(t.sorting){case ed.r.Alphabetical:o=u.createElement("i",{className:"icon-sort-alphabetical-ascending"});break;case ed.r.Recency:o=u.createElement("i",{className:"icon-clock-outline"});break;default:o=u.createElement("i",{className:"icon-format-list-bulleted"})}return u.createElement(u.Fragment,null,u.createElement(ts.Z.Group,null,n,i,a),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemSubMenu,{id:"sortChannels",subMenu:s,text:e.formatMessage({id:"sidebar.sort",defaultMessage:"Sort"}),selectedValueText:r,icon:o,direction:"right",openUp:this.state.openUp,styleSelectableItem:!0})),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{id:"create-".concat(t.id),onClick:this.createCategory,icon:u.createElement("i",{className:"icon-folder-plus-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.createCategory",defaultMessage:"Create New Category"})})))})),kd(this,"refCallback",(e=>{e&&this.setState({openUp:e.state.openUp})})),this.state={showDeleteCategoryModal:!1,openUp:!1}}render(){const{intl:e,category:t}=this.props;return u.createElement(u.Fragment,null,u.createElement(od,{refCallback:this.refCallback,id:"SidebarCategoryMenu-".concat(t.id),ariaLabel:e.formatMessage({id:"sidebar_left.sidebar_category_menu.dropdownAriaLabel",defaultMessage:"Category Menu"}),buttonAriaLabel:e.formatMessage({id:"sidebar_left.sidebar_category_menu.dropdownAriaLabel",defaultMessage:"Category Menu"}),isMenuOpen:this.props.isMenuOpen,onToggleMenu:this.onToggleMenu,tooltipText:e.formatMessage({id:"sidebar_left.sidebar_category_menu.editCategory",defaultMessage:"Category options"})},this.renderDropdownItems()))}}kd(xd,"propTypes",{currentTeamId:m().string.isRequired,isMenuOpen:m().bool.isRequired,onToggleMenu:m().func.isRequired,actions:m().shape({openModal:m().func.isRequired,setCategoryMuted:m().func.isRequired,setCategorySorting:m().func.isRequired}).isRequired});const Ud=(0,we.ZP)(xd),Zd=(0,a.connect)((function(){return e=>({currentTeamId:(0,o.kA)(e).id})}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,setCategoryMuted:Ol.uN,setCategorySorting:Ol.Wp},e)}}))(Ud);function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Fd extends u.PureComponent{constructor(e){super(e),jd(this,"categoryTitleRef",void 0),jd(this,"newDropBoxRef",void 0),jd(this,"handleA11yActivateEvent",(()=>{this.categoryTitleRef.current&&this.categoryTitleRef.current.addEventListener("keydown",this.handleA11yKeyDown)})),jd(this,"handleA11yDeactivateEvent",(()=>{this.categoryTitleRef.current&&this.categoryTitleRef.current.removeEventListener("keydown",this.handleA11yKeyDown)})),jd(this,"handleA11yKeyDown",(e=>{(0,V.pD)(e,R.ZP.KeyCodes.ENTER)&&this.handleCollapse()})),jd(this,"renderChannel",((e,t)=>{const{setChannelRef:n,getChannelRef:s,category:a,draggingState:i}=this.props;return u.createElement(Md,{key:e,channelIndex:t,channelId:e,setChannelRef:n,getChannelRef:s,isCategoryCollapsed:a.collapsed,isCategoryDragged:i.type===R.Hl.CATEGORY&&i.id===a.id,isDropDisabled:this.isDropDisabled(),isAutoSortedCategory:a.sorting===ed.r.Alphabetical||a.sorting===ed.r.Recency})})),jd(this,"handleCollapse",(()=>{const{category:e}=this.props;e.collapsed?(0,C.L9)("ui","ui_sidebar_expand_category"):(0,C.L9)("ui","ui_sidebar_collapse_category"),this.props.actions.setCategoryCollapsed(e.id,!e.collapsed)})),jd(this,"handleSortDirectMessages",(e=>{const{category:t}=this.props;e.stopPropagation();const n=t.sorting===ed.r.Recency?ed.r.Alphabetical:ed.r.Recency;this.props.actions.setCategorySorting(t.id,n),(0,C.L9)("ui","ui_sidebar_sort_dm_".concat(n))})),jd(this,"removeAnimation",(()=>{this.newDropBoxRef.current&&this.newDropBoxRef.current.classList.remove("animating")})),jd(this,"handleOpenDirectMessagesModal",(e=>{e.stopPropagation(),this.props.handleOpenMoreDirectChannelsModal(e.nativeEvent),(0,C.L9)("ui","ui_sidebar_create_direct_message")})),jd(this,"handleMenuToggle",(e=>{this.setState({isMenuOpen:e})})),jd(this,"isDropDisabled",(()=>{const{draggingState:e,category:t}=this.props;return t.type===Ll.y.DIRECT_MESSAGES?e.type===R.Hl.CHANNEL:t.type===Ll.y.CHANNELS&&e.type===R.Hl.DM})),jd(this,"renderNewDropBox",(e=>{const{draggingState:t,category:n,isNewCategory:s,channelIds:a}=this.props;return!s||null!=a&&a.length?null:u.createElement(u.Fragment,null,u.createElement(ki._l,{draggableId:"NEW_CHANNEL_SPACER__".concat(n.id),isDragDisabled:!0,index:0},(e=>u.createElement("li",Object.assign({ref:e.innerRef,draggable:"false",className:"SidebarChannel noFloat newChannelSpacer"},e.draggableProps,{role:"listitem",tabIndex:-1})))),u.createElement("div",{ref:this.newDropBoxRef,className:Te()("SidebarCategory_newDropBox",{collapsed:n.collapsed||t.type===R.Hl.CATEGORY&&t.id===n.id,isDraggingOver:e}),onTransitionEnd:this.removeAnimation},u.createElement("i",{className:"icon-hand-right"}),u.createElement("span",{className:"SidebarCategory_newDropBox-label"},u.createElement(ve.Z,{id:"sidebar_left.sidebar_category.newDropBoxLabel",defaultMessage:"Drag channels here..."}))))})),jd(this,"showPlaceholder",(()=>{const{channelIds:e,draggingState:t,category:n,isNewCategory:s}=this.props;return n.sorting!==ed.r.Alphabetical&&n.sorting!==ed.r.Recency&&!s||!!e.find((e=>e===t.id))})),this.categoryTitleRef=u.createRef(),this.newDropBoxRef=u.createRef(),this.state={isMenuOpen:!1}}componentDidUpdate(e){this.props.category.collapsed!==e.category.collapsed&&this.newDropBoxRef.current&&this.newDropBoxRef.current.classList.add("animating")}componentDidMount(){this.categoryTitleRef.current&&(this.categoryTitleRef.current.addEventListener(R.sp.ACTIVATE,this.handleA11yActivateEvent),this.categoryTitleRef.current.addEventListener(R.sp.DEACTIVATE,this.handleA11yDeactivateEvent))}componentWillUnmount(){this.categoryTitleRef.current&&(this.categoryTitleRef.current.removeEventListener(R.sp.ACTIVATE,this.handleA11yActivateEvent),this.categoryTitleRef.current.removeEventListener(R.sp.DEACTIVATE,this.handleA11yDeactivateEvent))}render(){const{category:e,categoryIndex:t,channelIds:n,isNewCategory:s}=this.props;if(!e)return null;if(e.type===Ll.y.FAVORITES&&(null==n||!n.length))return null;const a=n.map(this.renderChannel);let i,r,o=!0;if(s)r=u.createElement("div",{className:"SidebarCategory_newLabel"},u.createElement(ve.Z,{id:"sidebar_left.sidebar_category.newLabel",defaultMessage:"new"})),i=u.createElement(Zd,{category:e,isMenuOpen:this.state.isMenuOpen,onToggleMenu:this.handleMenuToggle});else if(e.type===Ll.y.DIRECT_MESSAGES){const t=(0,B._)("sidebar.createDirectMessage","Create new direct message"),s=u.createElement(Tt.Z,{id:"new-group-tooltip",className:"hidden-xs"},t);i=u.createElement(u.Fragment,null,u.createElement(Ad,{category:e,handleOpenDirectMessagesModal:this.handleOpenDirectMessagesModal,isCollapsed:e.collapsed,isMenuOpen:this.state.isMenuOpen,onToggleMenu:this.handleMenuToggle}),u.createElement(Pt.Z,{delayShow:500,placement:"top",overlay:s},u.createElement("button",{className:"SidebarChannelGroupHeader_addButton",onClick:this.handleOpenDirectMessagesModal,"aria-label":t},u.createElement("i",{className:"icon-plus"})))),n&&n.length||(o=!1)}else i=u.createElement(Zd,{category:e,isMenuOpen:this.state.isMenuOpen,onToggleMenu:this.handleMenuToggle});let l=e.display_name;return e.type!==Ll.y.CUSTOM&&(l=(0,B._)("sidebar.types.".concat(e.type),e.display_name)),u.createElement(ki._l,{draggableId:e.id,index:t,disableInteractiveElementBlocking:!0},((t,n)=>u.createElement("div",Object.assign({className:Te()("SidebarChannelGroup a11y__section",{autoSortedCategory:e.sorting===ed.r.Alphabetical||e.sorting===ed.r.Recency,dropDisabled:this.isDropDisabled(),menuIsOpen:this.state.isMenuOpen,capture:this.props.draggingState.state===R.bb.CAPTURE,isCollapsed:e.collapsed}),ref:t.innerRef},t.draggableProps),u.createElement(ki.bK,{droppableId:e.id,type:"SIDEBAR_CHANNEL",isDropDisabled:this.isDropDisabled()},((s,c)=>u.createElement("div",Object.assign({},s.droppableProps,{ref:s.innerRef,className:Te()({draggingOver:c.isDraggingOver})}),u.createElement(Lc,{ref:this.categoryTitleRef,displayName:l,dragHandleProps:t.dragHandleProps,isCollapsed:e.collapsed,isCollapsible:o,isDragging:n.isDragging,isDraggingOver:c.isDraggingOver,muted:e.muted,onClick:this.handleCollapse},r,void 0,i),u.createElement("div",{className:"SidebarChannelGroup_content"},u.createElement("ul",{role:"list",className:"NavGroupContent"},this.renderNewDropBox(c.isDraggingOver),a,this.showPlaceholder()?s.placeholder:null))))))))}}jd(Fd,"propTypes",{categoryIndex:m().number.isRequired,channelIds:m().arrayOf(m().string).isRequired,setChannelRef:m().func.isRequired,handleOpenMoreDirectChannelsModal:m().func.isRequired,getChannelRef:m().func.isRequired,isNewCategory:m().bool.isRequired,actions:m().shape({setCategoryCollapsed:m().func.isRequired,setCategorySorting:m().func.isRequired}).isRequired}),(0,it.t)("sidebar.types.channels"),(0,it.t)("sidebar.types.direct_messages"),(0,it.t)("sidebar.types.favorites");const Hd=(0,a.connect)((function(){const e=(0,ar.kS)();return(t,n)=>({channelIds:e(t,n.category),draggingState:(0,ar.Qy)(t)})}),(function(e){return{actions:(0,s.bindActionCreators)({setCategoryCollapsed:Ol.No,setCategorySorting:Ol.Wp},e)}}))(Fd);function qd(e){const t=(0,_s.Z)();return 0===e.unreadChannels.length?null:u.createElement("div",{className:"SidebarChannelGroup dropDisabled a11y__section"},u.createElement(Oc,{displayName:t.formatMessage({id:"sidebar.types.unreads",defaultMessage:"UNREADS"})}),u.createElement("div",{className:"SidebarChannelGroup_content"},u.createElement("ul",{role:"list",className:"NavGroupContent"},e.unreadChannels.map(((t,n)=>u.createElement(Md,{key:t.id,channelIndex:n,channelId:t.id,setChannelRef:e.setChannelRef,getChannelRef:e.getChannelRef,isCategoryCollapsed:!1,isCategoryDragged:!1,isDraggable:!1,isDropDisabled:!0,isAutoSortedCategory:!0}))))))}qd.propTypes={getChannelRef:m().func.isRequired,setChannelRef:m().func.isRequired,unreadChannels:m().array.isRequired};const Bd=(0,a.connect)((function(e){return{unreadChannels:(0,ar.Xn)(e)}}))(qd);function Gd(e){var t;const n=(0,_s.Z)();var s;if(0===e.channelIds.length&&null!==(t=e.category)&&void 0!==t&&t.display_name)return u.createElement("div",{className:"no-channels"},n.formatMessage({id:"sidebar.no_channels",defaultMessage:"Không tìm thấy Nhóm nào phù hợp với ".concat(null===(s=e.category)||void 0===s?void 0:s.display_name)}));let a;return 0!==e.channelIds.length&&(a=u.createElement(Oc,{displayName:n.formatMessage({id:"sidebar.types.all_messages",defaultMessage:"Danh sách tin nhắn"})})),u.createElement("div",{className:"SidebarChannelGroup dropDisabled a11y__section"},a,u.createElement("div",{className:"SidebarChannelGroup_content"},u.createElement("ul",{role:"list",className:"NavGroupContent"},e.channelIds.map(((t,n)=>u.createElement(Md,{key:t,channelIndex:n,channelId:t,setChannelRef:e.setChannelRef,getChannelRef:e.getChannelRef,isCategoryCollapsed:!1,isCategoryDragged:!1,isDraggable:!1,isDropDisabled:!0,isAutoSortedCategory:!0}))))))}Gd.propTypes={getChannelRef:m().func.isRequired,setChannelRef:m().func.isRequired,channelIds:m().arrayOf(m().string).isRequired};const Vd=(0,a.connect)((function(){const e=(0,ar.kS)();return t=>{const n=(0,ar.Ul)(t);let s,a=[];return"all"===n?(a=(0,ar.Ky)(t).map((e=>e.id)),s=null):(s=(0,Dl.n3)(t,n),a=e(t,s)),{channelIds:a,category:s}}}))(Gd);function Wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zd extends u.PureComponent{constructor(e){super(e),Wd(this,"toggleCategoryMute",(()=>{this.props.actions.setCategoryMuted(this.props.category.id,!this.props.category.muted)})),Wd(this,"deleteCategory",(()=>{this.props.actions.openModal({modalId:R.r8.DELETE_CATEGORY,dialogType:Dd,dialogProps:{category:this.props.category}})})),Wd(this,"renameCategory",(()=>{this.props.actions.openModal({modalId:R.r8.EDIT_CATEGORY,dialogType:zl,dialogProps:{categoryId:this.props.category.id,initialCategoryName:this.props.category.display_name}})})),Wd(this,"createCategory",(()=>{this.props.actions.openModal({modalId:R.r8.EDIT_CATEGORY,dialogType:zl}),(0,C.L9)("ui","ui_sidebar_category_menu_createCategory")})),Wd(this,"handleSortChannels",(e=>{const{category:t}=this.props;this.props.actions.setCategorySorting(t.id,e),(0,C.L9)("ui","ui_sidebar_sort_dm_".concat(e))})),Wd(this,"onToggleMenu",(e=>{this.props.onToggleMenu(e),e&&(0,C.L9)("ui","ui_sidebar_category_menu_opened")})),Wd(this,"renderDropdownItems",(()=>{const{intl:e,category:t}=this.props;let n;if(t.type!==Ll.y.DIRECT_MESSAGES){let s;s=t.muted?e.formatMessage({id:"sidebar_left.sidebar_category_menu.unmuteCategory",defaultMessage:"Unmute Category"}):e.formatMessage({id:"sidebar_left.sidebar_category_menu.muteCategory",defaultMessage:"Mute Category"}),n=u.createElement(ts.Z.ItemAction,{id:"mute-".concat(t.id),onClick:this.toggleCategoryMute,icon:u.createElement("i",{className:"icon-bell-outline"}),text:s})}const s=[{id:"sortAlphabetical",direction:"right",text:e.formatMessage({id:"user.settings.sidebar.sortAlpha",defaultMessage:"Alphabetically"}),action:()=>this.handleSortChannels(ed.r.Alphabetical)},{id:"sortByMostRecent",direction:"right",text:e.formatMessage({id:"sidebar.sortedByRecencyLabel",defaultMessage:"Recent Activity"}),action:()=>this.handleSortChannels(ed.r.Recency)},{id:"sortManual",direction:"right",text:e.formatMessage({id:"sidebar.sortedManually",defaultMessage:"Manually"}),action:()=>this.handleSortChannels(ed.r.Manual)}];let a,i,r,o;switch(t.type===Ll.y.CUSTOM&&(a=u.createElement(ts.Z.ItemAction,{isDangerous:!0,id:"delete-".concat(t.id),onClick:this.deleteCategory,icon:u.createElement("i",{className:"icon-trash-can-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.deleteCategory",defaultMessage:"Delete Category"})}),i=u.createElement(ts.Z.ItemAction,{id:"rename-".concat(t.id),onClick:this.renameCategory,icon:u.createElement("i",{className:"icon-pencil-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.renameCategory",defaultMessage:"Rename Category"})})),t.sorting){case ed.r.Alphabetical:r=e.formatMessage({id:"user.settings.sidebar.sortAlpha",defaultMessage:"Alphabetically"});break;case ed.r.Recency:r=e.formatMessage({id:"user.settings.sidebar.recent",defaultMessage:"Recent Activity"});break;default:r=e.formatMessage({id:"sidebar.sortedManually",defaultMessage:"Manually"})}switch(t.sorting){case ed.r.Alphabetical:o=u.createElement("i",{className:"icon-sort-alphabetical-ascending"});break;case ed.r.Recency:o=u.createElement("i",{className:"icon-clock-outline"});break;default:o=u.createElement("i",{className:"icon-format-list-bulleted"})}return u.createElement(u.Fragment,null,u.createElement(ts.Z.Group,null,n,i,a),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemSubMenu,{id:"sortChannels",subMenu:s,text:e.formatMessage({id:"sidebar.sort",defaultMessage:"Sort"}),selectedValueText:r,icon:o,direction:"right",openUp:this.state.openUp,styleSelectableItem:!0})),u.createElement(ts.Z.Group,null,u.createElement(ts.Z.ItemAction,{id:"create-".concat(t.id),onClick:this.createCategory,icon:u.createElement("i",{className:"icon-folder-plus-outline"}),text:e.formatMessage({id:"sidebar_left.sidebar_category_menu.createCategory",defaultMessage:"Create New Category"})})))})),Wd(this,"refCallback",(e=>{e&&this.setState({openUp:e.state.openUp})})),this.state={showDeleteCategoryModal:!1,openUp:!1}}render(){const{intl:e,category:t}=this.props;return u.createElement(u.Fragment,null,u.createElement(od,{refCallback:this.refCallback,id:"SidebarCategoryMenu-".concat(t.id),ariaLabel:e.formatMessage({id:"sidebar_left.sidebar_category_menu.dropdownAriaLabel",defaultMessage:"Category Menu"}),buttonAriaLabel:e.formatMessage({id:"sidebar_left.sidebar_category_menu.dropdownAriaLabel",defaultMessage:"Category Menu"}),isMenuOpen:this.props.isMenuOpen,onToggleMenu:this.onToggleMenu,tooltipText:e.formatMessage({id:"sidebar_left.sidebar_category_menu.editCategory",defaultMessage:"Category options"})},this.renderDropdownItems()))}}Wd(zd,"propTypes",{currentTeamId:m().string.isRequired,isMenuOpen:m().bool.isRequired,onToggleMenu:m().func.isRequired,actions:m().shape({openModal:m().func.isRequired,setCategoryMuted:m().func.isRequired,setCategorySorting:m().func.isRequired}).isRequired});const Yd=(0,we.ZP)(zd),Kd=(0,a.connect)((function(){return e=>({currentTeamId:(0,o.kA)(e).id})}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,setCategoryMuted:Ol.uN,setCategorySorting:Ol.Wp},e)}}))(Yd),Jd=e=>{const[t,n]=(0,u.useState)(!1);return u.createElement("div",{className:Te()("category-filter-item",e.wrapClass)},u.createElement("button",{className:Te()("btn category-btn",e.className),onClick:e.onClick},e.name),e.allowEdit?u.createElement(u.Fragment,null,u.createElement(Kd,{category:e.category,isMenuOpen:t,onToggleMenu:()=>n((e=>!e))})):null)};Jd.propTypes={name:m().string.isRequired,wrapClass:m().string,className:m().string,allowEdit:m().bool.isRequired,onClick:m().func.isRequired,onEdit:m().func};const Qd=(0,a.connect)((function(e){return{currentCategory:(0,ar.Ul)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({setCurrentCategory:Gl},e)}}))((e=>{const t=(0,_s.Z)(),[n,s]=(0,u.useState)(!1);return u.createElement("div",{className:Te()("SidebarCategories a11y__section",{dropDisabled:!0,isCollapsed:n})},u.createElement(Lc,{displayName:t.formatMessage({id:"sidebar_left.sidebar_category_menu.category",defaultMessage:"Phân loại"}),isCollapsed:n,isCollapsible:!0,muted:!1,onClick:()=>s((e=>!e))}),u.createElement("div",{className:Te()("SidebarChannelGroup_content SidebarCategories_content animating",{collapsed:n})},u.createElement("div",{className:Te()("ChannelFilterItems animating",{collapsed:n})},u.createElement(Jd,{wrapClass:Te()({active:"all"===e.currentCategory}),className:Te()({"btn-primary":"all"===e.currentCategory}),name:"Tất cả",onClick:()=>e.actions.setCurrentCategory("all"),allowEdit:!1}),e.categories.map((n=>{let s=n.display_name;return n.type!==Ll.y.CUSTOM&&(s=t.formatMessage({id:"sidebar.types.".concat(n.type),defaultMessage:n.display_name})),u.createElement(Jd,{key:n.id,wrapClass:Te()({active:e.currentCategory===n.id}),className:Te()({"btn-primary":e.currentCategory===n.id}),name:s,onClick:()=>e.actions.setCurrentCategory(n.id),allowEdit:!0,category:n})})))))}));function Xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $d(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function em(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"}))}function tm(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--verticalTrack"}))}function nm(e){return u.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class sm extends u.PureComponent{constructor(e){super(e),Xd(this,"channelRefs",void 0),Xd(this,"scrollbar",void 0),Xd(this,"animate",void 0),Xd(this,"scrollAnimation",void 0),Xd(this,"getDisplayedChannelIds",(()=>this.props.displayedChannels.map((e=>e.id)))),Xd(this,"getChannelRef",(e=>this.channelRefs.get(e))),Xd(this,"setChannelRef",((e,t)=>{t?this.channelRefs.set(e,t):this.channelRefs.delete(e)})),Xd(this,"getFirstUnreadChannelFromChannelIdArray",(e=>this.props.currentChannelId?e.find((e=>e!==this.props.currentChannelId&&this.props.unreadChannelIds.includes(e))):null)),Xd(this,"handleScrollAnimationUpdate",(e=>{const t=e.getCurrentValue();this.scrollbar.current.scrollTop(t)})),Xd(this,"scrollToFirstUnreadChannel",(()=>{this.scrollToChannel(this.getFirstUnreadChannel(),!0)})),Xd(this,"scrollToLastUnreadChannel",(()=>{this.scrollToChannel(this.getLastUnreadChannel(),!0)})),Xd(this,"scrollToChannel",((e,t=!1)=>{if(!e)return;const n=this.channelRefs.get(e);if(!n)return;const s=n.offsetTop,a=s+n.offsetHeight,i=this.scrollbar.current.getScrollTop(),r=this.scrollbar.current.getClientHeight();if(s<i+32){const n=t||!this.state.showTopUnread?10:55;let a;const i=this.getDisplayedChannelIds();a=i.length>0&&i[0]===e?0:s-n-32,this.scrollToPosition(a)}else if(a>i+r){const e=a-r+(t||!this.state.showBottomUnread?10:55);this.scrollToPosition(e)}})),Xd(this,"scrollToPosition",(e=>{this.scrollAnimation.setCurrentValue(this.scrollbar.current.getScrollTop()).setAtRest(),this.scrollAnimation.setEndValue(e)})),Xd(this,"updateUnreadIndicators",(()=>{if(this.props.draggingState.state)return void this.setState({showTopUnread:!1,showBottomUnread:!1});let e=!1,t=!1;const n=this.getFirstUnreadChannel(),s=this.getLastUnreadChannel();if(n){const t=this.channelRefs.get(n);t&&t.offsetTop+t.offsetHeight-10-32<this.scrollbar.current.getScrollTop()&&(e=!0)}if(s){const e=this.channelRefs.get(s);e&&e.offsetTop+10>this.scrollbar.current.getScrollTop()+this.scrollbar.current.getClientHeight()&&(t=!0)}e===this.state.showTopUnread&&t===this.state.showBottomUnread||this.setState({showTopUnread:e,showBottomUnread:t})})),Xd(this,"getFirstUnreadChannel",(()=>this.getFirstUnreadChannelFromChannelIdArray(this.getDisplayedChannelIds()))),Xd(this,"getLastUnreadChannel",(()=>this.getFirstUnreadChannelFromChannelIdArray(this.getDisplayedChannelIds().reverse()))),Xd(this,"navigateChannelShortcut",(e=>{if(!e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||!V.pD(e,R.gT.KeyCodes.UP)&&!V.pD(e,R.gT.KeyCodes.DOWN))V._E(e)&&e.shiftKey&&V.pD(e,R.gT.KeyCodes.K)&&this.props.handleOpenMoreDirectChannelsModal(e);else{e.preventDefault();const t=this.getDisplayedChannelIds(),n=this.props.currentChannelId;let s=-1;for(let e=0;e<t.length;e++)t[e]===n&&(s=e);let a=s;a=V.pD(e,R.gT.KeyCodes.DOWN)?s+1:s-1;const i=t[V.wQ(a,t.length)];this.props.actions.switchToChannelById(i),this.scrollToChannel(i)}})),Xd(this,"navigateUnreadChannelShortcut",(e=>{if(e.altKey&&e.shiftKey&&!e.ctrlKey&&!e.metaKey&&(V.pD(e,R.gT.KeyCodes.UP)||V.pD(e,R.gT.KeyCodes.DOWN))){e.preventDefault();const t=this.getDisplayedChannelIds();let n=0;n=V.pD(e,R.gT.KeyCodes.UP)?-1:1;const s=tr.MX(this.props.currentChannelId,t,this.props.unreadChannelIds,n);if(-1!==s){const e=t[s];this.props.actions.switchToChannelById(e),this.scrollToChannel(e)}}})),Xd(this,"renderCategory",((e,t)=>u.createElement(Hd,{key:e.id,category:e,categoryIndex:t,setChannelRef:this.setChannelRef,handleOpenMoreDirectChannelsModal:this.props.handleOpenMoreDirectChannelsModal,getChannelRef:this.getChannelRef,isNewCategory:this.props.newCategoryIds.includes(e.id)}))),Xd(this,"onScroll",Vr()((()=>{this.updateUnreadIndicators()}),100)),Xd(this,"onTransitionEnd",Vr()((()=>{this.updateUnreadIndicators()}),100)),Xd(this,"onBeforeCapture",(e=>{this.channelRefs.forEach((e=>e.classList.remove("animating")));const t=[...document.querySelectorAll('[data-rbd-droppable-id*="droppable-categories"]')];t[0].style.height="".concat(t[0].scrollHeight,"px"),this.props.multiSelectedChannelIds.find((t=>e.draggableId===t))||this.props.actions.clearChannelSelection();const n={state:R.bb.CAPTURE,id:e.draggableId};if(this.props.categories.some((t=>t.id===e.draggableId)))n.type=R.Hl.CATEGORY;else{const t=this.props.displayedChannels.filter((t=>-1!==this.props.multiSelectedChannelIds.indexOf(t.id)||t.id===e.draggableId));t.every((e=>e.type===he.LQ.DM_CHANNEL||e.type===he.LQ.GM_CHANNEL))?n.type=R.Hl.DM:t.every((e=>e.type!==he.LQ.DM_CHANNEL&&e.type!==he.LQ.GM_CHANNEL))?n.type=R.Hl.CHANNEL:n.type=R.Hl.MIXED_CHANNELS}this.props.actions.setDraggingState(n)})),Xd(this,"onBeforeDragStart",(()=>{this.props.actions.setDraggingState({state:R.bb.BEFORE})})),Xd(this,"onDragStart",(e=>{this.props.onDragStart(e),this.props.actions.setDraggingState({state:R.bb.DURING}),[...document.querySelectorAll('[data-rbd-droppable-id*="droppable-categories"]')][0].style.height=""})),Xd(this,"onDragEnd",(e=>{this.props.onDragEnd(e),"DROP"===e.reason&&e.destination&&("SIDEBAR_CHANNEL"===e.type?(this.props.actions.moveChannelsInSidebar(e.destination.droppableId,e.destination.index,e.draggableId),(0,C.L9)("ui","ui_sidebar_dragdrop_dropped_channel")):"SIDEBAR_CATEGORY"===e.type&&(this.props.actions.moveCategory(this.props.currentTeam.id,e.draggableId,e.destination.index),(0,C.L9)("ui","ui_sidebar_dragdrop_dropped_category"))),this.props.actions.stopDragging()})),this.channelRefs=new Map,this.state={showTopUnread:!1,showBottomUnread:!1},this.scrollbar=u.createRef(),this.animate=new er.SpringSystem,this.scrollAnimation=this.animate.createSpring(),this.scrollAnimation.setOvershootClampingEnabled(!0),this.scrollAnimation.addListener({onSpringUpdate:this.handleScrollAnimationUpdate})}componentDidMount(){document.addEventListener("keydown",this.navigateChannelShortcut),document.addEventListener("keydown",this.navigateUnreadChannelShortcut)}componentWillUnmount(){document.removeEventListener("keydown",this.navigateChannelShortcut),document.removeEventListener("keydown",this.navigateUnreadChannelShortcut)}componentDidUpdate(e){this.props.currentChannelId&&e.currentChannelId&&(this.props.currentTeam!==e.currentTeam&&this.scrollbar.current.scrollToTop(),this.props.currentChannelId,e.currentChannelId,this.props.currentChannelId!==e.currentChannelId&&this.props.actions.close(),this.updateUnreadIndicators())}render(){const{categories:e,isCategoryAll:t}=this.props;let n;this.props.showUnreadsCategory&&t&&(n=u.createElement(Bd,{getChannelRef:this.getChannelRef,setChannelRef:this.setChannelRef}));const s=u.createElement(u.Fragment,null,n,u.createElement(Vd,{getChannelRef:this.getChannelRef,setChannelRef:this.setChannelRef})),a=u.createElement(ve.Z,{id:"sidebar.unreads",defaultMessage:"More unreads"}),i=u.createElement(ve.Z,{id:"sidebar.unreads",defaultMessage:"More unreads"}),r=V._u("accessibility.sections.lhsList","channel sidebar region");return u.createElement("div",{id:"sidebar-left",role:"application","aria-label":r,className:Te()("SidebarNavContainer a11y__region",{disabled:this.props.isUnreadFilterEnabled}),"data-a11y-disable-nav":Boolean(this.props.draggingState.type),"data-a11y-sort-order":"7",onTransitionEnd:this.onTransitionEnd},u.createElement(Qd,{categories:e}),u.createElement(uo,{name:"Top",show:this.state.showTopUnread,onClick:this.scrollToFirstUnreadChannel,extraClass:"nav-pills__unread-indicator-top",content:a}),u.createElement(uo,{name:"Bottom",show:this.state.showBottomUnread,onClick:this.scrollToLastUnreadChannel,extraClass:"nav-pills__unread-indicator-bottom",content:i}),u.createElement(Dt.ZP,{ref:this.scrollbar,autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:em,renderThumbVertical:nm,renderTrackVertical:tm,renderView:$d,onScroll:this.onScroll,style:{position:"absolute"}},u.createElement(bo,null),s))}}Xd(sm,"propTypes",{currentChannelId:m().string.isRequired,categories:m().array.isRequired,unreadChannelIds:m().arrayOf(m().string).isRequired,isUnreadFilterEnabled:m().bool.isRequired,displayedChannels:m().array.isRequired,newCategoryIds:m().arrayOf(m().string).isRequired,multiSelectedChannelIds:m().arrayOf(m().string).isRequired,showUnreadsCategory:m().bool.isRequired,isCategoryAll:m().bool.isRequired,handleOpenMoreDirectChannelsModal:m().func.isRequired,onDragStart:m().func.isRequired,onDragEnd:m().func.isRequired,actions:m().shape({moveChannelsInSidebar:m().func.isRequired,moveCategory:m().func.isRequired,switchToChannelById:m().func.isRequired,close:m().func.isRequired,setDraggingState:m().func.isRequired,stopDragging:m().func.isRequired,clearChannelSelection:m().func.isRequired,multiSelectChannelAdd:m().func.isRequired}).isRequired});const am=(0,a.connect)((function(e){return{currentTeam:(0,o.kA)(e),channels:(0,ar.Ky)(e),currentChannelId:(0,ee.gO)(e),categories:(0,ar.Yy)(e),isUnreadFilterEnabled:(0,ar.fI)(e),unreadChannelIds:(0,ee.pb)(e),displayedChannels:(0,ar.ER)(e),draggingState:(0,ar.Qy)(e),newCategoryIds:e.views.channelSidebar.newCategoryIds,multiSelectedChannelIds:e.views.channelSidebar.multiSelectedChannelIds,showUnreadsCategory:(0,$.hC)(e),isCategoryAll:"all"===(0,ar.Ul)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({close:Qi.xv,switchToChannelById:ie.j9,moveChannelsInSidebar:Fl,moveCategory:Ol.Wr,setDraggingState:xl,stopDragging:Ul,clearChannelSelection:Hl,multiSelectChannelAdd:ql},e)}}))(sm);class im extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})))}}class rm extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor"},u.createElement("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})))}}class om extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 448 512",stroke:"currentColor"},u.createElement("path",{fill:"currentColor",d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-68 304H48V48h320v416zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2z"})))}}class lm extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"none",stroke:"currentColor"},u.createElement("path",{fill:"currentColor",d:"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"})))}}class cm extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 384 512",stroke:"currentColor"},u.createElement("path",{fill:"currentColor",d:"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"})))}}class dm extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",stroke:"currentColor"},u.createElement("path",{fill:"currentColor",d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"})))}}class mm extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))}}const um=(0,a.connect)((function(e){const t=(0,r.ts)(e),n=(0,jo.yC)();if(!t)return{};const s=t.id;return{userId:s,profilePicture:q.je.getProfilePictureUrl(s,t.last_picture_update),autoResetPref:(0,$.U2)(e,he.uP.CATEGORY_AUTO_RESET_MANUAL_STATUS,s,""),status:(0,r.ZO)(e,s),userTimezone:(0,_o.S)(e,s),isTimezoneEnabled:(0,Co.Y)(e),customStatus:n(e,s),isCustomStatusEnabled:(0,jo.uD)(e),isStatusDropdownOpen:Fo(e),showCustomStatusPulsatingDot:(0,jo.Ed)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,setStatus:K.Tf,unsetCustomStatus:K.Nc,setStatusDropdown:Eo},e)}}))(Zo);class pm extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})))}}class hm extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor"},u.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})))}}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fm extends u.PureComponent{constructor(...e){super(...e),gm(this,"toggleShortcutsModal",(e=>{e.preventDefault(),y.kk()})),gm(this,"handleKeyDown",(e=>{(0,V._E)(e)&&e.shiftKey&&(0,V.pD)(e,R.gT.KeyCodes.A)&&this.props.actions.openModal({ModalId:R.r8.USER_SETTINGS,dialogType:Dn.Z})})),gm(this,"handleEmitUserLoggedOutEvent",(()=>{y.gc()}))}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){if(!this.props.currentUser)return null;const e=u.createElement(Tt.Z,{id:"channelMembersTooltip"},u.createElement(ve.Z,{id:"channel_header.user_header.settings",defaultMessage:"Cài đặt"}));return u.createElement(ns.Z,{className:"main-menu"},u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"right",disabled:!1,overlay:e},u.createElement("button",{"aria-label":"button setiings",className:"member-popover__trigger user-header__icon"},u.createElement(pm,{className:"icon icon__cog_outline",classIcon:"icon-md"}),u.createElement(hm,{className:"icon icon__cog_solid",classIcon:"icon-md"}))),u.createElement(wi,{id:"sidebarDropdownMenu"}))}}gm(fm,"propTypes",{teamDescription:m().string.isRequired,teamDisplayName:m().string.isRequired,teamId:m().string.isRequired,currentUser:m().object,showTutorialTip:m().bool.isRequired,firstAdminVisitMarketplaceStatus:m().bool.isRequired,actions:m().shape({openModal:m().func.isRequired,getFirstAdminVisitMarketplaceStatus:m().func.isRequired}).isRequired}),gm(fm,"defaultProps",{teamType:"",pluginMenuItems:[]});const bm=(0,a.connect)((function(e){const t=(0,o.kA)(e),n=(0,r.ts)(e),s=(0,$.wS)(e,R.uP.TUTORIAL_STEP,n.id)===R.PN.MENU_POPOVER&&!V.tq();return{currentUser:n,teamDescription:t.description,teamDisplayName:t.display_name,teamId:t.id,showTutorialTip:s,firstAdminVisitMarketplaceStatus:(0,i.zv)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,getFirstAdminVisitMarketplaceStatus:f.zv},e)}}))(fm);function _m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Em extends u.PureComponent{constructor(e){super(e),_m(this,"handleResize",(()=>{const e=V.tq();this.setState({isMobile:e})})),_m(this,"handleSelectItem",((e,t)=>{e.preventDefault(),this.props.onActive(t)})),this.state={isMobile:V.tq()}}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{selected:e}=this.props,t=V._u("accessibility.sections.lhsHeader","team menu region"),n=u.createElement(Tt.Z,{id:"channelMembersTooltip"},u.createElement(ve.Z,{id:"channel_header.user_header.channelMembers",defaultMessage:"Tin nhắn"})),s=u.createElement(Tt.Z,{id:"channelMembersTooltip"},u.createElement(ve.Z,{id:"channel_header.user_header.channelContacts",defaultMessage:"Danh bạ"})),a=u.createElement(Tt.Z,{id:"channelMembersTooltip"},u.createElement(ve.Z,{id:"channel_header.user_header.savedPosts",defaultMessage:"Tin nhắn đã lưu"}));return u.createElement("div",{id:"lhsHeader","aria-label":t,tabIndex:-1,role:"application",className:"SidebarHeader user__header theme a11y__region","data-a11y-sort-order":"5"},u.createElement("div",{className:"d-flex"},u.createElement(um,null)),u.createElement("div",{className:"user__header-nav"},u.createElement("div",{className:"button-item button-messages"},u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"right",disabled:!1,overlay:n},u.createElement("button",{"aria-label":t,className:Te()({"member-popover__trigger":!0,"user-header__icon":!0,active:"messages"===e}),onClick:e=>this.handleSelectItem(e,"messages")},"messages"===e?u.createElement(rm,{className:"icon icon__chat",classIcon:"icon-md"}):u.createElement(im,{className:"icon icon__chat",classIcon:"icon-md"})))),u.createElement("div",{className:"button-item button-contacts"},u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"right",disabled:!1,overlay:s},u.createElement("button",{"aria-label":t,className:Te()({"member-popover__trigger":!0,"user-header__icon":!0,active:"contacts"===e}),onClick:e=>this.handleSelectItem(e,"contacts")},"contacts"===e?u.createElement(lm,{className:"icon icon__chat",classIcon:"fa icon-md"}):u.createElement(om,{className:"icon icon__chat",classIcon:"fa icon-md"})))),u.createElement("div",{className:"button-item button-saved-posts"},u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"right",disabled:!1,overlay:a},u.createElement("button",{"aria-label":t,className:Te()({"member-popover__trigger":!0,"user-header__icon":!0,active:"saved"===e}),onClick:e=>this.handleSelectItem(e,"saved")},"saved"===e?u.createElement(dm,{className:"icon icon__chat",classIcon:"fa icon-md"}):u.createElement(cm,{className:"icon icon__chat",classIcon:"fa icon-md"})))),u.createElement("div",{className:"button-item button-settings"},!this.state.isMobile&&u.createElement(bm,null),this.state.isMobile&&u.createElement("button",{"aria-label":t,className:"member-popover__trigger user-header__icon",onClick:this.props.actions.toggleLhs},u.createElement(mm,{className:"icon icon__close",classIcon:"fa icon-md"})))))}}_m(Em,"propTypes",{onActive:m().func.isRequired,selected:m().string,actions:m().shape({toggleLhs:m().func.isRequired}).isRequired});const Cm=(0,a.connect)((function(e){const t=(0,i.iE)(e),n=(0,r.ts)(e);return{enableTutorial:"true"===t.EnableTutorial,showTutorialTip:(0,$.wS)(e,R.uP.TUTORIAL_STEP,n.id)===R.PN.MENU_POPOVER&&!V.tq()}}),(e=>({actions:(0,s.bindActionCreators)({toggleLhs:Qi.ZN},e)})))(Em),ym=e=>u.createElement("div",{className:"ProgressBar"},u.createElement("div",{className:"ProgressBar__progress",style:{flexBasis:e.basePercentage?"".concat(e.basePercentage,"%"):"",flexGrow:e.current/e.total}}));ym.propTypes={total:m().number.isRequired,current:m().number.isRequired,basePercentage:m().number};const vm=ym,wm=n.p+"files/4e8057cd6539f1927c7c20b9c160037a.svg";function Sm(e){const{onConfirm:t,onCancel:n,screenTitle:s}=e;return u.createElement(u.Fragment,null,Ra.createPortal(u.createElement("div",{className:"RemoveNextStepsModal__helpBox"},u.createElement("span",{className:"RemoveNextStepsModal__helpText"},u.createElement(on.Z,{id:"remove_next_steps_modal.helpText",defaultMessage:"Access {title} any time through the Main Menu",values:{title:s}})),u.createElement("img",{className:"RemoveNextStepsModal__arrow",src:wm})),document.body),u.createElement(No.Z,{className:"RemoveNextStepsModal",show:!0,onHide:n,handleConfirm:t,handleCancel:n,modalHeaderText:u.createElement(on.Z,{id:"remove_next_steps_modal.header",defaultMessage:"Remove {title}?",values:{title:s}}),confirmButtonText:u.createElement(ve.Z,{id:"remove_next_steps_modal.confirm",defaultMessage:"Remove"})},u.createElement(ve.Z,{id:"remove_next_steps_modal.mainText",defaultMessage:"This will remove this section from your sidebar, but you can access it later in the Help section of the Main Menu."})))}function Tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Sm.propTypes={screenTitle:m().string.isRequired,onConfirm:m().func.isRequired,onCancel:m().func.isRequired};class Pm extends u.PureComponent{constructor(e){super(e),Tm(this,"closeNextSteps",(e=>{e.stopPropagation(),this.props.showNextSteps?(0,C.L9)(vn(this.props.isAdmin),"click_skip_getting_started",{channel_sidebar:!0}):(0,C.L9)(vn(this.props.isAdmin),"click_skip_tips");const t=this.props.showNextSteps?(0,V._u)("sidebar_next_steps.gettingStarted","Getting Started"):(0,V._u)("sidebar_next_steps.tipsAndNextSteps","Tips & Next Steps");this.props.actions.openModal({modalId:R.r8.REMOVE_NEXT_STEPS_MODAL,dialogType:Sm,dialogProps:{screenTitle:t,onConfirm:this.onConfirmModal,onCancel:this.onCloseModal}})})),Tm(this,"showNextSteps",(()=>{this.props.showNextSteps?(0,C.L9)(vn(this.props.isAdmin),"click_getting_started"):(0,C.L9)(vn(this.props.isAdmin),"click_tips"),this.props.actions.setShowNextStepsView(!0)})),Tm(this,"onCloseModal",(()=>{this.props.actions.closeModal(R.r8.REMOVE_NEXT_STEPS_MODAL)})),Tm(this,"onConfirmModal",(()=>{this.props.actions.savePreferences(this.props.currentUserId,[{user_id:this.props.currentUserId,category:R.uP.RECOMMENDED_NEXT_STEPS,name:R.jm.HIDE,value:"true"}]),this.props.showNextSteps||(0,C.L9)(vn(this.props.isAdmin),"click_confirm_remove_tips"),this.props.actions.setShowNextStepsView(!1),this.onCloseModal()})),this.state={complete:0}}render(){if(this.props.preferences.some((e=>e.name===R.jm.HIDE&&"true"===e.value)))return null;const e=this.props.steps.length,t=this.props.preferences.filter((e=>e.name!==R.jm.HIDE&&"true"===e.value)).length;let n=u.createElement(ve.Z,{id:"sidebar_next_steps.gettingStarted",defaultMessage:"Getting Started"});this.props.showNextSteps||(n=u.createElement(ve.Z,{id:"sidebar_next_steps.tipsAndNextSteps",defaultMessage:"Tips & Next Steps"}));let s=u.createElement(on.Z,{id:"sidebar_next_steps.stepsComplete",defaultMessage:"{complete} / {total} steps complete",values:{complete:t,total:e}});return this.props.showNextSteps||(s=u.createElement(ve.Z,{id:"sidebar_next_steps.otherAreasToExplore",defaultMessage:"A few other areas to explore"})),u.createElement("div",{className:Te()("SidebarNextSteps",{active:this.props.active,tips:!this.props.showNextSteps}),onClick:this.showNextSteps},u.createElement("div",{className:"SidebarNextSteps__top"},u.createElement("span",null,n),u.createElement("button",{className:"SidebarNextSteps__close",onClick:this.closeNextSteps},u.createElement("i",{className:"icon icon-close"}))),u.createElement("div",{className:"SidebarNextSteps__middle"},u.createElement("span",null,s)),this.props.showNextSteps&&u.createElement("div",{className:"SidebarNextSteps__progressBar"},u.createElement(vm,{current:t,total:e,basePercentage:4})))}}Tm(Pm,"propTypes",{active:m().bool.isRequired,showNextSteps:m().bool.isRequired,currentUserId:m().string.isRequired,preferences:m().array.isRequired,steps:m().array.isRequired,isAdmin:m().bool.isRequired,actions:m().shape({savePreferences:m().func.isRequired,openModal:m().func.isRequired,closeModal:m().func.isRequired,setShowNextStepsView:m().func.isRequired}).isRequired});const Mm=(0,a.connect)((function(){const e=(0,$.YX)();return t=>({active:t.views.nextSteps.show,steps:jn(t),showNextSteps:Bn(t),showNextStepsTips:Gn(t),currentUser:(0,r.ts)(t),currentUserId:(0,r.rc)(t),preferences:e(t,R.uP.RECOMMENDED_NEXT_STEPS),isAdmin:(0,r.BW)(t)})}),(function(e){return{actions:(0,s.bindActionCreators)({savePreferences:st.$A,openModal:I.h,closeModal:I.M,setShowNextStepsView:En},e)}}))(Pm);function Nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Im extends u.PureComponent{constructor(e){super(e),Nm(this,"handleClickClearChannelSelection",(e=>{e.defaultPrevented||this.props.actions.clearChannelSelection()})),Nm(this,"handleKeyDownClearChannelSelection",(e=>{V.pD(e,R.ZP.KeyCodes.ESCAPE)&&this.props.actions.clearChannelSelection()})),Nm(this,"showMoreDirectChannelsModal",(()=>{this.setState({showDirectChannelsModal:!0}),(0,C.L9)("ui","ui_channels_more_direct_v2")})),Nm(this,"hideMoreDirectChannelsModal",(()=>{this.setState({showDirectChannelsModal:!1})})),Nm(this,"showCreateCategoryModal",(()=>{this.props.actions.openModal({modalId:R.r8.EDIT_CATEGORY,dialogType:zl}),(0,C.L9)("ui","ui_sidebar_menu_createCategory")})),Nm(this,"handleCreateCategory",(e=>{this.props.actions.createCategory(this.props.teamId,e)})),Nm(this,"showMoreChannelsModal",(()=>{this.props.actions.openModal({modalId:R.r8.MORE_CHANNELS,dialogType:xr,dialogProps:{morePublicChannelsModalType:"public"}}),(0,C.L9)("ui","ui_channels_more_public_v2")})),Nm(this,"showNewChannelModal",(()=>{this.props.actions.openModal({modalId:R.r8.NEW_CHANNEL_FLOW,dialogType:Tr}),(0,C.L9)("ui","ui_channels_create_channel_v2")})),Nm(this,"handleOpenMoreDirectChannelsModal",(e=>{e.preventDefault(),this.state.showDirectChannelsModal?this.hideMoreDirectChannelsModal():this.showMoreDirectChannelsModal()})),Nm(this,"onDragStart",(()=>{this.setState({isDragging:!0})})),Nm(this,"onDragEnd",(()=>{this.setState({isDragging:!1})})),Nm(this,"onActiveLeftbar",(e=>{this.setState({sidebarLeftSelected:e})})),Nm(this,"renderModals",(()=>{let e;return this.state.showDirectChannelsModal&&(e=u.createElement(oo,{onModalDismissed:this.hideMoreDirectChannelsModal,isExistingChannel:!1})),u.createElement(u.Fragment,null,e)})),this.state={showDirectChannelsModal:!1,isDragging:!1,sidebarLeftSelected:"messages"}}componentDidMount(){this.props.teamId&&this.props.actions.fetchMyCategories(this.props.teamId),window.addEventListener("click",this.handleClickClearChannelSelection),window.addEventListener("keydown",this.handleKeyDownClearChannelSelection)}componentDidUpdate(e){this.props.teamId&&e.teamId!==this.props.teamId&&this.props.actions.fetchMyCategories(this.props.teamId)}componentWillUnmount(){window.removeEventListener("click",this.handleClickClearChannelSelection),window.removeEventListener("keydown",this.handleKeyDownClearChannelSelection)}render(){if(!this.props.teamId)return u.createElement("div",null);const{sidebarLeftSelected:e}=this.state,t=V._u("accessibility.sections.lhsNavigator","channel navigator region");return u.createElement("div",{id:"SidebarContainer",className:Te()({"move--right":this.props.isOpen&&V.tq(),dragging:this.state.isDragging})},u.createElement("div",{className:"SidebarContainerL"},u.createElement(Cm,{onActive:this.onActiveLeftbar,selected:e})),u.createElement("div",{className:"SidebarContainerR"},u.createElement("div",{id:"lhsNavigator",role:"application","aria-label":t,className:"a11y__region","data-a11y-sort-order":"6"},u.createElement($c,{showNewChannelModal:this.showNewChannelModal,showMoreChannelsModal:this.showMoreChannelsModal,showCreateCategoryModal:this.showCreateCategoryModal,canCreateChannel:this.props.canCreatePrivateChannel||this.props.canCreatePublicChannel,canJoinPublicChannel:this.props.canJoinPublicChannel,handleOpenDirectMessagesModal:this.handleOpenMoreDirectChannelsModal,unreadFilterEnabled:this.props.unreadFilterEnabled})),u.createElement(D.Z,{pluggableName:"LeftSidebarHeader"}),"messages"===e?u.createElement(am,{handleOpenMoreDirectChannelsModal:this.handleOpenMoreDirectChannelsModal,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd}):null,"contacts"===e?u.createElement(Vc,null):null,"saved"===e?u.createElement(gc,{show:!0}):null,u.createElement(hr,null),this.props.isCloud&&u.createElement(Mm,null)),this.renderModals())}}Nm(Im,"propTypes",{teamId:m().string.isRequired,canCreatePublicChannel:m().bool.isRequired,canCreatePrivateChannel:m().bool.isRequired,canJoinPublicChannel:m().bool.isRequired,isOpen:m().bool.isRequired,hasSeenModal:m().bool.isRequired,actions:m().shape({fetchMyCategories:m().func.isRequired,createCategory:m().func.isRequired,openModal:m().func.isRequired,clearChannelSelection:m().func.isRequired}).isRequired,isCloud:m().bool.isRequired,unreadFilterEnabled:m().bool.isRequired});const Rm=(0,a.connect)((function(e){const t=(0,o.kA)(e),n=(0,ee.gO)(e),s=(0,ar.fI)(e);let a=!1,r=!1,l=!1;return t&&(a=(0,ge.Ai)(e,{channel:n,team:t.id,permission:Kn.Z.CREATE_PUBLIC_CHANNEL}),r=(0,ge.Ai)(e,{channel:n,team:t.id,permission:Kn.Z.CREATE_PRIVATE_CHANNEL}),l=(0,ge.Ai)(e,{channel:n,team:t.id,permission:Kn.Z.JOIN_PUBLIC_CHANNELS})),{teamId:t?t.id:"",canCreatePrivateChannel:r,canCreatePublicChannel:a,canJoinPublicChannel:l,isOpen:Li(e),hasSeenModal:(0,$.o4)(e,he.uP.CATEGORY_WHATS_NEW_MODAL,he.uP.HAS_SEEN_SIDEBAR_WHATS_NEW_MODAL,!1),isCloud:"true"===(0,i.lJ)(e).Cloud,unreadFilterEnabled:s}}),(function(e){return{actions:(0,s.bindActionCreators)({clearChannelSelection:Hl,createCategory:Zl,fetchMyCategories:Ol.cN,openModal:I.h},e)}}))(Im);let Am=!1;function Om(e,t="",n){return async(s,a)=>{if(Am)return;const{data:i}=await s((0,pe.ct)(e));if(!i)return void P.m.replace("/error?type=".concat(R.vU.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));const l=a(),c=i.posts[i.order[0]].channel_id;let d=l.entities.channels.channels[c];const m=(0,o.kA)(l),u=m.id;if(!d){const{data:e}=await s((0,J.mr)(c));if(!e)return void P.m.replace("/error?type=".concat(R.vU.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));d=e}let p=l.entities.channels.myMembers[c];if(!p){if(d.type===R.gT.DM_CHANNEL||d.type===R.gT.GM_CHANNEL)return void P.m.replace("/error?type=".concat(R.vU.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));const e=await s((0,J.hg)(d.id,n));if("data"in e&&(p=e.data),!p){const e=(0,r.ts)(l);if(d.type===R.gT.PRIVATE_CHANNEL&&(0,V.$O)(e.roles)){Am=!0;const e=await s((0,tr.Jf)(m,d));if(Am=!1,"data"in e&&!e.data.join)return}await s((0,J.JJ)(n,null,c))}}if(d.team_id&&d.team_id!==u)return void P.m.replace("/error?type=".concat(R.vU.PERMALINK_NOT_FOUND,"&returnTo=").concat(t));d&&d.type===R.gT.DM_CHANNEL?s((0,at.hH)(d.id)):d&&d.type===R.gT.GM_CHANNEL&&s((0,at.Vo)(d.id)),s((0,J.QE)(c)),s({type:R.MF.RECEIVED_FOCUSED_POST,data:e,channelId:c});const h=(0,o.VP)(l,d.team_id||u);if(d.type===R.gT.DM_CHANNEL){const t=(0,V.uD)(d.name),n=(0,r.PR)(l,t);P.m.replace("/".concat(h.name,"/messages/@").concat(n.username,"/").concat(e))}else d.type===R.gT.GM_CHANNEL?P.m.replace("/".concat(h.name,"/messages/").concat(d.name,"/").concat(e)):P.m.replace("/".concat(h.name,"/group/").concat(d.name,"/").concat(e));s((0,gr.b9)()),s((0,J.mx)(c))}}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function km(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xm extends u.PureComponent{static getDerivedStateFromProps(e,t){let n={postid:e.match.params.postid};return t.postid!==e.match.params.postid&&(n=Dm(Dm({},n),{},{valid:!1})),n}constructor(e){super(e),km(this,"doPermalinkEvent",(async e=>{const t=e.match.params.postid;await this.props.actions.focusPost(t,this.props.returnTo,this.props.currentUserId),this.mounted&&this.setState({valid:!0})})),km(this,"isStateValid",(()=>this.state.valid&&this.props.channelId&&this.props.teamName)),km(this,"onShortcutKeyDown",(e=>{e.shiftKey&&V._E(e)&&V.pD(e,R.ZP.KeyCodes.L)&&this.permalink.current&&this.permalink.current.focus()})),this.state={valid:!1}}componentDidMount(){this.mounted=!0,this.doPermalinkEvent(this.props),document.body.classList.add("app__body")}componentDidUpdate(){this.state.valid||this.doPermalinkEvent(this.props)}componentWillUnmount(){this.mounted=!1}render(){return this.isStateValid()?null:u.createElement("div",{id:"app-content",className:"app__content"})}}km(xm,"propTypes",{channelId:m().string,match:m().shape({params:m().shape({postid:m().string.isRequired}).isRequired}).isRequired,returnTo:m().string.isRequired,teamName:m().string,actions:m().shape({focusPost:m().func.isRequired}).isRequired,currentUserId:m().string.isRequired});const Um=(0,a.connect)((function(e){const t=(0,o.kA)(e),n=(0,ee.TB)(e),s=(0,r.rc)(e);return{channelId:n?n.id:"",teamName:t?t.name:"",currentUserId:s}}),(function(e){return{actions:(0,s.bindActionCreators)({focusPost:Om},e)}}))(xm);class Zm extends u.PureComponent{render(){return u.createElement(ts.Z,{id:"channelHeaderDropdownMenu",ariaLabel:(0,V._u)("channel_header.menuAriaLabel","Channel Menu").toLowerCase()},u.createElement(Fp,{isMobile:!1}))}}var jm=n(62696),Fm=n(50766),Hm=n(4205),qm=n(93183);function Bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Gm extends u.PureComponent{constructor(...e){super(...e),Bm(this,"createAppButton",(e=>{const t=()=>this.fireAppAction(e);return this.props.isDropdown?u.createElement("li",{key:"mobileChannelHeaderItem"+e.app_id+e.location,role:"presentation",className:"MenuItem"},u.createElement("a",{role:"menuitem",href:"#",onClick:t},e.label)):u.createElement("li",{className:"flex-parent--center"},u.createElement("button",{className:"navbar-toggle navbar-right__icon",onClick:t},u.createElement("span",{className:"icon navbar-plugin-button"},u.createElement("img",{src:e.icon,width:"16",height:"16"}))))})),Bm(this,"createButton",(e=>{const t=()=>this.fireAction(e);return this.props.isDropdown?u.createElement("li",{key:"mobileChannelHeaderItem"+e.id,role:"presentation",className:"MenuItem"},u.createElement("a",{role:"menuitem",href:"#",onClick:t},e.dropdownText)):u.createElement("li",{className:"flex-parent--center"},u.createElement("button",{className:"navbar-toggle navbar-right__icon",onClick:t},u.createElement("span",{className:"icon navbar-plugin-button"},e.icon)))})),Bm(this,"fireAppAction",(async e=>{if(!e.call)return;const t=(0,qm.qM)(e.app_id,e.location,this.props.channel.id,this.props.channel.team_id),n=(0,qm.Zw)(e.call,t),s=(await this.props.actions.doAppCall(n,Fm._L.SUBMIT,this.props.intl)).data,a=e=>{var t;return(0,y.Cl)(e,this.props.channel.id,"",null===(t=s.app_metadata)||void 0===t?void 0:t.bot_user_id)};switch(s.type){case Fm.Bp.OK:s.markdown&&a(s.markdown);break;case Fm.Bp.ERROR:a(s.error||this.props.intl.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error happened"}));break;case Fm.Bp.NAVIGATE:case Fm.Bp.FORM:break;default:a(this.props.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:s.type}))}}))}createList(e){return e.map(this.createButton)}createAppList(e){return e.map(this.createAppButton)}fireAction(e){var t;return null===(t=e.action)||void 0===t?void 0:t.call(e,this.props.channel,this.props.channelMember)}render(){const e=this.props.components||[],t=this.props.appBindings||[];if(0===e.length&&0===t.length)return null;if(1===e.length&&0===t.length)return this.createButton(e[0]);if(0===e.length&&1===t.length)return this.createAppButton(t[0]);if(!this.props.isDropdown)return null;const n=this.createList(e),s=this.createAppList(t);return u.createElement(u.Fragment,null,n,s)}}Bm(Gm,"propTypes",{components:m().array,isDropdown:m().bool.isRequired,appBindings:m().array.isRequired,appsEnabled:m().bool.isRequired,actions:m().shape({doAppCall:m().func.isRequired}).isRequired});const Vm=(0,we.ZP)(Gm),Wm=(0,jm.W)(Fm.NR.CHANNEL_HEADER_ICON),zm=(0,a.connect)((function(e){const t=(0,jm.D)(e);return{appBindings:Wm(e),appsEnabled:t,channelMember:(0,ee.HU)(e),components:e.plugins.components.MobileChannelHeaderButton,theme:(0,$.gh)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({doAppCall:Hm.cW},e)}}))(Vm);function Ym({section:e,isCollapsed:t,memberNotifyLevel:n,globalNotifyLevel:s,ignoreChannelMentions:a}){if(n===R.XH.DEFAULT&&s){(0,it.t)("channel_notifications.levels.default"),(0,it.t)("channel_notifications.levels.all"),(0,it.t)("channel_notifications.levels.mention"),(0,it.t)("channel_notifications.levels.none");const e="channel_notifications.levels."+s,t=u.createElement(ve.Z,{id:e,defaultMessage:s});return u.createElement(ve.Z,{id:"channel_notifications.globalDefault",defaultMessage:"Global default ({notifyLevel})",values:{notifyLevel:t}})}return n===R.XH.MENTION&&e===R.nB.MARK_UNREAD?t?u.createElement(ve.Z,{id:"channel_notifications.muteChannel.on.title.collapse",defaultMessage:"Mute is enabled. Desktop, email and push notifications will not be sent for this channel."}):u.createElement(ve.Z,{id:"channel_notifications.muteChannel.on.title",defaultMessage:"On"}):e===R.nB.IGNORE_CHANNEL_MENTIONS&&a===R.Xi.ON?u.createElement(ve.Z,{id:"channel_notifications.ignoreChannelMentions.on.title",defaultMessage:"On"}):e===R.nB.IGNORE_CHANNEL_MENTIONS&&a===R.Xi.OFF?u.createElement(ve.Z,{id:"channel_notifications.ignoreChannelMentions.off.title",defaultMessage:"Off"}):n===R.XH.MENTION?u.createElement(ve.Z,{id:"channel_notifications.onlyMentions",defaultMessage:"Only for mentions"}):e!==R.nB.DESKTOP&&e!==R.nB.PUSH||n!==R.XH.ALL?e===R.nB.MARK_UNREAD&&n===R.XH.ALL?u.createElement(ve.Z,{id:"channel_notifications.muteChannel.off.title",defaultMessage:"Off"}):u.createElement(ve.Z,{id:"channel_notifications.never",defaultMessage:"Never"}):u.createElement(ve.Z,{id:"channel_notifications.allActivity",defaultMessage:"For all activity"})}function Km({section:e}){return e===R.nB.DESKTOP?u.createElement(ve.Z,{id:"channel_notifications.sendDesktop",defaultMessage:"Send desktop notifications"}):e===R.nB.PUSH?u.createElement(ve.Z,{id:"channel_notifications.push",defaultMessage:"Send mobile push notifications"}):e===R.nB.MARK_UNREAD?u.createElement(ve.Z,{id:"channel_notifications.muteChannel.settings",defaultMessage:"Mute Channel"}):e===R.nB.IGNORE_CHANNEL_MENTIONS?u.createElement(ve.Z,{id:"channel_notifications.ignoreChannelMentions",defaultMessage:"Ignore mentions for @group, @here and @all"}):null}function Jm({onExpandSection:e,globalNotifyLevel:t,memberNotifyLevel:n,section:s,ignoreChannelMentions:a}){return u.createElement(Oa.Z,{title:u.createElement(Km,{section:s}),describe:u.createElement(Ym,{section:s,ignoreChannelMentions:a,memberNotifyLevel:n,globalNotifyLevel:t,isCollapsed:!0}),updateSection:e,section:s})}function Qm({section:e}){switch(e){case R.nB.DESKTOP:return u.createElement("span",null,u.createElement(ve.Z,{id:"channel_notifications.override",defaultMessage:'Selecting an option other than "Default" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.'}));case R.nB.PUSH:return u.createElement("span",null,u.createElement(ve.Z,{id:"channel_notifications.overridePush",defaultMessage:'Selecting an option other than "Global default" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.'}));case R.nB.MARK_UNREAD:return u.createElement("span",null,u.createElement(ve.Z,{id:"channel_notifications.muteChannel.help",defaultMessage:"Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you are mentioned."}));case R.nB.IGNORE_CHANNEL_MENTIONS:return u.createElement("span",null,u.createElement(ve.Z,{id:"channel_notifications.ignoreChannelMentions.help",defaultMessage:"When enabled, @group, @here and @all will not trigger mentions or mention notifications in this channel."}));default:return null}}function Xm({section:e,memberNotifyLevel:t,globalNotifyLevel:n,onChange:s,onSubmit:a,serverError:i,onCollapseSection:r,ignoreChannelMentions:o}){const l=[u.createElement("div",{key:"channel-notification-level-radio"},(e===R.nB.DESKTOP||e===R.nB.PUSH)&&u.createElement("fieldset",null,u.createElement("div",{className:"radio"},u.createElement("label",{className:""},u.createElement("input",{id:"channelNotificationGlobalDefault",name:"channelDesktopNotifications",type:"radio",value:R.XH.DEFAULT,checked:t===R.XH.DEFAULT,onChange:s}),u.createElement(Ym,{section:e,memberNotifyLevel:R.XH.DEFAULT,globalNotifyLevel:n}))),u.createElement("div",{className:"radio"},u.createElement("label",{className:""},u.createElement("input",{id:"channelNotificationAllActivity",name:"channelDesktopNotifications",type:"radio",value:R.XH.ALL,checked:t===R.XH.ALL,onChange:s}),u.createElement(Ym,{section:e,memberNotifyLevel:R.XH.ALL}))),u.createElement("div",{className:"radio"},u.createElement("label",{className:""},u.createElement("input",{id:"channelNotificationMentions",name:"channelDesktopNotifications",type:"radio",value:R.XH.MENTION,checked:t===R.XH.MENTION,onChange:s}),u.createElement(Ym,{section:e,memberNotifyLevel:R.XH.MENTION}))),u.createElement("div",{className:"radio"},u.createElement("label",null,u.createElement("input",{id:"channelNotificationNever",name:"channelDesktopNotifications",type:"radio",value:R.XH.NONE,checked:t===R.XH.NONE,onChange:s}),u.createElement(Ym,{section:e,memberNotifyLevel:R.XH.NONE})))),e===R.nB.IGNORE_CHANNEL_MENTIONS&&u.createElement("fieldset",null,u.createElement("div",{className:"radio"},u.createElement("label",null,u.createElement("input",{id:"ignoreChannelMentionsOn",name:"ignoreChannelMentions",type:"radio",value:R.Xi.ON,checked:o===R.Xi.ON,onChange:s}),u.createElement(Ym,{section:e,ignoreChannelMentions:R.Xi.ON,memberNotifyLevel:t,globalNotifyLevel:n}))),u.createElement("div",{className:"radio"},u.createElement("label",null,u.createElement("input",{id:"ignoreChannelMentionsOff",name:"ignoreChannelMentions",type:"radio",value:R.Xi.OFF,checked:o===R.Xi.OFF,onChange:s}),u.createElement(Ym,{section:e,ignoreChannelMentions:R.Xi.OFF,memberNotifyLevel:t,globalNotifyLevel:n})))),e===R.nB.MARK_UNREAD&&u.createElement("fieldset",null,u.createElement("div",{className:"radio"},u.createElement("label",{className:""},u.createElement("input",{id:"channelNotificationUnmute",name:"channelNotificationMute",type:"radio",value:R.XH.MENTION,checked:t===R.XH.MENTION,onChange:s}),u.createElement(Ym,{section:e,memberNotifyLevel:R.XH.MENTION}))),u.createElement("div",{className:"radio"},u.createElement("label",{className:""},u.createElement("input",{id:"channelNotificationMute",name:"channelNotificationMute",type:"radio",value:R.XH.ALL,checked:t===R.XH.ALL,onChange:s}),u.createElement(Ym,{section:e,memberNotifyLevel:R.XH.ALL})))))];return u.createElement(Aa.Z,{title:u.createElement(Km,{section:e}),inputs:l,submit:a,server_error:i,updateSection:r,extraInfo:u.createElement(Qm,{section:e})})}function $m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ym.propTypes={globalNotifyLevel:m().string,ignoreChannelMentions:m().string,memberNotifyLevel:m().string.isRequired,section:m().string.isRequired,isCollapsed:m().bool},Km.propTypes={section:m().string.isRequired},Jm.propTypes={ignoreChannelMentions:m().string,onExpandSection:m().func.isRequired,globalNotifyLevel:m().string,memberNotifyLevel:m().string.isRequired,section:m().string.isRequired},Qm.propTypes={section:m().string.isRequired},Xm.propTypes={ignoreChannelMentions:m().string,onChange:m().func.isRequired,onCollapseSection:m().func.isRequired,onSubmit:m().func.isRequired,globalNotifyLevel:m().string,memberNotifyLevel:m().string.isRequired,section:m().string.isRequired,serverError:m().string};class eu extends u.PureComponent{constructor(...e){super(...e),$m(this,"handleOnChange",(e=>{this.props.onChange(e.target.value)})),$m(this,"handleExpandSection",(()=>{this.props.onUpdateSection(this.props.section)})),$m(this,"handleCollapseSection",(()=>{this.props.onUpdateSection(R.nB.NONE)}))}render(){const{expand:e,globalNotificationLevel:t,memberNotificationLevel:n,ignoreChannelMentions:s,onSubmit:a,section:i,serverError:r}=this.props;return e?u.createElement(Xm,{section:i,memberNotifyLevel:n,globalNotifyLevel:t,ignoreChannelMentions:s,onChange:this.handleOnChange,onSubmit:a,serverError:r,onCollapseSection:this.handleCollapseSection}):u.createElement(Jm,{section:i,onExpandSection:this.handleExpandSection,memberNotifyLevel:n,globalNotifyLevel:t,ignoreChannelMentions:s})}}function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$m(eu,"propTypes",{section:m().string.isRequired,expand:m().bool.isRequired,memberNotificationLevel:m().string.isRequired,ignoreChannelMentions:m().string,globalNotificationLevel:m().string,onChange:m().func.isRequired,onSubmit:m().func.isRequired,onUpdateSection:m().func.isRequired,serverError:m().string});class su extends u.PureComponent{constructor(e){super(e),nu(this,"handleHide",(()=>{this.setState({show:!1})})),nu(this,"handleExit",(()=>{this.updateSection(R.nB.NONE),this.props.onHide()})),nu(this,"updateSection",((e=R.nB.NONE)=>{if(this.setState({activeSection:e}),e===R.nB.NONE){const e=this.props.channelMember&&this.props.channelMember.notify_props;this.resetStateFromNotifyProps(e,this.props.currentUser.notify_props)}})),nu(this,"handleUpdateChannelNotifyProps",(async e=>{const{actions:t,channel:n,currentUser:s}=this.props,{error:a}=await t.updateChannelNotifyProps(s.id,n.id,e);a?this.setState({serverError:a.message}):this.updateSection(R.nB.NONE)})),nu(this,"handleSubmitDesktopNotifyLevel",(()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{desktopNotifyLevel:t}=this.state;if(e.desktop===t)return void this.updateSection(R.nB.NONE);const n={desktop:t};this.handleUpdateChannelNotifyProps(n)})),nu(this,"handleUpdateDesktopNotifyLevel",(e=>{this.setState({desktopNotifyLevel:e})})),nu(this,"handleSubmitMarkUnreadLevel",(()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{markUnreadNotifyLevel:t}=this.state;if(e.mark_unread===t)return void this.updateSection(R.nB.NONE);const n={mark_unread:t};this.handleUpdateChannelNotifyProps(n)})),nu(this,"handleUpdateMarkUnreadLevel",(e=>{this.setState({markUnreadNotifyLevel:e})})),nu(this,"handleSubmitPushNotificationLevel",(()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{pushNotifyLevel:t}=this.state;if(e.push===t)return void this.updateSection(R.nB.NONE);const n={push:t};this.handleUpdateChannelNotifyProps(n)})),nu(this,"handleUpdatePushNotificationLevel",(e=>{this.setState({pushNotifyLevel:e})})),nu(this,"handleUpdateIgnoreChannelMentions",(e=>{this.setState({ignoreChannelMentions:e})})),nu(this,"handleSubmitIgnoreChannelMentions",(()=>{const e=this.props.channelMember&&this.props.channelMember.notify_props,{ignoreChannelMentions:t}=this.state;if(e.ignore_channel_mentions===t)return void this.updateSection("");const n={ignore_channel_mentions:t};this.handleUpdateChannelNotifyProps(n)}));const t=e.channelMember&&e.channelMember.notify_props;this.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({show:!0,activeSection:R.nB.NONE,serverError:null},this.getStateFromNotifyProps(t,e.currentUser.notify_props))}componentDidUpdate(e){const t=e.channelMember&&e.channelMember.notify_props,n=this.props.channelMember&&this.props.channelMember.notify_props;V.JB(n,t)||this.resetStateFromNotifyProps(n,this.props.currentUser.notify_props)}resetStateFromNotifyProps(e,t){this.setState(this.getStateFromNotifyProps(e,t))}getStateFromNotifyProps(e,t){let n=R.Xi.OFF;(e.mark_unread===R.XH.MENTION||t.channel&&"false"===t.channel)&&(n=R.Xi.ON);let s=e.ignore_channel_mentions;return s&&s!==R.Xi.DEFAULT||(s=n),{desktopNotifyLevel:e.desktop||R.XH.DEFAULT,markUnreadNotifyLevel:e.mark_unread||R.XH.ALL,pushNotifyLevel:e.push||R.XH.DEFAULT,ignoreChannelMentions:s}}render(){const{activeSection:e,desktopNotifyLevel:t,markUnreadNotifyLevel:n,ignoreChannelMentions:s,serverError:a}=this.state,{channel:i,channelMember:r,currentUser:o}=this.props;let l=null;return a&&(l=u.createElement("div",{className:"form-group has-error"},u.createElement("label",{className:"control-label"},a))),u.createElement(ye.Z,{dialogClassName:"a11y__modal settings-modal settings-modal--tabless",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"channelNotificationModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"channelNotificationModalLabel"},u.createElement(ve.Z,{id:"channel_notifications.preferences",defaultMessage:"Notification Preferences for "}),u.createElement("span",{className:"name"},i.display_name))),u.createElement(ye.Z.Body,null,u.createElement("div",{className:"settings-table"},u.createElement("div",{className:"settings-content"},u.createElement("div",{ref:"wrapper",className:"user-settings"},u.createElement("br",null),u.createElement("div",{className:"divider-dark first"}),u.createElement(eu,{section:R.nB.MARK_UNREAD,expand:e===R.nB.MARK_UNREAD,memberNotificationLevel:n,onChange:this.handleUpdateMarkUnreadLevel,onSubmit:this.handleSubmitMarkUnreadLevel,onUpdateSection:this.updateSection,serverError:a}),u.createElement("div",{className:"divider-light"}),u.createElement(eu,{section:R.nB.IGNORE_CHANNEL_MENTIONS,expand:e===R.nB.IGNORE_CHANNEL_MENTIONS,memberNotificationLevel:n,ignoreChannelMentions:s,onChange:this.handleUpdateIgnoreChannelMentions,onSubmit:this.handleSubmitIgnoreChannelMentions,onUpdateSection:this.updateSection,serverError:a}),!(0,nr.Mm)(r)&&u.createElement("div",null,u.createElement("div",{className:"divider-light"}),u.createElement(eu,{section:R.nB.DESKTOP,expand:e===R.nB.DESKTOP,memberNotificationLevel:t,globalNotificationLevel:o.notify_props?o.notify_props.desktop:R.XH.ALL,onChange:this.handleUpdateDesktopNotifyLevel,onSubmit:this.handleSubmitDesktopNotifyLevel,onUpdateSection:this.updateSection,serverError:a})),u.createElement("div",{className:"divider-dark"})))),l))}}nu(su,"propTypes",{onHide:m().func.isRequired,channel:m().object.isRequired,channelMember:m().object.isRequired,currentUser:m().object.isRequired,sendPushNotifications:m().bool.isRequired,actions:m().shape({updateChannelNotifyProps:m().func.isRequired})});const au=(0,a.connect)((e=>({channelMember:(0,ee.HU)(e),sendPushNotifications:"true"===(0,i.iE)(e).SendPushNotifications})),(e=>({actions:(0,s.bindActionCreators)({updateChannelNotifyProps:J.n$},e)})))(su);function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ru extends u.PureComponent{constructor(e){super(e),iu(this,"handleRemoveFromChannel",(()=>{if(this.state.removing)return;const{actions:e,channel:t,user:n}=this.props;this.setState({removing:!0}),e.removeChannelMember(t.id,n.id).then((n=>{n.error?this.setState({serverError:n.error.message,removing:!1}):(this.setState({removing:!1}),e.getChannelStats(t.id))}))})),iu(this,"handleMakeChannelMember",(async()=>{const{error:e}=await this.props.actions.updateChannelMemberSchemeRoles(this.props.channel.id,this.props.user.id,!0,!1,!1);e?this.setState({serverError:e.message}):(this.props.actions.getChannelStats(this.props.channel.id),this.props.actions.getChannelMember(this.props.channel.id,this.props.user.id))})),iu(this,"handleMakeChannelMod",(async()=>{const{error:e}=await this.props.actions.updateChannelMemberSchemeRoles(this.props.channel.id,this.props.user.id,!0,!0,!1);e?this.setState({serverError:e.message}):(this.props.actions.getChannelStats(this.props.channel.id),this.props.actions.getChannelMember(this.props.channel.id,this.props.user.id))})),iu(this,"handleMakeChannelAdmin",(async()=>{const{error:e}=await this.props.actions.updateChannelMemberSchemeRoles(this.props.channel.id,this.props.user.id,!0,!1,!0);e?this.setState({serverError:e.message}):(this.props.actions.getChannelStats(this.props.channel.id),this.props.actions.getChannelMember(this.props.channel.id,this.props.user.id))})),this.state={serverError:null,removing:!1}}renderRole(e,t,n){return e?u.createElement(ve.Z,{id:"channel_members_dropdown.channel_admin",defaultMessage:"Group Admin"}):t?u.createElement(ve.Z,{id:"channel_members_dropdown.channel_mod",defaultMessage:"Group Mod"}):n?u.createElement(ve.Z,{id:"channel_members_dropdown.channel_guest",defaultMessage:"Channel Guest"}):u.createElement(ve.Z,{id:"channel_members_dropdown.channel_member",defaultMessage:"Channel Member"})}render(){const{index:e,totalUsers:t,isLicensed:n,channelMember:s,user:a,channel:i,currentUserId:r,canChangeMemberRoles:o,canRemoveMember:l,myChannelRoles:c}=this.props,{serverError:d}=this.state,m=V.Nf(n,s.roles,s.scheme_admin),p=V.Nk(n,s.roles,s.scheme_mod),h=V.a_(a),g=!m&&!p&&!h,f=i.name===R.gT.DEFAULT_CHANNEL,b=this.renderRole(m,p,h);if(a.id===r)return null;const _=V.qu(c,a.roles);if(a.remote_id){const e=u.createElement(Tt.Z,{id:"sharedTooltip"},u.createElement(ve.Z,{id:"shared_user_indicator.tooltip",defaultMessage:"From trusted organizations"}));return u.createElement("div",{className:"more-modal__shared-actions"},u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:e},u.createElement("span",null,u.createElement(ve.Z,{id:"channel_members_dropdown.shared_member",defaultMessage:"Shared Member"}),u.createElement("i",{className:"shared-user-icon icon-circle-multiple-outline"}))))}const E=_&&o&&(m||p),C=_&&o&&n&&(g||m),y=_&&o&&n&&(g||p),v=_&&l&&(!i.group_constrained||a.is_bot)&&(!f||h);if(E||y||v){const n=u.createElement(ts.Z.ItemAction,{show:v,onClick:this.handleRemoveFromChannel,text:V._u("channel_members_dropdown.remove_from_channel","Remove from Channel")}),s=u.createElement(ts.Z.ItemAction,{id:"".concat(a.username,"-make-channel-admin"),show:y,onClick:this.handleMakeChannelAdmin,text:V._u("channel_members_dropdown.make_channel_admin","Make Channel Admin")}),i=u.createElement(ts.Z.ItemAction,{id:"".concat(a.username,"-make-channel-mod"),show:C,onClick:this.handleMakeChannelMod,text:V._u("channel_members_dropdown.make_channel_mod","Make Group Mod")}),r=u.createElement(ts.Z.ItemAction,{id:"".concat(a.username,"-make-channel-member"),show:E,onClick:this.handleMakeChannelMember,text:V._u("channel_members_dropdown.make_channel_member","Make Channel Member")});return u.createElement(ns.Z,null,u.createElement("button",{className:"dropdown-toggle theme color--link style--none",type:"button"},u.createElement("span",{className:"sr-only"},a.username),u.createElement("span",null,b," "),u.createElement(es.Z,null)),u.createElement(ts.Z,{openLeft:!0,openUp:t>3&&t-e<=3,ariaLabel:V._u("channel_members_dropdown.menuAriaLabel","Change the role of channel member")},E?r:null,C?i:null,y?s:null,v?n:null,d&&u.createElement("div",{className:"has-error"},u.createElement("label",{className:"has-error control-label"},d))))}return f?u.createElement("div",null):u.createElement("div",null,b)}}iu(ru,"propTypes",{channel:m().object.isRequired,user:m().object.isRequired,currentUserId:m().string.isRequired,channelMember:m().object.isRequired,isLicensed:m().bool.isRequired,canChangeMemberRoles:m().bool.isRequired,canRemoveMember:m().bool.isRequired,myChannelRoles:m().object.isRequired,index:m().number.isRequired,totalUsers:m().number.isRequired,actions:m().shape({getChannelStats:m().func.isRequired,updateChannelMemberSchemeRoles:m().func.isRequired,removeChannelMember:m().func.isRequired,getChannelMember:m().func.isRequired}).isRequired});const ou=(0,a.connect)((function(e,t){const{channel:n}=t,s=(0,ge.Ai)(e,{channel:n.id,team:n.team_id,permission:he.Pl.MANAGE_CHANNEL_ROLES})&&(0,tr.sz)(e,n),a="true"===(0,i.lJ)(e).IsLicensed,o=(0,tr.sz)(e,n),l=(0,ge.TL)(e)[n.id];return{currentUserId:(0,r.rc)(e),isLicensed:a,canChangeMemberRoles:s,canRemoveMember:o,myChannelRoles:l}}),(function(e){return{actions:(0,s.bindActionCreators)({getChannelMember:J.hg,getChannelStats:J.mx,updateChannelMemberSchemeRoles:J.Ar,removeChannelMember:J.O0},e)}}))(ru);function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cu extends u.PureComponent{constructor(e){super(e),lu(this,"searchTimeoutId",void 0),lu(this,"loadComplete",(()=>{this.setState({loading:!1})})),lu(this,"nextPage",(e=>{this.props.actions.loadProfilesAndTeamMembersAndChannelMembers(e+1,50,void 0,void 0,{active:!0})})),lu(this,"handleSearch",(e=>{this.props.actions.setModalSearchTerm(e)})),this.searchTimeoutId=0,this.state={loading:!0}}async componentDidMount(){const{actions:e,currentChannelId:t,currentTeamId:n}=this.props;await Promise.all([e.loadProfilesAndTeamMembersAndChannelMembers(0,R.ZP.PROFILE_CHUNK_SIZE,n,t,{active:!0}),e.getChannelMembers(t),e.getChannelStats(t)]),this.loadComplete()}componentWillUnmount(){this.props.actions.setModalSearchTerm("")}componentDidUpdate(e){if(e.searchTerm!==this.props.searchTerm){clearTimeout(this.searchTimeoutId);const t=this.props.searchTerm;if(""===t)return this.loadComplete(),void(this.searchTimeoutId=0);const n=window.setTimeout((async()=>{const{data:s}=await e.actions.searchProfiles(t,{team_id:this.props.currentTeamId,in_channel_id:this.props.currentChannelId});n===this.searchTimeoutId&&(this.props.actions.loadStatusesForProfilesList(s),this.props.actions.loadTeamMembersAndChannelMembersForProfilesList(s,this.props.currentTeamId,this.props.currentChannelId).then((({data:e})=>{e&&this.loadComplete()})))}),R.ZP.SEARCH_TIMEOUT_MILLISECONDS);this.searchTimeoutId=n}}render(){if(this.state.loading)return u.createElement(pi.Z,null);const e=0!==this.props.channel.delete_at;return u.createElement($n,{users:this.props.usersToDisplay,usersPerPage:50,total:this.props.totalChannelMembers,nextPage:this.nextPage,search:this.handleSearch,actions:e?[()=>{}]:[ou],actionUserProps:this.props.actionUserProps,focusOnMount:!_.tq()})}}function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}lu(cu,"propTypes",{currentTeamId:m().string.isRequired,currentChannelId:m().string.isRequired,searchTerm:m().string.isRequired,usersToDisplay:m().array.isRequired,actionUserProps:m().objectOf(m().shape({teamMember:m().any.isRequired})).isRequired,totalChannelMembers:m().number.isRequired,actions:m().shape({searchProfiles:m().func.isRequired,getChannelMembers:m().func.isRequired,getChannelStats:m().func.isRequired,setModalSearchTerm:m().func.isRequired,loadProfilesAndTeamMembersAndChannelMembers:m().func.isRequired,loadStatusesForProfilesList:m().func.isRequired,loadTeamMembersAndChannelMembersForProfilesList:m().func.isRequired}).isRequired});const pu=(0,yn.P1)(((e,t)=>t),o.or,ee.ii,ee.TB,((e=[],t={},n={},s)=>{const a={},i=[];for(let r=0;r<e.length;r++){const o=e[r];t[o.id]&&n[o.id]&&0===o.delete_at&&(i.push(o),a[o.id]={channel:s,teamMember:t[o.id],channelMember:n[o.id]})}return{usersToDisplay:i.sort(jr.gh),actionUserProps:a}})),hu=(0,a.connect)((function(e){const t=e.views.search.modalSearch;let n;n=t?(0,r.r_)(e,t):(0,r.OX)(e);const s=(0,ee.Bw)(e)||{member_count:0};return mu(mu({},pu(e,n)),{},{currentTeamId:e.entities.teams.currentTeamId,currentChannelId:e.entities.channels.currentChannelId,searchTerm:t,totalChannelMembers:s.member_count})}),(function(e){return{actions:(0,s.bindActionCreators)({getChannelMembers:J.Fk,searchProfiles:K.t6,getChannelStats:J.mx,setModalSearchTerm:Jn.Gl,loadProfilesAndTeamMembersAndChannelMembers:at.RO,loadStatusesForProfilesList:se.xO,loadTeamMembersAndChannelMembersForProfilesList:at.v8},e)}}))(cu);function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fu extends u.PureComponent{constructor(e){super(e),gu(this,"handleHide",(()=>{this.setState({show:!1})})),gu(this,"handleExit",(()=>{this.props.onHide()})),gu(this,"onAddNewMembersButton",(()=>{const{channel:e,actions:t}=this.props;t.openModal({modalId:R.r8.CHANNEL_INVITE,dialogType:ad.Z,dialogProps:{channel:e}}),this.handleExit()})),this.state={show:!0}}render(){const e=0!==this.props.channel.delete_at;return u.createElement("div",null,u.createElement(ye.Z,{dialogClassName:"a11y__modal more-modal more-modal--action",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit,role:"dialog","aria-labelledby":"channelMembersModalLabel",id:"channelMembersModal"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"channelMembersModalLabel"},u.createElement("span",{className:"name"},this.props.channel.display_name),u.createElement(ve.Z,{id:"channel_members_modal.members",defaultMessage:" Members"})),this.props.canManageChannelMembers&&!e&&u.createElement("a",{id:"showInviteModal",className:"btn btn-md btn-primary",href:"#",onClick:this.onAddNewMembersButton},u.createElement(ve.Z,{id:"channel_members_modal.addNew",defaultMessage:" Add Members"}))),u.createElement(ye.Z.Body,null,u.createElement(hu,{channel:this.props.channel}))))}}gu(fu,"propTypes",{canManageChannelMembers:m().bool.isRequired,onHide:m().func.isRequired,actions:m().shape({openModal:m().func.isRequired}).isRequired});const bu=(0,a.connect)((e=>({canManageChannelMembers:(0,ee.n0)(e)})),(e=>({actions:(0,s.bindActionCreators)({openModal:I.h},e)})))(fu);function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(n),!0).forEach((function(t){Cu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yu={singleline:!1,mentionHighlight:!1};class vu extends u.PureComponent{constructor(e){super(e),Cu(this,"onHide",(()=>{this.setState({show:!1})})),Cu(this,"handleFormattedTextClick",(e=>V.QJ(e,this.props.currentRelativeTeamUrl))),Cu(this,"getHeaderMarkdownOptions",(0,Ls.GA)((e=>Eu(Eu({},yu),{},{channelNamesMap:e})))),this.state={show:!0}}componentDidUpdate(e){var t,n;const s=!e.isRHSOpen&&this.props.isRHSOpen,a=(null===(t=e.channel)||void 0===t?void 0:t.id)!==(null===(n=this.props.currentChannel)||void 0===n?void 0:n.id);(s||a)&&this.onHide()}render(){let e=this.props.channel;const t=0!==e.delete_at;let n;if(!e){const t=V._u("channel_info.notFound","No Channel Found");e={display_name:t,name:t,purpose:t,header:t,id:t,team_id:t,type:t,delete_at:0,create_at:0,update_at:0,last_post_at:0,total_msg_count:0,total_msg_count_root:0,extra_update_at:0,creator_id:t,scheme_id:t,group_constrained:!1}}const s=this.props.channel.props&&this.props.channel.props.channel_mentions;t?n=u.createElement(Nr.Z,{className:"icon icon__archive svg-text-color"}):e.shared?n=u.createElement(Ir.Z,{className:"shared-channel-icon",channelType:e.type,withTooltip:!0}):"O"===e.type?n=u.createElement(sa.Z,{className:"icon icon__globe icon--body"}):"P"===e.type&&(n=u.createElement(aa.Z,{className:"icon icon__globe icon--body"}));const a=(0,Ks.fO)()+"/"+this.props.currentTeam.name+"/group/"+e.name;let i,r;e.purpose?i=e.purpose:e.name===R.ZP.DEFAULT_CHANNEL&&(i=u.createElement(ve.Z,{id:"default_channel.purpose",defaultMessage:"Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team."})),i&&(r=u.createElement("div",{className:"form-group"},u.createElement("div",{className:"info__label"},u.createElement(ve.Z,{id:"channel_info.purpose",defaultMessage:"Purpose:"})),u.createElement("div",{className:"info__value"},i)));let o=null;return e.header&&(o=u.createElement("div",{className:"form-group"},u.createElement("div",{className:"info__label"},u.createElement(ve.Z,{id:"channel_info.header",defaultMessage:"Header:"})),u.createElement("div",{onClick:this.handleFormattedTextClick,className:"info__value"},u.createElement(Ft.Z,{message:e.header,options:this.getHeaderMarkdownOptions(s)})))),u.createElement(ye.Z,{dialogClassName:"a11y__modal about-modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"channelInfoModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"channelInfoModalLabel"},u.createElement(ve.Z,{id:"channel_info.about",defaultMessage:"About"}),u.createElement("strong",null,n,e.display_name))),u.createElement(ye.Z.Body,null,r,o,u.createElement("div",{className:"form-group"},u.createElement("div",{className:"info__label"},u.createElement(ve.Z,{id:"channel_info.url",defaultMessage:"URL:"})),u.createElement("div",{className:"info__value"},a)),u.createElement("div",{className:"about-modal__hash form-group pt-3"},u.createElement("p",null,u.createElement(ve.Z,{id:"channel_info.id",defaultMessage:"ID: "}),e.id))))}}Cu(vu,"propTypes",{onHide:m().func.isRequired,channel:m().object.isRequired,currentChannel:m().object.isRequired,currentTeam:m().object.isRequired,isRHSOpen:m().bool,currentRelativeTeamUrl:m().string});const wu=(0,a.connect)((function(e){return{isRHSOpen:(0,_t.aC)(e),currentRelativeTeamUrl:(0,o.gm)(e),currentChannel:(0,ee.TB)(e),currentTeam:(0,o.kA)(e)}}))(vu);function Su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tu=R.ZP.KeyCodes;class Pu extends u.PureComponent{constructor(e){super(e),Su(this,"handleModalKeyDown",(e=>{(0,V.pD)(e,Tu.ESCAPE)&&this.hideModal()})),Su(this,"setShowPreview",(e=>{this.props.actions.setShowPreview(e)})),Su(this,"handleChange",(e=>{this.setState({header:e.target.value})})),Su(this,"handleSave",(async()=>{const{header:e}=this.state;if(e===this.props.channel.header)return void this.hideModal();this.setState({saving:!0});const{channel:t,actions:n}=this.props,{error:s}=await n.patchChannel(t.id,{header:e});s?this.setState({serverError:s,saving:!1}):this.hideModal()})),Su(this,"hideModal",(()=>{this.props.actions.closeModal(R.r8.EDIT_CHANNEL_HEADER)})),Su(this,"focusTextbox",(()=>{this.editChannelHeaderTextboxRef.current&&this.editChannelHeaderTextboxRef.current.focus()})),Su(this,"blurTextbox",(()=>{this.editChannelHeaderTextboxRef.current&&this.editChannelHeaderTextboxRef.current.blur()})),Su(this,"handleEntering",(()=>{this.focusTextbox()})),Su(this,"handleKeyDown",(e=>{const{ctrlSend:t}=this.props;(0,V.m)(e)?this.setState({header:(0,V.V4)(e)}):t&&(0,V.pD)(e,Tu.ENTER)&&!0===e.ctrlKey&&this.handleKeyPress(e)})),Su(this,"handleKeyPress",(e=>{const{ctrlSend:t}=this.props;!(0,_.tq)()&&(t&&e.ctrlKey||!t)&&(!(0,V.pD)(e,Tu.ENTER)||e.shiftKey||e.altKey||(e.preventDefault(),this.blurTextbox(),this.handleSave(e)))})),Su(this,"renderError",(()=>{const{serverError:e}=this.state;if(!e)return null;let t;return t="model.channel.is_valid.header.app_error"===e.server_error_id?u.createElement(ve.Z,{id:"edit_channel_header_modal.error",defaultMessage:"The text entered exceeds the character limit. The channel header is limited to {maxLength} characters.",values:{maxLength:1024}}):e.message,u.createElement("div",{className:"form-group has-error"},u.createElement("br",null),u.createElement("label",{className:"control-label"},t))})),this.state={header:e.channel.header,saving:!1},this.editChannelHeaderTextboxRef=u.createRef()}render(){let e=null;return e=this.props.channel.type===R.ZP.DM_CHANNEL?u.createElement(ve.Z,{id:"edit_channel_header_modal.title_dm",defaultMessage:"Edit Header"}):u.createElement(ve.Z,{id:"edit_channel_header_modal.title",defaultMessage:"Edit Header for {channel}",values:{channel:this.props.channel.display_name}}),u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.props.show,keyboard:!1,onKeyDown:this.handleModalKeyDown,onHide:this.hideModal,onEntering:this.handleEntering,onExited:this.hideModal,role:"dialog","aria-labelledby":"editChannelHeaderModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"editChannelHeaderModalLabel"},e)),u.createElement(ye.Z.Body,{bsClass:"modal-body edit-modal-body"},u.createElement("div",null,u.createElement("p",null,u.createElement(ve.Z,{id:"edit_channel_header_modal.description",defaultMessage:"Edit the text appearing next to the channel name in the channel header."})),u.createElement("div",{className:"textarea-wrapper"},u.createElement(M.Z,{value:this.state.header,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,supportsCommands:!1,suggestionListStyle:"bottom",createMessage:(0,V._u)("edit_channel_header.editHeader","Edit the Channel Header..."),previewMessageLink:(0,V._u)("edit_channel_header.previewHeader","Edit Header"),handlePostError:this.handlePostError,channelId:this.props.channel.id,id:"edit_textbox",ref:this.editChannelHeaderTextboxRef,characterLimit:1024,preview:this.props.shouldShowPreview})),u.createElement("div",{className:"post-create-footer"},u.createElement(Oe.Z,{characterLimit:1024,showPreview:this.props.shouldShowPreview,ref:this.setTextboxLinksRef,updatePreview:this.setShowPreview,message:this.state.header})),u.createElement("br",null),this.renderError())),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link cancel-button",onClick:this.hideModal},u.createElement(ve.Z,{id:"edit_channel_header_modal.cancel",defaultMessage:"Cancel"})),u.createElement("button",{disabled:this.state.saving,type:"button",className:"btn btn-primary save-button",onClick:this.handleSave},u.createElement(ve.Z,{id:"edit_channel_header_modal.save",defaultMessage:"Save"}))))}}Su(Pu,"propTypes",{channel:m().object.isRequired,show:m().bool.isRequired,ctrlSend:m().bool.isRequired,shouldShowPreview:m().bool.isRequired,actions:m().shape({closeModal:m().func.isRequired,patchChannel:m().func.isRequired,setShowPreview:m().func.isRequired}).isRequired});const Mu=(0,a.connect)((function(e){return{shouldShowPreview:(0,be.a7)(e),show:(0,Yn.g)(e,R.r8.EDIT_CHANNEL_HEADER),ctrlSend:(0,$.o4)(e,he.uP.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter")}}),(function(e){return{actions:(0,s.bindActionCreators)({closeModal:I.M,patchChannel:J.aO,setShowPreview:fe.aw},e)}}))(Pu);function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Iu extends u.PureComponent{constructor(e){super(e),Nu(this,"handleEntering",(()=>{V.e6(this.purpose)})),Nu(this,"onHide",(()=>{this.setState({show:!1})})),Nu(this,"handleKeyDown",(e=>{const{ctrlSend:t}=this.props;V.m(e)?(e.preventDefault(),this.setState({purpose:V.V4(e)})):t&&V.pD(e,R.ZP.KeyCodes.ENTER)&&e.ctrlKey?(e.preventDefault(),this.handleSave(e)):t||!V.pD(e,R.ZP.KeyCodes.ENTER)||e.shiftKey||e.altKey||(e.preventDefault(),this.handleSave(e))})),Nu(this,"handleSave",(async()=>{const{channel:e,actions:{patchChannel:t}}=this.props,{purpose:n}=this.state;if(!e)return;this.setState({requestStarted:!0});const{data:s,error:a}=await t(e.id,{purpose:n});this.setState({serverError:a,requestStarted:!1}),s&&this.onHide()})),Nu(this,"handleChange",(e=>{e.preventDefault(),this.setState({purpose:e.target.value})})),Nu(this,"getPurpose",(e=>{this.purpose=e})),this.state={purpose:e.channel.purpose||"",serverError:null,show:!0,submitted:!1,requestStarted:!1}}render(){let e=null;const{formatMessage:t}=this.props.intl;this.state.serverError&&(e=u.createElement("div",{className:"form-group has-error"},u.createElement("br",null),u.createElement("label",{className:"control-label"},this.state.serverError.message)));let n=u.createElement("span",null,u.createElement(ve.Z,{id:"edit_channel_purpose_modal.title1",defaultMessage:"Edit Purpose"}));this.props.channel.display_name&&(n=u.createElement("span",null,u.createElement(ve.Z,{id:"edit_channel_purpose_modal.title2",defaultMessage:"Edit Purpose for "}),u.createElement("span",{className:"name"},this.props.channel.display_name)));let s=u.createElement(ve.Z,{id:"edit_channel_purpose_modal.body",defaultMessage:'Describe how this channel should be used. This text appears in the channel list in the "More..." menu and helps others decide whether to join.'});"P"===this.props.channel.type&&(s=u.createElement(ve.Z,{id:"edit_channel_private_purpose_modal.body",defaultMessage:'This text appears in the \\"View Info\\" modal of the private channel.'}));const a=t({id:"edit_channel_purpose_modal.title1",defaultMessage:"Edit Purpose"}).toLowerCase();return u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onEntering:this.handleEntering,onExited:this.props.onHide,role:"dialog","aria-labelledby":"editChannelPurposeModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"editChannelPurposeModalLabel"},n)),u.createElement(ye.Z.Body,null,u.createElement("p",null,s),u.createElement("textarea",{ref:this.getPurpose,className:"form-control no-resize",rows:"6",maxLength:250,value:this.state.purpose,onKeyDown:this.handleKeyDown,onChange:this.handleChange,"aria-label":a}),e),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link cancel-button",onClick:this.onHide},u.createElement(ve.Z,{id:"edit_channel_purpose_modal.cancel",defaultMessage:"Cancel"})),u.createElement("button",{type:"button",className:"btn btn-primary save-button",disabled:this.state.requestStarted,onClick:this.handleSave},u.createElement(ve.Z,{id:"edit_channel_purpose_modal.save",defaultMessage:"Save"}))))}}Nu(Iu,"propTypes",{onHide:m().func.isRequired,channel:m().object,ctrlSend:m().bool.isRequired,intl:m().any,actions:m().shape({patchChannel:m().func.isRequired}).isRequired});const Ru=(0,we.ZP)(Iu),Au=(0,a.connect)((function(e){return{ctrlSend:(0,$.o4)(e,R.ZP.Preferences.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter")}}),(function(e){return{actions:{patchChannel:(0,s.bindActionCreators)(J.aO,e)}}}))(Ru);function Ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(n),!0).forEach((function(t){Du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ku=(0,mt.vU)({maxLength:{id:(0,it.t)("rename_channel.maxLength"),defaultMessage:"This field must be less than {maxLength, number} characters"},url:{id:(0,it.t)("rename_channel.url"),defaultMessage:"URL"},defaultError:{id:(0,it.t)("rename_channel.defaultError"),defaultMessage:" - Cannot be changed for the default channel"},displayNameHolder:{id:(0,it.t)("rename_channel.displayNameHolder"),defaultMessage:"Enter display name"},groupPicture:{id:(0,it.t)("rename_channel.groupPicture"),defaultMessage:"Hình đại diện"},validImage:{id:(0,it.t)("user.settings.general.validImage"),defaultMessage:"Only BMP, JPG or PNG images may be used for profile pictures"},imageTooLarge:{id:(0,it.t)("user.settings.general.imageTooLarge"),defaultMessage:"Unable to upload profile image. File is too large."}});class xu extends u.PureComponent{constructor(e){super(e),Du(this,"textbox",void 0),Du(this,"submitActive",void 0),Du(this,"setError",(e=>{this.setState({serverError:e.message})})),Du(this,"unsetError",(()=>{this.setState({serverError:""})})),Du(this,"handleEntering",(()=>{V.e6(this.textbox)})),Du(this,"handleHide",(e=>{e&&e.preventDefault(),this.setState({serverError:"",urlErrors:[],displayNameError:"",invalid:!1,show:!1})})),Du(this,"handleSubmit",(async e=>{e&&e.preventDefault();const t=Object.assign({},this.props.channel),n=t.name,s=t.display_name,a=Lu(Lu({},this.state),{},{serverError:""}),{formatMessage:i}=this.props.intl,{actions:{patchChannel:r}}=this.props;t.display_name=this.state.displayName.trim(),!t.display_name||t.display_name.length<R.ZP.MIN_CHANNELNAME_LENGTH?(a.displayNameError=u.createElement(ve.Z,{id:"rename_channel.minLength",defaultMessage:"Display name must have at least {minLength, number} characters.",values:{minLength:R.ZP.MIN_CHANNELNAME_LENGTH}}),a.invalid=!0):t.display_name.length>R.ZP.MAX_CHANNELNAME_LENGTH?(a.displayNameError=i(ku.maxLength,{maxLength:R.ZP.MAX_CHANNELNAME_LENGTH}),a.invalid=!0):a.displayNameError="",t.name=this.state.channelName.trim();const o=(0,Ks.pj)(t.name);if(o.length>0&&(a.invalid=!0),a.urlErrors=o,this.setState(a),a.invalid)return;if(n===t.name&&s===t.display_name)return void this.onSaveSuccess();const{data:l,error:c}=await r(t.id,t);l?this.onSaveSuccess():c&&this.setError(c)})),Du(this,"onSaveSuccess",(()=>{this.handleHide(),this.unsetError(),P.m.push("/"+this.props.team.name+"/group/"+this.state.channelName)})),Du(this,"handleCancel",(e=>{this.setState({displayName:this.props.channel.display_name,channelName:this.props.channel.name}),this.handleHide(e)})),Du(this,"onNameChange",(e=>{const t=e.target.value.trim().replace(/[^A-Za-z0-9-_]/g,"").toLowerCase();this.setState({channelName:t})})),Du(this,"onDisplayNameChange",(e=>{this.setState({displayName:e.target.value})})),Du(this,"getTextbox",(e=>{this.textbox=e})),Du(this,"setDefaultPicture",(()=>{})),Du(this,"updatePicture",(e=>{e.target.files&&e.target.files[0]?(this.setState({pictureFile:e.target.files[0]}),this.submitActive=!0,this.setState({clientError:null})):this.setState({pictureFile:null})})),Du(this,"submitPicture",(()=>{if(!this.state.pictureFile)return;if(!this.submitActive)return;const{formatMessage:e}=this.props.intl,t=this.state.pictureFile;R.Ec.includes(t.type)?t.size>this.props.maxFileSize?this.setState({clientError:e(ku.imageTooLarge),serverError:""}):this.setState({loadingPicture:!0}):this.setState({clientError:e(ku.validImage),serverError:""})})),this.submitActive=!1,this.state={displayName:e.channel.display_name,channelName:e.channel.name,serverError:"",urlErrors:[],displayNameError:"",invalid:!1,show:!0,pictureFile:null,loadingPicture:!1}}render(){let e=null;this.state.displayNameError&&(e=u.createElement("p",{className:"input__help error"},this.state.displayNameError));let t=null,n=null,s="input-group input-group--limit";this.state.urlErrors.length>0?(t=u.createElement("p",{className:"input__help error"},this.state.urlErrors),s+=" has-error"):n=u.createElement("p",{className:"input__help"},u.createElement(ve.Z,{id:"change_url.helpText",defaultMessage:"You can use lowercase letters, numbers, dashes, and underscores."}));let a=null;this.state.serverError&&(a=u.createElement("div",{className:"form-group has-error"},u.createElement("label",{className:"control-label"},this.state.serverError)));const{formatMessage:i}=this.props.intl;let r=i(ku.url),o=!1;this.props.channel.name===R.ZP.DEFAULT_CHANNEL&&(r+=i(ku.defaultError),o=!0);const l=this.props.currentTeamUrl+"/group",c=(0,Ks.ZC)(l,35),d=u.createElement(Tt.Z,{id:"urlTooltip"},l);return u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.handleCancel,onEntering:this.handleEntering,onExited:this.props.onHide,role:"dialog","aria-labelledby":"renameChannelModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"renameChannelModalLabel"},u.createElement(ve.Z,{id:"rename_channel.title",defaultMessage:"Edit Group Info"}))),u.createElement("form",{role:"form"},u.createElement(ye.Z.Body,null,u.createElement("div",{className:"form-group"},u.createElement("label",{className:"control-label"},u.createElement(ve.Z,{id:"rename_channel.displayName",defaultMessage:"Display Name"})),u.createElement(ka.Z,{onChange:this.onDisplayNameChange,type:"text",ref:this.getTextbox,id:"display_name",className:"form-control",placeholder:ku.displayNameHolder,value:this.state.displayName,maxLength:R.ZP.MAX_CHANNELNAME_LENGTH,"aria-label":i({id:"rename_channel.displayName",defaultMessage:"Display Name"}).toLowerCase()}),e),u.createElement("div",{className:"form-group"},u.createElement("label",{className:"control-label"},r),u.createElement("div",{className:s},u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:d},u.createElement("span",{className:"input-group-addon"},c)),u.createElement("input",{onChange:this.onNameChange,type:"text",className:"form-control",id:"channel_name",value:this.state.channelName,maxLength:R.ZP.MAX_CHANNELNAME_LENGTH,readOnly:o,"aria-label":i({id:"rename_channel.title",defaultMessage:"Rename Channel"}).toLowerCase()})),n,t),a),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link",onClick:this.handleCancel},u.createElement(ve.Z,{id:"rename_channel.cancel",defaultMessage:"Cancel"})),u.createElement("button",{onClick:this.handleSubmit,type:"submit",id:"save-button",className:"btn btn-primary"},u.createElement(ve.Z,{id:"rename_channel.save",defaultMessage:"Save"})))))}}Du(xu,"propTypes",{onHide:m().func.isRequired,currentTeamUrl:m().string.isRequired,maxFileSize:m().number.isRequired,actions:m().shape({patchChannel:m().func.isRequired}).isRequired});const Uu=(0,we.ZP)(xu);function Zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fu=(0,yn.P1)((e=>{const t=(0,i.iE)(e),n=e.entities.teams.currentTeamId,s=(0,o.VP)(e,n);return{currentTeamUrl:"".concat((0,Ks.fO)(),"/").concat(s.name),team:s,maxFileSize:parseInt(t.MaxFileSize,10)}}),(e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(n),!0).forEach((function(t){ju(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))),Hu=(0,a.connect)(Fu,(function(e){return{actions:(0,s.bindActionCreators)({patchChannel:J.aO},e)}}))(Uu);function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bu extends u.PureComponent{constructor(e){super(e),qu(this,"handleConvert",(()=>{const{actions:e,channelId:t}=this.props;t.length===R.ZP.CHANNEL_ID_LENGTH&&(e.convertChannelToPrivate(t),(0,C.L9)("actions","convert_to_private_channel",{channel_id:t}),this.onHide())})),qu(this,"onHide",(()=>{this.setState({show:!1})})),this.state={show:!0}}render(){const{channelDisplayName:e,onHide:t}=this.props;return u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:t,role:"dialog","aria-labelledby":"convertChannelModalLabel"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"convertChannelModalLabel"},u.createElement(ve.Z,{id:"convert_channel.title",defaultMessage:"Convert {display_name} to a Private Channel?",values:{display_name:e}}))),u.createElement(ye.Z.Body,null,u.createElement("p",null,u.createElement(on.Z,{id:"convert_channel.question1",defaultMessage:"When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.",values:{display_name:e}})),u.createElement("p",null,u.createElement(ve.Z,{id:"convert_channel.question2",defaultMessage:"The change is permanent and cannot be undone."})),u.createElement("p",null,u.createElement(on.Z,{id:"convert_channel.question3",defaultMessage:"Are you sure you want to convert **{display_name}** to a private channel?",values:{display_name:e}}))),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},u.createElement(ve.Z,{id:"convert_channel.cancel",defaultMessage:"No, cancel"})),u.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:this.handleConvert,autoFocus:!0,"data-testid":"convertChannelConfirm"},u.createElement(ve.Z,{id:"convert_channel.confirm",defaultMessage:"Yes, convert to private channel"}))))}}qu(Bu,"propTypes",{onHide:m().func.isRequired,channelId:m().string.isRequired,channelDisplayName:m().string.isRequired,actions:m().shape({convertChannelToPrivate:m().func.isRequired})});const Gu=(0,a.connect)((function(e){return{currentTeamDetails:(0,o.kA)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({convertChannelToPrivate:J.yT},e)}}))(Bu);function Vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Wu extends u.PureComponent{constructor(e){super(e),Vu(this,"handleDelete",(()=>{if(this.props.channel.id.length===R.ZP.CHANNEL_ID_LENGTH){if(!this.props.canViewArchivedChannels){const{penultimateViewedChannelName:e}=this.props;P.m.push("/"+this.props.currentTeamDetails.name+"/group/"+e)}this.props.actions.deleteChannel(this.props.channel.id),this.onHide()}})),Vu(this,"onHide",(()=>{this.setState({show:!1})})),this.state={show:!0}}render(){const{canViewArchivedChannels:e}=this.props;return u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"deleteChannelModalLabel",id:"deleteChannelModal"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"deleteChannelModalLabel"},u.createElement(ve.Z,{id:"delete_channel.confirm",defaultMessage:"Confirm ARCHIVE Channel"}))),u.createElement(ye.Z.Body,null,u.createElement("div",{className:"alert alert-danger"},!e&&u.createElement(on.Z,{id:"delete_channel.question",defaultMessage:"This will archive the channel from the team and remove it from the user interface. Archived channels can be unarchived if needed again. \\n \\nAre you sure you wish to archive the {display_name} channel?",values:{display_name:this.props.channel.display_name}}),e&&u.createElement(on.Z,{id:"delete_channel.viewArchived.question",defaultMessage:"This will archive the channel from the team. Channel contents will still be accessible by channel members.\n \nAre you sure you wish to archive the **{display_name}** channel?",values:{display_name:this.props.channel.display_name}}))),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},u.createElement(ve.Z,{id:"delete_channel.cancel",defaultMessage:"Cancel"})),u.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.handleDelete,autoFocus:!0,id:"deleteChannelModalDeleteButton"},u.createElement(ve.Z,{id:"delete_channel.del",defaultMessage:"Archive"}))))}}Vu(Wu,"propTypes",{onHide:m().func.isRequired,currentTeamDetails:m().shape({name:m().string.isRequired}).isRequired,canViewArchivedChannels:m().bool,penultimateViewedChannelName:m().string.isRequired,actions:m().shape({deleteChannel:m().func.isRequired}).isRequired});const zu=(0,a.connect)((function(e){return{canViewArchivedChannels:"true"===(0,i.iE)(e).ExperimentalViewArchivedChannels,currentTeamDetails:(0,o.kA)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({deleteChannel:J.zz},e)}}))(Wu);function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ku extends u.PureComponent{constructor(e){super(e),Yu(this,"handleUnarchive",(()=>{this.props.channel.id.length===R.ZP.CHANNEL_ID_LENGTH&&(this.props.actions.unarchiveChannel(this.props.channel.id),this.onHide())})),Yu(this,"onHide",(()=>{this.setState({show:!1})})),this.state={show:!0}}render(){return u.createElement(ye.Z,{dialogClassName:"a11y__modal",show:this.state.show,onHide:this.onHide,onExited:this.props.onHide,role:"dialog","aria-labelledby":"unarchiveChannelModalLabel",id:"unarchiveChannelModal"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"unarchiveChannelModalLabel"},u.createElement(ve.Z,{id:"unarchive_channel.confirm",defaultMessage:"Confirm UNARCHIVE Channel"}))),u.createElement(ye.Z.Body,null,u.createElement("div",{className:"alert alert-danger"},u.createElement(on.Z,{id:"unarchive_channel.viewArchived.question",defaultMessage:"Are you sure you wish to unarchive the **{display_name}** channel?",values:{display_name:this.props.channel.display_name}}))),u.createElement(ye.Z.Footer,null,u.createElement("button",{type:"button",className:"btn btn-link",onClick:this.onHide},u.createElement(ve.Z,{id:"unarchive_channel.cancel",defaultMessage:"Cancel"})),u.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:this.handleUnarchive,autoFocus:!0,id:"unarchiveChannelModalDeleteButton"},u.createElement(ve.Z,{id:"unarchive_channel.del",defaultMessage:"Unarchive"}))))}}Yu(Ku,"propTypes",{onHide:m().func.isRequired,actions:m().shape({unarchiveChannel:m().func.isRequired}).isRequired});const Ju=(0,a.connect)(null,(function(e){return{actions:(0,s.bindActionCreators)({unarchiveChannel:J.Ny},e)}}))(Ku);function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $u extends u.PureComponent{constructor(e){super(e),Xu(this,"searchTimeoutId",void 0),Xu(this,"selectedItemRef",void 0),Xu(this,"handleHide",(()=>{this.props.actions.setModalSearchTerm(""),this.setState({show:!1})})),Xu(this,"handleExit",(()=>{this.props.onHide&&this.props.onHide()})),Xu(this,"handleResponse",(e=>{let t=null;e&&e.message&&(t=e.message),this.setState({saving:!1,addError:t})})),Xu(this,"handleSubmit",(async()=>{const e=this.state.values.map((e=>e.id));if(0!==e.length){if(this.props.skipCommit)return this.props.onAddCallback&&this.props.onAddCallback(e),void this.handleHide();this.setState({saving:!0}),await Promise.all(e.map((async e=>{const{error:t}=await this.props.actions.linkGroupSyncable(e,this.props.currentChannelId,he.Fl.SYNCABLE_TYPE_CHANNEL,{auto_add:!0});this.handleResponse(t),t||this.handleHide()})))}})),Xu(this,"addValue",(e=>{const t=Object.assign([],this.state.values),n=t.map((e=>e.id));e&&e.id&&-1===n.indexOf(e.id)&&t.push(e),this.setState({values:t})})),Xu(this,"setGroupsLoadingState",(e=>{this.setState({loadingGroups:e})})),Xu(this,"handlePageChange",((e,t)=>{e>t&&(this.setGroupsLoadingState(!0),this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId,this.props.searchTerm,e,51,!0).then((()=>{this.setGroupsLoadingState(!1)})))})),Xu(this,"handleDelete",(e=>{this.setState({values:e})})),Xu(this,"search",(e=>{this.props.actions.setModalSearchTerm(e)})),Xu(this,"renderOption",((e,t,n,s)=>{const a=t?"more-modal__row--selected":"";return u.createElement("div",{key:e.id,ref:t?this.selectedItemRef:e.id,className:"more-modal__row clickable "+a,onClick:()=>n(e),onMouseMove:()=>s?s(e):void 0},u.createElement("img",{className:"more-modal__image",src:ii,alt:"group picture",width:"32",height:"32"}),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},e.display_name," - ",u.createElement("span",{className:"more-modal__name_sub"},u.createElement(ve.Z,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),u.createElement("div",{className:"more-modal__actions"},u.createElement("div",{className:"more-modal__actions--round"},u.createElement(ri.Z,null))))})),this.searchTimeoutId=0,this.state={values:[],show:!0,search:!1,saving:!1,addError:null,loadingGroups:!0},this.selectedItemRef=u.createRef()}componentDidMount(){Promise.all([this.props.actions.getTeam(this.props.teamID),this.props.actions.getAllGroupsAssociatedToTeam(this.props.teamID,!1,!0),this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId,"",0,51,!0),this.props.actions.getAllGroupsAssociatedToChannel(this.props.currentChannelId,!1,!0)]).then((()=>{this.setGroupsLoadingState(!1)}))}componentDidUpdate(e){if(this.props.searchTerm!==e.searchTerm){clearTimeout(this.searchTimeoutId);const e=this.props.searchTerm;if(""===e)return;this.searchTimeoutId=window.setTimeout((async()=>{this.setGroupsLoadingState(!0),await this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId,e,null,null,!0),this.setGroupsLoadingState(!1)}),R.ZP.SEARCH_TIMEOUT_MILLISECONDS)}}renderValue(e){return e.data.display_name}render(){const e=u.createElement("div",{id:"numGroupsRemaining"},u.createElement(ve.Z,{id:"multiselect.numGroupsRemaining",defaultMessage:"Use ↑↓ to browse, ↵ to select. You can add {num, number} more {num, plural, one {group} other {groups}}. ",values:{num:10-this.state.values.length}})),t=(0,V._u)("multiselect.add","Add"),n=(0,V._u)("multiselect.adding","Adding...");let s=null;this.state.addError&&(s=u.createElement("div",{className:"has-error col-sm-12"},u.createElement("label",{className:"control-label font-weight--normal"},this.state.addError)));let a=this.props.groups;if(this.props.excludeGroups){const e=e=>!this.props.excludeGroups.find((t=>t.id===e.id));a=a.filter(e)}if(this.props.includeGroups){const e=e=>this.props.includeGroups.find((t=>t.id===e.id));a=[...a,...this.props.includeGroups.filter(e)]}const i=a.map((e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){Xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:e.display_name,value:e.id},e)));return u.createElement(ye.Z,{id:"addGroupsToChannelModal",dialogClassName:"a11y__modal more-modal more-direct-channels",show:this.state.show,onHide:this.handleHide,onExited:this.handleExit},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,null,u.createElement(ve.Z,{id:"add_groups_to_channel.title",defaultMessage:"Add New Groups to {channelName} Channel",values:{channelName:u.createElement("strong",null,this.props.currentChannelName)}}))),u.createElement(ye.Z.Body,null,s,u.createElement(ai.Z,{key:"addGroupsToChannelKey",options:i,optionRenderer:this.renderOption,selectedItemRef:this.selectedItemRef,values:this.state.values,valueRenderer:this.renderValue,perPage:50,handlePageChange:this.handlePageChange,handleInput:this.search,handleDelete:this.handleDelete,handleAdd:this.addValue,handleSubmit:this.handleSubmit,maxValues:10,numRemainingText:e,buttonSubmitText:t,buttonSubmitLoadingText:n,saving:this.state.saving,loading:this.state.loadingGroups,placeholderText:(0,V._u)("multiselect.addGroupsPlaceholder","Search and add groups")})))}}Xu($u,"propTypes",{currentChannelName:m().string.isRequired,currentChannelId:m().string.isRequired,teamID:m().string.isRequired,searchTerm:m().string.isRequired,groups:m().array.isRequired,excludeGroups:m().array,includeGroups:m().array,onHide:m().func,skipCommit:m().bool,onAddCallback:m().func,actions:m().shape({getGroupsNotAssociatedToChannel:m().func.isRequired,setModalSearchTerm:m().func.isRequired,linkGroupSyncable:m().func.isRequired,getAllGroupsAssociatedToChannel:m().func.isRequired,getTeam:m().func.isRequired,getAllGroupsAssociatedToTeam:m().func.isRequired}).isRequired});const ep=(0,a.connect)((function(e,t){const n=e.views.search.modalSearch,s=t.channel||(0,ee.TB)(e)||{};let a=(0,si.$5)(e,s.id,s.team_id);if(n){const e=RegExp(n,"i");a=a.filter((t=>e.test(t.display_name)||e.test(t.name)))}return{currentChannelName:s.display_name,currentChannelId:s.id,skipCommit:t.skipCommit,onAddCallback:t.onAddCallback,excludeGroups:t.excludeGroups,searchTerm:n,groups:a,teamID:s.team_id}}),(function(e){return{actions:(0,s.bindActionCreators)({getGroupsNotAssociatedToChannel:X.$5,setModalSearchTerm:Jn.Gl,linkGroupSyncable:X.Bh,getAllGroupsAssociatedToChannel:X.n0,getTeam:Q.VP,getAllGroupsAssociatedToTeam:X.K9},e)}}))($u);var tp=n(22131);function np(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class sp extends u.PureComponent{constructor(...e){super(...e),np(this,"loadItems",(async(e,t)=>{const{data:n}=await this.props.actions.getGroupsAssociatedToChannel(this.props.channel.id,t,e,50);return{items:n.groups,totalCount:n.totalGroupCount}})),np(this,"onClickRemoveGroup",((e,t)=>this.props.actions.unlinkGroupSyncable(e.id,this.props.channel.id,tp.Z.SYNCABLE_TYPE_CHANNEL).then((async()=>{t.setState({loading:!0});const{items:e,totalCount:n}=await t.props.loadItems(t.setState.page,t.state.searchTerm);t.setState({loading:!1,items:e,totalCount:n})})))),np(this,"onHide",(()=>{this.props.actions.closeModal(R.r8.MANAGE_CHANNEL_GROUPS)})),np(this,"titleButtonOnClick",(()=>{this.onHide(),this.props.actions.openModal({modalId:R.r8.ADD_GROUPS_TO_TEAM,dialogType:ep})})),np(this,"setChannelMemberStatus",(async(e,t,n)=>{this.props.actions.patchGroupSyncable(e.id,this.props.channel.id,tp.Z.SYNCABLE_TYPE_CHANNEL,{scheme_admin:n}).then((async()=>{t.setState({loading:!0});const{items:e,totalCount:n}=await t.props.loadItems(t.setState.page,t.state.searchTerm);await this.props.actions.getMyChannelMember(this.props.channel.id),t.setState({loading:!1,items:e,totalCount:n})}))})),np(this,"renderRow",((e,t)=>{let n;return n=e.scheme_admin?V._u("channel_members_dropdown.channel_admins","Group Admins"):e.scheme_mod?V._u("channel_members_dropdown.channel_mods","Group Mods"):V._u("channel_members_dropdown.channel_members","Group Members"),u.createElement("div",{key:e.id,className:"more-modal__row"},u.createElement("img",{className:"more-modal__image",src:ii,alt:"group picture",width:"32",height:"32"}),u.createElement("div",{className:"more-modal__details"},u.createElement("div",{className:"more-modal__name"},e.display_name," ","-"," ",u.createElement("span",{className:"more-modal__name_count"},u.createElement(ve.Z,{id:"numMembers",defaultMessage:"{num, number} {num, plural, one {member} other {members}}",values:{num:e.member_count}})))),u.createElement("div",{className:"more-modal__actions"},u.createElement(ns.Z,null,u.createElement("button",{id:"teamGroupsDropdown_".concat(e.display_name),className:"dropdown-toggle theme color--link style--none",type:"button","aria-expanded":"true"},u.createElement("span",null,n," "),u.createElement(es.Z,null)),u.createElement(ts.Z,{openLeft:!0,ariaLabel:V._u("channel_members_dropdown.menuAriaLabel","Change the role of channel member")},u.createElement(ts.Z.ItemAction,{show:!e.scheme_admin,onClick:()=>this.setChannelMemberStatus(e,t,!0),text:V._u("channel_members_dropdown.make_channel_admins","Make Channel Admins")}),u.createElement(ts.Z.ItemAction,{show:!e.scheme_mod,onClick:()=>this.setChannelMemberStatus(e,t,!0),text:V._u("channel_members_dropdown.make_channel_mods","Make Channel Mods")}),u.createElement(ts.Z.ItemAction,{show:Boolean(e.scheme_admin)||Boolean(e.scheme_mod),onClick:()=>this.setChannelMemberStatus(e,t,!1),text:V._u("channel_members_dropdown.make_channel_members","Make Channel Members")}),u.createElement(ts.Z.ItemAction,{onClick:()=>this.onClickRemoveGroup(e,t),text:V._u("group_list_modal.removeGroupButton","Remove Group")})))))}))}render(){const{formatMessage:e}=this.props.intl;return u.createElement(gi,{titleText:e({id:"groups",defaultMessage:"{channel} Groups"},{channel:this.props.channel.display_name}),searchPlaceholderText:e({id:"manage_channel_groups_modal.search_placeholder",defaultMessage:"Search groups"}),renderRow:this.renderRow,loadItems:this.loadItems,onHide:this.onHide,titleBarButtonText:e({id:"group_list_modal.addGroupButton",defaultMessage:"Add Groups"}),titleBarButtonOnClick:this.titleButtonOnClick})}}np(sp,"propTypes",{actions:m().shape({getGroupsAssociatedToChannel:m().func.isRequired,unlinkGroupSyncable:m().func.isRequired,patchGroupSyncable:m().func.isRequired,getMyChannelMember:m().func.isRequired,closeModal:m().func.isRequired,openModal:m().func.isRequired}).isRequired});const ap=(0,we.ZP)(sp),ip=(0,a.connect)(((e,t)=>({channel:e.entities.channels.channels[t.channelID]})),(e=>({actions:(0,s.bindActionCreators)({getGroupsAssociatedToChannel:X.k0,closeModal:I.M,openModal:I.h,unlinkGroupSyncable:X.je,patchGroupSyncable:X.B2,getMyChannelMember:J.Or},e)})))(ap);function rp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const op=(0,mt.vU)({maxLength:{id:(0,it.t)("rename_channel.maxLength"),defaultMessage:"This field must be less than {maxLength, number} characters"},url:{id:(0,it.t)("rename_channel.url"),defaultMessage:"URL"},defaultError:{id:(0,it.t)("rename_channel.defaultError"),defaultMessage:" - Cannot be changed for the default channel"},displayNameHolder:{id:(0,it.t)("rename_channel.displayNameHolder"),defaultMessage:"Enter display name"},groupPicture:{id:(0,it.t)("rename_channel.groupPicture"),defaultMessage:"Hình đại diện"},validImage:{id:(0,it.t)("user.settings.general.validImage"),defaultMessage:"Only BMP, JPG or PNG images may be used for profile pictures"},imageTooLarge:{id:(0,it.t)("user.settings.general.imageTooLarge"),defaultMessage:"Unable to upload profile image. File is too large."}});class lp extends u.PureComponent{constructor(e){super(e),rp(this,"submitActive",void 0),rp(this,"setError",(e=>{this.setState({serverError:e.message})})),rp(this,"unsetError",(()=>{this.setState({serverError:""})})),rp(this,"handleHide",(e=>{e&&e.preventDefault(),this.setState({serverError:"",urlErrors:[],invalid:!1,show:!1})})),rp(this,"onSaveSuccess",(()=>{this.handleHide(),this.unsetError()})),rp(this,"handleCancel",(e=>{this.handleHide(e)})),rp(this,"setDefaultPicture",(()=>{this.setState({loadingPicture:!0}),this.props.actions.removeChannelImage(this.props.channel.id).then((({data:e,error:t})=>{e?(this.submitActive=!1,this.onSaveSuccess()):t&&this.setState({serverError:t.message})}))})),rp(this,"updatePicture",(e=>{e.target.files&&e.target.files[0]?(this.submitActive=!0,this.setState({clientError:null,pictureFile:e.target.files[0]})):this.setState({pictureFile:null})})),rp(this,"submitPicture",(()=>{if(!this.state.pictureFile)return;if(!this.submitActive)return;const{formatMessage:e}=this.props.intl,t=this.state.pictureFile;R.Ec.includes(t.type)?t.size>this.props.maxFileSize?this.setState({clientError:e(op.imageTooLarge),serverError:""}):(this.setState({loadingPicture:!0}),this.props.actions.setChannelImage(this.props.channel.id,t).then((({data:e,error:t})=>{e?(this.submitActive=!1,this.onSaveSuccess()):t&&this.setState({serverError:t.message})}))):this.setState({clientError:e(op.validImage),serverError:""})})),this.submitActive=!1,this.state={serverError:"",urlErrors:[],invalid:!1,show:!0,pictureFile:null,loadingPicture:!1}}render(){const{channel:e,maxFileSize:t}=this.props,{pictureFile:n,serverError:s,clientError:a,loadingPicture:i}=this.state,r=e.last_picture_update>0?this.setDefaultPicture:null,o=u.createElement(on.Z,{id:"setting_picture.help.team",defaultMessage:"Upload a team icon in BMP, JPG or PNG format.\\nSquare images with a solid background color are recommended."}),l=V.Xv(e.id,e.last_picture_update);return u.createElement(ye.Z,{dialogClassName:"a11y__modal settings-modal",show:this.state.show,onHide:this.handleCancel,onExited:this.props.onHide,role:"dialog","aria-labelledby":"channelEditImageModalLabel",className:"channel__edit_image"},u.createElement(ye.Z.Header,{closeButton:!0},u.createElement(ye.Z.Title,{componentClass:"h1",id:"channelEditImageModalLabel"},u.createElement(ve.Z,{id:"update_channel_image.title",defaultMessage:"Cập nhật Hình đại diện"}))),u.createElement(ye.Z.Body,null,u.createElement(La.Z,{title:"",onSubmit:this.submitPicture,onSetDefault:r,src:l,defaultImageSrc:V.i5(this.props.channel.id),serverError:s,clientError:a,updateSection:e=>{e.preventDefault(),this.handleCancel()},file:n,onFileChange:this.updatePicture,submitActive:this.submitActive,loadingPicture:i,maxFileSize:t,helpText:o})))}}rp(lp,"propTypes",{maxFileSize:m().number.isRequired,onHide:m().func.isRequired,actions:m().shape({}).isRequired});const cp=(0,we.ZP)(lp);function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const up=(0,yn.P1)((e=>{const t=(0,i.iE)(e);return{maxFileSize:parseInt(t.MaxFileSize,10)}}),(e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(n),!0).forEach((function(t){mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))),pp=(0,a.connect)(up,(function(e){return{actions:(0,s.bindActionCreators)({removeChannelImage:J.Th,setChannelImage:J.M},e)}}))(cp);var hp=n(80020);function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fp extends u.PureComponent{constructor(...e){super(...e),gp(this,"handleLeave",(e=>{e.preventDefault();const{channel:t,actions:{leaveChannel:n}}=this.props;t.type===R.gT.PRIVATE_CHANNEL?(0,y.EK)(t):n(t.id)}))}render(){const{channel:e,isDefault:t,isGuestUser:n,id:s}=this.props;return u.createElement(ts.Z.ItemAction,{id:s,show:(!t||n)&&e.type!==R.gT.DM_CHANNEL&&e.type!==R.gT.GM_CHANNEL,onClick:this.handleLeave,text:(0,V._u)("channel_header.leave","Leave Channel")})}}gp(fp,"propTypes",{isDefault:m().bool,isGuestUser:m().bool,id:m().string,actions:m().shape({leaveChannel:m().func.isRequired}).isRequired}),gp(fp,"defaultProps",{isDefault:!0,isGuestUser:!1});const bp=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({leaveChannel:ie.TL},e)})))(fp);function _p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ep extends u.PureComponent{constructor(...e){super(...e),_p(this,"handleClose",(()=>{this.props.actions.goToLastViewedChannel()}))}render(){return u.createElement(ts.Z.ItemAction,{show:this.props.isArchived,onClick:this.handleClose,text:(0,V._u)("center_panel.archived.closeChannel","Close Channel")})}}_p(Ep,"propTypes",{isArchived:m().bool.isRequired,actions:m().shape({goToLastViewedChannel:m().func.isRequired}).isRequired});const Cp=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({goToLastViewedChannel:ie.NL},e)})))(Ep);function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vp extends u.PureComponent{constructor(...e){super(...e),yp(this,"handleClose",(e=>{e.preventDefault();const{channel:t,currentUser:n,currentTeam:s,redirectChannel:a,actions:{savePreferences:i,leaveDirectChannel:r}}=this.props;let o,l;t.type===R.gT.DM_CHANNEL?(l=R.gT.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,o=t.teammate_id):(l=R.gT.Preferences.CATEGORY_GROUP_CHANNEL_SHOW,o=t.id),r(t.name),i(n.id,[{user_id:n.id,category:l,name:o,value:"false"}]),P.m.push("/".concat(s.name,"/group/").concat(a))}))}render(){const{id:e,channel:t}=this.props;let n;return t.type===R.gT.DM_CHANNEL?n=(0,V._u)("center_panel.direct.closeDirectMessage","Close Direct Message"):t.type===R.gT.GM_CHANNEL&&(n=(0,V._u)("center_panel.direct.closeGroupMessage","Close Group Message")),u.createElement(ts.Z.ItemAction,{id:e,show:t.type===R.gT.DM_CHANNEL||t.type===R.gT.GM_CHANNEL,onClick:this.handleClose,text:n})}}yp(vp,"propTypes",{redirectChannel:m().string.isRequired,id:m().string,actions:m().shape({savePreferences:m().func.isRequired,leaveDirectChannel:m().func.isRequired}).isRequired});const wp=(0,a.connect)((e=>({currentTeam:(0,o.kA)(e),redirectChannel:(0,ee.fG)(e,(0,o.ev)(e))})),(e=>({actions:(0,s.bindActionCreators)({savePreferences:st.$A,leaveDirectChannel:ie.e2},e)})))(vp);function Sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tp extends u.PureComponent{constructor(...e){super(...e),Sp(this,"handleClick",(()=>{const{user:e,channel:t,isMuted:n,actions:{updateChannelNotifyProps:s}}=this.props;s(e.id,t.id,{mark_unread:n?R.XH.ALL:R.XH.MENTION})}))}render(){const{id:e,isMuted:t}=this.props;let n;return n=t?(0,V._u)("channel_header.unmute","Unmute Channel"):(0,V._u)("channel_header.mute","Mute Channel"),u.createElement(ts.Z.ItemAction,{id:e,onClick:this.handleClick,text:n})}}Sp(Tp,"propTypes",{isMuted:m().bool.isRequired,id:m().string,actions:m().shape({}).isRequired});const Pp=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({updateChannelNotifyProps:J.n$},e)})))(Tp);function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Np extends u.PureComponent{constructor(...e){super(...e),Mp(this,"toggleFavoriteChannel",(e=>{const{isFavorite:t,actions:{favoriteChannel:n,unfavoriteChannel:s}}=this.props;return t?s(e):n(e)})),Mp(this,"handleClick",(e=>{e.preventDefault(),this.toggleFavoriteChannel(this.props.channel.id)}))}render(){let e;return e=this.props.isFavorite?(0,V._u)("channelHeader.removeFromFavorites","Remove from Favorites"):(0,V._u)("channelHeader.addToFavorites","Add to Favorites"),u.createElement(ts.Z.ItemAction,{show:this.props.show,onClick:this.handleClick,text:e})}}Mp(Np,"propTypes",{show:m().bool,isFavorite:m().bool.isRequired,actions:m().shape({favoriteChannel:m().func.isRequired,unfavoriteChannel:m().func.isRequired}).isRequired}),Mp(Np,"defaultProps",{show:!0});const Ip=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({favoriteChannel:J.ZE,unfavoriteChannel:J.Dn},e)})))(Np);function Rp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ap extends u.PureComponent{constructor(...e){super(...e),Rp(this,"handleClick",(e=>{e.preventDefault();const{channel:t,hasPinnedPosts:n,actions:{closeRightHandSide:s,showPinnedPosts:a}}=this.props;n?s():a(t.id)}))}render(){return u.createElement(ts.Z.ItemAction,{show:this.props.show,onClick:this.handleClick,text:(0,V._u)("navbar.viewPinnedPosts","View Pinned Posts")})}}Rp(Ap,"propTypes",{show:m().bool,channel:m().any.isRequired,hasPinnedPosts:m().bool.isRequired,actions:m().shape({closeRightHandSide:m().func.isRequired,showPinnedPosts:m().func.isRequired}).isRequired});const Op=(0,a.connect)((e=>({hasPinnedPosts:(0,_t.kV)(e)===R.Hp.PIN})),(e=>({actions:(0,s.bindActionCreators)({closeRightHandSide:bt.Lg,showPinnedPosts:bt.B7},e)})))(Ap);class Lp extends u.PureComponent{render(){const{user:e,channel:t,isDefault:n,isFavorite:s,isMuted:a,isReadonly:i,isArchived:r,isMobile:o,penultimateViewedChannelName:l,isLicensedForLDAPGroups:c}=this.props,d=t.type===R.gT.PRIVATE_CHANNEL,m=!0===t.group_constrained,p=d?he.Pl.MANAGE_PRIVATE_CHANNEL_MEMBERS:he.Pl.MANAGE_PUBLIC_CHANNEL_MEMBERS,h=d?he.Pl.MANAGE_PRIVATE_CHANNEL_PROPERTIES:he.Pl.MANAGE_PUBLIC_CHANNEL_PROPERTIES,g=d?he.Pl.DELETE_PRIVATE_CHANNEL:he.Pl.DELETE_PUBLIC_CHANNEL,f=he.Pl.MANAGE_TEAM;let b;o&&(b=u.createElement("li",{className:"MenuGroup mobile-menu-divider"},u.createElement("hr",null)));const _=this.props.pluginMenuItems.map((e=>u.createElement(ts.Z.ItemAction,{id:e.id+"_pluginmenuitem",key:e.id+"_pluginmenuitem",onClick:()=>{e.action&&e.action(this.props.channel.id)},text:e.text})));return u.createElement(u.Fragment,null,u.createElement(ts.Z.Group,{divider:b},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelViewInfo",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL,modalId:R.r8.CHANNEL_INFO,dialogType:wu,dialogProps:{channel:t},text:(0,V._u)("navbar.viewInfo","View Info")}),u.createElement(Ip,{id:"channelToggleFavorite",show:o,channel:t,isFavorite:s}),u.createElement(Op,{id:"channelViewPinnedPosts",show:o,channel:t}),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelNotificationPreferences",show:t.type!==R.gT.DM_CHANNEL&&!r,modalId:R.r8.CHANNEL_NOTIFICATIONS,dialogType:au,dialogProps:{channel:t,currentUser:e},text:(0,V._u)("navbar.preferences","Notification Preferences")}),u.createElement(Pp,{id:"channelToggleMuteChannel",user:e,channel:t,isMuted:a,isArchived:r})),u.createElement(ts.Z.Group,{divider:b},u.createElement(hp.Z,{channelId:t.id,teamId:t.team_id,permissions:[p]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelAddMembers",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&!r&&!n&&!m,modalId:R.r8.CHANNEL_INVITE,dialogType:ad.Z,dialogProps:{channel:t},text:(0,V._u)("navbar.addMembers","Add Members")}),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelAddMembers",show:t.type===R.gT.GM_CHANNEL&&!r&&!m,modalId:R.r8.CREATE_DM_CHANNEL,dialogType:oo,dialogProps:{isExistingChannel:!0},text:(0,V._u)("navbar.addMembers","Add Members")})),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelViewMembers",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&(r||n),modalId:R.r8.CHANNEL_MEMBERS,dialogType:bu,dialogProps:{channel:t},text:(0,V._u)("channel_header.viewMembers","View Members")}),u.createElement(hp.Z,{channelId:t.id,teamId:t.team_id,permissions:[p]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelAddGroups",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&!r&&!n&&m&&c,modalId:R.r8.ADD_GROUPS_TO_CHANNEL,dialogType:ep,text:(0,V._u)("navbar.addGroups","Add Groups")}),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelManageGroups",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&!r&&!n&&m&&c,modalId:R.r8.MANAGE_CHANNEL_GROUPS,dialogType:ip,dialogProps:{channelID:t.id},text:(0,V._u)("navbar_dropdown.manageGroups","Manage Groups")}),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelManageMembers",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&!r&&!n,modalId:R.r8.CHANNEL_MEMBERS,dialogType:bu,dialogProps:{channel:t},text:(0,V._u)("channel_header.manageMembers","Manage Members")})),u.createElement(hp.Z,{channelId:t.id,teamId:t.team_id,permissions:[p],invert:!0},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelViewMembers",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&!r&&!n,modalId:R.r8.CHANNEL_MEMBERS,dialogType:bu,dialogProps:{channel:t},text:(0,V._u)("channel_header.viewMembers","View Members")}))),u.createElement(ts.Z.Group,{divider:b},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelEditHeader",show:!(t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL||r||i),modalId:R.r8.EDIT_CHANNEL_HEADER,dialogType:Mu,dialogProps:{channel:t},text:(0,V._u)("channel_header.setHeader","Edit Banner")}),u.createElement(hp.Z,{channelId:t.id,teamId:t.team_id,permissions:[h]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelEditImage",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&!r&&!i,modalId:R.r8.EDIT_CHANNEL_IMAGE,dialogType:pp,dialogProps:{channel:t},text:(0,V._u)("channel_header.setImage","Đổi ảnh nhóm")}),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelEditHeader",show:t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL&&!r&&!i,modalId:R.r8.EDIT_CHANNEL_HEADER,dialogType:Mu,dialogProps:{channel:t},text:(0,V._u)("channel_header.setHeader","Edit Banner")}),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelEditPurpose",show:!r&&!i&&t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL,modalId:R.r8.EDIT_CHANNEL_PURPOSE,dialogType:Au,dialogProps:{channel:t},text:(0,V._u)("channel_header.setPurpose","Edit Purpose")}),u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelRename",show:!r&&t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL,modalId:R.r8.RENAME_CHANNEL,dialogType:Hu,dialogProps:{channel:t},text:(0,V._u)("channel_header.rename","Rename")})),u.createElement(hp.Z,{channelId:t.id,teamId:t.team_id,permissions:[he.Pl.CONVERT_PUBLIC_CHANNEL_TO_PRIVATE]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelConvertToPrivate",show:!r&&!n&&t.type===R.gT.OPEN_CHANNEL,modalId:R.r8.CONVERT_CHANNEL,dialogType:Gu,dialogProps:{channelId:t.id,channelDisplayName:t.display_name},text:(0,V._u)("channel_header.convert","Convert to Private")})),u.createElement(hp.Z,{channelId:t.id,teamId:t.team_id,permissions:[g]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelArchiveChannel",show:!r&&!n&&t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL,modalId:R.r8.DELETE_CHANNEL,dialogType:zu,dialogProps:{channel:t,penultimateViewedChannelName:l},text:(0,V._u)("channel_header.delete","Archive Channel")}))),u.createElement(ts.Z.Group,null,_),u.createElement(ts.Z.Group,{divider:b},o&&u.createElement(zm,{channel:t,isDropdown:!0}),u.createElement(bp,{id:"channelLeaveChannel",channel:t,isDefault:n,isGuestUser:(0,V.a_)(e)}),u.createElement(wp,{id:"channelCloseMessage",channel:t,currentUser:e}),u.createElement(Cp,{id:"channelCloseChannel",isArchived:r})),u.createElement(ts.Z.Group,{divider:b},u.createElement(hp.Z,{channelId:t.id,teamId:t.team_id,permissions:[f]},u.createElement(ts.Z.ItemToggleModalRedux,{id:"channelUnarchiveChannel",show:r&&!n&&t.type!==R.gT.DM_CHANNEL&&t.type!==R.gT.GM_CHANNEL,modalId:R.r8.UNARCHIVE_CHANNEL,dialogType:Ju,dialogProps:{channel:t},text:(0,V._u)("channel_header.unarchive","Unarchive Channel")}))))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lp,"propTypes",{user:m().object.isRequired,channel:m().object.isRequired,isDefault:m().bool.isRequired,isFavorite:m().bool.isRequired,isReadonly:m().bool.isRequired,isMuted:m().bool.isRequired,isArchived:m().bool.isRequired,isMobile:m().bool.isRequired,penultimateViewedChannelName:m().string.isRequired,pluginMenuItems:m().arrayOf(m().object),isLicensedForLDAPGroups:m().bool});class Dp extends u.PureComponent{render(){return u.createElement(rn.Z,{in:this.props.show,classNames:"mobile-channel-header-dropdown",enter:!0,exit:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:350,exit:350}},this.props.children)}}function kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Dp,"propTypes",{children:m().node,show:m().bool.isRequired});class xp extends u.PureComponent{constructor(...e){super(...e),kp(this,"getChannelTitle",(()=>{const{user:e,channel:t,teammateId:n,displayName:s}=this.props;return t.type===R.gT.DM_CHANNEL?e.id===n?u.createElement(ve.Z,{id:"channel_header.directchannel.you",defaultMessage:"{displayname} (you)",values:{displayname:s}}):s:t.display_name}))}render(){const{teammateIsBot:e,teammateStatus:t}=this.props;let n;return e||(n=u.createElement(yo.Z,{status:t})),u.createElement(ns.Z,{animationComponent:Dp},u.createElement("a",null,u.createElement("span",{className:"heading"},n,this.getChannelTitle()),u.createElement(ve.Z,{id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"},(e=>u.createElement("span",{className:"fa fa-angle-down header-dropdown__icon",title:e})))),u.createElement(ve.Z,{id:"channel_header.menuAriaLabel",defaultMessage:"Channel Menu"},(e=>u.createElement(ts.Z,{ariaLabel:e},u.createElement(Fp,{isMobile:!0}),u.createElement("div",{className:"Menu__close visible-xs-block"},"×")))))}}kp(xp,"propTypes",{user:m().object.isRequired,channel:m().object.isRequired,teammateId:m().string,teammateIsBot:m().bool,teammateStatus:m().string,displayName:m().string.isRequired});const Up=(0,yn.P1)(ee.TB,r.rc,((e,t)=>e.type!==R.gT.DM_CHANNEL?null:V.uD(e.name,t))),Zp=(0,yn.P1)(r.aH,Up,((e,t)=>t?e[t]:null)),jp=Zm,Fp=(0,a.connect)((e=>({user:(0,r.ts)(e),channel:(0,ee.TB)(e),isDefault:(0,ee.r4)(e),isFavorite:(0,ee.CA)(e),isMuted:(0,ee.D7)(e),isReadonly:(0,ee.ui)(e),isArchived:(0,ee.Vl)(e),penultimateViewedChannelName:(0,ne.TS)(e)||(0,ee.fG)(e,(0,o.ev)(e)),pluginMenuItems:e.plugins.components.ChannelHeader||[],isLicensedForLDAPGroups:"true"===e.entities.general.license.LDAPGroups})))(Lp),Hp=(0,a.connect)((e=>{const t=(0,r.ts)(e),n=(0,ee.TB)(e),s=Up(e);let a=!1,i="";if(s){const t=(0,r.PR)(e,s);a=t&&t.is_bot,i=V.hI(e,t)}return{user:t,channel:n,teammateId:s,teammateIsBot:a,teammateStatus:Zp(e),displayName:i}}))(xp);class qp extends u.PureComponent{render(){return this.props.mentionCount?u.createElement("span",{className:"badge badge-notify"},this.props.mentionCount):this.props.messageCount?u.createElement("span",{className:"badge badge-notify"},"•"):null}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(qp,"propTypes",{mentionCount:m().number.isRequired,messageCount:m().number.isRequired});const Bp=(0,a.connect)((function(e){const{mentionCount:t,messageCount:n}=(0,ee.i8)(e);return{mentionCount:t,messageCount:n}}))(qp),Gp=e=>u.createElement("button",{key:"navbar-toggle-sidebar",type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:e.actions.toggleLhs},u.createElement("span",{className:"sr-only"},u.createElement(ve.Z,{id:"navbar.toggle2",defaultMessage:"Toggle sidebar"})),u.createElement(qo.Z,{className:"style--none icon icon__menu icon--sidebarHeaderTextColor"}),u.createElement(Bp,null));Gp.propTypes={actions:m().shape({toggleLhs:m().func.isRequired}).isRequired};const Vp=Gp,Wp=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({toggleLhs:Qi.ZN},e)})))(Vp),zp=e=>u.createElement("button",{key:"navbar-toggle-menu",type:"button",className:"navbar-toggle navbar-right__icon menu-toggle pull-right","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:e.actions.toggleRhsMenu},u.createElement(qo.Z,null));zp.propTypes={actions:m().shape({toggleRhsMenu:m().func.isRequired}).isRequired};const Yp=zp,Kp=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({toggleRhsMenu:bt.js},e)})))(Yp);function Jp(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 22 22",role:"img","aria-label":t({id:"generic_icons.info",defaultMessage:"Info Icon"})},u.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},u.createElement("g",{transform:"translate(-388.000000, -18.000000)",fill:"inherit"},u.createElement("g",null,u.createElement("g",{transform:"translate(381.000000, 11.000000)"},u.createElement("g",{transform:"translate(7.000000, 7.000000)"},u.createElement("path",{d:"M11,22 C4.92486775,22 0,17.0751322 0,11 C0,4.92486775 4.92486775,0 11,0 C17.0751322,0 22,4.92486775 22,11 C22,17.0751322 17.0751322,22 11,22 Z M11,20.7924685 C16.408231,20.7924685 20.7924685,16.408231 20.7924685,11 C20.7924685,5.59176898 16.408231,1.20753149 11,1.20753149 C5.59176898,1.20753149 1.20753149,5.59176898 1.20753149,11 C1.20753149,16.408231 5.59176898,20.7924685 11,20.7924685 Z M10.1572266,16.0625 L10.1572266,8.69335938 L11.3466797,8.69335938 L11.3466797,16.0625 L10.1572266,16.0625 Z M10.7519531,7.50390625 C10.3417969,7.50390625 10,7.16210938 10,6.75195312 C10,6.33496094 10.3417969,6 10.7519531,6 C11.1689453,6 11.5039062,6.33496094 11.5039062,6.75195312 C11.5039062,7.16210938 11.1689453,7.50390625 10.7519531,7.50390625 Z"}))))))))}var Qp=n(6429);function Xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $p={mentionHighlight:!1};class eh extends u.PureComponent{constructor(...e){super(...e),Xp(this,"headerOverlayRef",u.createRef()),Xp(this,"showEditChannelHeaderModal",(()=>{this.hide();const{actions:e,channel:t}=this.props,n={modalId:R.r8.EDIT_CHANNEL_HEADER,dialogType:Mu,dialogProps:{channel:t}};e.openModal(n)})),Xp(this,"hide",(()=>{this.headerOverlayRef.current&&this.headerOverlayRef.current.hide()})),Xp(this,"handleFormattedTextClick",(e=>V.QJ(e,this.props.currentRelativeTeamUrl)))}componentDidUpdate(e){var t,n;const s=!e.isRHSOpen&&this.props.isRHSOpen,a=(null===(t=e.channel)||void 0===t?void 0:t.id)!==(null===(n=this.props.channel)||void 0===n?void 0:n.id);(s||a)&&this.hide()}render(){const{channel:e,isReadOnly:t}=this.props;let n=null;if(e.header)n=u.createElement(Ft.Z,{message:e.header,options:$p});else{let e;if(!t){const t=u.createElement("a",{href:"#",onClick:this.showEditChannelHeaderModal},u.createElement(ve.Z,{id:"navbar.click",defaultMessage:"Click here"}));e=u.createElement(u.Fragment,null,u.createElement("br",null),u.createElement(ve.Z,{id:"navbar.clickToAddHeader",defaultMessage:"{clickHere} to add one.",values:{clickHere:t}}))}n=u.createElement("div",null,u.createElement(ve.Z,{id:"navbar.noHeader",defaultMessage:"No channel header yet."}),e)}const s=u.createElement(Qp.Z,{popoverStyle:"info",placement:"bottom",className:"navbar__popover",id:"header-popover"},u.createElement("span",{onClick:this.handleFormattedTextClick},n),u.createElement("div",{className:"close visible-xs-block",onClick:this.hide},"×"));return u.createElement(Pt.Z,{ref:this.headerOverlayRef,trigger:"click",placement:"bottom",overlay:s,className:"description",rootClose:!0},u.createElement("button",{className:"navbar-toggle navbar-right__icon navbar-info-button pull-right","aria-label":V._u("accessibility.button.Info","Info")},u.createElement(Jp,{className:"icon icon__info","aria-hidden":"true"})))}}Xp(eh,"propTypes",{channel:m().object.isRequired,isReadOnly:m().bool.isRequired,isRHSOpen:m().bool,currentRelativeTeamUrl:m().string,actions:m().shape({openModal:m().func.isRequired}).isRequired});const th=(0,a.connect)(null,(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h},e)}}))(eh);var nh=n(2192);function sh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ah extends u.PureComponent{constructor(...e){super(...e),sh(this,"handleClick",(()=>{this.props.actions.openRHSSearch()}))}render(){return u.createElement("button",{type:"button",className:"navbar-toggle navbar-right__icon navbar-search pull-right",onClick:this.handleClick,"aria-label":(0,V._u)("accessibility.button.Search","Search")},u.createElement(nh.Z,{className:"icon icon__search","aria-hidden":"true"}))}}sh(ah,"propTypes",{actions:m().shape({openRHSSearch:m().func.isRequired}).isRequired});const ih=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({openRHSSearch:bt.Xv},e)})))(ah);function rh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class oh extends u.PureComponent{constructor(...e){super(...e),rh(this,"handleClick",(()=>{const{user:e,channel:t,actions:{updateChannelNotifyProps:n}}=this.props;n(e.id,t.id,{mark_unread:R.XH.ALL})}))}render(){return u.createElement("button",{type:"button",className:"navbar-toggle icon icon__mute",onClick:this.handleClick},u.createElement("span",{className:"fa fa-bell-slash-o icon"}))}}rh(oh,"propTypes",{user:m().shape({id:m().string.isRequired}).isRequired,channel:m().shape({id:m().string.isRequired}).isRequired,actions:m().shape({updateChannelNotifyProps:m().func.isRequired}).isRequired});const lh=(0,a.connect)(null,(e=>({actions:(0,s.bindActionCreators)({updateChannelNotifyProps:J.n$},e)})))(oh);function ch(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class dh extends u.PureComponent{constructor(...e){super(...e),ch(this,"hideSidebars",(e=>{V.tq()&&(this.props.actions.closeRhs(),"navbar-toggle"!==e.target.className&&"icon-bar"!==e.target.className&&(this.props.actions.closeLhs(),this.props.actions.closeRhsMenu()))}))}componentDidMount(){document.querySelector(".inner-wrap").addEventListener("click",this.hideSidebars)}componentWillUnmount(){document.querySelector(".inner-wrap").removeEventListener("click",this.hideSidebars)}render(){const{user:e,channel:t,isMuted:n,isReadOnly:s,isRHSOpen:a,currentRelativeTeamUrl:i,inGlobalThreads:r}=this.props;let o;return r?o=u.createElement(ve.Z,{id:"globalThreads.heading",defaultMessage:"Followed threads"}):t&&(o=u.createElement(u.Fragment,null,u.createElement(Hp,null),n&&u.createElement(lh,{user:e,channel:t}))),u.createElement("nav",{id:"navbar",className:"navbar navbar-default navbar-fixed-top",role:"navigation"},u.createElement("div",{className:"container-fluid theme"},u.createElement("div",{className:"navbar-header"},u.createElement(Wp,null),u.createElement("div",{className:Te()("navbar-brand",{GlobalThreads___title:r})},o),u.createElement("div",{className:"spacer"}),t&&u.createElement(th,{channel:t,isReadOnly:s,isRHSOpen:a,currentRelativeTeamUrl:i}),u.createElement(ih,null),t&&u.createElement(zm,{channel:t,isDropdown:!1}),u.createElement(Kp,null))))}}ch(dh,"propTypes",{user:m().object.isRequired,channel:m().object,isReadOnly:m().bool,isMuted:m().bool,isRHSOpen:m().bool,currentRelativeTeamUrl:m().string,inGlobalThreads:m().bool,actions:m().shape({closeLhs:m().func.isRequired,closeRhs:m().func.isRequired,closeRhsMenu:m().func.isRequired}).isRequired});const mh=(0,yn.P1)(ee.HU,(e=>(0,nr.Mm)(e))),uh=(0,g.EN)((0,a.connect)(((e,{location:{pathname:t}})=>({user:(0,r.ts)(e),channel:(0,ee.TB)(e),isMuted:mh(e),isReadOnly:(0,ee.ui)(e),isRHSOpen:(0,_t.aC)(e),currentRelativeTeamUrl:(0,o.gm)(e),inGlobalThreads:Boolean((0,g.LX)(t,{path:"/:team/threads/:threadIdentifier?"}))})),(e=>({actions:(0,s.bindActionCreators)({closeLhs:Qi.xv,closeRhs:bt.Lg,closeRhsMenu:bt.Wj},e)})))(dh)),ph=new RegExp("^[a-zA-Z0-9]{".concat(26,"}__[a-zA-Z0-9]{").concat(26,"}$"));function hh({match:e,history:t}){return async(n,s)=>{const a=s(),{path:i,identifier:l,team:c}=e.params;if(!l)return{data:void 0};const d=(0,o.Xv)(a,c);if(!d)return{data:void 0};switch(function(e,t,n){if("group"===t){const t=(0,ee.ZO)(e,n),s=(0,ee.Gc)(e).find((e=>e.name===n));return 26===n.length?t||s?"channel_name":"channel_id":!t&&!s&&40===n.length||t&&t.type===R.gT.GM_CHANNEL||s&&s.type===R.gT.GM_CHANNEL?"group_channel_group_id":function(e){return 54===e.length&&ph.test(e)}(n)?"direct_channel_user_ids":"channel_name"}return"messages"===t?0===n.indexOf("@")?"direct_channel_username":n.indexOf("@")>0?"direct_channel_email":26===n.length?"direct_channel_user_id":40===n.length?"group_channel_group_id":"error":"error"}(a,i,l)){case"channel_name":n(function(e,t){return async(n,s)=>{const a=s(),{team:i,identifier:l}=e.params,c=l.toLowerCase(),d=(0,o.Xv)(a,i);if(!d)return{data:void 0};let m,u=(0,ee.iC)(a,d.id)[c];if(!u){const e=await n((0,J.Ft)(i,c,!0));"data"in e&&(u=e.data)}if(u&&(m=a.entities.channels.myMembers[u.id],!m)){const e=await n((0,J.hg)(u.id,(0,r.rc)(a)));"data"in e&&(m=e.data)}if(!u||!m){const o=(0,r.ts)(s());if(V.$O(null==o?void 0:o.roles)&&u.type===R.gT.PRIVATE_CHANNEL){const e=await n((0,tr.Jf)(d,u));if("data"in e&&!e.data.join)return{data:void 0}}const l=await n((0,J.JJ)((0,r.rc)(a),d.id,"",c));if("error"in l){if(!u){const s=await n((0,J.Ft)(i,c,!0));if("error"in s||0===s.data.delete_at)return await n((0,J.oO)(d.id)),Eh(e,t,(0,ee.fG)(a,d.id)),{data:void 0};u=s.data}}else u=l.data.channel}return u.type===R.gT.DM_CHANNEL?n(fh(e,t)):u.type===R.gT.GM_CHANNEL?t.replace("/".concat(i,"/messages/").concat(u.name)):bh(u),{data:void 0}}}(e,t));break;case"channel_id":n(function(e,t){return async(n,s)=>{const a=s(),{team:i,identifier:l}=e.params,c=l.toLowerCase();let d=(0,ee.mr)(a,c);const m=a.entities.channels.myMembers[c],u=(0,o.Xv)(a,i);if(!d||!m){const s=await n((0,J.JJ)((0,r.rc)(a),u.id,c,""));if("error"in s)return await n((0,J.oO)(u.id)),Eh(e,t,(0,ee.fG)(a,u.id)),{data:void 0};d=s.data.channel}return d.type===R.gT.DM_CHANNEL?n(gh(e,t,V.uD(d.name,(0,r.rc)(a)))):d.type===R.gT.GM_CHANNEL?t.replace("/".concat(i,"/messages/").concat(d.name)):t.replace("/".concat(i,"/group/").concat(d.name)),{data:void 0}}}(e,t));break;case"group_channel_group_id":n(function(e,t){return async(n,s)=>{const a=s(),{identifier:i,team:l}=e.params,c=i.toLowerCase();t.replace(e.url.replace("/group/","/messages/"));let d=(0,ee.ZO)(a,c);const m=(0,o.Xv)(a,l);if(!d){const s=await n((0,J.JJ)((0,r.rc)(a),m.id,"",c));if("error"in s)return await n((0,J.oO)(m.id)),_h(e,t,(0,ee.fG)(a,m.id)),{data:void 0};d=s.data.channel}return n((0,J.xO)(d.id)),bh(d),{data:void 0}}}(e,t));break;case"direct_channel_username":n(function(e,t){return async(n,s)=>{const a=s(),{team:i,identifier:l}=e.params,c=l.slice(1,l.length).toLowerCase(),d=(0,o.Xv)(a,i);let m=(0,r.dQ)(a,c);if(!m){const s=await n((0,K.dQ)(c));if("error"in s)return await n((0,J.oO)(d.id)),_h(e,t,(0,ee.fG)(a,d.id)),{data:void 0};m=s.data}const u=await n((0,gr.Pn)(m.id));return"error"in u?(await n((0,J.oO)(d.id)),_h(e,t,(0,ee.fG)(a,d.id)),{data:void 0}):(bh(u.data),{data:void 0})}}(e,t));break;case"direct_channel_email":n(function(e,t){return async(n,s)=>{const a=s(),{team:i,identifier:l}=e.params,c=l.toLowerCase(),d=(0,o.Xv)(a,i);let m=(0,r.CX)(a,c);if(!m){const s=await n((0,K.CX)(c));if("error"in s)return await n((0,J.oO)(d.id)),_h(e,t,(0,ee.fG)(a,d.id)),{data:void 0};m=s.data}return t.replace("/".concat(i,"/messages/@").concat(m.username)),{data:void 0}}}(e,t));break;case"direct_channel_user_ids":n(fh(e,t));break;case"direct_channel_user_id":n(gh(e,t,l));break;case"error":await n((0,J.oO)(d.id)),_h(e,t,(0,ee.fG)(a,d.id))}return{data:void 0}}}function gh(e,t,n){return async(s,a)=>{const i=a(),{team:l}=e.params,c=(0,o.Xv)(i,l);let d=(0,r.PR)(i,n);if(!d){const a=await s((0,K.PR)(n));if("error"in a)return await s((0,J.oO)(c.id)),_h(e,t,(0,ee.fG)(i,c.id)),{data:void 0};d=a.data}return t.replace("/".concat(l,"/messages/@").concat(d.username)),{data:void 0}}}function fh(e,t){return async(n,s)=>{const a=s(),{team:i,identifier:l}=e.params,c=V.uD(l.toLowerCase(),(0,r.rc)(s())),d=(0,o.Xv)(a,i);let m=(0,r.PR)(a,c);if(!m){const s=await n((0,K.PR)(c));if("error"in s)return await n((0,J.oO)(d.id)),_h(e,t,(0,ee.fG)(a,d.id)),{data:void 0};m=s.data}return t.replace("/".concat(i,"/messages/@").concat(m.username)),{data:void 0}}}function bh(e){y.Gx(e)}function _h(e,t,n){const{team:s}=e.params;t.push(s?"/".concat(s,"/group/").concat(n):"/")}async function Eh(e,t,n){const{team:s}=e.params;t.push(s?"/error?type=channel_not_found&returnTo=/".concat(s,"/group/").concat(n):"/")}var Ch=n(62047),yh=n(8679),vh=n.n(yh),wh=n(33693);function Sh(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("button",Object.assign({},e,{"aria-label":t({id:"members_popover.button.message",defaultMessage:"message"}),className:"style--none icon icon__message",tabIndex:-1}),u.createElement("svg",{width:"18px",height:"16px",viewBox:"0 0 18 16",role:"img","aria-label":t({id:"generic_icons.message",defaultMessage:"Message Icon"})},u.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},u.createElement("g",{transform:"translate(-200.000000, -174.000000)",fill:"inherit"},u.createElement("g",{transform:"translate(200.000000, 174.000000)"},u.createElement("path",{d:"M7.2546625,1.42801356 C10.458475,1.42801356 12.999475,3.24528136 12.999475,5.52023729 C12.9895,8.04188475 10.6062625,9.89326102 7.40245,9.89326102 C7.40245,9.89326102 6.9134125,9.91229831 6.4115125,9.83747119 L5.82535,9.79622373 L5.15335,10.3586169 C4.997425,10.5397356 4.3199125,11.1095322 3.736375,11.4794373 C4.0915375,10.4598847 4.07605,10.1370441 4.07605,10.1370441 L4.1251375,9.49004068 L3.55315,9.19549153 C2.0986375,8.44616271 1.4444875,6.88616271 1.4444875,5.52023729 C1.4444875,3.24528136 4.05085,1.42801356 7.2546625,1.42801356 M7.2546625,0.370386441 C3.465475,0.370386441 0.3944875,2.65829831 0.3944875,5.52023729 C0.3944875,7.3028678 1.2623125,9.20342373 3.0751375,10.1370441 C3.0751375,10.1478847 3.07225,10.1560814 3.07225,10.1679797 C3.07225,10.9426915 2.43175,12.0048136 2.1794875,12.4429356 L2.1805375,12.4429356 C2.1605875,12.4902644 2.148775,12.5420881 2.148775,12.5973492 C2.148775,12.8141627 2.322025,12.9881424 2.5375375,12.9881424 C2.5693,12.9881424 2.6210125,12.9815322 2.6393875,12.9815322 C2.6446375,12.9815322 2.6467375,12.9815322 2.6462125,12.9831186 C3.986275,12.762339 5.9642125,11.2435864 6.2576875,10.8837288 C6.5585125,10.928678 6.761425,10.9358169 7.0136875,10.9358169 C7.120525,10.9358169 7.2347125,10.9342305 7.3696375,10.9342305 C11.1583,10.9342305 14.094625,8.75446102 14.049475,5.52023729 C14.049475,2.65829831 11.0435875,0.370386441 7.2546625,0.370386441"}),u.createElement("path",{d:"M17.2055125,9.79172881 C17.2055125,8.35811525 16.6498,7.26532203 15.2624875,6.4451322 C15.228625,6.82614237 15.120475,7.23517966 15.0031375,7.59477288 C15.8998375,8.21903729 16.1555125,8.85995932 16.1555125,9.79172881 C16.1555125,10.9323797 15.62815,11.7597085 14.40175,12.3919051 L13.879375,12.653139 C13.879375,12.653139 13.9337125,14.0082237 14.0140375,14.3511593 C12.9895,13.5946915 12.6374875,12.9630237 12.6374875,12.9630237 L12.08545,13.0486915 C11.86705,13.0809492 11.276425,13.0812136 11.276425,13.0812136 C9.85,13.0812136 8.7929125,12.7388068 7.8909625,12.0278169 C8.135875,12.0124814 6.42805,12.0132746 6.3899875,12.0468542 C7.4326375,13.3297559 9.1373125,14.1388407 11.276425,14.1388407 C11.3927125,14.1388407 11.49115,14.1398983 11.58355,14.1398983 C11.801425,14.1398983 11.9773,14.1338169 12.237175,14.095478 C12.491275,14.4058915 13.914025,15.7728746 15.0724375,15.9629831 C15.0719125,15.9619254 15.073225,15.9619254 15.078475,15.9619254 C15.0939625,15.9619254 15.13885,15.967478 15.16615,15.967478 C15.3522625,15.967478 15.5024125,15.8167661 15.5024125,15.6293017 C15.5024125,15.5817085 15.49165,15.5367593 15.47485,15.4960407 L15.4759,15.4960407 C15.258025,15.117939 14.9159875,14.0129831 14.9159875,13.3435051 C14.9159875,13.3331932 14.9128375,13.3260542 14.9128375,13.3168 C16.4797,12.5095661 17.2055125,11.3321627 17.2055125,9.79172881"}))))))}n(57915);var Th=n(58423);function Ph(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Mh extends u.PureComponent{constructor(...e){super(...e),Ph(this,"handleClick",(()=>{this.props.onItemClick(this.props.user)}))}render(){if(!this.props.user)return null;if(!this.props.displayName)return null;let e,t;this.props.showMessageIcon&&(e=u.createElement(Sh,{"aria-hidden":"true"})),this.props.user.remote_id&&(t=u.createElement(Th.Z,{className:"shared-user-icon",withTooltip:!0}));const n=this.props.user.is_bot?" more-modal__row--bot":"",s=this.props.user.is_bot?null:this.props.status;return u.createElement("div",{"data-testid":"popoverListMembersItem",tabIndex:"0","aria-label":this.props.displayName.toLowerCase(),className:"more-modal__row"+n,onClick:this.handleClick},u.createElement(Wr.Z,{src:q.je.getProfilePictureUrl(this.props.user.id,this.props.user.last_picture_update),status:s,size:"md"}),u.createElement("div",{className:"more-modal__details d-flex whitespace--nowrap"},u.createElement("div",{className:"more-modal__name"},u.createElement("span",null,this.props.displayName),u.createElement(Hs.Z,{show:Boolean(this.props.user.is_bot),className:"badge-popoverlist"}),u.createElement(Fs.Z,{show:V.a_(this.props.user),className:"badge-popoverlist"})),u.createElement(Yr.Z,{userID:this.props.user.id,showTooltip:!0,emojiSize:15,emojiStyle:{marginBottom:-3,marginLeft:4}}),t),u.createElement("div",{className:"more-modal__actions"},e))}}Ph(Mh,"propTypes",{showMessageIcon:m().bool.isRequired,onItemClick:m().func.isRequired,status:m().string.isRequired,user:m().object.isRequired,displayName:m().string.isRequired}),Ph(Mh,"defaultProps",{status:R.gg.OFFLINE});const Nh=(0,a.connect)((function(e,t){return{displayName:(0,V.hI)(e,t.user)}}))(Mh);function Ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Rh extends u.PureComponent{constructor(e){super(e),Ih(this,"handleShowDirectChannel",(e=>{const{actions:t}=this.props,n=e.id;n&&t.openDirectChannelToUserId(n).then((({data:e})=>{e&&P.m.push(this.props.teamUrl+"/group/"+e.name),this.closePopover()}))})),Ih(this,"closePopover",(()=>{this.setState({showPopover:!1})})),Ih(this,"showMembersModal",(e=>{e.preventDefault(),this.closePopover();const t={modalId:R.r8.CHANNEL_MEMBERS,dialogProps:this.props,dialogType:bu};this.props.actions.openModal(t)})),Ih(this,"handleGetProfilesInChannel",(()=>{this.setState({showPopover:!this.state.showPopover}),this.props.actions.loadProfilesAndStatusesInChannel(this.props.channel.id,0,void 0,"status",{active:!0})})),Ih(this,"getTargetPopover",(()=>(this.membersList.current.focus(),this.refs.member_popover_target))),this.membersList=u.createRef(),this.state={showPopover:!1,users:e.users,statuses:e.statuses}}static getDerivedStateFromProps(e,t){return e.users!==t.users||e.statuses!==t.statuses?{users:e.users,statuses:e.statuses}:null}render(){const e=this.props.channel.type===R.gT.DM_CHANNEL,t=this.props.sortedUsers.map((t=>u.createElement(Nh,{key:t.id,onItemClick:this.handleShowDirectChannel,showMessageIcon:this.props.currentUserId!==t.id&&!e,status:this.props.statuses[t.id],user:t}))),n=0!==this.props.channel.delete_at;let s;if(this.props.channel.type!==R.gT.GM_CHANNEL&&!n){let e=u.createElement(ve.Z,{id:"members_popover.manageMembers",defaultMessage:"Manage Members"});!(this.props.channel.name===R.gT.DEFAULT_CHANNEL)&&this.props.manageMembers||(e=u.createElement(ve.Z,{id:"members_popover.viewMembers",defaultMessage:"View Members"})),s=u.createElement("div",{className:"more-modal__button",key:"popover-member-more"},u.createElement("button",{className:"btn btn-link","data-testid":"membersModal",onClick:this.showMembersModal},e))}const a=this.props.memberCount;let i="-";a>0&&(i=a.toString());const r=u.createElement(ve.Z,{id:"members_popover.title",defaultMessage:"Channel Members"}),o=u.createElement(Tt.Z,{id:"channelMembersTooltip"},u.createElement(ve.Z,{id:"channel_header.channelMembers",defaultMessage:"Members"})),l="".concat(V._u("channel_header.channelMembers","Members")).toLowerCase();return u.createElement("div",{id:"channelMember"},u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"bottom",disabled:this.state.showPopover,overlay:o},u.createElement("button",{id:"member_popover","aria-label":l,className:"member-popover__trigger channel-header__icon channel-header__icon--left channel-header__icon--wide "+(this.state.showPopover?"channel-header__icon--active":""),ref:"member_popover_target",onClick:this.handleGetProfilesInChannel},u.createElement("div",{className:"d-flex align-items-center"},u.createElement("i",{"aria-hidden":"true",className:"icon icon-account-outline channel-header__members"}),u.createElement("span",{id:"channelMemberCountText",className:"icon__text"},i)))),u.createElement(ln.Z,{rootClose:!0,onHide:this.closePopover,show:this.state.showPopover,target:this.getTargetPopover,placement:"bottom"},u.createElement(Qp.Z,{id:"member-list-popover",className:"a11y__popup member-list__popover"},u.createElement("div",{className:"more-modal__header"},r,this.props.channel.group_constrained&&u.createElement("div",{className:"subhead"},u.createElement(ve.Z,{id:"channel_header.groupConstrained",defaultMessage:"Members managed by linked groups."}))),u.createElement("div",{className:"more-modal__body"},u.createElement("div",{tabIndex:"-1",role:"presentation",ref:this.membersList,className:"more-modal__list"},t)),s)))}}Ih(Rh,"propTypes",{channel:m().object.isRequired,statuses:m().object.isRequired,users:m().array.isRequired,memberCount:m().number,currentUserId:m().string.isRequired,teamUrl:m().string,manageMembers:m().bool.isRequired,actions:m().shape({openModal:m().func.isRequired,loadProfilesAndStatusesInChannel:m().func.isRequired,openDirectChannelToUserId:m().func.isRequired}).isRequired,sortedUsers:m().array});const Ah=(0,a.connect)((function(){const e=(0,r.T5)(),t=(e=>(0,yn.P1)(((t,n)=>e(t,n,!0)),r.aH,$.kl,((e,t,n)=>(0,V.Sv)(e,t,n))))(e);return function(n,s){const a=(0,ee.e7)(n)[s.channel.id]||{},i=e(n,s.channel.id,!0),l=(0,r.aH)(n);return{currentUserId:(0,r.rc)(n),memberCount:a.member_count,users:i,statuses:l,teamUrl:(0,o.gm)(n),manageMembers:(0,tr.sz)(n,s.channel),sortedUsers:t(n,s.channel.id)}}}),(function(e){return{actions:(0,s.bindActionCreators)({openModal:I.h,loadProfilesAndStatusesInChannel:at.gz,openDirectChannelToUserId:gr.Pn},e)}}))(Rh);var Oh=n(50512),Lh=n(50499),Dh=n(56936),kh=n(57006);function xh(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 18 18",version:"1.1",role:"img","aria-label":t({id:"generic_icons.plugins",defaultMessage:"Plugins"})},u.createElement("path",{d:"M14.58 9.14399L17.136 6.60599C17.304 6.42599 17.388 6.20999 17.388 5.95799C17.388 5.70599 17.298 5.49599 17.118 5.32799C16.95 5.14799 16.74 5.05799 16.488 5.05799C16.236 5.05799 16.026 5.14799 15.858 5.32799L13.302 7.86599L10.134 4.69799L12.672 2.14199C12.852 1.97399 12.942 1.76399 12.942 1.51199C12.942 1.25999 12.852 1.04999 12.672 0.881987C12.504 0.701987 12.294 0.611987 12.042 0.611987C11.79 0.611987 11.574 0.695987 11.394 0.863987L8.856 3.41999L6.318 0.863987C6.138 0.695987 5.922 0.611987 5.67 0.611987C5.418 0.611987 5.208 0.695987 5.04 0.863987V0.881987C4.86 1.04999 4.77 1.25999 4.77 1.51199C4.77 1.76399 4.86 1.97399 5.04 2.14199L5.67 2.78999L2.808 5.65199C2.016 6.44399 1.458 7.36799 1.134 8.42399C0.81 9.45599 0.744 10.512 0.936 11.592C1.128 12.66 1.56 13.632 2.232 14.508L0.27 16.47C0.09 16.638 0 16.848 0 17.1C0 17.352 0.09 17.562 0.27 17.73C0.45 17.898 0.66 17.982 0.9 17.982C1.152 17.994 1.362 17.91 1.53 17.73L3.492 15.768C4.368 16.44 5.34 16.872 6.408 17.064C7.488 17.256 8.544 17.19 9.576 16.866C10.632 16.542 11.556 15.984 12.348 15.192L15.21 12.33L15.858 12.96C16.026 13.14 16.236 13.23 16.488 13.23C16.74 13.23 16.95 13.14 17.118 12.96H17.136C17.304 12.792 17.388 12.582 17.388 12.33C17.388 12.078 17.304 11.862 17.136 11.682L14.58 9.14399ZM11.088 13.914C10.452 14.55 9.702 14.976 8.838 15.192C8.01 15.408 7.176 15.408 6.336 15.192C5.472 14.976 4.722 14.55 4.086 13.914C3.45 13.278 3.024 12.528 2.808 11.664C2.592 10.824 2.592 9.98999 2.808 9.16199C3.024 8.29799 3.45 7.54799 4.086 6.91199L6.948 4.04999L13.95 11.052L11.088 13.914Z"})))}function Uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Zh extends u.PureComponent{constructor(...e){super(...e),Uh(this,"handleRootClose",(()=>{this.props.onClose()}))}render(){const{open:e,rootCloseEvent:t,children:n}=this.props;return u.createElement(Dh.zx,{disabled:!e,onRootClose:this.handleRootClose,event:t},u.createElement("ul",{role:"menu",className:"dropdown-menu channel-header_plugin-dropdown"},n))}}Uh(Zh,"propTypes",{open:m().bool,children:m().node,onClose:m().func.isRequired,rootCloseEvent:m().oneOf(["click","mousedown"]),bsRole:m().string.isRequired});class jh extends u.PureComponent{constructor(...e){super(...e),Uh(this,"handleClick",(e=>{this.props.onClick&&this.props.onClick(e)}))}render(){const{children:e}=this.props;let t="";return this.props.dropdownOpen&&(t=" channel-header__icon--active"),u.createElement("button",{id:"pluginChannelHeaderButtonDropdown",className:"channel-header__icon channel-header__icon--wide "+t,type:"button",onClick:this.handleClick},e)}}Uh(jh,"propTypes",{children:m().node,dropdownOpen:m().bool,onClick:m().func,bsRole:m().string.isRequired});class Fh extends u.PureComponent{constructor(e){super(e),Uh(this,"toggleDropdown",(e=>{this.setState({dropdownOpen:e})})),Uh(this,"onClose",(()=>{this.toggleDropdown(!1)})),Uh(this,"fireActionAndClose",(e=>{e(this.props.channel,this.props.channelMember),this.onClose()})),Uh(this,"createComponentButton",(e=>u.createElement(kh.Z,{key:"channelHeaderButton"+e.id,buttonClass:"channel-header__icon",iconComponent:e.icon,onClick:()=>e.action(this.props.channel,this.props.channelMember),buttonId:e.id,tooltipKey:"plugin",tooltipText:e.tooltipText?e.tooltipText:e.dropdownText}))),Uh(this,"onBindingClick",(async e=>{const{channel:t,intl:n}=this.props;if(!e.call)return;const s=(0,qm.qM)(e.app_id,e.location,this.props.channel.id,this.props.channel.team_id),a=(0,qm.Zw)(e.call,s),i=await this.props.actions.doAppCall(a,Fm._L.SUBMIT,n);if(i.error){const e=i.error,s=e.error||n.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error occurred."});return void this.props.actions.postEphemeralCallResponseForChannel(e,s,t.id)}const r=i.data;switch(r.type){case Fm.Bp.OK:r.markdown&&this.props.actions.postEphemeralCallResponseForChannel(r,r.markdown,t.id);break;case Fm.Bp.NAVIGATE:case Fm.Bp.FORM:break;default:{const e=this.props.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:r.type});this.props.actions.postEphemeralCallResponseForChannel(r,e,t.id)}}})),Uh(this,"createAppBindingButton",(e=>u.createElement(kh.Z,{key:"channelHeaderButton_".concat(e.app_id,"_").concat(e.location),buttonClass:"channel-header__icon style--none",iconComponent:u.createElement("img",{src:e.icon,width:"24",height:"24"}),onClick:()=>this.onBindingClick(e),buttonId:e.location||"",tooltipKey:"plugin",tooltipText:e.label}))),Uh(this,"createDropdown",((e,t)=>{const n=e.filter((e=>e.action)).map((e=>u.createElement("li",{key:"channelHeaderPlug"+e.id},u.createElement("a",{href:"#",className:"d-flex align-items-center",onClick:()=>this.fireActionAndClose(e.action)},u.createElement("span",{className:"d-flex align-items-center overflow--ellipsis"},e.icon),u.createElement("span",null,e.dropdownText)))));let s=n;return this.props.appsEnabled&&(s=n.concat(t.filter((e=>e.call)).map((e=>u.createElement("li",{key:"channelHeaderPlug"+e.app_id+e.location},u.createElement("a",{href:"#",className:"d-flex align-items-center",onClick:()=>this.fireActionAndClose((()=>this.onBindingClick(e)))},u.createElement("span",{className:"d-flex align-items-center overflow--ellipsis icon"},u.createElement("img",{src:e.icon})),u.createElement("span",null,e.label))))))),u.createElement("div",{className:"flex-child"},u.createElement(Lh.Z,{id:"channelHeaderPlugDropdown",onToggle:this.toggleDropdown,open:this.state.dropdownOpen},u.createElement(jh,{bsRole:"toggle",dropdownOpen:this.state.dropdownOpen},u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:this.state.dropdownOpen?u.createElement(u.Fragment,null):u.createElement(Tt.Z,{id:"removeIcon"},u.createElement("div",{"aria-hidden":!0},u.createElement(ve.Z,{id:"generic_icons.plugins",defaultMessage:"Plugins"})))},u.createElement(u.Fragment,null,u.createElement(xh,{id:"pluginChannelHeaderIcon",className:"icon icon--standard icon__pluginChannelHeader","aria-hidden":"true"}),u.createElement("span",{id:"pluginCount",className:"icon__text"},s.length)))),u.createElement(Zh,{bsRole:"menu",open:this.state.dropdownOpen,onClose:this.onClose},s)))})),this.state={dropdownOpen:!1}}render(){const e=this.props.components||[],t=this.props.appsEnabled&&this.props.appBindings||[];if(0===e.length&&0===t.length)return null;if(e.length+t.length<=15){let n=e.filter((e=>e.icon&&e.action)).map(this.createComponentButton);return this.props.appsEnabled&&(n=n.concat(t.map(this.createAppBindingButton))),n}return this.createDropdown(e,t)}}Uh(Fh,"propTypes",{components:m().array,appBindings:m().array,appsEnabled:m().bool.isRequired,actions:m().shape({}).isRequired}),Uh(Fh,"defaultProps",{components:[],appBindings:[]});const Hh=(0,we.ZP)(Fh),qh=(0,jm.W)(Fm.NR.CHANNEL_HEADER_ICON),Bh=(0,a.connect)((function(e){const t=(0,jm.D)(e);return{components:e.plugins.components.ChannelHeaderButton,appBindings:qh(e),appsEnabled:t,theme:(0,$.gh)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({doAppCall:Hm.cW,postEphemeralCallResponseForChannel:Hm.H7},e)}}))(Hh);var Gh=n(19145),Vh=n(35856),Wh=n(42897),zh=n(1823);class Yh extends u.PureComponent{render(){const e=this.props,{classIcon:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["classIcon"]);return u.createElement("span",n,u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor"},u.createElement("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})))}}const Kh=e=>{(0,u.useEffect)((()=>{(!e.pinnedPost||e.pinnedPost&&!e.pinnedPost.id)&&e.actions.fetchPinnedPosts(e.currentChannel.id)}));const t=t=>{t.preventDefault(),P.m.push("/".concat(e.currentTeamName,"/pl/").concat(e.pinnedPost.id))};if(e.pinnedPost){const n=e.pinnedPost;let s=u.createElement(Sh,{className:"icon-type",onClick:t});n.file_ids&&n.file_ids.length>0&&(s=u.createElement(zh.Z,{className:"icon-type"}));const a=()=>{const t=e.pinnedPost;return u.createElement(Wh.Z,{isPermalink:!1,eventTime:t.create_at,postId:t.id||""})},i=n.message?u.createElement(Gh.Z,{post:n,actions:{toggleEmbedVisibility:()=>{}},appsEnabled:!1},u.createElement(Vh.Z,{post:n,isRHS:!0})):u.createElement("span",{className:"file-attachment-no-message"},u.createElement(ve.Z,{id:"pinned.no_messages",defaultMessage:"Đính kèm tập tin"}));return u.createElement("div",{role:"pinned-application",className:"pinned-item post__content"},u.createElement("div",{className:"post-type"},s,u.createElement("a",{href:"#",onClick:t,className:"post-item__jump"},u.createElement(Yh,{className:"jump-icon"}))),u.createElement("div",{className:"post-content"},u.createElement("div",{className:"post__header"},u.createElement("div",{className:"col__name"},u.createElement(Ht.Z,{userId:e.pinnedPost.user_id||"",overwriteName:!1,disablePopover:!0,isRHS:!0})),u.createElement("div",{className:"col__time"},a())),u.createElement("div",{className:"post__body"},i)))}return u.createElement(u.Fragment,null)},Jh=u.memo(Kh),Qh=(0,a.connect)((function(e){return{currentChannel:(0,ee.TB)(e),currentTeamName:(0,o.kA)(e).name,pinnedPost:(0,wt.Ye)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({fetchPinnedPosts:Yl.Hp},e)}}))(Jh);function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach((function(t){eg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tg={singleline:!0,mentionHighlight:!1,atMentions:!0},ng={singleline:!1,mentionHighlight:!1,atMentions:!0};class sg extends u.PureComponent{constructor(e){super(e),eg(this,"handleClose",(()=>{this.props.actions.goToLastViewedChannel()})),eg(this,"toggleFavorite",(e=>{e.stopPropagation(),this.props.isFavorite?this.props.actions.unfavoriteChannel(this.props.channel.id):this.props.actions.favoriteChannel(this.props.channel.id)})),eg(this,"unmute",(()=>{const{actions:e,channel:t,channelMember:n,currentUser:s}=this.props;if(!n||!s||!t)return;const a={mark_unread:R.XH.ALL};e.updateChannelNotifyProps(s.id,t.id,a)})),eg(this,"mute",(()=>{const{actions:e,channel:t,channelMember:n,currentUser:s}=this.props;if(!n||!s||!t)return;const a={mark_unread:R.XH.MENTION};e.updateChannelNotifyProps(s.id,t.id,a)})),eg(this,"showPinnedPosts",(e=>{e.preventDefault(),this.props.rhsState===R.Hp.PIN?this.props.actions.closeRightHandSide():this.props.actions.showPinnedPosts()})),eg(this,"showChannelFiles",(()=>{this.props.rhsState===R.Hp.CHANNEL_FILES?this.props.actions.closeRightHandSide():this.props.actions.showChannelFiles(this.props.channel.id)})),eg(this,"removeTooltipLink",(()=>{this.toggleFavoriteRef.current.removeAttribute("aria-describedby")})),eg(this,"setTitleMenuOpen",(e=>{this.setState({titleMenuOpen:e})})),eg(this,"showEditChannelHeaderModal",(()=>{this.headerOverlayRef.current&&this.headerOverlayRef.current.hide();const{actions:e,channel:t}=this.props,n={modalId:R.r8.EDIT_CHANNEL_HEADER,dialogType:Mu,dialogProps:{channel:t}};e.openModal(n)})),eg(this,"showChannelHeaderPopover",(e=>{const t=this.headerDescriptionRef.current.getBoundingClientRect();(this.headerPopoverTextMeasurerRef.current.getBoundingClientRect().width>t.width||e.match(/\n{2,}/g))&&this.setState({showChannelHeaderPopover:!0,leftOffset:this.headerDescriptionRef.current.offsetLeft}),this.setState({topOffset:40*this.props.announcementBarCount})})),eg(this,"setPopoverOverlayWidth",(()=>{const e=this.headerDescriptionRef.current.getBoundingClientRect();this.setState({popoverOverlayWidth:e.width+10})})),eg(this,"handleFormattedTextClick",(e=>V.QJ(e,this.props.currentRelativeTeamUrl))),eg(this,"renderCustomStatus",(()=>{const{customStatus:e}=this.props,t=e&&(e.text||e.emoji);return this.props.isCustomStatusEnabled&&t?u.createElement(u.Fragment,null,u.createElement(Yr.Z,{userID:this.props.dmUser.id,emojiStyle:{verticalAlign:"top",margin:"0 4px 1px"}}),u.createElement(xo.Z,{text:e.text})):null})),this.toggleFavoriteRef=u.createRef(),this.headerDescriptionRef=u.createRef(),this.headerPopoverTextMeasurerRef=u.createRef(),this.headerOverlayRef=u.createRef(),this.state={popoverOverlayWidth:0,showChannelHeaderPopover:!1,leftOffset:0,topOffset:0,titleMenuOpen:!1},this.getHeaderMarkdownOptions=(0,Ls.GA)((e=>$h($h({},tg),{},{channelNamesMap:e}))),this.getPopoverMarkdownOptions=(0,Ls.GA)((e=>$h($h({},ng),{},{channelNamesMap:e})))}componentDidMount(){this.props.actions.getCustomEmojisInText(this.props.channel?this.props.channel.header:"")}componentDidUpdate(e){const t=this.props.channel?this.props.channel.header:"";t!==(e.channel?e.channel.header:"")&&this.props.actions.getCustomEmojisInText(t)}render(){const{currentUser:e,gmMembers:t,channel:n,channelMember:s,isMuted:a,isFavorite:i,dmUser:r,rhsState:o,hasGuests:l,teammateNameDisplaySetting:c,contactName:d}=this.props,{formatMessage:m}=this.props.intl,p=V._u("accessibility.sections.channelHeader","channel header region");let h="";l&&(h=u.createElement("span",{className:"has-guest-header"},u.createElement(ve.Z,{id:"channel_header.channelHasGuests",defaultMessage:"This channel has guests"})));const g=0!==n.delete_at;if(V.Qr(n)||V.Qr(s)||V.Qr(e)||!r&&n.type===R.gT.DM_CHANNEL)return u.createElement("div",{className:"channel-header"});const f=n.props&&n.props.channel_mentions;let b=n.display_name,_=null;g&&(_=u.createElement(Nr.Z,{className:"icon icon__archive icon channel-header-archived-icon svg-text-color"}));let E=null;n.shared&&(E=u.createElement(Ir.Z,{className:"shared-channel-icon",channelType:n.type,withTooltip:!0}));const C=n.type===R.gT.DM_CHANNEL,y=n.type===R.gT.GM_CHANNEL;if(C){const t=r.id;b=e.id===t?u.createElement(ve.Z,{id:"channel_header.directchannel.you",defaultMessage:"{displayname} (you) ",values:{displayname:d||(0,jr.fw)(r,c)}}):d||(0,jr.fw)(r,c)+" ",b=u.createElement(u.Fragment,null,b,u.createElement(Fs.Z,{show:V.a_(r)}))}if(y){const s={};for(const n of t){if(n.id===e.id)continue;const t=(0,jr.fw)(n,this.props.teammateNameDisplaySetting);s[t]||(s[t]=[]),s[t].push(n)}b=n.display_name.split(", ").map(((e,t)=>{if(!s[e])return e;const n=s[e].shift();return u.createElement(u.Fragment,{key:n.id},t>0&&", ",e,u.createElement(Fs.Z,{show:V.a_(n)}))})),l&&(h=u.createElement("span",{className:"has-guest-header"},u.createElement(ve.Z,{id:"channel_header.groupMessageHasGuests",defaultMessage:"This group message has guests"})))}let v,w,S;C||(v=u.createElement(Ah,{channel:n})),!C||r.delete_at||r.is_bot||(w=u.createElement(yo.Z,{status:n.status}),S=u.createElement("span",{className:"header-status__text"},u.createElement(ve.Z,{id:"status_dropdown.set_".concat(n.status),defaultMessage:V.cv(n.status)}),this.renderCustomStatus()));let T="channel-header__icon channel-header__icon--wide channel-header__icon--left";o===R.Hp.CHANNEL_FILES&&(T+=" channel-header__icon--active");const P=u.createElement("i",{className:"icon icon-file-document-outline"});let M="channel-header__icon channel-header__icon--wide channel-header__icon--left";o===R.Hp.PIN&&(M+=" channel-header__icon--active");const N=this.props.pinnedPostsCount?u.createElement(u.Fragment,null,u.createElement("i",{"aria-hidden":"true",className:"icon icon-pin-outline channel-header__pin"}),u.createElement("span",{id:"channelPinnedPostCountText",className:"icon__text"},this.props.pinnedPostsCount)):u.createElement("i",{"aria-hidden":"true",className:"icon icon-pin-outline channel-header__pin"});let I;const A=C&&r.is_bot?r.bot_description:n.header;let O;I=A?u.createElement("div",{id:"channelHeaderDescription",className:"channel-header__description",dir:"auto"},w,S,v,u.createElement(kh.Z,{iconComponent:N,ariaLabel:!0,buttonClass:M,buttonId:"channelHeaderPinButton",onClick:this.showPinnedPosts,tooltipKey:"pinnedPosts"}),u.createElement(kh.Z,{iconComponent:P,ariaLabel:!0,buttonClass:T,buttonId:"channelHeaderFilesButton",onClick:this.showChannelFiles,tooltipKey:"channelFiles"}),h):u.createElement("div",{id:"channelHeaderDescription",className:"channel-header__description light"},w,S,v,u.createElement(kh.Z,{iconComponent:N,ariaLabel:!0,buttonClass:M,buttonId:"channelHeaderPinButton",onClick:this.showPinnedPosts,tooltipKey:"pinnedPosts"}),u.createElement(kh.Z,{iconComponent:P,ariaLabel:!0,buttonClass:T,buttonId:"channelHeaderFilesButton",onClick:this.showChannelFiles,tooltipKey:"channelFiles"}),h);let L=null,D="";if(!g){const e=i?{id:"channelHeader.removeFromFavorites",defaultMessage:"Remove from Favorites"}:{id:"channelHeader.addToFavorites",defaultMessage:"Add to Favorites"};D=m(e).toLowerCase(),O=u.createElement(Tt.Z,{id:"favoriteTooltip"},u.createElement(ve.Z,e)),L=u.createElement(Pt.Z,{key:"isFavorite-".concat(i),delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:O,onEntering:this.removeTooltipLink},u.createElement("button",{id:"toggleFavorite",ref:this.toggleFavoriteRef,onClick:this.toggleFavorite,className:"style--none color--link channel-header__favorites "+(this.props.isFavorite?"active":"inactive"),"aria-label":D},u.createElement("i",{className:"icon "+(this.props.isFavorite?"icon-star":"icon-star-outline")})))}const k=u.createElement(Tt.Z,{id:"channelMutedTooltip"},u.createElement(ve.Z,{id:"channelHeader.unmute",defaultMessage:"Unmute"}));let x;a&&(x=u.createElement(Pt.Z,{delayShow:R.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:k},u.createElement("button",{id:"toggleMute",onClick:this.unmute,className:"style--none color--link channel-header__mute inactive","aria-label":m({id:"generic_icons.muted",defaultMessage:"Muted Icon"})},u.createElement("i",{className:"icon icon-bell-off-outline"}))));let U,Z,j=u.createElement(u.Fragment,null,u.createElement(ns.Z,{onToggle:this.setTitleMenuOpen},u.createElement("div",{id:"channelHeaderDropdownButton",className:"channel-header__top"},u.createElement("button",{className:"channel-header__trigger style--none ".concat(this.state.titleMenuOpen?"active":""),"aria-label":m({id:"channel_header.menuAriaLabel",defaultMessage:"Channel Menu"}).toLowerCase()},u.createElement("strong",{role:"heading","aria-level":"2",id:"channelHeaderTitle",className:"heading"},u.createElement("span",null,_,b,E)),u.createElement("span",{id:"channelHeaderDropdownIcon",className:"icon icon-chevron-down header-dropdown-chevron-icon","aria-label":m({id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"}).toLowerCase()}))),u.createElement(jp,null)),L),F=u.createElement(Wr.Z,{src:q.je.getChannelPictureUrl(n.id,n.last_picture_update),size:"xl",status:"",wrapperClass:"ChannelHeader_img",newStatusIcon:!1});return C&&(F=u.createElement(Wr.Z,{src:q.je.getProfilePictureUrl(r.id,r.last_picture_update),size:"xl",status:"",wrapperClass:"ChannelHeader_img",newStatusIcon:!1})),C&&r.is_bot&&(j=u.createElement("div",{id:"channelHeaderDropdownButton",className:"channel-header__top channel-header__bot"},u.createElement("strong",{role:"heading","aria-level":"2",id:"channelHeaderTitle",className:"heading"},u.createElement("span",null,_,b)),u.createElement(Hs.Z,{className:"badge-popoverlist"}),L)),A&&(U=u.createElement("div",{key:"channel-header-description",className:"channel-header-description"},u.createElement(Ft.Z,{message:A,options:this.getPopoverMarkdownOptions(f)}))),this.props.pinnedPostsCount&&(Z=u.createElement("div",{key:"channel-header-pinned",className:"channel-header-description channel-header-pinned"},u.createElement(Qh,{count:this.props.pinnedPostsCount}))),[u.createElement("div",{id:"channel-header",key:"channel-header","aria-label":p,role:"banner",tabIndex:"-1","data-channelid":"".concat(n.id),className:"channel-header alt a11y__region","data-a11y-sort-order":"8"},u.createElement("div",{className:"flex-parent"},u.createElement("div",{className:"flex-child"},u.createElement("div",{id:"channeHeaderImage",className:"channel-header__image"},F),u.createElement("div",{id:"channelHeaderInfo",className:"channel-header__info"},u.createElement("div",{className:"channel-header__title dropdown"},u.createElement("div",null,j),x),I)),u.createElement(Bh,{channel:n,channelMember:s}),u.createElement(Oh.Z,null))),U,Z]}}eg(sg,"propTypes",{teamId:m().string.isRequired,currentUser:m().object.isRequired,channel:m().object,channelMember:m().object,dmUser:m().object,gmMembers:m().array,isFavorite:m().bool,isReadOnly:m().bool,isMuted:m().bool,hasGuests:m().bool,rhsState:m().oneOf(Object.values(R.Hp)),rhsOpen:m().bool,isQuickSwitcherOpen:m().bool,intl:Me.gm.isRequired,pinnedPostsCount:m().number,hasMoreThanOneTeam:m().bool,actions:m().shape({favoriteChannel:m().func.isRequired,unfavoriteChannel:m().func.isRequired,showFlaggedPosts:m().func.isRequired,showPinnedPosts:m().func.isRequired,showChannelFiles:m().func.isRequired,showMentions:m().func.isRequired,closeRightHandSide:m().func.isRequired,getCustomEmojisInText:m().func.isRequired,updateChannelNotifyProps:m().func.isRequired,goToLastViewedChannel:m().func.isRequired,openModal:m().func.isRequired,closeModal:m().func.isRequired}).isRequired,teammateNameDisplaySetting:m().string.isRequired,currentRelativeTeamUrl:m().string.isRequired,isLegacySidebar:m().bool,announcementBarCount:m().number,customStatus:m().object,contactName:m().string,isCustomStatusEnabled:m().bool.isRequired});const ag=(0,we.ZP)(sg),ig=(0,g.EN)((0,a.connect)((function(){const e=(0,r.T5)(),t=(0,jo.yC)();return function(n){const s=(0,i.iE)(n),a=(0,ee.TB)(n)||{},l=(0,r.ts)(n),c=(0,o.Dc)(n).length>1;let d,m,u,p;if(a&&a.type===he.LQ.DM_CHANNEL){const e=(0,nr.aU)(l.id,a.name);d=(0,r.PR)(n,e),p=(0,bc.No)(n,e),u=d&&t(n,d.id)}else a&&a.type===he.LQ.GM_CHANNEL&&(m=e(n,a.id,!1));const h=(0,ee.Bw)(n)||{member_count:0,guest_count:0,pinnedpost_count:0};return{teamId:(0,o.ev)(n),channel:a,channelMember:(0,ee.HU)(n),currentUser:l,dmUser:d,gmMembers:m,rhsState:(0,_t.kV)(n),rhsOpen:(0,_t.aC)(n),isFavorite:(0,ee.CA)(n),isReadOnly:(0,ee.ui)(n),isMuted:(0,ee.D7)(n),isQuickSwitcherOpen:(0,Yn.g)(n,R.r8.QUICK_SWITCH),hasGuests:h.guest_count>0,pinnedPostsCount:h.pinnedpost_count,hasMoreThanOneTeam:c,teammateNameDisplaySetting:(0,$.kl)(n),currentRelativeTeamUrl:(0,o.gm)(n),isLegacySidebar:"true"===s.EnableLegacySidebar,announcementBarCount:(0,wh.b)(n),customStatus:u,contactName:p,isCustomStatusEnabled:(0,jo.uD)(n)}}}),(e=>({actions:(0,s.bindActionCreators)({favoriteChannel:J.ZE,unfavoriteChannel:J.Dn,showFlaggedPosts:bt.Yv,showPinnedPosts:bt.B7,showChannelFiles:bt.Cj,showMentions:bt.rb,closeRightHandSide:bt.Lg,getCustomEmojisInText:b.i,updateChannelNotifyProps:J.n$,goToLastViewedChannel:ie.NL,openModal:I.h,closeModal:I.M},e)})))(ag));var rg=n(27640),og=n(77905),lg=n(73787),cg=n(21226),dg=n(99206),mg=(n(48702),n(76279)),ug=n(13685),pg=n(62788);function hg(e){const t=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{width:"14px",height:"10px",viewBox:"0 0 16 12",role:"img","aria-label":t.formatMessage({id:"generic_icons.camera",defaultMessage:"Camera Icon"})},u.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},u.createElement("g",{transform:"translate(-696.000000, -34.000000)",fillRule:"nonzero",fill:"inherit"},u.createElement("g",{transform:"translate(-1.000000, 0.000000)"},u.createElement("g",{transform:"translate(687.000000, 22.000000)"},u.createElement("g",{transform:"translate(10.000000, 12.000000)"},u.createElement("path",{d:"M15.105,1.447 L12,3 L12,1 C12,0.447 11.553,0 11,0 L1,0 C0.447,0 0,0.447 0,1 L0,11 C0,11.553 0.447,12 1,12 L11,12 C11.553,12 12,11.553 12,11 L12,9 L15.105,10.553 C15.6,10.8 16,10.553 16,10 L16,2 C16,1.447 15.6,1.2 15.105,1.447 Z M12.895,7.211 C12.612,7.07 12.306,7 12,7 L10.5,7 C10.224,7 10,7.224 10,7.5 L10,10 L2,10 L2,2 L10,2 L10,4.5 C10,4.776 10.224,5 10.5,5 L12,5 C12.306,5 12.612,4.93 12.895,4.789 L14,4.236 L14,7.763 L12.895,7.211 Z"}))))))))}const gg={left:"inherit",right:0,bottom:"100%",top:"auto"};function fg(e){const{formatMessage:t}=e.intl;let n;if(0===e.pluginCallMethods.length)n=null;else if(1===e.pluginCallMethods.length){const t=e.pluginCallMethods[0];n=u.createElement("button",{type:"button",className:"style--none post-action icon icon--attachment",onClick:()=>{t.action&&t.action(e.currentChannel,e.channelMember)},onTouchEnd:()=>{t.action&&t.action(e.currentChannel,e.channelMember)}},t.icon)}else{const s=e.pluginCallMethods.map((t=>u.createElement("li",{key:t.id,onClick:n=>{n.preventDefault(),t.action&&t.action(e.currentChannel,e.channelMember)}},u.createElement("a",{href:"#"},u.createElement("span",{className:"call-plugin-icon"},t.icon),t.dropdownText))));n=u.createElement(ns.Z,null,u.createElement("button",{type:"button",className:"style--none post-action"},u.createElement("div",{className:"icon icon--attachment"},u.createElement(hg,{className:"d-flex"}))),u.createElement(ts.Z,{id:"callOptions",openLeft:!0,openUp:!0,ariaLabel:t({id:"call_button.menuAriaLabel",defaultMessage:"Call type selector"}),customStyles:gg},s))}return n}fg.propTypes={currentChannel:m().object.isRequired,channelMember:m().object,intl:Me.gm.isRequired,locale:m().string.isRequired,pluginCallMethods:m().arrayOf(m().object)},fg.defaultProps={pluginCallMethods:[]};const bg=(0,we.ZP)(fg);bg.displayName="injectIntl(CallButton)";const _g=bg,Eg=(0,a.connect)((function(e){return{currentChannel:(0,ee.TB)(e),locale:(0,F.B)(e),pluginCallMethods:e.plugins.components.CallButton,channelMember:(0,ee.HU)(e)}}))(_g);var Cg=n(68492),yg=n(83440),vg=n(79541),wg=n(52881);function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sg(Object(n),!0).forEach((function(t){Pg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mg=R.ZP.KeyCodes;function Ng(e){return String.prototype.trimRight?e.trimRight():e.replace(/\s*$/,"")}class Ig extends u.PureComponent{static getDerivedStateFromProps(e,t){let n={currentChannel:e.currentChannel};return e.currentChannel.id!==t.currentChannel.id&&(n=Tg(Tg({},n),{},{message:e.draft.message,submitting:!1,serverError:null})),n}constructor(e){super(e),Pg(this,"setShowPreview",(e=>{this.props.actions.setShowPreview(e)})),Pg(this,"setOrientationListeners",(()=>{window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.addEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.addEventListener("orientationchange",this.onOrientationChange)})),Pg(this,"removeOrientationListeners",(()=>{window.screen.orientation&&"onchange"in window.screen.orientation?window.screen.orientation.removeEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.removeEventListener("orientationchange",this.onOrientationChange)})),Pg(this,"onOrientationChange",(()=>{if(!_.Vg())return;let e="portrait";window.orientation&&(e=90===Math.abs(window.orientation)?"landscape":"portrait"),window.screen.orientation&&(e=window.screen.orientation.type.split("-")[0]),this.lastOrientation&&e!==this.lastOrientation&&"post_textbox"===(document.activeElement||{}).id&&this.textboxRef.current.blur(),this.lastOrientation=e})),Pg(this,"handlePostError",(e=>{this.setState({postError:e})})),Pg(this,"toggleEmojiPicker",(e=>{e.preventDefault(),this.setState({showEmojiPicker:!this.state.showEmojiPicker})})),Pg(this,"hideEmojiPicker",(()=>{this.handleEmojiClose()})),Pg(this,"doSubmit",(async e=>{const t=this.props.currentChannel.id;if(e&&e.preventDefault(),this.props.draft.uploadsInProgress.length>0||this.state.submitting)return;let n=this.state.message,s=!1;const a=this.state.serverError;a&&(0,Pe.cW)(a)&&a.submittedMessage===n&&(n=a.submittedMessage,s=!0);const i={file_ids:[]};if(i.message=n,0===i.message.trim().length&&0===this.props.draft.fileInfos.length)return;if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout((()=>{this.setState({errorClass:null})}),R.ZP.ANIMATION_TIMEOUT);this.props.actions.addMessageIntoHistory(this.state.message),this.setState({submitting:!0,serverError:null});const r=V.oL.exec(i.message);if(0!==i.message.indexOf("/")||s)if(r&&this.props.emojiMap.has(r[2]))this.sendReaction(r),this.setState({message:""});else{const{error:e}=await this.sendMessage(i);e||this.setState({message:""})}else{this.setState({message:"",postError:null});let e={};e.channel_id=t,e.team_id=this.props.currentTeamId;const n=await this.props.actions.runSlashCommandWillBePostedHooks(i.message,e);if(n.error)this.setState({serverError:Tg(Tg({},n.error),{},{submittedMessage:i.message}),message:i.message});else if(n.data.message||n.data.args){i.message=n.data.message,e=n.data.args;const{error:t}=await this.props.actions.executeCommand(i.message,e);t&&(t.sendMessage?await this.sendMessage(i):this.setState({serverError:Tg(Tg({},t),{},{submittedMessage:i.message}),message:i.message}))}}this.setState({submitting:!1,postError:null}),cancelAnimationFrame(this.saveDraftFrame),this.props.actions.setDraft(R.hC.DRAFT+t,null),this.draftsForChannel[t]=null;const o=Date.now()-this.lastBlurAt<150;this.focusTextbox(o)})),Pg(this,"handleNotifyAllConfirmation",(e=>{this.hideNotifyAllModal(),this.doSubmit(e)})),Pg(this,"hideNotifyAllModal",(()=>{this.setState({showConfirmModal:!1})})),Pg(this,"showNotifyAllModal",(()=>{this.setState({showConfirmModal:!0})})),Pg(this,"getStatusFromSlashCommand",(()=>{const{message:e}=this.state,t=e.split(" ");return t.length>0?t[0].substring(1):""})),Pg(this,"isStatusSlashCommand",(e=>"online"===e||"away"===e||"dnd"===e||"offline"===e)),Pg(this,"handleSubmit",(async e=>{e&&e.preventDefault(),V.tq()&&this.focusTextbox(!0);const{currentChannel:t,userIsOutOfOffice:n,groupsWithAllowReference:s,channelMemberCountsByGroup:a,currentChannelMembersCount:i,useGroupMentions:r}=this.props,o=this.props.enableConfirmNotificationsToChannel&&this.props.useChannelMentions;let l=0,c=0,d=[];const m=!(0,Pe.t7)(this.state.message);if(this.props.enableConfirmNotificationsToChannel&&m&&r&&(d=(0,Pe.TA)(this.state.message,s),d.length>0&&(d=d.map((e=>{const t=a[e.id];return t&&t.channel_member_count>R.ZP.NOTIFY_ALL_MEMBERS&&t.channel_member_count>l&&(l=t.channel_member_count,c=t.channel_member_timezones_count),"@".concat(e.name)})),d=[...new Set(d)])),o&&i>R.ZP.NOTIFY_ALL_MEMBERS&&!m&&(l=i-1,d=["@all","@group"],this.props.isTimezoneEnabled)){const{data:e}=await this.props.actions.getChannelTimezones(this.props.currentChannel.id);c=e?e.length:0}if(l>0)return this.setState({channelTimezoneCount:c,memberNotifyCount:l,mentions:d}),void this.showNotifyAllModal();const u=this.getStatusFromSlashCommand();if(n&&this.isStatusSlashCommand(u)){const e={ModalId:R.r8.RESET_STATUS,dialogType:dt,dialogProps:{newStatus:u}};return this.props.actions.openModal(e),void this.setState({message:""})}if("/header"===Ng(this.state.message)){const e={modalId:R.r8.EDIT_CHANNEL_HEADER,dialogType:Mu,dialogProps:{channel:t}};return this.props.actions.openModal(e),void this.setState({message:""})}const p=t.type===R.ZP.DM_CHANNEL||t.type===R.ZP.GM_CHANNEL;if(!p&&"/purpose"===Ng(this.state.message)){const e={modalId:R.r8.EDIT_CHANNEL_PURPOSE,dialogType:Au,dialogProps:{channel:t}};return this.props.actions.openModal(e),void this.setState({message:""})}if(!p&&"/rename"===Ng(this.state.message))return y.VB(t),void this.setState({message:""});await this.doSubmit(e)})),Pg(this,"sendMessage",(async e=>{const{actions:t,currentChannel:n,currentUserId:s,draft:a,useGroupMentions:i,useChannelMentions:r,groupsWithAllowReference:o}=this.props;let l=e;l.channel_id=n.id;const c=V.u3(),d=s;l.pending_post_id="".concat(d,":").concat(c),l.user_id=d,l.create_at=c,l.parent_id=this.state.parentId,l.metadata={},l.props={},!r&&(0,Pe.t7)(l.message,{checkAllMentions:!0})&&(l.props.mentionHighlightDisabled=!0),!i&&(0,Pe.TA)(l.message,o)&&(l.props.disable_group_highlight=!0);const m=await t.runMessageWillBePostedHooks(l);return m.error?(this.setState({serverError:m.error,submitting:!1}),m):(l=m.data,t.onSubmitPost(l,a.fileInfos),t.scrollPostListToBottom(),this.setState({submitting:!1}),{data:!0})})),Pg(this,"focusTextbox",((e=!1)=>{const t=this.props.readOnlyChannel||!this.props.canPost;this.textboxRef.current&&t?this.textboxRef.current.blur():!this.textboxRef.current||!e&&_.tq()||this.textboxRef.current.focus()})),Pg(this,"postMsgKeyPress",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,{allowSending:s,withClosedCodeBlock:a,ignoreKeyPress:i,message:r}=(0,Pe.bp)(e,this.state.message,t,n,Date.now(),this.lastChannelSwitchAt,this.state.caretPosition);if(i)return e.preventDefault(),void e.stopPropagation();s&&(e.persist&&e.persist(),this.textboxRef.current&&this.textboxRef.current.blur(),a&&r?this.setState({message:r},(()=>this.handleSubmit(e))):this.handleSubmit(e),this.setShowPreview(!1)),this.emitTypingEvent()})),Pg(this,"emitTypingEvent",(()=>{const e=this.props.currentChannel.id;y.bH(e,"")})),Pg(this,"handleChange",(e=>{const t=e.target.value,n=this.props.currentChannel.id;let s=this.state.serverError;(0,Pe.cW)(s)&&(s=null),this.setState({message:t,serverError:s});const a=Tg(Tg({},this.props.draft),{},{message:t});cancelAnimationFrame(this.saveDraftFrame),this.saveDraftFrame=requestAnimationFrame((()=>{this.props.actions.setDraft(R.hC.DRAFT+n,a)})),this.draftsForChannel[n]=a})),Pg(this,"pasteHandler",(e=>{if(!e.clipboardData||!e.clipboardData.items||"post_textbox"!==e.target.id)return;const{clipboardData:t}=e,n=(0,Ne.hC)(t);if(!n)return;e.preventDefault();let s=this.state.message;if((0,Ne.lw)(n.className)){const{formattedMessage:e,formattedCodeBlock:n}=(0,Ne.fB)(this.state.caretPosition,s,t),a=this.state.caretPosition+n.length;return void this.setMessageAndCaretPostion(e,a)}const a=s.length;s=(0,Ne.Kt)(n,s.trim(),this.state.caretPosition);const i=s.length-(a-this.state.caretPosition);this.setMessageAndCaretPostion(s,i)})),Pg(this,"handleFileUploadChange",(()=>{this.focusTextbox()})),Pg(this,"handleUploadStart",((e,t)=>{const n=[...this.props.draft.uploadsInProgress,...e],s=Tg(Tg({},this.props.draft),{},{uploadsInProgress:n});this.props.actions.setDraft(R.hC.DRAFT+t,s),this.draftsForChannel[t]=s,this.focusTextbox()})),Pg(this,"handleUploadProgress",(({clientId:e,name:t,percent:n,type:s})=>{const a=Tg(Tg({},this.state.uploadsProgressPercent),{},{[e]:{percent:n,name:t,type:s}});this.setState({uploadsProgressPercent:a})})),Pg(this,"handleFileUploadComplete",((e,t,n)=>{const s=Tg({},this.draftsForChannel[n]);for(let e=0;e<t.length;e++)if(s.uploadsInProgress){const n=s.uploadsInProgress.indexOf(t[e]);-1!==n&&(s.uploadsInProgress=s.uploadsInProgress.filter(((e,t)=>n!==t)))}s.fileInfos&&(s.fileInfos=(0,mg.Vi)(s.fileInfos.concat(e),this.props.locale)),this.draftsForChannel[n]=s,this.props.actions.setDraft(R.hC.DRAFT+n,s)})),Pg(this,"handleUploadError",((e,t,n)=>{const s=Tg({},this.draftsForChannel[n]);let a=e;if("string"==typeof e&&(a=new Error(e)),-1!==t&&s.uploadsInProgress){const e=s.uploadsInProgress.indexOf(t);if(-1!==e){const t=s.uploadsInProgress.filter(((t,n)=>e!==n)),a=Tg(Tg({},s),{},{uploadsInProgress:t});this.props.actions.setDraft(R.hC.DRAFT+n,a),this.draftsForChannel[n]=a}}this.setState({serverError:a})})),Pg(this,"removePreview",(e=>{let t={};const n=Tg({},this.props.draft),s=this.props.currentChannel.id;this.setState({serverError:null});let a=n.fileInfos.findIndex((t=>t.id===e));if(-1===a){if(a=n.uploadsInProgress.indexOf(e),-1!==a){const s=n.uploadsInProgress.filter(((e,t)=>a!==t));t=Tg(Tg({},n),{},{uploadsInProgress:s}),this.fileUploadRef.current&&this.fileUploadRef.current&&this.fileUploadRef.current.cancelUpload(e)}}else{const e=n.fileInfos.filter(((e,t)=>a!==t));t=Tg(Tg({},n),{},{fileInfos:e})}this.props.actions.setDraft(R.hC.DRAFT+s,t),this.draftsForChannel[s]=t,this.handleFileUploadChange()})),Pg(this,"focusTextboxIfNecessary",(e=>{this.props.rhsExpanded||document.getElementsByClassName("channel-switch-modal").length||(0,Pe.a0)(e,document.activeElement)&&this.focusTextbox()})),Pg(this,"documentKeyHandler",(e=>{const t=e.ctrlKey||e.metaKey,n=t&&V.pD(e,Mg.FORWARD_SLASH),s=t&&e.shiftKey&&V.pD(e,Mg.BACK_SLASH);if(n)return e.preventDefault(),void y.kk();s?this.reactToLastMessage(e):this.focusTextboxIfNecessary(e)})),Pg(this,"getFileCount",(()=>{const e=this.props.draft;return e.fileInfos.length+e.uploadsInProgress.length})),Pg(this,"getFileUploadTarget",(()=>this.textboxRef.current?this.textboxRef.current:null)),Pg(this,"getCreatePostControls",(()=>this.createPostControlsRef.current)),Pg(this,"handleMouseUpKeyUp",(e=>{const t=V.qK(e.target);this.setState({caretPosition:t})})),Pg(this,"handleSelect",(e=>{V.cf(this.textboxRef.current.getInputBox(),e)})),Pg(this,"handleKeyDown",(e=>{const t=e.ctrlKey||e.metaKey,n=0===this.state.message.length,s=0===this.props.draft.message.length,a=(this.props.ctrlSend||this.props.codeBlockOnCtrlEnter)&&V.pD(e,Mg.ENTER)&&t,i=!t&&!e.altKey&&!e.shiftKey&&V.pD(e,Mg.UP),r=!t&&!e.altKey&&e.shiftKey&&V.pD(e,Mg.UP),o=V._E(e)&&!e.altKey&&!e.shiftKey,l=V.pD(e,Mg.B)||V.pD(e,Mg.I),c=V._E(e,!0)&&e.altKey,d=V.pD(e,Mg.K);V.m(e)?this.setState({message:V.V4(e)}):a?this.postMsgKeyPress(e):i&&n?this.editLastPost(e):r&&n?this.replyToLastPost(e):o&&s&&V.pD(e,Mg.UP)?this.loadPrevMessage(e):o&&s&&V.pD(e,Mg.DOWN)?this.loadNextMessage(e):(o&&l||c&&d)&&this.applyHotkeyMarkdown(e)})),Pg(this,"editLastPost",(e=>{e.preventDefault();const t=this.props.currentUsersLatestPost;if(!t)return;let n;n=t.root_id&&t.root_id.length>0?V._u("create_post.comment",he.V8.MESSAGE_TYPES.COMMENT):V._u("create_post.post",he.V8.MESSAGE_TYPES.POST),this.textboxRef.current&&this.textboxRef.current.blur(),this.props.actions.setEditingPost(t.id,this.props.commentCountForPost,"post_textbox",n)})),Pg(this,"replyToLastPost",(e=>{e.preventDefault();const t=this.props.latestReplyablePostId,n=document.getElementById("reply_textbox");n&&n.focus(),t&&this.props.actions.selectPostFromRightHandSideSearchByPostId(t)})),Pg(this,"loadPrevMessage",(e=>{e.preventDefault(),this.props.actions.moveHistoryIndexBack(he.V8.MESSAGE_TYPES.POST).then((()=>this.fillMessageFromHistory()))})),Pg(this,"loadNextMessage",(e=>{e.preventDefault(),this.props.actions.moveHistoryIndexForward(he.V8.MESSAGE_TYPES.POST).then((()=>this.fillMessageFromHistory()))})),Pg(this,"applyHotkeyMarkdown",(e=>{const t=V.IG(e);this.setState({message:t.message},(()=>{const e=this.textboxRef.current.getInputBox();V.AU(e,t.selectionStart,t.selectionEnd)}))})),Pg(this,"reactToLastMessage",(e=>{e.preventDefault();const{rhsExpanded:t,actions:{emitShortcutReactToLastPostFrom:n}}=this.props,s=0===document.getElementsByClassName(R.Sz.MODAL).length,a=0===document.getElementsByClassName(R.Sz.POPUP).length;!t&&s&&a&&n(R.tY.CENTER)})),Pg(this,"handleBlur",(()=>{this.lastBlurAt=Date.now(),this.setState({textboxActive:!1})})),Pg(this,"handleFocus",(()=>{this.setState({textboxActive:!0})})),Pg(this,"showPostDeletedModal",(()=>{this.setState({showPostDeletedModal:!0})})),Pg(this,"hidePostDeletedModal",(()=>{this.setState({showPostDeletedModal:!1})})),Pg(this,"handleEmojiClose",(()=>{this.setState({showEmojiPicker:!1})})),Pg(this,"setMessageAndCaretPostion",((e,t)=>{const n=this.textboxRef.current.getInputBox();this.setState({message:e,caretPosition:t},(()=>{V.Mq(n,t)}))})),Pg(this,"handleEmojiClick",(e=>{const t=e.name||e.aliases[0];if(t){if(""===this.state.message)this.setState({message:":"+t+": "});else{const{message:e}=this.state,{firstPiece:n,lastPiece:s}=(0,Pe.Nn)(this.state.caretPosition,e),a=""===n?":".concat(t,": ").concat(s):"".concat(n," :").concat(t,": ").concat(s),i=""===n?":".concat(t,": ").length:"".concat(n," :").concat(t,": ").length;this.setMessageAndCaretPostion(a,i)}this.handleEmojiClose()}})),Pg(this,"handleGifClick",(e=>{if(""===this.state.message)this.setState({message:e});else{const t=/\s+$/.test(this.state.message)?this.state.message+e:this.state.message+" "+e;this.setState({message:t})}this.handleEmojiClose()})),Pg(this,"handleHeightChange",((e,t)=>{this.setState({renderScrollbar:e>t}),window.requestAnimationFrame((()=>{this.textboxRef.current&&this.setState({scrollbarWidth:V.LF(this.textboxRef.current.getInputBox())})}))})),this.state={message:this.props.draft.message,caretPosition:this.props.draft.message.length,submitting:!1,showPostDeletedModal:!1,showEmojiPicker:!1,showConfirmModal:!1,channelTimezoneCount:0,uploadsProgressPercent:{},renderScrollbar:!1,scrollbarWidth:0,currentChannel:e.currentChannel,mentions:[],memberNotifyCount:0,textboxActive:!1},this.lastBlurAt=0,this.lastChannelSwitchAt=0,this.draftsForChannel={},this.lastOrientation=null,this.topDiv=u.createRef(),this.textboxRef=u.createRef(),this.fileUploadRef=u.createRef(),this.createPostControlsRef=u.createRef()}componentDidMount(){const{useGroupMentions:e,currentChannel:t,isTimezoneEnabled:n,actions:s}=this.props;this.onOrientationChange(),s.setShowPreview(!1),s.clearDraftUploads(R.hC.DRAFT,((e,t)=>t?Tg(Tg({},t),{},{uploadsInProgress:[]}):t)),this.focusTextbox(),document.addEventListener("paste",this.pasteHandler),document.addEventListener("keydown",this.documentKeyHandler),this.setOrientationListeners(),e&&s.getChannelMemberCountsByGroup(t.id,n)}componentDidUpdate(e,t){const{useGroupMentions:n,currentChannel:s,isTimezoneEnabled:a,actions:i}=this.props;e.currentChannel.id!==s.id&&(this.lastChannelSwitchAt=Date.now(),this.focusTextbox(),n&&i.getChannelMemberCountsByGroup(s.id,a)),s.id!==e.currentChannel.id&&i.setShowPreview(!1),t.showEmojiPicker&&!this.state.showEmojiPicker&&this.focusTextbox()}componentWillUnmount(){if(document.removeEventListener("paste",this.pasteHandler),document.removeEventListener("keydown",this.documentKeyHandler),this.removeOrientationListeners(),this.saveDraftFrame){const e=this.props.currentChannel.id;this.props.actions.setDraft(R.hC.DRAFT+e,this.draftsForChannel[e]),cancelAnimationFrame(this.saveDraftFrame)}}sendReaction(e){const t=this.props.currentChannel.id,n=e[1],s=e[2],a=this.props.latestReplyablePostId;a&&"+"===n?this.props.actions.addReaction(a,s):a&&"-"===n&&this.props.actions.removeReaction(a,s),this.props.actions.setDraft(R.hC.DRAFT+t,null),this.draftsForChannel[t]=null}fillMessageFromHistory(){const e=this.props.messageInHistoryItem;e&&this.setState({message:e})}createTutorialTip(){const e=[];return e.push(u.createElement("div",null,u.createElement("h4",null,u.createElement(ve.Z,{id:"create_post.tutorialTip.title",defaultMessage:"Sending Messages"})),u.createElement("p",null,u.createElement(on.Z,{id:"create_post.tutorialTip1",defaultMessage:"Type here to write a message and press **Enter** to post it."})),u.createElement("p",null,u.createElement(on.Z,{id:"create_post.tutorialTip2",defaultMessage:"Click the **Attachment** button to upload an image or a file."})))),u.createElement(gn,{id:"postTextboxTipMessage",placement:"top",screens:e,overlayClass:"tip-overlay--chat",telemetryTag:"tutorial_tip_1_sending_messages"})}shouldEnableSendButton(){return 0!==this.state.message.trim().length||0!==this.props.draft.fileInfos.length}render(){const{currentChannel:e,draft:t,fullWidthTextBox:n,showTutorialTip:s,canPost:a}=this.props,i=this.props.readOnlyChannel||!a,{formatMessage:r}=this.props.intl,{renderScrollbar:o,channelTimezoneCount:l,mentions:c,memberNotifyCount:d}=this.state,m=V._u("accessibility.sections.centerFooter","message input complimentary region");let p="",h="";c.includes("@all")||c.includes("@group")?(h=u.createElement(ve.Z,{id:"notify_all.title.confirm",defaultMessage:"Confirm sending notifications to entire channel"}),p=l>0?u.createElement(on.Z,{id:"notify_all.question_timezone",defaultMessage:"By using **@all** or **@group** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{totalMembers:d,timezones:l}}):u.createElement(on.Z,{id:"notify_all.question",defaultMessage:"By using **@all** or **@group** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?",values:{totalMembers:d}})):c.length>0&&(h=u.createElement(ve.Z,{id:"notify_all.title.confirm_groups",defaultMessage:"Confirm sending notifications to groups"}),p=1===c.length?l>0?u.createElement(on.Z,{id:"notify_all.question_timezone_one_group",defaultMessage:"By using **{mention}** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mention:c[0],totalMembers:d,timezones:l}}):u.createElement(on.Z,{id:"notify_all.question_one_group",defaultMessage:"By using **{mention}** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?",values:{mention:c[0],totalMembers:d}}):l>0?u.createElement(on.Z,{id:"notify_all.question_timezone_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mentions:c.slice(0,-1).join(", "),finalMention:c[c.length-1],totalMembers:d,timezones:l}}):u.createElement(on.Z,{id:"notify_all.question_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications to at least **{totalMembers} people**. Are you sure you want to do this?",values:{mentions:c.slice(0,-1).join(", "),finalMention:c[c.length-1],totalMembers:d}}));const g=u.createElement(ve.Z,{id:"notify_all.confirm",defaultMessage:"Confirm"});let f=null;this.state.serverError&&(f=u.createElement(wg.Z,{id:"postServerError",error:this.state.serverError,submittedMessage:this.state.serverError.submittedMessage,handleSubmit:this.handleSubmit}));let b=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");b=u.createElement("label",{className:e},this.state.postError)}let _=null;!i&&(t.fileInfos.length>0||t.uploadsInProgress.length>0)&&(_=u.createElement(ug.Z,{fileInfos:t.fileInfos,onRemove:this.removePreview,uploadsInProgress:t.uploadsInProgress,uploadsProgressPercent:this.state.uploadsProgressPercent}));let E="post-create-footer";b&&(E+=" has-error");let C=null;s&&(C=this.createTutorialTip());let y="";n||(y="center");let v="send-button theme";this.shouldEnableSendButton()||(v+=" disabled");let w,S,T="";this.props.canUploadFiles||(T=" post-create--attachment-disabled"),i||this.props.shouldShowPreview||(w=u.createElement(Eg,null)),i||this.props.shouldShowPreview||(S=u.createElement(pg.Z,{ref:this.fileUploadRef,fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,onUploadProgress:this.handleUploadProgress,postType:"post",channelId:e.id}));let P=null;const N=r({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();let I;!this.props.enableEmojiPicker||i||this.props.shouldShowPreview||(P=u.createElement("div",null,u.createElement(Re.Z,{show:this.state.showEmojiPicker,target:this.getCreatePostControls,onHide:this.hideEmojiPicker,onEmojiClose:this.handleEmojiClose,onEmojiClick:this.handleEmojiClick,onGifClick:this.handleGifClick,enableGifPicker:this.props.enableGifPicker,topOffset:-7}),u.createElement("button",{type:"button","aria-label":N,onClick:this.toggleEmojiPicker,className:Te()("emoji-picker__container","post-action",{"post-action--active":this.state.showEmojiPicker})},u.createElement(Ae.Z,{id:"emojiPickerButton",className:"icon icon--emoji "})))),I=i?V._u("create_post.read_only","This channel is read-only. Only members with permission can post here."):r({id:"create_post.write",defaultMessage:"Write to {channelDisplayName}"},{channelDisplayName:e.display_name});let R="";return o&&(R=" scroll"),u.createElement("form",{id:"create_post",ref:this.topDiv,className:y,onSubmit:this.handleSubmit},u.createElement("div",{className:Te()("post-create"+T+R,{"textbox-active":this.state.textboxActive}),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0},u.createElement("div",{className:"post-create-body"},u.createElement("div",{role:"application",id:"centerChannelFooter","aria-label":m,tabIndex:"-1",className:"post-body__cell a11y__region","data-a11y-sort-order":"2"},u.createElement(M.Z,{onChange:this.handleChange,onKeyPress:this.postMsgKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onComposition:this.emitTypingEvent,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:i?"":this.state.message,onBlur:this.handleBlur,onFocus:this.handleFocus,emojiEnabled:this.props.enableEmojiPicker,createMessage:I,channelId:e.id,id:"post_textbox",ref:this.textboxRef,disabled:i,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,badConnection:this.props.badConnection,listenForMentionKeyClick:!0,useChannelMentions:this.props.useChannelMentions}),u.createElement("span",{ref:this.createPostControlsRef,className:"post-body__actions"},w,S,P,u.createElement("a",{role:"button",tabIndex:"0","aria-label":r({id:"create_post.send_message",defaultMessage:"Send a message"}),className:v,onClick:this.handleSubmit},u.createElement(Cg.Z,{className:"fa fa-paper-plane",title:{id:(0,it.t)("create_post.icon"),defaultMessage:"Create a post"}})))),C),u.createElement("div",{id:"postCreateFooter",role:"form",className:E},u.createElement("div",{className:"d-flex justify-content-between"},u.createElement(yg.Z,{channelId:e.id,postId:""}),u.createElement(Oe.Z,{characterLimit:this.props.maxPostSize,showPreview:this.props.shouldShowPreview,updatePreview:this.setShowPreview,message:i?"":this.state.message})),u.createElement("div",null,b,_,f))),u.createElement(vg.Z,{show:this.state.showPostDeletedModal,onHide:this.hidePostDeletedModal}),u.createElement($e.Z,{title:h,message:p,confirmButtonText:g,show:this.state.showConfirmModal,onConfirm:this.handleNotifyAllConfirmation,onCancel:this.hideNotifyAllModal}))}}Pg(Ig,"propTypes",{currentChannelMembersCount:m().number,currentChannel:m().object,currentTeamId:m().string,currentUserId:m().string,codeBlockOnCtrlEnter:m().bool,ctrlSend:m().bool,fullWidthTextBox:m().bool,showTutorialTip:m().bool.isRequired,messageInHistoryItem:m().string,draft:m().shape({message:m().string.isRequired,uploadsInProgress:m().array.isRequired,fileInfos:m().array.isRequired}).isRequired,commentCountForPost:m().number,latestReplyablePostId:m().string,locale:m().string.isRequired,currentUsersLatestPost:m().object,readOnlyChannel:m().bool,canUploadFiles:m().bool.isRequired,enableEmojiPicker:m().bool.isRequired,enableGifPicker:m().bool.isRequired,enableConfirmNotificationsToChannel:m().bool.isRequired,maxPostSize:m().number.isRequired,emojiMap:m().object.isRequired,badConnection:m().bool.isRequired,userIsOutOfOffice:m().bool.isRequired,rhsExpanded:m().bool.isRequired,isTimezoneEnabled:m().bool.isRequired,canPost:m().bool.isRequired,useChannelMentions:m().bool.isRequired,intl:Me.gm.isRequired,shouldShowPreview:m().bool.isRequired,actions:m().shape({setShowPreview:m().func.isRequired,addMessageIntoHistory:m().func.isRequired,moveHistoryIndexBack:m().func.isRequired,moveHistoryIndexForward:m().func.isRequired,addReaction:m().func.isRequired,onSubmitPost:m().func.isRequired,removeReaction:m().func.isRequired,clearDraftUploads:m().func.isRequired,runMessageWillBePostedHooks:m().func.isRequired,runSlashCommandWillBePostedHooks:m().func.isRequired,setDraft:m().func.isRequired,setEditingPost:m().func.isRequired,selectPostFromRightHandSideSearchByPostId:m().func.isRequired,openModal:m().func.isRequired,executeCommand:m().func.isRequired,getChannelTimezones:m().func.isRequired,scrollPostListToBottom:m().func.isRequired,emitShortcutReactToLastPostFrom:m().func,getChannelMemberCountsByGroup:m().func}).isRequired,groupsWithAllowReference:m().object,channelMemberCountsByGroup:m().object,useGroupMentions:m().bool.isRequired}),Pg(Ig,"defaultProps",{latestReplyablePostId:""});const Rg=(0,we.ZP)(Ig);function Ag(e,t){return n=>{n((0,_e.qb)(e,t))}}const Og=(0,a.connect)((function(){const e=(0,wt.U6)(),t=(0,wt.Jf)(he.V8.MESSAGE_TYPES.POST);return(n,s)=>{const a=(0,i.iE)(n),l=(0,i.lJ)(n),c=(0,ee.TB)(n)||{},d=(0,_t.HG)(n,R.hC.DRAFT,c.id),m=(0,wt.bt)(n,c.id),u=(0,wt.xl)(n,m),p=(0,wt.kO)(n),h=(0,ee.Bw)(n)?(0,ee.Bw)(n).member_count:1,g="true"===a.EnableTutorial,f=(0,$.wS)(n,R.uP.TUTORIAL_STEP,(0,r.rc)(n),R.PN.FINISHED),b="true"===a.EnableEmojiPicker,_="true"===a.EnableGifPicker,E="true"===a.EnableConfirmNotificationsToChannel,C=(0,r.rc)(n),y=(0,r.ZO)(n,C)===R.gg.OUT_OF_OFFICE,v=(0,rg.S)(n)>1,w="true"===a.ExperimentalTimezone,S=(0,cg.dj)(n),T=(0,ge.Ai)(n,{channel:c.id,team:c.team_id,permission:he.Pl.CREATE_POST}),P=(0,ge.Ai)(n,{channel:c.id,team:c.team_id,permission:he.Pl.USE_CHANNEL_MENTIONS}),M="true"===(null==l?void 0:l.IsLicensed)&&"true"===(null==l?void 0:l.LDAPGroups),N=M&&(0,ge.Ai)(n,{channel:c.id,team:c.team_id,permission:he.Pl.USE_GROUP_MENTIONS}),I=(0,ee.am)(n,c.id),A=(0,o.ev)(n),O=N?(0,si.mK)(n,A,c.id):null;return{currentTeamId:A,currentChannel:c,currentChannelMembersCount:h,currentUserId:C,codeBlockOnCtrlEnter:(0,$.o4)(n,he.uP.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:(0,$.o4)(n,R.uP.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),fullWidthTextBox:(0,$.U2)(n,R.uP.CATEGORY_DISPLAY_SETTINGS,R.uP.CHANNEL_DISPLAY_MODE,R.uP.CHANNEL_DISPLAY_MODE_DEFAULT)===R.uP.CHANNEL_DISPLAY_MODE_FULL_SCREEN,showTutorialTip:g&&f===R.PN.POST_POPOVER,messageInHistoryItem:t(n),draft:d,commentCountForPost:e(n,{post:u}),latestReplyablePostId:p,locale:(0,F.B)(n),currentUsersLatestPost:(0,wt.l0)(n),readOnlyChannel:s.readOnlyChannel||!(0,r.BW)(n)&&"true"===a.ExperimentalTownSquareIsReadOnly&&c.name===R.gT.DEFAULT_CHANNEL,canUploadFiles:(0,Tn.SI)(a),enableEmojiPicker:b,enableGifPicker:_,enableConfirmNotificationsToChannel:E,maxPostSize:parseInt(a.MaxPostSize,10)||R.gT.DEFAULT_CHARACTER_LIMIT,userIsOutOfOffice:y,rhsExpanded:(0,_t.OZ)(n),emojiMap:(0,cg.kM)(n),badConnection:v,isTimezoneEnabled:w,shortcutReactToLastPostEmittedFrom:S,canPost:T,useChannelMentions:P,shouldShowPreview:(0,be.QH)(n),groupsWithAllowReference:O,useGroupMentions:N,channelMemberCountsByGroup:I,isLDAPEnabled:M}}}),(function(e){return{actions:(0,s.bindActionCreators)({addMessageIntoHistory:pe.$s,onSubmitPost:Ag,moveHistoryIndexBack:pe.Pc,moveHistoryIndexForward:pe.Rc,addReaction:_e.rU,removeReaction:pe.WO,setDraft:dg.Bc,clearDraftUploads:dg.Qg,selectPostFromRightHandSideSearchByPostId:bt.kZ,setEditingPost:_e.Jp,emitShortcutReactToLastPostFrom:_e.id,openModal:I.h,executeCommand:og.P,getChannelTimezones:J.ng,runMessageWillBePostedHooks:lg.H,runSlashCommandWillBePostedHooks:lg.J,scrollPostListToBottom:ie.WW,setShowPreview:fe.v9,getChannelMemberCountsByGroup:J.am},e)}}))(Rg);function Lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dg extends u.PureComponent{constructor(e){super(e),Lg(this,"setExpanded",(e=>{this.setState({expandedKey:e})})),this.state={expandedKey:e.defaultExpandedKey}}render(){return u.createElement("div",{className:"Accordion"},this.props.children(this.setExpanded,this.state.expandedKey))}}Lg(Dg,"propTypes",{defaultExpandedKey:m().string.isRequired,children:m().func.isRequired});var kg=n(25896);const xg=n.p+"files/bc39a70bb1048e5a929335dd8e40d958.apng",Ug=()=>u.createElement("svg",{viewBox:"0 0 1366 767",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("rect",{width:"1366",height:"767",fill:"var(--center-channel-bg)"}),u.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"1366",height:"767"},u.createElement("rect",{width:"1366",height:"767",fill:"var(--center-channel-bg)"})),u.createElement("g",{mask:"url(#mask0)"},u.createElement("g",{opacity:"0.5"},u.createElement("path",{opacity:"0.08",fillRule:"evenodd",clipRule:"evenodd",d:"M-676.894 2032L1652 1293.08L1424.96 647.622C1424.96 647.622 1380.64 695.825 1254.89 695.825C1151.41 695.825 992.815 663.207 758.34 544.248C680.414 504.713 608.621 487.89 542.133 487.89C165.438 487.89 -41.0984 1027.86 -229.486 1036.79C-451.126 1047.29 -746.809 1803.59 -746.809 1803.59L-676.894 2032Z",fill:"url(#paint0_linear)"}),u.createElement("path",{opacity:"0.08",fillRule:"evenodd",clipRule:"evenodd",d:"M-693.799 1938.98L1635.1 1202.49L1408.06 559.152C1408.06 559.152 1363.73 607.196 1237.98 607.196C1134.51 607.196 975.911 574.685 741.435 456.118C663.509 416.713 591.716 399.945 525.229 399.945C148.533 399.945 -58.0032 938.146 -246.391 947.039C-468.031 957.503 -763.714 1711.32 -763.714 1711.32L-693.799 1938.98Z",fill:"url(#paint1_linear)"}),u.createElement("path",{opacity:"0.08",fillRule:"evenodd",clipRule:"evenodd",d:"M-714.084 1856.11L1614.81 1117.19L1387.77 471.732C1387.77 471.732 1343.44 519.935 1217.7 519.935C1114.22 519.935 955.625 487.317 721.149 368.358C643.223 328.823 571.43 312 504.943 312C128.247 312 -78.2891 851.975 -266.677 860.898C-488.316 871.397 -784 1627.7 -784 1627.7L-714.084 1856.11Z",fill:"url(#paint2_linear)"})),u.createElement("g",{opacity:"0.16"},u.createElement("rect",{x:"1360.4",y:"313",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.4 313)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1225.73",y:"447.677",width:"3.52187",height:"3.5271",transform:"rotate(45 1225.73 447.677)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.2",y:"582.156",width:"3.52187",height:"3.5271",transform:"rotate(45 1360.2 582.156)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.96",y:"335.446",width:"3.52187",height:"3.52709",transform:"rotate(45 1337.96 335.446)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1203.28",y:"470.124",width:"3.52187",height:"3.52708",transform:"rotate(45 1203.28 470.124)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.76",y:"604.602",width:"3.52187",height:"3.52708",transform:"rotate(45 1337.76 604.602)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.51",y:"357.892",width:"3.52187",height:"3.52708",transform:"rotate(45 1315.51 357.892)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1180.83",y:"492.57",width:"3.52187",height:"3.52708",transform:"rotate(45 1180.83 492.57)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.31",y:"627.048",width:"3.52187",height:"3.52708",transform:"rotate(45 1315.31 627.048)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1293.06",y:"380.339",width:"3.52187",height:"3.52709",transform:"rotate(45 1293.06 380.339)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1158.39",y:"515.016",width:"3.52187",height:"3.5271",transform:"rotate(45 1158.39 515.016)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1292.86",y:"649.494",width:"3.52187",height:"3.5271",transform:"rotate(45 1292.86 649.494)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.62",y:"402.785",width:"3.52187",height:"3.52709",transform:"rotate(45 1270.62 402.785)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1135.94",y:"537.462",width:"3.52187",height:"3.5271",transform:"rotate(45 1135.94 537.462)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.42",y:"671.941",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.42 671.941)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1248.17",y:"425.231",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.17 425.231)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1113.49",y:"559.909",width:"3.52187",height:"3.52707",transform:"rotate(45 1113.49 559.909)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1247.97",y:"694.387",width:"3.52187",height:"3.52707",transform:"rotate(45 1247.97 694.387)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1248.14",y:"470.09",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.14 470.09)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.37",y:"357.859",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.37 357.859)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1225.69",y:"492.537",width:"3.52187",height:"3.52708",transform:"rotate(45 1225.69 492.537)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.17",y:"627.015",width:"3.52187",height:"3.52708",transform:"rotate(45 1360.17 627.015)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.92",y:"380.306",width:"3.52187",height:"3.52708",transform:"rotate(45 1337.92 380.306)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1203.25",y:"514.983",width:"3.52187",height:"3.52708",transform:"rotate(45 1203.25 514.983)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.72",y:"649.461",width:"3.52187",height:"3.52708",transform:"rotate(45 1337.72 649.461)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.48",y:"402.752",width:"3.52187",height:"3.52709",transform:"rotate(45 1315.48 402.752)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1180.8",y:"537.429",width:"3.52187",height:"3.5271",transform:"rotate(45 1180.8 537.429)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.28",y:"671.907",width:"3.52187",height:"3.5271",transform:"rotate(45 1315.28 671.907)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1293.03",y:"425.198",width:"3.52187",height:"3.52709",transform:"rotate(45 1293.03 425.198)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1158.35",y:"559.875",width:"3.52187",height:"3.5271",transform:"rotate(45 1158.35 559.875)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1292.83",y:"694.354",width:"3.52187",height:"3.5271",transform:"rotate(45 1292.83 694.354)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.58",y:"447.644",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.58 447.644)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1135.91",y:"582.322",width:"3.52187",height:"3.52707",transform:"rotate(45 1135.91 582.322)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.39",y:"716.8",width:"3.52187",height:"3.52707",transform:"rotate(45 1270.39 716.8)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.55",y:"492.503",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.55 492.503)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1248.11",y:"514.95",width:"3.52187",height:"3.52708",transform:"rotate(45 1248.11 514.95)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.34",y:"402.719",width:"3.52187",height:"3.52708",transform:"rotate(45 1360.34 402.719)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1225.66",y:"537.396",width:"3.52187",height:"3.52708",transform:"rotate(45 1225.66 537.396)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.14",y:"671.874",width:"3.52185",height:"3.52708",transform:"rotate(45 1360.14 671.874)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.89",y:"425.165",width:"3.52187",height:"3.52709",transform:"rotate(45 1337.89 425.165)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1203.21",y:"559.842",width:"3.52187",height:"3.5271",transform:"rotate(45 1203.21 559.842)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.69",y:"694.32",width:"3.52185",height:"3.5271",transform:"rotate(45 1337.69 694.32)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.44",y:"447.611",width:"3.52187",height:"3.52709",transform:"rotate(45 1315.44 447.611)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1180.77",y:"582.288",width:"3.52187",height:"3.5271",transform:"rotate(45 1180.77 582.288)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.24",y:"716.767",width:"3.52185",height:"3.5271",transform:"rotate(45 1315.24 716.767)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1293",y:"470.057",width:"3.52187",height:"3.5271",transform:"rotate(45 1293 470.057)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1158.32",y:"604.735",width:"3.52187",height:"3.52707",transform:"rotate(45 1158.32 604.735)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1292.8",y:"739.213",width:"3.52185",height:"3.52707",transform:"rotate(45 1292.8 739.213)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1292.96",y:"514.917",width:"3.52187",height:"3.5271",transform:"rotate(45 1292.96 514.917)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.52",y:"537.363",width:"3.52187",height:"3.52708",transform:"rotate(45 1270.52 537.363)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1248.07",y:"559.809",width:"3.52187",height:"3.52708",transform:"rotate(45 1248.07 559.809)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.3",y:"447.578",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.3 447.578)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1225.63",y:"582.255",width:"3.52187",height:"3.5271",transform:"rotate(45 1225.63 582.255)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.1",y:"716.733",width:"3.52185",height:"3.5271",transform:"rotate(45 1360.1 716.733)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.86",y:"470.024",width:"3.52187",height:"3.52709",transform:"rotate(45 1337.86 470.024)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1203.18",y:"604.701",width:"3.52187",height:"3.5271",transform:"rotate(45 1203.18 604.701)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.66",y:"739.18",width:"3.52185",height:"3.5271",transform:"rotate(45 1337.66 739.18)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.41",y:"492.47",width:"3.52187",height:"3.5271",transform:"rotate(45 1315.41 492.47)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1180.73",y:"627.148",width:"3.52187",height:"3.52707",transform:"rotate(45 1180.73 627.148)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.21",y:"761.626",width:"3.52185",height:"3.52707",transform:"rotate(45 1315.21 761.626)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.38",y:"537.33",width:"3.52187",height:"3.5271",transform:"rotate(45 1315.38 537.33)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1292.93",y:"559.776",width:"3.52187",height:"3.52708",transform:"rotate(45 1292.93 559.776)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.49",y:"582.222",width:"3.52187",height:"3.52708",transform:"rotate(45 1270.49 582.222)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1248.04",y:"604.668",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.04 604.668)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.27",y:"492.437",width:"3.52187",height:"3.52709",transform:"rotate(45 1360.27 492.437)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1225.59",y:"627.115",width:"3.52187",height:"3.5271",transform:"rotate(45 1225.59 627.115)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.07",y:"761.593",width:"3.52188",height:"3.5271",transform:"rotate(45 1360.07 761.593)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.82",y:"514.883",width:"3.52187",height:"3.5271",transform:"rotate(45 1337.82 514.883)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1203.15",y:"649.561",width:"3.52187",height:"3.52707",transform:"rotate(45 1203.15 649.561)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1337.79",y:"559.743",width:"3.52187",height:"3.5271",transform:"rotate(45 1337.79 559.743)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1315.34",y:"582.189",width:"3.52187",height:"3.52708",transform:"rotate(45 1315.34 582.189)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1292.9",y:"604.635",width:"3.52187",height:"3.52708",transform:"rotate(45 1292.9 604.635)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1270.45",y:"627.081",width:"3.52187",height:"3.5271",transform:"rotate(45 1270.45 627.081)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1248.01",y:"649.528",width:"3.52187",height:"3.5271",transform:"rotate(45 1248.01 649.528)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1360.24",y:"537.296",width:"3.52187",height:"3.5271",transform:"rotate(45 1360.24 537.296)",fill:"var(--button-bg)"}),u.createElement("rect",{x:"1225.56",y:"671.974",width:"3.52187",height:"3.52707",transform:"rotate(45 1225.56 671.974)",fill:"var(--button-bg)"})),u.createElement("g",{opacity:"0.08"},u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 314.034)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 335.994)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 270.113)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 292.074)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 314.034)",fill:"var(--button-bg)"}),u.createElement("circle",{r:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 226.193)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 248.153)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 270.113)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 292.074)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 182.273)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 204.233)",fill:"var(--button-bg)"}),u.createElement("circle",{r:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 226.193)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 248.153)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 102.807 270.113)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 15.0962 138.352)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 160.312)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 182.273)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 204.233)",fill:"var(--button-bg)"}),u.createElement("circle",{r:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 102.807 226.193)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10334",ry:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 124.735 248.153)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 37.024 116.392)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 58.9517 138.352)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 80.8794 160.312)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 102.807 182.273)",fill:"var(--button-bg)"}),u.createElement("ellipse",{rx:"3.10335",ry:"3.10334",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 124.735 204.233)",fill:"var(--button-bg)"}),u.createElement("circle",{r:"3.10335",transform:"matrix(0.706583 -0.70763 0.706583 0.70763 146.662 226.193)",fill:"var(--button-bg)"})),u.createElement("rect",{width:"167",height:"1024",fill:"url(#paint3_linear)"}),u.createElement("rect",{x:"1366",y:"1024",width:"188",height:"1024",transform:"rotate(180 1366 1024)",fill:"url(#paint4_linear)"})),u.createElement("defs",null,u.createElement("linearGradient",{id:"paint0_linear",x1:"452.595",y1:"1171.11",x2:"452.595",y2:"487.89",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#0058CC",stopOpacity:"0"}),u.createElement("stop",{offset:"1",stopColor:"#0058CC"})),u.createElement("linearGradient",{id:"paint1_linear",x1:"435.691",y1:"1080.92",x2:"435.691",y2:"399.944",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#0058CC",stopOpacity:"0"}),u.createElement("stop",{offset:"1",stopColor:"#0058CC"})),u.createElement("linearGradient",{id:"paint2_linear",x1:"415.405",y1:"995.22",x2:"415.405",y2:"312",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#0058CC",stopOpacity:"0"}),u.createElement("stop",{offset:"1",stopColor:"#0058CC"})),u.createElement("linearGradient",{id:"paint3_linear",x1:"-8.48718e-07",y1:"439",x2:"158.46",y2:"439",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"var(--center-channel-bg)"}),u.createElement("stop",{offset:"1",stopColor:"var(--center-channel-bg)",stopOpacity:"0"})),u.createElement("linearGradient",{id:"paint4_linear",x1:"1366",y1:"1463",x2:"1544.39",y2:"1463",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"var(--center-channel-bg)"}),u.createElement("stop",{offset:"1",stopColor:"var(--center-channel-bg)",stopOpacity:"0"})))),Zg=()=>u.createElement("svg",{viewBox:"0 0 329 273",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{filter:"url(#filter0_f)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M324.682 11.9045C324.687 11.0023 324.514 10.1079 324.173 9.27253C323.832 8.43715 323.329 7.67714 322.695 7.03593C322.06 6.39473 321.305 5.88489 320.473 5.53555C319.641 5.18622 318.748 5.00423 317.846 5H12.8364C11.0143 5.00977 9.27061 5.74255 7.98869 7.03727C6.70676 8.33199 5.99148 10.0827 6.00008 11.9045V195H6V216.651C6 218.464 6.72025 220.203 8.0023 221.484C9.28436 222.766 11.0232 223.486 12.8363 223.486H126.93L123.5 253H206L201.492 223.486H315C321.432 223.491 324.686 220.871 324.682 214C324.681 213.275 324.682 201.333 324.682 196.761C324.682 195.671 324.682 195 324.682 195L324.682 11.9045Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"})),u.createElement("path",{d:"M160.507 260.921C242.251 260.921 308.518 258.651 308.518 255.849C308.518 253.048 242.251 250.777 160.507 250.777C78.7621 250.777 12.4951 253.048 12.4951 255.849C12.4951 258.651 78.7621 260.921 160.507 260.921Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"}),u.createElement("path",{opacity:"0.1",d:"M202.208 253.482H161.135L119.979 252.955L120.224 250.845H201.802L202.208 253.482Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M202.287 254.008L119.979 252.955L120.224 250.844L124.201 216.026H196.485L201.802 250.844L202.208 253.482L202.287 254.008Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M319.682 6.90452C319.687 6.00227 319.514 5.1079 319.173 4.27253C318.832 3.43715 318.329 2.67714 317.695 2.03593C317.06 1.39473 316.305 0.88489 315.473 0.535554C314.641 0.186219 313.748 0.00423428 312.846 0H7.83636C6.01426 0.00977462 4.27061 0.74255 2.98869 2.03727C1.70676 3.33199 0.991479 5.08269 1.00008 6.90452V191.761H319.682V6.90452Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M202.287 254.008L119.979 252.955L120.224 250.844L124.201 216.026H196.485L201.802 250.844L202.208 253.482L202.287 254.008Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{d:"M215.479 251.371H106.26V254.008H215.479V251.371Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M215.479 251.371H106.26V254.008H215.479V251.371Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{opacity:"0.1",d:"M169.048 218.4L201.885 251.371L196.846 218.4H169.048Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M319.682 6.90452C319.687 6.00227 319.514 5.1079 319.173 4.27253C318.832 3.43715 318.329 2.67714 317.695 2.03593C317.06 1.39473 316.305 0.88489 315.473 0.535554C314.641 0.186219 313.748 0.00423428 312.846 0H7.83636C6.01426 0.00977462 4.27061 0.74255 2.98869 2.03727C1.70676 3.33199 0.991479 5.08269 1.00008 6.90452V191.761H319.682V6.90452Z",fill:"var(--center-channel-color)",fillOpacity:"0.32"}),u.createElement("path",{d:"M1 189.914V211.565C1 213.378 1.72025 215.116 3.0023 216.398C4.28436 217.68 6.02319 218.4 7.83629 218.4H312.846C313.743 218.401 314.633 218.224 315.462 217.881C316.292 217.538 317.046 217.034 317.681 216.399C318.316 215.765 318.819 215.011 319.163 214.181C319.506 213.352 319.682 212.463 319.682 211.565V189.914H1Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M1 190V211.651C1 213.464 1.72025 215.202 3.0023 216.484C4.28436 217.766 6.02319 218.486 7.83629 218.486H312.846C313.743 218.487 314.633 218.311 315.462 217.967C316.292 217.624 317.046 217.121 317.681 216.486C318.316 215.851 318.819 215.097 319.163 214.268C319.506 213.438 319.682 212.549 319.682 211.651V190H1Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{d:"M308.074 11.6061H14.1924V177.781H308.074V11.6061Z",fill:"var(--center-channel-bg)"}),u.createElement("circle",{cx:"160.5",cy:"204.5",r:"7.5",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M91 257.109C99.2843 257.109 106 256.438 106 255.609C106 254.781 99.2843 254.109 91 254.109C82.7157 254.109 76 254.781 76 255.609C76 256.438 82.7157 257.109 91 257.109Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{d:"M90.6655 256.388C91.6247 256.388 92.4023 255.371 92.4023 254.116C92.4023 252.861 91.6247 251.843 90.6655 251.843C89.7063 251.843 88.9287 252.861 88.9287 254.116C88.9287 255.371 89.7063 256.388 90.6655 256.388Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 253.612C91.6247 253.612 92.4023 252.595 92.4023 251.34C92.4023 250.085 91.6247 249.068 90.6655 249.068C89.7063 249.068 88.9287 250.085 88.9287 251.34C88.9287 252.595 89.7063 253.612 90.6655 253.612Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 250.832C91.6247 250.832 92.4023 249.815 92.4023 248.56C92.4023 247.305 91.6247 246.288 90.6655 246.288C89.7063 246.288 88.9287 247.305 88.9287 248.56C88.9287 249.815 89.7063 250.832 90.6655 250.832Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 248.056C91.6247 248.056 92.4023 247.039 92.4023 245.784C92.4023 244.529 91.6247 243.512 90.6655 243.512C89.7063 243.512 88.9287 244.529 88.9287 245.784C88.9287 247.039 89.7063 248.056 90.6655 248.056Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 245.276C91.6247 245.276 92.4023 244.259 92.4023 243.004C92.4023 241.749 91.6247 240.732 90.6655 240.732C89.7063 240.732 88.9287 241.749 88.9287 243.004C88.9287 244.259 89.7063 245.276 90.6655 245.276Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 242.5C91.6247 242.5 92.4023 241.483 92.4023 240.228C92.4023 238.973 91.6247 237.956 90.6655 237.956C89.7063 237.956 88.9287 238.973 88.9287 240.228C88.9287 241.483 89.7063 242.5 90.6655 242.5Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 239.72C91.6247 239.72 92.4023 238.703 92.4023 237.448C92.4023 236.193 91.6247 235.176 90.6655 235.176C89.7063 235.176 88.9287 236.193 88.9287 237.448C88.9287 238.703 89.7063 239.72 90.6655 239.72Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M97.1646 218.438C97.4016 218.137 97.6177 217.819 97.8113 217.487L93.2476 216.739L98.1808 216.776C98.6542 215.746 98.9127 214.63 98.9405 213.497C98.9683 212.364 98.7648 211.237 98.3425 210.185L91.7187 213.621L97.8251 209.132C97.2518 208.147 96.4821 207.29 95.5636 206.615C94.6452 205.94 93.5977 205.461 92.4863 205.208C91.3749 204.955 90.2233 204.933 89.1029 205.143C87.9826 205.354 86.9176 205.792 85.9739 206.432C85.0303 207.071 84.2283 207.898 83.6177 208.86C83.0071 209.823 82.6009 210.9 82.4245 212.026C82.2481 213.152 82.3051 214.303 82.592 215.406C82.879 216.509 83.3897 217.541 84.0925 218.438C83.7225 218.91 83.4036 219.419 83.141 219.958L89.0673 223.034L82.7484 220.914C82.4585 221.774 82.3103 222.676 82.3096 223.583C82.3061 225.449 82.9345 227.261 84.0925 228.724C83.129 229.95 82.5299 231.423 82.3638 232.974C82.1977 234.524 82.4712 236.091 83.1532 237.493C83.8351 238.896 84.898 240.079 86.2203 240.906C87.5426 241.733 89.071 242.172 90.6309 242.172C92.1907 242.172 93.7192 241.733 95.0415 240.906C96.3638 240.079 97.4266 238.896 98.1086 237.493C98.7905 236.091 99.0641 234.524 98.898 232.974C98.7319 231.423 98.1328 229.95 97.1692 228.724C98.3228 227.257 98.9495 225.446 98.9487 223.58C98.9478 221.715 98.3195 219.904 97.1646 218.438Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M82.3096 223.579C82.3061 225.444 82.9345 227.256 84.0926 228.719C83.129 229.946 82.5299 231.418 82.3638 232.969C82.1977 234.52 82.4712 236.086 83.1532 237.489C83.8351 238.892 84.898 240.074 86.2203 240.901C87.5426 241.729 89.071 242.168 90.6309 242.168C92.1907 242.168 93.7192 241.729 95.0415 240.901C96.3638 240.074 97.4266 238.892 98.1086 237.489C98.7905 236.086 99.0641 234.52 98.898 232.969C98.7319 231.418 98.1328 229.946 97.1692 228.719C98.2824 227.306 82.3096 222.646 82.3096 223.579Z",fill:"var(--center-channel-color)"}),u.createElement("rect",{x:"83",y:"49",width:"154",height:"8",rx:"4",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M83 53C83 50.7909 84.7909 49 87 49H95C97.2091 49 99 50.7909 99 53C99 55.2091 97.2091 57 95 57H87C84.7909 57 83 55.2091 83 53Z",fill:"var(--online-indicator)"}),u.createElement("rect",{x:"83",y:"70",width:"154",height:"8",rx:"4",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M83 74C83 71.7909 84.7909 70 87 70H151C153.209 70 155 71.7909 155 74C155 76.2091 153.209 78 151 78H87C84.7909 78 83 76.2091 83 74Z",fill:"var(--online-indicator)"}),u.createElement("rect",{x:"83",y:"97",width:"154",height:"8",rx:"4",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M83 101C83 98.7909 84.7909 97 87 97H119C121.209 97 123 98.7909 123 101C123 103.209 121.209 105 119 105H87C84.7909 105 83 103.209 83 101Z",fill:"var(--online-indicator)"}),u.createElement("path",{d:"M141 124C141 121.791 142.791 120 145 120H179C181.209 120 183 121.791 183 124V129C183 131.209 181.209 133 179 133H145C142.791 133 141 131.209 141 129V124Z",fill:"var(--button-bg)"}),u.createElement("path",{opacity:"0.1",d:"M168.541 218.459L201.378 251.43L196.339 218.459H168.541Z",fill:"var(--center-channel-color)"}),u.createElement("path",{opacity:"0.1",d:"M307.655 11.683H13.4543V21.3909H307.655V11.683Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M23.2238 13.3734H15.5007C15.3017 13.3734 15.1404 13.5347 15.1404 13.7337V18.9202C15.1404 19.1191 15.3017 19.2804 15.5007 19.2804H23.2238C23.4228 19.2804 23.5841 19.1191 23.5841 18.9202V13.7337C23.5841 13.5347 23.4228 13.3734 23.2238 13.3734Z",fill:"var(--sidebar-bg)"}),u.createElement("path",{opacity:"0.3",d:"M203.974 13.3734H115.869C115.721 13.3734 115.601 13.4934 115.601 13.6413V19.0125C115.601 19.1605 115.721 19.2804 115.869 19.2804H203.974C204.122 19.2804 204.242 19.1605 204.242 19.0125V13.6413C204.242 13.4934 204.122 13.3734 203.974 13.3734Z",fill:"var(--sidebar-bg)"}),u.createElement("path",{d:"M201.609 16.9342H201.392L201.314 16.8696C201.582 16.5463 201.731 16.1399 201.734 15.7196C201.732 15.3734 201.628 15.0355 201.434 14.7487C201.24 14.4619 200.965 14.239 200.645 14.1082C200.324 13.9774 199.972 13.9446 199.633 14.0139C199.294 14.0832 198.982 14.2516 198.739 14.4977C198.495 14.7438 198.33 15.0565 198.265 15.3964C198.199 15.7363 198.235 16.088 198.369 16.4072C198.504 16.7263 198.73 16.9985 199.018 17.1893C199.307 17.3801 199.646 17.481 199.993 17.4792C200.411 17.4728 200.815 17.3247 201.138 17.0589L201.217 17.1236V17.3406L202.57 18.6938L202.972 18.2874L201.609 16.9342ZM199.993 16.9342C199.751 16.9351 199.515 16.8643 199.313 16.7307C199.112 16.597 198.955 16.4066 198.862 16.1837C198.769 15.9607 198.745 15.7152 198.792 15.4782C198.839 15.2413 198.955 15.0236 199.126 14.8528C199.296 14.682 199.514 14.5658 199.751 14.5189C199.988 14.472 200.234 14.4965 200.457 14.5894C200.68 14.6823 200.87 14.8392 201.004 15.0404C201.137 15.2417 201.208 15.478 201.207 15.7196C201.209 15.8794 201.178 16.0379 201.117 16.1858C201.057 16.3338 200.967 16.4681 200.854 16.5812C200.741 16.6942 200.607 16.7836 200.459 16.8443C200.311 16.9049 200.152 16.9354 199.993 16.9342Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M303.433 19.2803C305.065 19.2803 306.389 17.9569 306.389 16.3245C306.389 14.6921 305.065 13.3687 303.433 13.3687C301.8 13.3687 300.477 14.6921 300.477 16.3245C300.477 17.9569 301.8 19.2803 303.433 19.2803Z",fill:"var(--sidebar-bg)"}),u.createElement("g",{opacity:"0.1"},u.createElement("path",{opacity:"0.1",d:"M212.363 196.392C212.483 196.192 212.677 196.047 212.903 195.99C213.134 195.958 213.203 196.253 213.116 196.452C213.938 198.761 214.778 201.14 216.178 203.176C216.645 203.776 217.061 204.414 217.421 205.084C217.684 205.718 217.894 206.373 218.049 207.042C218.788 209.439 219.787 211.748 221.028 213.928C221.184 214.209 221.272 214.521 221.288 214.841C221.303 215.162 221.244 215.481 221.116 215.775C220.525 217.069 221.005 218.343 221.264 219.609C221.619 221.378 221.55 223.211 221.633 224.998C221.633 225.557 221.633 226.116 221.665 226.675C221.726 227.878 221.712 229.085 221.624 230.286C221.527 231.122 221.324 231.944 221.162 232.767C219.555 240.484 221.301 248.617 221.887 256.482C221.928 256.964 221.821 257.447 221.582 257.868C220.88 259.064 221.222 260.408 221.582 261.659C221.794 262.712 222.224 263.71 222.843 264.587C223.023 264.788 223.178 265.01 223.305 265.248C223.532 265.747 223.305 266.338 223.13 266.86C224.381 267.061 225.642 267.195 226.908 267.262C225.266 267.275 223.626 267.141 222.007 266.86C222.164 266.338 222.405 265.747 222.178 265.248C222.047 265.007 221.884 264.785 221.693 264.587C221.077 263.708 220.648 262.711 220.432 261.659C220.09 260.408 219.749 259.064 220.432 257.868C220.673 257.448 220.78 256.965 220.742 256.482C220.155 248.631 218.404 240.484 220.016 232.767C220.187 231.944 220.391 231.122 220.478 230.286C220.565 229.085 220.581 227.879 220.525 226.675C220.525 226.116 220.501 225.557 220.488 224.998C220.404 223.211 220.488 221.378 220.118 219.609C219.864 218.343 219.384 217.069 219.975 215.775C220.102 215.481 220.16 215.162 220.145 214.842C220.13 214.521 220.042 214.209 219.887 213.928C218.643 211.749 217.642 209.44 216.903 207.042C216.748 206.373 216.538 205.718 216.275 205.084C215.915 204.415 215.501 203.777 215.037 203.176C213.697 201.232 212.871 198.997 212.085 196.771C212.187 196.655 212.27 196.521 212.363 196.392Z",fill:"var(--center-channel-color)"})),u.createElement("g",{opacity:"0.1"},u.createElement("path",{opacity:"0.1",d:"M192.57 176.611C192.568 176.625 192.568 176.639 192.57 176.653C192.768 176.962 193.249 176.782 193.554 176.57L195.087 175.512C197.134 175.793 199.203 175.892 201.267 175.808C207.138 175.725 213.014 175.956 218.871 176.367C220.829 176.505 222.848 176.653 224.696 176.002C225.619 175.669 226.497 175.143 227.467 174.875C227.802 174.813 228.125 174.697 228.423 174.533C228.534 174.838 228.64 175.143 228.737 175.457C228.954 176.154 229.098 177.022 228.562 177.517C228.239 177.755 227.863 177.914 227.467 177.978C226.506 178.242 225.619 178.773 224.696 179.105C222.848 179.757 220.829 179.609 218.871 179.47C213.014 179.059 207.138 178.828 201.267 178.911C199.206 178.994 197.14 178.893 195.096 178.611L193.563 179.673C193.258 179.886 192.778 180.066 192.579 179.757C192.516 179.634 192.492 179.496 192.51 179.359C192.531 178.445 192.551 177.529 192.57 176.611Z",fill:"var(--center-channel-color)"}),u.createElement("path",{opacity:"0.1",d:"M226.095 148.411C225.83 146.904 225.328 145.448 224.608 144.098L224.03 148.661C223.993 148.947 223.956 149.233 223.924 149.52C223.85 148.864 223.823 148.203 223.841 147.543C223.841 146.883 223.947 146.222 224.03 145.566L224.608 141.003C225.328 142.354 225.83 143.81 226.095 145.317C226.62 147.569 227.267 149.791 228.035 151.972C228.469 153.288 228.904 154.605 229.375 155.907C229.675 156.654 229.906 157.427 230.063 158.216C230.165 158.849 230.169 159.495 230.243 160.128C230.395 161.493 230.87 162.802 231.629 163.948C231.767 164.215 231.999 164.422 232.28 164.529C232.469 164.563 232.663 164.555 232.848 164.506C234.891 164.103 236.868 163.419 238.724 162.474C238.969 162.354 239.2 162.207 239.412 162.036C239.657 162.959 240.216 163.971 239.717 164.783C239.461 165.126 239.118 165.394 238.724 165.559C236.868 166.504 234.891 167.188 232.848 167.592C232.661 167.633 232.467 167.633 232.28 167.592C231.999 167.484 231.767 167.277 231.629 167.01C230.871 165.864 230.396 164.555 230.243 163.19C230.169 162.557 230.165 161.911 230.063 161.278C229.907 160.488 229.676 159.715 229.375 158.969C228.913 157.662 228.451 156.35 228.035 155.034C227.269 152.863 226.621 150.652 226.095 148.411Z",fill:"var(--center-channel-color)"}),u.createElement("path",{opacity:"0.1",d:"M225.62 160.987C225.62 161.19 225.62 161.398 225.62 161.606C225.629 161.398 225.624 161.195 225.62 160.987Z",fill:"var(--center-channel-color)"}),u.createElement("path",{opacity:"0.1",d:"M192.117 168.755C192.625 170.09 192.607 171.559 192.579 172.986C192.579 173.36 192.579 173.729 192.579 174.103C192.54 173.333 192.384 172.573 192.117 171.85C191.904 171.295 191.604 170.778 191.415 170.219C191.091 169.241 191.104 168.183 191.452 167.213C191.641 167.739 191.914 168.233 192.117 168.755Z",fill:"var(--center-channel-color)"}),u.createElement("path",{opacity:"0.1",d:"M167.871 137.346L168.135 137.004L169.52 139.313C170.079 140.345 170.763 141.303 171.557 142.167C172.366 143.033 173.467 143.568 174.647 143.668C175.392 143.661 176.129 143.52 176.823 143.252C180.056 142.167 182.99 140.444 186.061 138.976C186.606 138.66 187.216 138.473 187.844 138.431C188.163 138.425 188.475 138.522 188.733 138.709C188.991 138.895 189.182 139.161 189.276 139.465C189.627 141.234 189.974 142.998 190.454 144.735C190.913 146.379 191.336 148.028 191.724 149.681C191.985 150.696 192.17 151.729 192.279 152.771C192.329 153.362 192.334 153.958 192.339 154.549L192.408 161.722C192.408 161.827 192.399 161.932 192.38 162.036L192.339 157.643C192.339 157.048 192.339 156.457 192.279 155.865C192.17 154.823 191.985 153.791 191.724 152.776C191.33 151.122 190.907 149.473 190.454 147.829C189.992 146.093 189.627 144.329 189.276 142.555C189.182 142.251 188.991 141.986 188.733 141.8C188.474 141.615 188.162 141.518 187.844 141.525C187.208 141.559 186.588 141.741 186.034 142.056C182.976 143.525 180.029 145.248 176.795 146.328C176.102 146.599 175.364 146.742 174.62 146.749C173.439 146.648 172.338 146.114 171.53 145.248C170.737 144.383 170.053 143.424 169.493 142.393C168.934 141.447 168.37 140.505 167.807 139.558C167.492 139.031 167.072 138.422 167.248 137.83C167.506 137.746 167.726 137.575 167.871 137.346Z",fill:"var(--center-channel-color)"})),u.createElement("path",{d:"M91 257C99.2843 257 106 256.328 106 255.5C106 254.672 99.2843 254 91 254C82.7157 254 76 254.672 76 255.5C76 256.328 82.7157 257 91 257Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{d:"M90.6655 256.279C91.6247 256.279 92.4023 255.261 92.4023 254.007C92.4023 252.752 91.6247 251.734 90.6655 251.734C89.7063 251.734 88.9287 252.752 88.9287 254.007C88.9287 255.261 89.7063 256.279 90.6655 256.279Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 253.503C91.6247 253.503 92.4023 252.486 92.4023 251.231C92.4023 249.976 91.6247 248.959 90.6655 248.959C89.7063 248.959 88.9287 249.976 88.9287 251.231C88.9287 252.486 89.7063 253.503 90.6655 253.503Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 250.723C91.6247 250.723 92.4023 249.706 92.4023 248.451C92.4023 247.196 91.6247 246.178 90.6655 246.178C89.7063 246.178 88.9287 247.196 88.9287 248.451C88.9287 249.706 89.7063 250.723 90.6655 250.723Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 247.947C91.6247 247.947 92.4023 246.93 92.4023 245.675C92.4023 244.42 91.6247 243.403 90.6655 243.403C89.7063 243.403 88.9287 244.42 88.9287 245.675C88.9287 246.93 89.7063 247.947 90.6655 247.947Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 245.167C91.6247 245.167 92.4023 244.15 92.4023 242.895C92.4023 241.64 91.6247 240.622 90.6655 240.622C89.7063 240.622 88.9287 241.64 88.9287 242.895C88.9287 244.15 89.7063 245.167 90.6655 245.167Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 242.391C91.6247 242.391 92.4023 241.374 92.4023 240.119C92.4023 238.864 91.6247 237.847 90.6655 237.847C89.7063 237.847 88.9287 238.864 88.9287 240.119C88.9287 241.374 89.7063 242.391 90.6655 242.391Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M90.6655 239.611C91.6247 239.611 92.4023 238.594 92.4023 237.339C92.4023 236.084 91.6247 235.067 90.6655 235.067C89.7063 235.067 88.9287 236.084 88.9287 237.339C88.9287 238.594 89.7063 239.611 90.6655 239.611Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M97.1646 218.329C97.4016 218.027 97.6177 217.71 97.8113 217.378L93.2476 216.63L98.1808 216.667C98.6542 215.637 98.9127 214.521 98.9405 213.388C98.9683 212.255 98.7648 211.128 98.3425 210.076L91.7187 213.512L97.8251 209.023C97.2518 208.038 96.4821 207.181 95.5636 206.506C94.6452 205.831 93.5977 205.352 92.4863 205.099C91.3749 204.845 90.2233 204.823 89.1029 205.034C87.9826 205.244 86.9176 205.683 85.9739 206.323C85.0303 206.962 84.2283 207.789 83.6177 208.751C83.0071 209.714 82.6009 210.791 82.4245 211.917C82.2481 213.043 82.3051 214.194 82.592 215.297C82.879 216.4 83.3897 217.432 84.0925 218.329C83.7225 218.801 83.4036 219.31 83.141 219.849L89.0673 222.925L82.7484 220.805C82.4585 221.665 82.3103 222.567 82.3096 223.474C82.3061 225.34 82.9345 227.152 84.0925 228.615C83.129 229.841 82.5299 231.314 82.3638 232.865C82.1977 234.415 82.4712 235.982 83.1532 237.384C83.8351 238.787 84.898 239.97 86.2203 240.797C87.5426 241.624 89.071 242.063 90.6309 242.063C92.1907 242.063 93.7192 241.624 95.0415 240.797C96.3638 239.97 97.4266 238.787 98.1086 237.384C98.7905 235.982 99.0641 234.415 98.898 232.865C98.7319 231.314 98.1328 229.841 97.1692 228.615C98.3228 227.148 98.9495 225.337 98.9487 223.471C98.9478 221.606 98.3195 219.795 97.1646 218.329Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M82.3096 223.47C82.3061 225.335 82.9345 227.147 84.0926 228.61C83.129 229.836 82.5299 231.309 82.3638 232.86C82.1977 234.411 82.4712 235.977 83.1532 237.38C83.8351 238.782 84.898 239.965 86.2203 240.792C87.5426 241.62 89.071 242.058 90.6309 242.058C92.1907 242.058 93.7192 241.62 95.0415 240.792C96.3638 239.965 97.4266 238.782 98.1086 237.38C98.7905 235.977 99.0641 234.411 98.898 232.86C98.7319 231.309 98.1328 229.836 97.1692 228.61C98.2824 227.197 82.3096 222.537 82.3096 223.47Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M217.88 272.454C241.49 272.454 260.63 269.584 260.63 266.044C260.63 262.503 241.49 259.633 217.88 259.633C194.27 259.633 175.13 262.503 175.13 266.044C175.13 269.584 194.27 272.454 217.88 272.454Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"}),u.createElement("path",{d:"M238.648 180.266C238.62 179.472 238.523 178.677 238.426 177.888C238.07 174.923 237.705 171.958 237.128 169.034C237.026 168.464 236.871 167.904 236.666 167.362C236.458 166.85 236.172 166.379 235.955 165.871C235.957 165.852 235.957 165.834 235.955 165.815C236.223 165.686 236.486 165.556 236.745 165.418C236.932 165.323 237.111 165.213 237.281 165.09C237.451 164.967 237.594 164.81 237.701 164.628C238.163 163.815 237.645 162.781 237.41 161.857C237.16 160.864 237.216 159.673 236.486 159.008C233.881 156.698 235.174 151.988 233.872 148.681C233.641 148.104 233.377 147.535 233.179 146.944C233.026 146.482 232.92 146.021 232.809 145.559C231.885 141.71 230.912 137.878 229.89 134.064C228.814 130.11 228.929 125.991 227.58 122.13C227.326 121.329 226.993 120.556 226.587 119.82C226.136 119.054 225.524 118.394 224.795 117.885C222.827 116.527 220.846 115.368 218.536 114.874C216.227 114.38 213.732 114.458 211.377 114.468C210.533 113.297 209.373 112.392 208.032 111.858L207.991 111.738C207.802 111.27 207.657 110.787 207.557 110.293C207.481 109.804 207.442 109.309 207.441 108.815C207.441 108.284 207.418 107.748 207.404 107.217L207.533 107.092C207.843 106.766 208.127 106.417 208.383 106.048C208.631 105.7 208.847 105.331 209.03 104.944C209.237 104.506 209.413 104.054 209.557 103.591C209.837 102.656 210.028 101.695 210.125 100.723C210.249 99.5824 210.286 98.414 210.319 97.2732C210.319 97.0423 210.319 96.8114 210.319 96.5759V96.405C210.319 96.2202 210.319 96.0401 210.319 95.86V95.8C210.357 94.6204 210.059 93.4543 209.46 92.4378C208.624 91.1908 207.192 90.5904 205.81 90.0916C203.039 89.131 199.995 88.4983 197.256 89.5282C195.08 90.3502 193.344 92.1422 191.196 93.052C191.245 93.1342 191.29 93.219 191.33 93.306C191.33 93.3183 191.33 93.3307 191.33 93.343C191.367 93.4261 191.399 93.5046 191.427 93.5878C191.496 93.7747 191.547 93.9681 191.579 94.1651C191.641 94.5381 191.641 94.9189 191.579 95.2919C190.931 95.5824 190.214 95.6879 189.51 95.5968C189.776 96.4665 190.219 97.2717 190.812 97.9614C191.002 98.2015 191.2 98.4232 191.39 98.6772L191.681 99.0375C192.176 99.6179 192.579 100.27 192.877 100.973C192.986 101.25 193.062 101.54 193.103 101.836C193.191 102.423 193.168 103.097 193.247 103.684C193.276 103.936 193.34 104.183 193.436 104.418C193.613 105.635 194.077 106.792 194.79 107.793C195.504 108.795 196.445 109.612 197.538 110.177C197.838 112.003 197.838 113.866 197.538 115.691C197.538 115.793 197.501 115.895 197.478 115.996C196.221 117.58 195.016 119.252 193.468 120.49C192.764 121.041 192.011 121.527 191.219 121.94C190.753 122.209 190.255 122.415 189.736 122.554C189.154 122.688 188.544 122.67 187.967 122.813C186.851 123.167 185.912 123.931 185.339 124.951C185.047 125.491 184.723 126.012 184.369 126.512C184.045 126.914 183.639 127.242 183.297 127.625C182.059 129.011 181.722 131.015 181.449 132.89C180.487 133.954 179.431 134.929 178.294 135.805C177.939 136.087 177.544 136.316 177.121 136.484C176.031 136.848 174.835 136.382 173.888 135.68C172.941 134.978 172.202 134.054 171.287 133.334L171.047 133.689C170.979 133.622 170.915 133.549 170.858 133.472C170.483 132.944 170.223 132.343 170.096 131.708C169.763 130.004 170.391 128.18 169.902 126.522C169.721 125.921 169.287 125.302 168.687 125.316C168.086 125.33 167.712 125.931 167.195 126.212C166.363 126.674 165.347 126.254 164.525 125.797C163.703 125.339 162.765 124.827 161.864 125.099C161.847 125.397 161.9 125.694 162.02 125.967C162.14 126.24 162.322 126.481 162.553 126.669C163.017 127.037 163.397 127.498 163.67 128.023C163.805 128.596 163.857 129.185 163.823 129.773C163.915 131.122 164.747 132.281 165.55 133.334C166.548 134.612 167.592 135.852 168.682 137.056C168.551 137.286 168.346 137.463 168.1 137.56C168.038 137.779 168.038 138.01 168.1 138.229C168.146 138.38 168.204 138.527 168.276 138.668C168.382 138.885 168.511 139.098 168.622 139.296L170.243 142.146L170.507 142.608C170.617 142.802 170.728 142.986 170.844 143.176C171.226 143.839 171.68 144.459 172.197 145.023C172.455 145.294 172.74 145.539 173.047 145.753C173.247 145.896 173.459 146.023 173.68 146.131C173.989 146.289 174.319 146.403 174.659 146.469C174.826 146.504 174.996 146.526 175.167 146.533C175.344 146.547 175.522 146.547 175.699 146.533C176.231 146.459 176.753 146.324 177.255 146.131C180.345 145.046 183.181 143.314 186.119 141.841C186.523 141.615 186.957 141.447 187.408 141.342C187.56 141.313 187.715 141.301 187.87 141.305C188.027 141.31 188.182 141.336 188.332 141.384C188.479 141.433 188.619 141.503 188.747 141.592C189.007 141.766 189.187 142.034 189.251 142.34C189.339 142.802 189.422 143.231 189.505 143.674C189.588 144.118 189.681 144.561 189.773 145.005C189.958 145.887 190.156 146.769 190.387 147.642C190.512 148.104 190.632 148.593 190.752 149.073C191.048 150.246 191.339 151.429 191.607 152.611C191.69 152.981 191.768 153.355 191.842 153.724C191.98 154.381 192.079 155.046 192.138 155.715C192.14 155.73 192.14 155.746 192.138 155.761C192.184 156.343 192.189 156.92 192.193 157.502V159.326L192.24 164.711C192.24 165.487 191.824 165.972 191.496 166.67C191.431 166.813 191.371 166.96 191.32 167.108C191.258 167.296 191.207 167.487 191.168 167.681C191.168 167.741 191.14 167.806 191.131 167.866C191.122 167.926 191.131 168.009 191.103 168.078C191.076 168.147 191.103 168.217 191.08 168.281C191.057 168.346 191.08 168.42 191.08 168.485C191.08 168.549 191.08 168.632 191.08 168.706C191.08 168.78 191.08 168.836 191.08 168.896C191.08 168.956 191.08 169.057 191.08 169.136C191.08 169.214 191.08 169.251 191.08 169.307C191.08 169.362 191.112 169.487 191.126 169.579L191.154 169.718C191.186 169.852 191.219 169.986 191.265 170.119C191.357 170.397 191.473 170.669 191.593 170.937C191.713 171.205 191.833 171.477 191.935 171.754C191.999 171.93 192.055 172.109 192.101 172.29C192.112 172.331 192.122 172.373 192.129 172.415C192.166 172.558 192.198 172.701 192.226 172.849V172.951C192.253 173.108 192.276 173.269 192.295 173.412C192.297 173.431 192.297 173.449 192.295 173.468C192.295 173.648 192.332 173.828 192.341 174.008C192.383 174.664 192.373 175.334 192.341 175.994L192.286 179.282V179.384C192.281 179.487 192.303 179.589 192.35 179.68C192.384 179.731 192.429 179.774 192.483 179.803C192.538 179.832 192.598 179.847 192.66 179.846C192.894 179.829 193.118 179.742 193.302 179.596L194.771 178.53H194.863C193.704 180.428 192.775 182.52 192.595 184.751C192.525 186.224 192.62 187.7 192.877 189.152C194.23 198.851 197.418 208.637 196.748 218.428C196.485 222.284 198.083 226.044 198.073 229.905C198.073 231.406 197.819 232.893 197.755 234.389C197.473 240.818 200.753 247.321 199.418 253.602C199.88 255.163 201.63 255.994 202.124 257.546C202.54 258.862 201.94 260.262 201.455 261.55C201.28 261.999 201.146 262.463 201.053 262.936C199.709 262.936 198.217 262.963 197.321 263.338C197.072 263.419 196.83 263.518 196.595 263.633C195.769 264.127 195.713 265.48 196.235 266.298C196.757 267.115 199.69 269.725 200.549 270.154L202.429 271.078C203.438 271.648 204.529 272.059 205.663 272.297C206.617 272.403 207.581 272.385 208.531 272.242C209.266 272.163 210.079 272.043 210.554 271.443C211.224 270.593 210.882 269.212 210.425 267.984C210.594 267.849 210.725 267.672 210.804 267.471C210.885 267.149 210.927 266.819 210.928 266.487C211.064 265.845 211.285 265.224 211.584 264.64C212.356 262.76 212.323 260.645 212.277 258.599C212.286 255.273 212.057 251.95 211.594 248.656C211.363 247.27 211.049 245.885 210.781 244.499C209.795 239.481 209.372 234.37 209.52 229.258C209.536 228.017 209.363 226.78 209.007 225.591C208.855 224.905 208.815 224.198 208.887 223.499L209.441 215.043C209.599 213.323 209.625 211.594 209.52 209.87C209.441 208.946 209.289 208.023 209.196 207.099C209.056 205.338 209.027 203.571 209.109 201.806C209.159 199.908 209.247 197.872 210.333 196.347C210.388 196.25 210.462 196.164 210.551 196.095C210.64 196.026 210.741 195.975 210.85 195.946C211.072 195.913 211.136 196.214 211.053 196.408C211.169 196.759 211.289 197.105 211.409 197.456C211.446 197.557 211.478 197.654 211.515 197.751C211.575 197.932 211.64 198.112 211.704 198.292C211.769 198.472 211.797 198.541 211.838 198.666L212.019 199.128C212.069 199.266 212.125 199.4 212.176 199.534C212.226 199.668 212.291 199.825 212.351 199.968C212.411 200.111 212.471 200.255 212.536 200.398C212.601 200.541 212.647 200.661 212.707 200.795L212.929 201.257C212.984 201.372 213.039 201.492 213.099 201.608C213.159 201.723 213.28 201.945 213.372 202.111C213.423 202.208 213.474 202.305 213.529 202.398C213.677 202.656 213.829 202.906 213.991 203.155C214.305 203.617 214.642 204.079 214.915 204.573C215.011 204.735 215.097 204.903 215.173 205.076C215.429 205.714 215.632 206.372 215.779 207.044C215.94 207.653 216.13 208.249 216.337 208.836C216.545 209.422 216.799 210.009 217.026 210.581C217.15 210.868 217.28 211.154 217.409 211.436C217.797 212.29 218.217 213.131 218.642 213.962C218.717 214.109 218.776 214.264 218.818 214.424C218.839 214.501 218.856 214.58 218.869 214.659C218.886 214.813 218.886 214.968 218.869 215.121C218.864 215.218 218.851 215.313 218.832 215.408C218.804 215.55 218.762 215.689 218.707 215.823C218.139 217.121 218.596 218.4 218.846 219.675C219.064 221.019 219.169 222.378 219.16 223.739C219.16 224.201 219.16 224.663 219.201 225.092C219.201 225.656 219.201 226.215 219.234 226.778C219.266 227.342 219.234 227.988 219.266 228.593C219.276 229.199 219.251 229.805 219.192 230.408C219.192 230.621 219.137 230.829 219.104 231.036C219.003 231.66 218.859 232.279 218.735 232.884C218.274 235.319 218.06 237.795 218.097 240.273C218.097 241.268 218.13 242.264 218.194 243.261C218.25 244.264 218.328 245.261 218.416 246.263C218.462 246.813 218.518 247.362 218.573 247.912C218.665 248.863 218.767 249.815 218.869 250.766C218.97 251.718 219.081 252.766 219.178 253.759C219.275 254.752 219.363 255.745 219.432 256.733C219.476 257.223 219.373 257.715 219.137 258.146C219.043 258.318 218.966 258.497 218.906 258.682C218.863 258.811 218.829 258.942 218.804 259.075C218.777 259.228 218.758 259.382 218.749 259.537C218.737 259.861 218.756 260.186 218.804 260.506C218.829 260.667 218.856 260.821 218.887 260.968C218.956 261.287 219.04 261.606 219.123 261.92C219.313 262.79 219.624 263.629 220.047 264.414C220.137 264.575 220.238 264.729 220.351 264.876C220.384 264.922 220.421 264.963 220.458 265.009C220.553 265.12 220.641 265.238 220.721 265.36C220.759 265.417 220.791 265.478 220.818 265.541C220.913 265.796 220.932 266.073 220.873 266.34C220.823 266.617 220.726 266.894 220.652 267.157L220.892 267.189C220.555 268.256 220.398 269.351 220.966 270.067C221.428 270.667 222.255 270.787 222.989 270.866C223.938 271.012 224.903 271.033 225.857 270.926C226.991 270.688 228.082 270.276 229.091 269.706L230.971 268.783C231.83 268.353 234.758 265.762 235.28 264.922C235.802 264.081 235.742 262.756 234.925 262.261C234.691 262.143 234.448 262.043 234.2 261.961C233.368 261.615 232.024 261.583 230.768 261.564C230.703 261.102 230.666 260.599 230.647 260.123C230.563 258.356 230.597 256.584 230.749 254.821C230.855 253.57 231.017 252.323 231.003 251.071C231.003 249.399 230.657 247.746 230.477 246.083C230.296 244.421 230.278 242.795 230.25 241.151C230.209 238.731 230.92 236.426 231.229 234.034L231.77 229.826C231.861 229.315 231.873 228.794 231.807 228.279C231.724 227.817 231.511 227.356 231.423 226.894C231.234 225.845 231.71 224.806 231.858 223.749C232.029 222.534 231.765 221.301 231.594 220.082C231.37 218.156 231.264 216.219 231.276 214.281C231.109 202.365 230.772 190.182 226.744 179.033C226.583 178.571 226.407 178.109 226.227 177.68C226.308 177.658 226.388 177.632 226.467 177.601C226.593 177.555 226.712 177.493 226.823 177.417C226.872 177.387 226.918 177.353 226.961 177.315C227.09 177.187 227.184 177.028 227.234 176.853C227.288 176.684 227.316 176.508 227.317 176.331C227.311 176.019 227.266 175.709 227.183 175.408L227.128 175.218C227.035 174.904 226.934 174.595 226.827 174.295C226.726 173.994 226.615 173.703 226.499 173.408C226.259 172.86 226.064 172.293 225.917 171.713C225.636 170.401 225.917 168.886 225.128 167.82C223.382 165.427 224.615 161.751 223.885 158.837C223.645 157.913 223.294 156.989 223.072 156.066C222.934 155.474 222.846 154.869 222.758 154.264C222.527 152.956 222.413 151.63 222.416 150.302C222.416 149.637 222.518 148.972 222.596 148.311L223.151 143.73C223.77 144.915 224.212 146.185 224.462 147.498C224.504 147.688 224.541 147.873 224.583 148.062C225.082 150.322 225.699 152.554 226.43 154.749C226.851 156.075 227.266 157.396 227.719 158.707C227.853 159.081 227.982 159.46 228.102 159.843C228.22 160.226 228.313 160.617 228.379 161.012C228.43 161.326 228.453 161.649 228.476 161.968C228.5 162.287 228.518 162.615 228.55 162.933C228.701 164.297 229.159 165.609 229.89 166.771C229.913 166.801 229.935 166.832 229.955 166.863C230.079 167.088 230.278 167.261 230.518 167.353C230.684 167.388 230.856 167.388 231.022 167.353H231.049C231.294 167.302 231.539 167.247 231.779 167.187C231.815 167.18 231.851 167.17 231.885 167.159C231.996 168.591 232.421 170.018 232.458 171.463C232.504 173.565 231.733 175.578 231.243 177.615C230.831 179.474 230.555 181.36 230.416 183.259C230.353 183.635 230.377 184.02 230.486 184.386C230.538 184.563 230.651 184.717 230.804 184.82C230.958 184.924 231.142 184.971 231.326 184.954C231.456 184.91 231.576 184.841 231.679 184.749C231.781 184.658 231.864 184.547 231.922 184.423C232.472 183.509 232.655 182.422 232.435 181.379C232.874 181.472 233.1 181.975 233.206 182.432C233.487 183.618 233.42 184.859 233.012 186.007C232.74 186.773 232.32 187.48 232.089 188.27C232.006 188.516 232.006 188.782 232.089 189.027C232.32 189.558 233.049 189.521 233.576 189.327C235.297 188.626 236.695 187.309 237.498 185.633C238.315 183.965 238.71 182.122 238.648 180.266Z",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M211.7 271.484C211.206 272.08 210.36 272.2 209.593 272.279C208.603 272.422 207.6 272.44 206.605 272.334C205.432 272.098 204.301 271.69 203.247 271.124L201.288 270.2C200.397 269.771 197.348 267.194 196.803 266.358C196.258 265.522 196.314 264.206 197.173 263.712C197.418 263.596 197.671 263.497 197.93 263.416C199.371 262.843 202.291 263.134 203.824 262.913C204.585 262.877 205.34 263.054 206.004 263.425C207.519 264.095 210.189 264.626 210.85 266.33C211.363 267.642 212.767 270.187 211.7 271.484Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M222.578 270.219C223.072 270.815 223.918 270.935 224.684 271.013C226.869 271.422 229.128 271.009 231.026 269.854L232.985 268.93C233.881 268.501 236.93 265.924 237.475 265.088C238.02 264.252 237.964 262.931 237.101 262.442C236.858 262.323 236.606 262.224 236.348 262.146C234.906 261.573 231.987 261.864 230.454 261.643C229.692 261.605 228.935 261.783 228.269 262.155C226.758 262.825 224.112 263.356 223.428 265.06C222.901 266.376 221.493 268.921 222.578 270.219Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M227.34 176.835C227.812 177.742 228.224 178.681 228.573 179.643C232.768 190.727 233.119 202.855 233.294 214.71C233.279 216.638 233.388 218.565 233.622 220.479C233.798 221.693 234.084 222.917 233.895 224.132C233.742 225.18 233.248 226.215 233.433 227.254C233.521 227.716 233.742 228.177 233.83 228.639C233.899 229.151 233.885 229.67 233.788 230.177L233.23 234.361C232.906 236.745 232.167 239.035 232.209 241.442C232.236 243.081 232.264 244.721 232.444 246.351C232.712 247.994 232.896 249.649 232.994 251.311C232.994 252.558 232.837 253.8 232.726 255.043C232.57 256.796 232.535 258.559 232.62 260.317C232.684 261.67 232.841 263.088 233.544 264.229C232.735 265.383 231.941 266.418 230.652 267C228.033 268.145 225.026 267.757 222.194 267.346C222.351 266.824 222.592 266.233 222.365 265.734C222.234 265.493 222.071 265.271 221.88 265.074C221.264 264.194 220.835 263.198 220.619 262.146C220.278 260.894 219.936 259.55 220.619 258.354C220.86 257.934 220.968 257.451 220.929 256.969C220.342 249.117 218.592 240.97 220.204 233.253C220.375 232.431 220.578 231.609 220.666 230.773C220.753 229.571 220.768 228.365 220.712 227.161L220.73 225.439C220.647 223.651 220.73 221.818 220.361 220.049C220.107 218.784 219.626 217.509 220.217 216.216C220.345 215.922 220.403 215.602 220.388 215.282C220.373 214.962 220.284 214.649 220.13 214.368C218.885 212.19 217.885 209.88 217.146 207.482C216.993 206.813 216.783 206.158 216.518 205.524C216.158 204.856 215.744 204.218 215.28 203.617C213.894 201.58 213.035 199.22 212.213 196.892C212.3 196.675 212.213 196.38 212.005 196.43C211.892 196.458 211.787 196.508 211.694 196.577C211.601 196.646 211.523 196.733 211.464 196.832C210.337 198.347 210.24 200.37 210.189 202.264C210.105 204.019 210.135 205.777 210.282 207.529C210.374 208.452 210.536 209.376 210.619 210.3C210.727 212.014 210.7 213.734 210.536 215.444L209.968 223.822C209.887 224.518 209.927 225.223 210.088 225.905C210.458 227.084 210.639 228.314 210.624 229.549C210.478 234.63 210.925 239.711 211.954 244.688C212.231 246.074 212.559 247.432 212.799 248.812C213.279 252.088 213.516 255.395 213.51 258.705C213.561 260.742 213.594 262.862 212.79 264.709C212.475 265.289 212.244 265.911 212.106 266.556C212.106 266.887 212.062 267.216 211.977 267.536C211.741 268.141 211.053 268.399 210.402 268.538C209.209 268.797 207.984 268.884 206.767 268.796C206.481 268.793 206.199 268.73 205.94 268.612C205.478 268.376 205.247 267.877 204.9 267.503C204.157 266.69 202.919 266.441 202.24 265.573C201.39 264.483 201.746 262.908 202.24 261.624C202.734 260.34 203.367 258.95 202.933 257.638C202.42 256.1 200.623 255.269 200.115 253.717C201.501 247.464 198.092 240.998 198.383 234.602C198.452 233.11 198.711 231.632 198.715 230.14C198.715 226.298 197.066 222.557 197.33 218.724C198.027 208.983 194.706 199.257 193.302 189.591C193.033 188.149 192.934 186.681 193.006 185.217C193.214 182.797 194.337 180.548 195.685 178.53C196.655 177.084 197.819 175.666 199.422 174.992C200.743 174.433 202.221 174.438 203.653 174.447C207.229 174.475 210.804 174.502 214.379 174.567C216.812 174.532 219.242 174.748 221.631 175.214C223.566 175.652 225.377 176.553 227.34 176.835Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M169.578 132.429C169.232 130.734 169.888 128.919 169.375 127.27C169.19 126.674 168.737 126.055 168.114 126.069C167.49 126.083 167.098 126.679 166.562 126.96C165.698 127.422 164.645 127.002 163.79 126.549C162.936 126.097 161.943 125.58 161.019 125.852C160.908 126.443 161.305 127.002 161.739 127.413C162.216 127.777 162.611 128.236 162.899 128.762C163.116 129.307 163.014 129.916 163.06 130.503C163.157 131.842 163.984 133.001 164.857 134.045C166.226 135.727 167.68 137.338 169.213 138.871C169.213 138.871 171.523 135.989 171.49 135.486C171.458 134.983 170.668 134.562 170.382 134.184C169.988 133.665 169.713 133.066 169.578 132.429Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{opacity:"0.72",d:"M169.578 132.429C169.232 130.734 169.888 128.919 169.375 127.27C169.19 126.674 168.737 126.055 168.114 126.069C167.49 126.083 167.098 126.679 166.562 126.96C165.698 127.422 164.645 127.002 163.79 126.549C162.936 126.097 161.943 125.579 161.019 125.852C160.908 126.443 161.305 127.002 161.739 127.413C162.216 127.777 162.611 128.236 162.899 128.762C163.116 129.307 163.014 129.916 163.06 130.503C163.157 131.842 163.984 133.001 164.857 134.045C166.226 135.727 167.68 137.338 169.213 138.871C169.213 138.871 171.523 135.989 171.49 135.486C171.458 134.983 170.668 134.562 170.382 134.184C169.988 133.665 169.713 133.066 169.578 132.429Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),u.createElement("path",{d:"M238.892 167.898C239.1 168.436 239.254 168.993 239.354 169.561C239.955 172.47 240.334 175.421 240.708 178.368C240.805 179.153 240.906 179.943 240.934 180.732C241.042 182.614 240.655 184.492 239.812 186.178C238.96 187.874 237.506 189.192 235.733 189.872C235.188 190.066 234.426 190.103 234.186 189.577C234.1 189.333 234.1 189.068 234.186 188.824C234.403 188.039 234.842 187.332 235.109 186.57C235.531 185.432 235.602 184.193 235.313 183.014C235.202 182.552 234.966 182.058 234.509 181.966C234.737 183.007 234.544 184.096 233.973 184.995C233.91 185.12 233.823 185.23 233.717 185.321C233.61 185.411 233.487 185.48 233.354 185.522C233.166 185.541 232.976 185.496 232.817 185.394C232.657 185.291 232.537 185.138 232.477 184.958C232.365 184.595 232.342 184.21 232.407 183.836C232.552 181.945 232.839 180.068 233.266 178.22C233.775 176.193 234.583 174.193 234.527 172.101C234.481 170.207 233.728 168.346 233.941 166.466C233.937 166.362 233.969 166.26 234.031 166.176C234.093 166.092 234.182 166.031 234.283 166.004C234.813 165.787 235.358 165.606 235.913 165.464C236.241 165.381 237.359 165.002 237.673 165.168C237.987 165.335 238.006 166.152 238.135 166.438C238.38 166.914 238.68 167.385 238.892 167.898Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{opacity:"0.72",d:"M238.892 167.898C239.1 168.436 239.254 168.993 239.354 169.561C239.955 172.47 240.334 175.421 240.708 178.368C240.805 179.153 240.906 179.943 240.934 180.732C241.042 182.614 240.655 184.492 239.812 186.178C238.96 187.874 237.506 189.192 235.733 189.872C235.188 190.066 234.426 190.103 234.186 189.577C234.1 189.333 234.1 189.068 234.186 188.824C234.403 188.039 234.842 187.332 235.109 186.57C235.531 185.432 235.602 184.193 235.313 183.014C235.202 182.552 234.966 182.058 234.509 181.966C234.737 183.007 234.544 184.096 233.973 184.995C233.91 185.12 233.823 185.23 233.717 185.321C233.61 185.411 233.487 185.48 233.354 185.522C233.166 185.541 232.976 185.496 232.817 185.394C232.657 185.291 232.537 185.138 232.477 184.958C232.365 184.595 232.342 184.21 232.407 183.836C232.552 181.945 232.839 180.068 233.266 178.22C233.775 176.193 234.583 174.193 234.527 172.101C234.481 170.207 233.728 168.346 233.941 166.466C233.937 166.362 233.969 166.26 234.031 166.176C234.093 166.092 234.182 166.031 234.283 166.004C234.813 165.787 235.358 165.606 235.913 165.464C236.241 165.381 237.359 165.002 237.673 165.168C237.987 165.335 238.006 166.152 238.135 166.438C238.38 166.914 238.68 167.385 238.892 167.898Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),u.createElement("path",{d:"M201.51 111.784C205.783 111.784 209.247 108.321 209.247 104.048C209.247 99.776 205.783 96.3125 201.51 96.3125C197.237 96.3125 193.773 99.776 193.773 104.048C193.773 108.321 197.237 111.784 201.51 111.784Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{opacity:"0.72",d:"M201.51 111.784C205.783 111.784 209.247 108.321 209.247 104.048C209.247 99.7759 205.783 96.3125 201.51 96.3125C197.237 96.3125 193.773 99.7759 193.773 104.048C193.773 108.321 197.237 111.784 201.51 111.784Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),u.createElement("path",{d:"M208.443 109.646C208.44 110.139 208.479 110.632 208.559 111.119C208.666 111.612 208.821 112.093 209.021 112.556C209.278 113.312 209.642 114.027 210.102 114.68C210.568 115.339 211.269 115.795 212.06 115.955C206.77 118.435 201.123 120.067 195.325 120.79C196.238 120.183 196.997 119.372 197.542 118.421C197.834 117.812 198.032 117.163 198.129 116.495C198.625 113.698 198.375 110.819 197.404 108.15C197.307 107.891 197.214 107.568 197.404 107.351C197.483 107.273 197.577 107.214 197.681 107.175C199.977 106.2 202.458 105.737 204.951 105.817C205.589 105.817 206.226 105.85 206.864 105.896C207.206 105.923 207.958 105.85 208.249 106.099C208.54 106.348 208.411 107.327 208.42 107.729L208.443 109.646Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{opacity:"0.72",d:"M208.443 109.646C208.44 110.139 208.479 110.632 208.559 111.119C208.666 111.612 208.821 112.093 209.021 112.555C209.278 113.312 209.642 114.027 210.101 114.68C210.568 115.339 211.268 115.795 212.06 115.955C206.77 118.435 201.123 120.067 195.325 120.79C196.238 120.183 196.997 119.372 197.542 118.421C197.834 117.812 198.031 117.163 198.129 116.495C198.625 113.698 198.375 110.819 197.404 108.149C197.307 107.891 197.214 107.568 197.404 107.351C197.483 107.273 197.577 107.213 197.681 107.175C199.977 106.2 202.458 105.737 204.951 105.817C205.589 105.817 206.226 105.85 206.863 105.896C207.205 105.923 207.958 105.85 208.249 106.099C208.54 106.348 208.411 107.327 208.42 107.729L208.443 109.646Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),u.createElement("path",{d:"M212.536 115.29C211.397 113.832 209.804 112.798 208.009 112.351C206.214 111.904 204.322 112.07 202.633 112.823C198.937 114.583 197.136 118.827 193.898 121.284C193.161 121.836 192.376 122.32 191.551 122.73C191.065 122.998 190.547 123.202 190.008 123.339C189.403 123.473 188.775 123.455 188.161 123.598C187.012 123.935 186.034 124.694 185.422 125.723C185.12 126.261 184.783 126.779 184.415 127.274C184.078 127.676 183.657 128.004 183.302 128.387C182.013 129.773 181.662 131.759 181.371 133.625C180.362 134.685 179.261 135.654 178.082 136.52C177.712 136.806 177.301 137.033 176.863 137.195C175.731 137.564 174.479 137.098 173.514 136.4C172.548 135.703 171.763 134.784 170.811 134.091C169.938 135.338 169.024 136.594 168.091 137.786C167.951 138.018 167.736 138.194 167.481 138.285C167.306 138.876 167.726 139.485 168.04 140.012L169.726 142.848C170.286 143.879 170.97 144.837 171.763 145.702C172.581 146.553 173.685 147.071 174.862 147.157C175.607 147.15 176.344 147.007 177.038 146.736C180.271 145.656 183.205 143.933 186.276 142.464C186.83 142.149 187.45 141.967 188.087 141.933C188.405 141.926 188.717 142.023 188.975 142.208C189.234 142.394 189.425 142.659 189.519 142.963C189.87 144.737 190.216 146.501 190.697 148.237C191.156 149.881 191.579 151.53 191.967 153.184C192.227 154.199 192.413 155.231 192.521 156.273C192.572 156.864 192.577 157.456 192.586 158.051L192.651 165.219C192.651 165.995 192.216 166.475 191.875 167.168C191.36 168.245 191.282 169.48 191.658 170.613C191.847 171.172 192.147 171.69 192.36 172.244C192.868 173.579 192.849 175.047 192.822 176.474L192.761 179.744C192.744 179.88 192.768 180.019 192.831 180.141C193.029 180.451 193.51 180.271 193.815 180.058L195.325 179.024C197.372 179.306 199.441 179.407 201.505 179.324C207.376 179.241 213.252 179.472 219.109 179.883C221.067 180.021 223.086 180.169 224.934 179.518C225.857 179.185 226.735 178.654 227.705 178.391C228.101 178.326 228.477 178.168 228.8 177.929C229.336 177.435 229.192 176.544 228.975 175.869C228.781 175.26 228.564 174.655 228.319 174.063C228.07 173.519 227.867 172.955 227.71 172.378C227.419 171.075 227.71 169.565 226.892 168.503C225.072 166.124 226.361 162.462 225.594 159.566C225.349 158.643 224.984 157.719 224.753 156.795C224.606 156.204 224.513 155.604 224.425 155.003C224.183 153.703 224.064 152.382 224.07 151.059C224.07 150.399 224.176 149.738 224.259 149.082L224.837 144.519C225.557 145.87 226.059 147.326 226.324 148.833C226.849 151.085 227.496 153.307 228.264 155.488C228.698 156.804 229.132 158.116 229.604 159.423C229.905 160.17 230.135 160.943 230.292 161.732C230.393 162.365 230.398 163.012 230.472 163.644C230.627 165.009 231.102 166.317 231.858 167.464C231.999 167.73 232.232 167.937 232.514 168.046C232.701 168.087 232.895 168.087 233.082 168.046C235.124 167.642 237.102 166.958 238.957 166.014C239.352 165.848 239.694 165.58 239.95 165.238C240.449 164.425 239.89 163.413 239.645 162.49C239.401 161.566 239.447 160.314 238.671 159.654C235.959 157.345 237.285 152.666 235.95 149.378C235.71 148.801 235.433 148.242 235.23 147.651C235.073 147.189 234.957 146.727 234.842 146.265C233.896 142.438 232.883 138.625 231.802 134.825C230.684 130.891 230.804 126.794 229.396 122.952C229.131 122.149 228.786 121.375 228.366 120.642C227.894 119.876 227.264 119.219 226.518 118.716C224.472 117.363 222.412 116.213 220.005 115.724C217.598 115.234 214.984 115.262 212.536 115.29Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M212.536 115.29C211.397 113.832 209.804 112.798 208.009 112.351C206.214 111.904 204.322 112.07 202.633 112.823C198.937 114.583 197.136 118.827 193.898 121.284C193.161 121.836 192.376 122.32 191.551 122.73C191.065 122.998 190.547 123.202 190.008 123.339C189.403 123.473 188.775 123.455 188.161 123.598C187.012 123.935 186.034 124.694 185.422 125.723C185.12 126.261 184.783 126.779 184.415 127.274C184.078 127.676 183.657 128.004 183.302 128.387C182.013 129.773 181.662 131.759 181.371 133.625C180.362 134.685 179.261 135.654 178.082 136.52C177.712 136.806 177.301 137.033 176.863 137.195C175.731 137.564 174.479 137.098 173.514 136.4C172.548 135.703 171.763 134.784 170.811 134.091C169.938 135.338 169.024 136.594 168.091 137.786C167.951 138.018 167.736 138.194 167.481 138.285C167.306 138.876 167.726 139.485 168.04 140.012L169.726 142.848C170.286 143.879 170.97 144.837 171.763 145.702C172.581 146.553 173.685 147.071 174.862 147.157C175.607 147.15 176.344 147.007 177.038 146.736C180.271 145.656 183.205 143.933 186.276 142.464C186.83 142.149 187.45 141.967 188.087 141.933C188.405 141.926 188.717 142.023 188.975 142.208C189.234 142.394 189.425 142.659 189.519 142.963C189.87 144.737 190.216 146.501 190.697 148.237C191.156 149.881 191.579 151.53 191.967 153.184C192.227 154.199 192.413 155.231 192.521 156.273C192.572 156.864 192.577 157.456 192.586 158.051L192.651 165.219C192.651 165.995 192.216 166.475 191.875 167.168C191.36 168.245 191.282 169.48 191.658 170.613C191.847 171.172 192.147 171.69 192.36 172.244C192.868 173.579 192.849 175.047 192.822 176.474L192.761 179.744C192.744 179.88 192.768 180.019 192.831 180.141C193.029 180.451 193.51 180.271 193.815 180.058L195.325 179.024C197.372 179.306 199.441 179.407 201.505 179.324C207.376 179.241 213.252 179.472 219.109 179.883C221.067 180.021 223.086 180.169 224.934 179.518C225.857 179.185 226.735 178.654 227.705 178.391C228.101 178.326 228.477 178.168 228.8 177.929C229.336 177.435 229.192 176.544 228.975 175.869C228.781 175.26 228.564 174.655 228.319 174.063C228.07 173.519 227.867 172.955 227.71 172.378C227.419 171.075 227.71 169.565 226.892 168.503C225.072 166.124 226.361 162.462 225.594 159.566C225.349 158.643 224.984 157.719 224.753 156.795C224.606 156.204 224.513 155.604 224.425 155.003C224.183 153.703 224.064 152.382 224.07 151.059C224.07 150.399 224.176 149.738 224.259 149.082L224.837 144.519C225.557 145.87 226.059 147.326 226.324 148.833C226.849 151.085 227.496 153.307 228.264 155.488C228.698 156.804 229.132 158.116 229.604 159.423C229.905 160.17 230.135 160.943 230.292 161.732C230.393 162.365 230.398 163.012 230.472 163.644C230.627 165.009 231.102 166.317 231.858 167.464C231.999 167.73 232.232 167.937 232.514 168.046C232.701 168.087 232.895 168.087 233.082 168.046C235.124 167.642 237.102 166.958 238.957 166.014C239.352 165.848 239.694 165.58 239.95 165.238C240.449 164.425 239.89 163.413 239.645 162.49C239.401 161.566 239.447 160.314 238.671 159.654C235.959 157.345 237.285 152.666 235.95 149.378C235.71 148.801 235.433 148.242 235.23 147.651C235.073 147.189 234.957 146.727 234.842 146.265C233.896 142.438 232.883 138.625 231.802 134.825C230.684 130.891 230.804 126.794 229.396 122.952C229.131 122.149 228.786 121.375 228.366 120.642C227.894 119.876 227.264 119.219 226.518 118.716C224.472 117.363 222.412 116.213 220.005 115.724C217.598 115.234 214.984 115.262 212.536 115.29Z",fill:"var(--center-channel-color)",fillOpacity:"0.64"}),u.createElement("path",{d:"M194.48 105.942C193.44 105.383 193.713 103.859 193.556 102.709C193.191 100.303 190.48 98.8804 189.861 96.5342C190.592 96.6253 191.335 96.5201 192.013 96.2294C192.143 95.4504 191.989 94.6506 191.579 93.9756C193.81 93.0519 195.621 91.2923 197.884 90.4748C200.739 89.4449 203.889 90.0776 206.79 91.0337C208.226 91.4955 209.718 92.1282 210.587 93.366C211.538 94.7284 211.51 96.5157 211.473 98.1784C211.395 100.783 211.289 103.48 210.129 105.813C208.656 108.782 204.475 111.53 201.02 110.727C199.588 110.394 199.173 109.489 198.558 108.242C198.18 107.466 198.041 106.565 197.173 106.159C196.304 105.753 195.325 106.395 194.48 105.942Z",fill:"var(--center-channel-color)"}),u.createElement("g",{opacity:"0.1"},u.createElement("path",{opacity:"0.1",d:"M191.976 95.0933C191.907 94.6927 191.763 94.3089 191.551 93.9617C191.68 93.9094 191.81 93.854 191.939 93.7955C192.039 94.2211 192.052 94.6626 191.976 95.0933Z",fill:"var(--center-channel-color)"}),u.createElement("path",{opacity:"0.1",d:"M193.537 101.568C193.713 102.737 193.44 104.256 194.461 104.801C195.302 105.263 196.309 104.612 197.136 105.009C197.962 105.406 198.124 106.316 198.521 107.092C199.126 108.339 199.551 109.24 200.983 109.577C204.438 110.38 208.619 107.628 210.092 104.658C211.252 102.326 211.358 99.6286 211.436 97.0238C211.436 96.8945 211.436 96.7698 211.436 96.6405C211.436 97.1439 211.436 97.6519 211.436 98.1507C211.358 100.755 211.252 103.453 210.092 105.785C208.619 108.755 204.438 111.503 200.983 110.699C199.551 110.366 199.136 109.461 198.521 108.214C198.143 107.438 198.004 106.538 197.136 106.131C196.267 105.725 195.288 106.381 194.461 105.928C193.422 105.369 193.694 103.845 193.537 102.695C193.172 100.289 190.461 98.8665 189.842 96.5204C190.009 96.5428 190.177 96.5536 190.346 96.5527C191.339 98.2661 193.237 99.587 193.537 101.568Z",fill:"var(--center-channel-color)"})),u.createElement("defs",null,u.createElement("filter",{id:"filter0_f",x:"2",y:"1",width:"326.682",height:"256",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),u.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur"})))),jg=()=>u.createElement("svg",{width:"444",height:"313",viewBox:"0 0 444 313",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",{filter:"url(#filter0_f)"},u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M375.682 51.9045C375.687 51.0023 375.514 50.1079 375.173 49.2725C374.832 48.4372 374.329 47.6771 373.695 47.0359C373.06 46.3947 372.305 45.8849 371.473 45.5356C370.641 45.1862 369.748 45.0042 368.846 45H63.8364C62.0143 45.0098 60.2706 45.7425 58.9887 47.0373C57.7068 48.332 56.9915 50.0827 57.0001 51.9045V235H57V256.651C57 258.464 57.7203 260.203 59.0023 261.484C60.2844 262.766 62.0232 263.486 63.8363 263.486H177.93L174.5 293H257L252.492 263.486H366C372.432 263.491 375.686 260.871 375.682 254C375.681 253.275 375.682 241.333 375.682 236.761C375.682 235.671 375.682 235 375.682 235L375.682 51.9045Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"})),u.createElement("path",{d:"M211.507 300.921C293.251 300.921 359.518 298.651 359.518 295.849C359.518 293.048 293.251 290.777 211.507 290.777C129.762 290.777 63.4951 293.048 63.4951 295.849C63.4951 298.651 129.762 300.921 211.507 300.921Z",fill:"var(--center-channel-color)",fillOpacity:"0.08"}),u.createElement("path",{opacity:"0.1",d:"M253.208 293.482H212.135L170.979 292.955L171.224 290.845H252.802L253.208 293.482Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M253.287 294.008L170.979 292.955L171.224 290.844L175.201 256.026H247.485L252.802 290.844L253.208 293.482L253.287 294.008Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M370.682 46.9045C370.687 46.0023 370.514 45.1079 370.173 44.2725C369.832 43.4372 369.329 42.6771 368.695 42.0359C368.06 41.3947 367.305 40.8849 366.473 40.5356C365.641 40.1862 364.748 40.0042 363.846 40H58.8364C57.0143 40.0098 55.2706 40.7425 53.9887 42.0373C52.7068 43.332 51.9915 45.0827 52.0001 46.9045V231.761H370.682V46.9045Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M253.287 294.008L170.979 292.955L171.224 290.844L175.201 256.026H247.485L252.802 290.844L253.208 293.482L253.287 294.008Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{d:"M266.479 291.371H157.26V294.008H266.479V291.371Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M266.479 291.371H157.26V294.008H266.479V291.371Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{opacity:"0.1",d:"M220.048 258.4L252.885 291.371L247.846 258.4H220.048Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M370.682 46.9045C370.687 46.0023 370.514 45.1079 370.173 44.2725C369.832 43.4372 369.329 42.6771 368.695 42.0359C368.06 41.3947 367.305 40.8849 366.473 40.5356C365.641 40.1862 364.748 40.0042 363.846 40H58.8364C57.0143 40.0098 55.2706 40.7425 53.9887 42.0373C52.7068 43.332 51.9915 45.0827 52.0001 46.9045V231.761H370.682V46.9045Z",fill:"var(--center-channel-color)",fillOpacity:"0.72"}),u.createElement("path",{d:"M52 229.914V251.565C52 253.378 52.7203 255.116 54.0023 256.398C55.2844 257.68 57.0232 258.4 58.8363 258.4H363.846C364.743 258.401 365.633 258.224 366.462 257.881C367.292 257.538 368.046 257.034 368.681 256.399C369.316 255.765 369.819 255.011 370.163 254.181C370.506 253.352 370.682 252.463 370.682 251.565V229.914H52Z",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M52 230V251.651C52 253.464 52.7203 255.202 54.0023 256.484C55.2844 257.766 57.0232 258.486 58.8363 258.486H363.846C364.743 258.487 365.633 258.311 366.462 257.967C367.292 257.624 368.046 257.121 368.681 256.486C369.316 255.851 369.819 255.097 370.163 254.268C370.506 253.438 370.682 252.549 370.682 251.651V230H52Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{d:"M359.074 51.6061H65.1924V217.781H359.074V51.6061Z",fill:"var(--center-channel-bg)"}),u.createElement("circle",{cx:"211.5",cy:"244.5",r:"7.5",fill:"var(--center-channel-color)",fillOpacity:"0.16"}),u.createElement("path",{d:"M142 297.109C150.284 297.109 157 296.438 157 295.609C157 294.781 150.284 294.109 142 294.109C133.716 294.109 127 294.781 127 295.609C127 296.438 133.716 297.109 142 297.109Z",fill:"var(--center-channel-color)",fillOpacity:"0.24"}),u.createElement("path",{d:"M141.665 296.388C142.625 296.388 143.402 295.371 143.402 294.116C143.402 292.861 142.625 291.843 141.665 291.843C140.706 291.843 139.929 292.861 139.929 294.116C139.929 295.371 140.706 296.388 141.665 296.388Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M141.665 293.612C142.625 293.612 143.402 292.595 143.402 291.34C143.402 290.085 142.625 289.068 141.665 289.068C140.706 289.068 139.929 290.085 139.929 291.34C139.929 292.595 140.706 293.612 141.665 293.612Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M141.665 290.832C142.625 290.832 143.402 289.815 143.402 288.56C143.402 287.305 142.625 286.288 141.665 286.288C140.706 286.288 139.929 287.305 139.929 288.56C139.929 289.815 140.706 290.832 141.665 290.832Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M141.665 288.056C142.625 288.056 143.402 287.039 143.402 285.784C143.402 284.529 142.625 283.512 141.665 283.512C140.706 283.512 139.929 284.529 139.929 285.784C139.929 287.039 140.706 288.056 141.665 288.056Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M141.665 285.276C142.625 285.276 143.402 284.259 143.402 283.004C143.402 281.749 142.625 280.732 141.665 280.732C140.706 280.732 139.929 281.749 139.929 283.004C139.929 284.259 140.706 285.276 141.665 285.276Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M141.665 282.5C142.625 282.5 143.402 281.483 143.402 280.228C143.402 278.973 142.625 277.956 141.665 277.956C140.706 277.956 139.929 278.973 139.929 280.228C139.929 281.483 140.706 282.5 141.665 282.5Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M141.665 279.72C142.625 279.72 143.402 278.703 143.402 277.448C143.402 276.193 142.625 275.176 141.665 275.176C140.706 275.176 139.929 276.193 139.929 277.448C139.929 278.703 140.706 279.72 141.665 279.72Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M148.165 258.438C148.402 258.137 148.618 257.819 148.811 257.487L144.248 256.739L149.181 256.776C149.654 255.746 149.913 254.63 149.94 253.497C149.968 252.364 149.765 251.237 149.342 250.185L142.719 253.621L148.825 249.132C148.252 248.147 147.482 247.29 146.564 246.615C145.645 245.94 144.598 245.461 143.486 245.208C142.375 244.955 141.223 244.933 140.103 245.143C138.983 245.354 137.918 245.792 136.974 246.432C136.03 247.071 135.228 247.898 134.618 248.86C134.007 249.823 133.601 250.9 133.424 252.026C133.248 253.152 133.305 254.303 133.592 255.406C133.879 256.509 134.39 257.541 135.093 258.438C134.723 258.91 134.404 259.419 134.141 259.958L140.067 263.034L133.748 260.914C133.459 261.774 133.31 262.676 133.31 263.583C133.306 265.449 133.935 267.261 135.093 268.724C134.129 269.95 133.53 271.423 133.364 272.974C133.198 274.524 133.471 276.091 134.153 277.493C134.835 278.896 135.898 280.079 137.22 280.906C138.543 281.733 140.071 282.172 141.631 282.172C143.191 282.172 144.719 281.733 146.041 280.906C147.364 280.079 148.427 278.896 149.109 277.493C149.791 276.091 150.064 274.524 149.898 272.974C149.732 271.423 149.133 269.95 148.169 268.724C149.323 267.257 149.95 265.446 149.949 263.58C149.948 261.715 149.319 259.904 148.165 258.438Z",fill:"var(--online-indicator)"}),u.createElement("path",{opacity:"0.1",d:"M133.31 263.579C133.306 265.444 133.935 267.256 135.093 268.719C134.129 269.946 133.53 271.418 133.364 272.969C133.198 274.52 133.471 276.086 134.153 277.489C134.835 278.892 135.898 280.074 137.22 280.901C138.543 281.729 140.071 282.168 141.631 282.168C143.191 282.168 144.719 281.729 146.041 280.901C147.364 280.074 148.427 278.892 149.109 277.489C149.791 276.086 150.064 274.52 149.898 272.969C149.732 271.418 149.133 269.946 148.169 268.719C149.282 267.306 133.31 262.646 133.31 263.579Z",fill:"var(--center-channel-color)"}),u.createElement("path",{d:"M443.193 16.0555C443.193 16.0555 400.368 13.4855 405.413 43.3313C405.413 43.3313 404.396 48.6073 409.218 51C409.218 51 409.294 48.7894 413.612 49.543C415.149 49.7964 416.711 49.8711 418.266 49.7654C420.363 49.6282 422.358 48.8169 423.952 47.4536C423.952 47.4536 435.991 42.5063 440.67 22.9399C440.67 22.9399 444.133 18.6706 443.996 17.5726L436.769 20.643C436.769 20.643 439.241 25.8281 437.278 30.1362C437.278 30.1362 437.044 20.8283 435.655 21.0308C435.376 21.0715 431.902 22.8264 431.902 22.8264C431.902 22.8264 436.149 31.8558 432.944 38.4224C432.944 38.4224 434.16 27.2936 430.574 23.4792L425.488 26.4334C425.488 26.4334 430.452 35.7616 427.085 43.3747C427.085 43.3747 427.949 31.6994 424.415 27.1517L419.807 30.7279C419.807 30.7279 424.471 39.9192 421.628 46.2335C421.628 46.2335 421.256 32.646 418.81 31.6194C418.81 31.6194 414.776 35.1603 414.161 36.6069C414.161 36.6069 417.355 43.2843 415.371 46.8049C415.371 46.8049 414.156 37.7502 413.159 37.6996C413.159 37.6996 409.141 43.6988 408.724 47.8166C408.724 47.8166 408.897 41.7007 412.187 37.1331C412.187 37.1331 408.301 37.7958 406.033 40.2975C406.033 40.2975 406.658 36.0586 413.179 35.6843C413.179 35.6843 416.5 31.1316 417.385 30.8586C417.385 30.8586 410.905 30.3161 406.974 32.0524C406.974 32.0524 410.432 28.0513 418.575 29.8722L423.127 26.1743C423.127 26.1743 414.593 25.0157 410.972 26.2959C410.972 26.2959 415.137 22.755 424.353 25.3349L429.307 22.3906C429.307 22.3906 422.029 20.8324 417.696 21.3789C417.696 21.3789 422.273 18.9256 430.762 21.5864L434.322 20.0042C434.322 20.0042 428.992 18.9622 427.43 18.7954C425.868 18.6286 425.788 18.2037 425.788 18.2037C429.164 17.6437 432.631 18.0272 435.802 19.3116C435.802 19.3116 443.32 16.5261 443.193 16.0555Z",fill:"var(--online-indicator)"}),u.createElement("path",{d:"M384.646 0.0251977C384.646 0.0251977 365.998 -1.14679 368.177 12.495C368.177 12.495 367.739 14.9053 369.836 16C369.836 16 369.87 14.9766 371.754 15.3296C372.424 15.4471 373.104 15.4815 373.781 15.4321C374.696 15.3689 375.567 14.995 376.259 14.3675C376.259 14.3675 381.51 12.1059 383.551 3.16163C383.551 3.16163 385.058 1.21228 384.998 0.710652L381.848 2.11265C381.848 2.11265 382.923 4.48177 382.078 6.4517C382.078 6.4517 381.975 2.19907 381.372 2.29693C381.249 2.29693 379.733 3.12002 379.733 3.12002C379.733 3.12002 381.588 7.24919 380.189 10.248C380.189 10.248 380.719 5.16174 379.154 3.41679L376.936 4.78861C376.936 4.78861 379.1 9.05084 377.632 12.5307C377.632 12.5307 378.011 7.19386 376.469 5.11647L374.462 6.75396C374.462 6.75396 376.494 10.9549 375.257 13.8417C375.257 13.8417 375.091 7.62963 374.025 7.1591C374.025 7.1591 372.269 8.77602 371.999 9.44135C371.999 9.44135 373.392 12.5115 372.529 14.1028C372.529 14.1028 371.999 9.9631 371.547 9.94161C371.547 9.94161 369.795 12.6852 369.614 14.5468C369.701 12.8102 370.223 11.1276 371.125 9.66541C370.114 9.8651 369.181 10.3685 368.441 11.1136C368.441 11.1136 368.716 9.1743 371.557 9.00557C371.557 9.00557 373.03 6.92315 373.393 6.79512C373.393 6.79512 370.566 6.54956 368.853 7.34384C368.853 7.34384 370.36 5.51704 373.908 6.34607L375.871 4.65737C375.871 4.65737 372.148 4.14065 370.569 4.71041C370.569 4.71041 372.384 3.09349 376.404 4.27051L378.563 2.92476C378.563 2.92476 375.388 2.2137 373.499 2.46749C373.499 2.46749 375.496 1.34671 379.196 2.55894L380.742 1.83737C380.742 1.83737 378.418 1.36135 377.734 1.28452C377.05 1.2077 377.017 1.01336 377.017 1.01336C378.49 0.757829 380.003 0.935008 381.385 1.52505C381.385 1.52505 384.704 0.238287 384.646 0.0251977Z",fill:"var(--online-indicator)"}),u.createElement("path",{d:"M0.35387 32.0252C0.35387 32.0252 19.0016 30.8532 16.8229 44.495C16.8229 44.495 17.2615 46.9053 15.1644 48C15.1644 48 15.1302 46.9766 13.2457 47.3296C12.5765 47.4471 11.8963 47.4815 11.2192 47.4321C10.3039 47.3689 9.43347 46.995 8.74103 46.3675C8.74103 46.3675 3.49032 44.1059 1.44889 35.1616C1.44889 35.1616 -0.0575027 33.2123 0.00170135 32.7107L3.15221 34.1126C3.15221 34.1126 2.07734 36.4818 2.92154 38.4517C2.92154 38.4517 3.02461 34.1991 3.62804 34.2969C3.75084 34.2969 5.26731 35.12 5.26731 35.12C5.26731 35.12 3.41226 39.2492 4.81078 42.248C4.81078 42.248 4.28103 37.1617 5.84619 35.4168L8.06434 36.7886C8.06434 36.7886 5.90013 41.0508 7.3675 44.5307C7.3675 44.5307 6.98947 39.1939 8.53051 37.1165L10.5377 38.754C10.5377 38.754 8.50597 42.9549 9.74267 45.8417C9.74267 45.8417 9.90929 39.6296 10.9745 39.1591C10.9745 39.1591 12.7313 40.776 13.0015 41.4414C13.0015 41.4414 11.6078 44.5115 12.4713 46.1028C12.4713 46.1028 13.0015 41.9631 13.4527 41.9416C13.4527 41.9416 15.2047 44.6852 15.3863 46.5468C15.2985 44.8102 14.7775 43.1276 13.8746 41.6654C14.8856 41.8651 15.8186 42.3685 16.5589 43.1136C16.5589 43.1136 16.284 41.1743 13.4426 41.0056C13.4426 41.0056 11.9705 38.9232 11.6073 38.7951C11.6073 38.7951 14.4338 38.5496 16.1467 39.3438C16.1467 39.3438 14.6403 37.517 11.0921 38.3461L9.12912 36.6574C9.12912 36.6574 12.8524 36.1406 14.4311 36.7104C14.4311 36.7104 12.6156 35.0935 8.5963 36.2705L6.43691 34.9248C6.43691 34.9248 9.61196 34.2137 11.5012 34.4675C11.5012 34.4675 9.5041 33.3467 5.80366 34.5589L4.25778 33.8374C4.25778 33.8374 6.58206 33.3613 7.26619 33.2845C7.95032 33.2077 7.98279 33.0134 7.98279 33.0134C6.50964 32.7578 4.99733 32.935 3.6153 33.525C3.6153 33.525 0.296421 32.2383 0.35387 32.0252Z",fill:"var(--online-indicator)"}),u.createElement("ellipse",{cx:"212",cy:"135.5",rx:"44",ry:"43.5",fill:"var(--center-channel-bg)"}),u.createElement("path",{d:"M258 136.001C258 145.099 255.302 153.993 250.247 161.557C245.192 169.122 238.008 175.018 229.602 178.499C221.197 181.98 211.947 182.891 203.024 181.116C194.101 179.341 185.905 174.959 179.472 168.526C173.039 162.092 168.658 153.896 166.884 144.973C165.109 136.05 166.02 126.8 169.502 118.395C172.984 109.99 178.88 102.806 186.445 97.7516C194.01 92.6973 202.904 89.9997 212.001 90C218.042 90.0002 224.024 91.1902 229.605 93.5021C235.186 95.814 240.257 99.2025 244.528 103.474C248.799 107.746 252.187 112.817 254.499 118.398C256.811 123.979 258 129.961 258 136.001ZM206.684 160.35L240.806 126.228C241.083 125.952 241.302 125.625 241.451 125.265C241.601 124.905 241.678 124.519 241.678 124.129C241.678 123.739 241.601 123.352 241.451 122.992C241.302 122.632 241.083 122.305 240.806 122.029L236.608 117.862C236.333 117.586 236.006 117.367 235.647 117.217C235.287 117.068 234.901 116.991 234.512 116.991C234.122 116.991 233.737 117.068 233.377 117.217C233.017 117.367 232.69 117.586 232.415 117.862L204.585 145.693L191.59 132.667C191.033 132.113 190.278 131.801 189.491 131.801C188.705 131.801 187.95 132.113 187.392 132.667L183.194 136.89C182.639 137.448 182.327 138.203 182.327 138.99C182.327 139.776 182.639 140.531 183.194 141.089L202.487 160.375C202.762 160.651 203.089 160.87 203.449 161.02C203.81 161.169 204.196 161.246 204.586 161.246C204.976 161.246 205.362 161.169 205.722 161.02C206.082 160.87 206.41 160.651 206.685 160.375L206.684 160.35Z",fill:"var(--online-indicator)"}),u.createElement("defs",null,u.createElement("filter",{id:"filter0_f",x:"53",y:"41",width:"326.682",height:"256",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},u.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),u.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),u.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur"}))));function Fg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Hg extends u.PureComponent{constructor(e){super(e),Fg(this,"checkStepsSkipped",(()=>this.props.preferences.some((e=>e.name===R.jm.SKIP&&"true"===e.value)))),Fg(this,"getStartingStep",(()=>{for(let e=0;e<this.props.steps.length;e++)if(!this.isStepComplete(this.props.steps[e].id))return this.props.steps[e].id;return this.props.steps[0].id})),Fg(this,"getIncompleteStep",(()=>{for(let e=0;e<this.props.steps.length;e++)if(!this.isStepComplete(this.props.steps[e].id))return this.props.steps[e].id;return null})),Fg(this,"onClickHeader",((e,t)=>{const n=this.getStepNumberFromId(t);(0,C.L9)(vn(this.props.isFirstAdmin),"click_onboarding_step".concat(n)),e(t)})),Fg(this,"getStepNumberFromId",(e=>this.props.steps.findIndex((t=>t.id===e))+1)),Fg(this,"onSkip",(e=>t=>{this.nextStep(e,t)})),Fg(this,"onSkipAll",(async()=>{this.showFinalScreen(),this.props.actions.savePreferences(this.props.currentUser.id,[{user_id:this.props.currentUser.id,category:R.uP.RECOMMENDED_NEXT_STEPS,name:R.jm.SKIP,value:"true"}])})),Fg(this,"onFinish",(e=>async t=>{const n=this.getStepNumberFromId(t);(0,C.L9)(vn(this.props.isFirstAdmin),"complete_onboarding_step".concat(n)),await this.props.actions.savePreferences(this.props.currentUser.id,[{category:R.uP.RECOMMENDED_NEXT_STEPS,user_id:this.props.currentUser.id,name:t,value:"true"}]),this.nextStep(e,t)})),Fg(this,"showFinalScreenNoAnimation",(()=>{(0,C.tF)(vn(this.props.isFirstAdmin),"pageview_tips_next_steps"),this.setState({showFinalScreen:!1,animating:!1})})),Fg(this,"showFinalScreen",(()=>{(0,C.L9)(vn(this.props.isFirstAdmin),"click_skip_getting_started",{channel_sidebar:!1}),(0,C.tF)(vn(this.props.isFirstAdmin),"pageview_tips_next_steps"),this.setState({showFinalScreen:!1,animating:!0})})),Fg(this,"transitionToFinalScreen",(()=>{this.setState({showTransitionScreen:!0,animating:!0})})),Fg(this,"setTimerToFinalScreen",(()=>{this.state.showTransitionScreen&&setTimeout((()=>{this.props.actions.setShowNextStepsView(!1),this.props.actions.savePreferences(this.props.currentUser.id,[{category:R.uP.RECOMMENDED_NEXT_STEPS,user_id:this.props.currentUser.id,name:R.jm.HIDE,value:"true"}])}),1500)})),Fg(this,"stopAnimating",(()=>{this.setState({animating:!1})})),Fg(this,"nextStep",((e,t)=>{const n=this.props.steps.findIndex((e=>e.id===t));if(n+1>this.props.steps.length-1){const t=this.getIncompleteStep();null===t?(e(""),setTimeout((()=>{this.transitionToFinalScreen()}),300)):e(t)}else this.isStepComplete(this.props.steps[n+1].id)?this.nextStep(e,this.props.steps[n+1].id):e(this.props.steps[n+1].id)})),Fg(this,"isStepComplete",(e=>this.props.preferences.some((t=>t.name===e&&"true"===t.value)))),Fg(this,"renderStep",((e,t)=>{const{id:n,title:s}=e;let a=u.createElement("div",{className:"NextStepsView__cardHeaderBadge"},u.createElement("span",null,t+1));return this.isStepComplete(n)&&(a=u.createElement("i",{className:"icon icon-check-circle"})),(i,r)=>u.createElement(kg.Z,{key:"index"+r+"-"+t,className:Te()({complete:this.isStepComplete(n)}),expanded:r===n},u.createElement(kg.Z.Header,null,u.createElement("button",{onClick:()=>this.onClickHeader(i,n),disabled:this.isStepComplete(n),className:"NextStepsView__cardHeader"},a,u.createElement("span",null,s))),u.createElement(kg.Z.Body,null,u.createElement(e.component,{id:n,expanded:r===n,isAdmin:this.props.isFirstAdmin,currentUser:this.props.currentUser,onFinish:this.onFinish(i),onSkip:this.onSkip(i)})))})),Fg(this,"renderTransitionScreen",(()=>u.createElement("div",{className:Te()("NextStepsView__viewWrapper NextStepsView__transitionView",{transitioning:this.state.showTransitionScreen,completed:this.state.showTransitionScreen&&this.state.showFinalScreen,animating:this.state.animating}),onTransitionEnd:this.setTimerToFinalScreen},u.createElement("div",{className:"NextStepsView__transitionBody"},u.createElement(jg,null),u.createElement("h1",{className:"NextStepsView__transitionTopText"},u.createElement(ve.Z,{id:"next_steps_view.nicelyDone",defaultMessage:"Nicely done! You’re all set."})),u.createElement("h2",{className:"NextStepsView__transitionBottomText"},u.createElement("img",{src:xg}),u.createElement(ve.Z,{id:"next_steps_view.oneMoment",defaultMessage:"One moment"})))))),Fg(this,"renderMainBody",(()=>{const e=this.props.steps.map(this.renderStep);return u.createElement("div",{className:Te()("NextStepsView__viewWrapper NextStepsView__mainView",{completed:this.state.showFinalScreen||this.state.showTransitionScreen,animating:this.state.animating})},u.createElement("header",{className:"NextStepsView__header"},u.createElement("div",{className:"NextStepsView__header-headerText"},u.createElement("h1",{className:"NextStepsView__header-headerTopText"},u.createElement(ve.Z,{id:"next_steps_view.welcomeToChatting",defaultMessage:"Welcome to Chatting"})),u.createElement("h2",{className:"NextStepsView__header-headerBottomText"},u.createElement(ve.Z,{id:"next_steps_view.hereAreSomeNextSteps",defaultMessage:"Here are some recommended next steps to help you get started"})))),u.createElement("div",{className:"NextStepsView__body"},u.createElement("div",{className:"NextStepsView__body-main"},u.createElement(Dg,{defaultExpandedKey:null===this.getIncompleteStep()?"":this.getStartingStep()},((t,n)=>u.createElement(u.Fragment,null,e.map((e=>e(t,n)))))),u.createElement("div",{className:"NextStepsView__skipGettingStarted"},u.createElement("div",{style:{height:64}}))),!(0,V.tq)()&&u.createElement("div",{className:"NextStepsView__body-graphic"},u.createElement(Zg,null))))})),this.state={showFinalScreen:!1,showTransitionScreen:!1,animating:!1,show:!1}}async componentDidMount(){await this.props.actions.getProfiles(),(null===this.getIncompleteStep()||this.checkStepsSkipped())&&this.showFinalScreenNoAnimation(),this.setState({show:!0}),(0,C.tF)(vn(this.props.isFirstAdmin),"pageview_welcome"),this.props.actions.closeRightHandSide()}render(){return u.createElement("section",{id:"app-content",className:"app__content NextStepsView"},this.state.show&&u.createElement(u.Fragment,null,u.createElement(Ug,null),this.renderMainBody(),this.renderTransitionScreen()))}}Fg(Hg,"propTypes",{preferences:m().array.isRequired,isFirstAdmin:m().bool.isRequired,steps:m().array.isRequired,actions:m().shape({savePreferences:m().func.isRequired,setShowNextStepsView:m().func.isRequired,closeRightHandSide:m().func.isRequired,getProfiles:m().func.isRequired}).isRequired});const qg=(0,a.connect)((function(){const e=(0,$.YX)();return t=>{const n=(0,o.ev)(t),s=(0,o.VP)(t,n||"");return{currentUser:(0,r.ts)(t),isAdmin:(0,r.BW)(t),preferences:e(t,R.uP.RECOMMENDED_NEXT_STEPS),steps:jn(t),isFirstAdmin:Zn(t),team:s}}}),(function(e){return{actions:(0,s.bindActionCreators)({savePreferences:st.$A,setShowNextStepsView:En,getProfiles:K.cp,closeRightHandSide:bt.Lg},e)}}))(Hg);var Bg=n(6171),Gg=n(11728),Vg=n(37611),Wg=n(16165),zg=n(58009),Yg=n(59929),Kg=n(51102);class Jg extends u.PureComponent{render(){if(!this.props.fileInfos||0===this.props.fileInfos.length)return null;let e=null;return this.props.fileInfos.length>1&&(e=u.createElement(ve.Z,{id:"post_body.plusMore",defaultMessage:" plus {count, number} other {count, plural, one {file} other {files}}",values:{count:this.props.fileInfos.length-1}})),u.createElement("span",null,this.props.fileInfos[0].name,e)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Jg,"propTypes",{parentPostId:m().string.isRequired,fileInfos:m().arrayOf(m().object)});const Qg=(0,a.connect)((function(){const e=(0,je.Tw)();return function(t,n){let s;return n.parentPostId&&(s=e(t,n.parentPostId)),{fileInfos:s}}}))(Jg);var Xg=n(35845);function $g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ef extends u.PureComponent{constructor(...e){super(...e),$g(this,"makeUsername",(()=>{const e=this.props.post.props;let t=this.props.displayName;return this.props.enablePostUsernameOverride&&e&&"true"===e.from_webhook&&e.override_username&&(t=e.override_username),t})),$g(this,"makeCommentedOnMessage",(()=>{const{post:e}=this.props;let t="";if(e.message)t=V.DB(e.message);else if(e.file_ids&&e.file_ids.length>0)t=u.createElement(Qg,{parentPostId:e.id});else if(e.props&&e.props.attachments&&e.props.attachments.length>0){const n=e.props.attachments[0],s=n.pretext||n.title||n.text||n.fallback||"";t=V.DB(s)}return t}))}render(){const e=this.makeUsername(),t=this.makeCommentedOnMessage(),n=this.props.parentPostUser,s=n&&n.id||"",a=u.createElement(Xg.Z,{user:n,userId:s,displayName:e,hasMention:!0,disablePopover:!1});return u.createElement("div",{"data-testid":"post-link",className:"post__link"},u.createElement("span",null,u.createElement(ve.Z,{id:"post_body.commentedOn",defaultMessage:"Commented on {name}'s message: ",values:{name:u.createElement("a",{className:"theme user_name"},a)}}),u.createElement("a",{className:"theme",onClick:this.props.onCommentClick},"string"==typeof t?(0,Kg.LV)(t):t)))}}$g(ef,"propTypes",{displayName:m().string,enablePostUsernameOverride:m().bool,onCommentClick:m().func});const tf=(0,a.connect)((function(e,t){let n="";if(t.post){const s=(0,r.PR)(e,t.post.user_id);n=(0,V.hI)(e,s)}return{displayName:n,enablePostUsernameOverride:"true"===(0,i.iE)(e).EnablePostUsernameOverride}}))(ef);var nf=n(75515),sf=n(18632),af=n(90613);function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class of extends u.PureComponent{constructor(e){super(e),this.sendingAction=new xt.Z((()=>{const e=this.props.post;e&&e.id===e.pending_post_id&&this.setState({sending:!0})})),this.state={sending:!1}}static getDerivedStateFromProps(e,t){return t.sending&&e.post&&e.post.id!==e.post.pending_post_id?{sending:!1}:null}componentDidUpdate(){!1===this.state.sending&&this.sendingAction.cancel()}componentDidMount(){const e=this.props.post;e&&e.id===e.pending_post_id&&this.sendingAction.fireAfter(3e3)}componentWillUnmount(){this.sendingAction.cancel()}render(){const e=this.props.post,t=this.props.user,n=this.props.parentPost,s=this.props.parentPostUser;let a,i="";const r=V.Kx(e);if(V.A0(t))return u.createElement("div",{className:"post__link banned"},"Nội dung bị ẩn do tài khoản bị BAN");let o;this.props.isFirstReply&&n&&e.type!==R.ZP.PostTypes.EPHEMERAL&&(a=u.createElement(tf,{post:n,parentPostUser:s,onCommentClick:this.props.handleCommentClick})),this.props.post.failed&&(i+=" post--fail",o=u.createElement(sf.Z,{post:this.props.post})),Pe.cq(this.props.post)&&(i+=" post--edited");let l=null;(e.file_ids&&e.file_ids.length>0||e.filenames&&e.filenames.length>0)&&this.props.post.state!==he.V8.POST_DELETED&&(l=u.createElement(nf.Z,{post:e,compactDisplay:this.props.compactDisplay})),this.state.sending&&(i+=" post-waiting");const c=u.createElement(u.Fragment,null,o,this.state.sending&&u.createElement(qs.Z,null),u.createElement(Vh.Z,{post:this.props.post,compactDisplay:this.props.compactDisplay,hasMention:!0})),d=e.type&&this.props.pluginPostTypes.hasOwnProperty(e.type)||e.props&&e.props.type&&this.props.pluginPostTypes.hasOwnProperty(e.props.type);let m;m=this.props.post.state===he.V8.POST_DELETED||d?c:u.createElement(Gh.Z,{post:this.props.post,isEmbedVisible:this.props.isEmbedVisible},c);let p="";this.props.isCommentMention&&(p="mention-comment");let h="";return r&&(h="post--ephemeral"),u.createElement("div",null,a,u.createElement("div",{id:"".concat(e.id,"_message"),className:"post__body ".concat(p," ").concat(h," ").concat(i)},m,l,u.createElement(af.Z,{post:e,isReadOnly:this.props.isReadOnly})))}}rf(of,"propTypes",{post:m().object.isRequired,parentPost:m().object,parentPostUser:m().object,handleCommentClick:m().func.isRequired,compactDisplay:m().bool,isCommentMention:m().bool,isFirstReply:m().bool,pluginPostTypes:m().object,isEmbedVisible:m().bool,enablePostUsernameOverride:m().bool.isRequired,isReadOnly:m().bool,user:m().object}),rf(of,"defaultProps",{isReadOnly:!1});const lf=(0,a.connect)((function(e,t){let n,s;t.post.root_id&&(n=(0,wt.xl)(e,t.post.root_id),s=n?(0,r.PR)(e,n.user_id):null);const a="true"===(0,i.iE)(e).EnablePostUsernameOverride,o=0!==((0,ee.TB)(e)||{}).delete_at;return{parentPost:n,parentPostUser:s,pluginPostTypes:e.plugins.postTypes,enablePostUsernameOverride:a,isReadOnly:(0,ee.ui)(e)||o,user:(0,r.PR)(e,t.post.user_id)}}))(of);var cf=n(73557),df=n(38373),mf=n(16242),uf=n(71622),pf=n(971);function hf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class gf extends u.PureComponent{constructor(e){super(e),hf(this,"postHeaderRef",void 0),hf(this,"toggleEmojiPicker",(()=>{const e=!this.state.showEmojiPicker;this.setState({showEmojiPicker:e,showOptionsMenuWithoutHover:!1}),this.props.handleDropdownOpened(e||this.state.showDotMenu)})),hf(this,"removePost",(()=>{this.props.actions.removePost(this.props.post)})),hf(this,"createRemovePostButton",(()=>u.createElement("button",{className:"post__remove theme color--link style--none",type:"button",onClick:this.removePost},"×"))),hf(this,"handleDotMenuOpened",(e=>{this.setState({showDotMenu:e}),this.props.handleDropdownOpened(e||this.state.showEmojiPicker)})),hf(this,"getDotMenu",(()=>this.refs.dotMenu)),hf(this,"buildOptions",((e,t,n)=>{if(!this.props.shouldShowDotMenu)return null;const{isMobile:s,isReadOnly:a}=this.props,i=this.props.hover||this.state.showEmojiPicker||this.state.showDotMenu||this.state.showOptionsMenuWithoutHover,r=s?"":"pull-right";let o,l,c,d;return(n||!t&&(s||i||!e.root_id&&Boolean(this.props.replyCount)||this.props.isFirstReply))&&(o=u.createElement(cf.Z,{handleCommentClick:this.props.handleCommentClick,commentCount:this.props.replyCount,postId:e.id,extraClass:r})),!t&&i&&!a&&this.props.enableEmojiPicker&&(l=u.createElement(uf.Z,{channelId:e.channel_id,postId:e.id,teamId:this.props.teamId,getDotMenuRef:this.getDotMenu,showEmojiPicker:this.state.showEmojiPicker,toggleEmojiPicker:this.toggleEmojiPicker})),(s||i)&&(c=u.createElement(df.Z,{post:e,commentCount:this.props.replyCount,isFlagged:this.props.isFlagged,handleCommentClick:this.props.handleCommentClick,handleDropdownOpened:this.handleDotMenuOpened,handleAddReactionClick:this.toggleEmojiPicker,isMenuOpen:this.state.showDotMenu,isReadOnly:a,enableEmojiPicker:this.props.enableEmojiPicker})),!t&&!s&&(i||this.props.isFlagged)&&(d=u.createElement(mf.Z,{postId:e.id,isFlagged:this.props.isFlagged})),u.createElement("div",{ref:"dotMenu","data-testid":"post-menu-".concat(e.id),className:"col post-menu"},c,l,d,o)})),hf(this,"handleShortcutReactToLastPost",(e=>{if(e){var t,n,s;const{post:e,isReadOnly:a,enableEmojiPicker:i,isMobile:r,actions:o}=this.props;null===(t=o.emitShortcutReactToLastPostFrom)||void 0===t||t.call(o,R.tY.NO_WHERE);const l=e&&e.state===he.V8.POST_DELETED,c=e&&V.Kx(e),d=e&&Pe.Ew(e),m=e&&Pe.zj(e),u=e&&e.failed,p=null===(n=this.postHeaderRef)||void 0===n||null===(s=n.current)||void 0===s?void 0:s.getBoundingClientRect();p&&(!(p.top-65>0&&p.bottom<window.innerHeight-85)||c||d||m||u||l||a||r||!i||this.setState({showOptionsMenuWithoutHover:!0},(()=>{this.toggleEmojiPicker()})))}})),this.state={showEmojiPicker:!1,showOptionsMenuWithoutHover:!1,showDotMenu:!1},this.postHeaderRef=u.createRef()}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:n}=this.props;e.shortcutReactToLastPostEmittedFrom!==t&&t===R.tY.CENTER&&void 0!==n&&this.handleShortcutReactToLastPost(n)}render(){const e=this.props.post,t=V.Kx(e),n=Pe.Ew(e),s=Pe.zj(e);let a,i,r,o;if(e.props&&e.props.card&&(a=u.createElement(Pt.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:u.createElement(Tt.Z,{id:"viewAdditionalInfo-".concat(e.id)},u.createElement(ve.Z,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},u.createElement("button",{className:"card-icon__container icon--show style--none "+(this.props.isCardOpen?"active":""),onClick:e=>{e.preventDefault(),this.props.handleCardClick(this.props.post)}},u.createElement(pf.Z,{className:"icon icon__info","aria-hidden":"true"})))),t?i=u.createElement("div",{className:"col col__remove"},this.createRemovePostButton()):e.failed||(i=this.buildOptions(e,n,s)),t&&!this.props.compactDisplay&&e.state!==he.V8.POST_DELETED&&(r=u.createElement("span",{className:"post__visibility"},u.createElement(ve.Z,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"}))),this.props.hover||this.props.showTimeWithoutHover){const n=!(t||he.V8.POST_DELETED===e.state||Yg.ZK(e)||e.type===he.V8.POST_TYPES.COMBINED_USER_ACTIVITY);o=u.createElement(Wh.Z,{isPermalink:n,eventTime:e.create_at,postId:e.id})}return u.createElement("div",{className:"post__header--info",ref:this.postHeaderRef},u.createElement("div",{className:"col"},o,a,r),i)}}hf(gf,"propTypes",{teamId:m().string,handleCommentClick:m().func.isRequired,handleCardClick:m().func.isRequired,handleDropdownOpened:m().func.isRequired,isFlagged:m().bool,isCardOpen:m().bool,replyCount:m().number,isFirstReply:m().bool,isMobile:m().bool,compactDisplay:m().bool,hover:m().bool.isRequired,showTimeWithoutHover:m().bool.isRequired,enableEmojiPicker:m().bool,isReadOnly:m().oneOfType([m().bool,m().oneOf([null])]),shortcutReactToLastPostEmittedFrom:m().string,isLastPost:m().bool,actions:m().shape({removePost:m().func.isRequired,emitShortcutReactToLastPostFrom:m().func}).isRequired,shouldShowDotMenu:m().bool.isRequired});const ff=(0,a.connect)((function(e,t){const n=(0,_t.Kj)(e),s=(0,i.iE)(e),a=e.entities.channels.channels[t.post.channel_id],r=a?0!==a.delete_at:null,l="true"===s.EnableEmojiPicker&&!r,c=(0,o.ev)(e),d=(0,cg.dj)(e);return{teamId:c,isFlagged:null!=(0,$.U2)(e,R.uP.CATEGORY_FLAGGED_POST,t.post.id,null),isMobile:e.views.channel.mobileView,isCardOpen:n&&n.id===t.post.id,enableEmojiPicker:l,isReadOnly:(0,ee.ui)(e)||r,shouldShowDotMenu:Pe.Rj(e,t.post,a),shortcutReactToLastPostEmittedFrom:d}}),(function(e){return{actions:(0,s.bindActionCreators)({removePost:pe.M8,emitShortcutReactToLastPostFrom:_e.id},e)}}))(gf);var bf=n(17189);const _f=e=>{const{userId:t,isSystemMessage:n,isBot:s}=e,i=(0,jo.yC)(),r=(0,a.useDispatch)(),o=(0,a.useSelector)((e=>i(e,t))),l=(0,a.useSelector)(jo.bo),c=(0,a.useSelector)(jo.uD),d=o&&o.emoji;return!c||n||s?null:d?u.createElement(Yr.Z,{userID:t,showTooltip:!0,emojiStyle:{marginLeft:4,marginTop:2}}):l?u.createElement("div",{onClick:()=>r(Eo(!0)),className:"post__header-set-custom-status cursor--pointer"},u.createElement(Ae.Z,{className:"post__header-set-custom-status-icon"}),u.createElement("span",{className:"post__header-set-custom-status-text"},u.createElement(ve.Z,{id:"post_header.update_status",defaultMessage:"Update your status"}))):null};_f.propTypes={userId:m().string.isRequired,isSystemMessage:m().bool.isRequired,isBot:m().bool.isRequired};const Ef=_f;class Cf extends u.PureComponent{render(){var e;const{post:t}=this.props,n=Pe.Ew(t),s=Pe.zj(t),a="true"===(null==t||null===(e=t.props)||void 0===e?void 0:e.from_webhook);let i,r,o=u.createElement(Ht.Z,{userId:t.user_id,hasMention:!0});a?(o=t.props.override_username&&this.props.enablePostUsernameOverride?u.createElement(Ht.Z,{userId:t.user_id,hideStatus:!0,overwriteName:t.props.override_username,overwriteIcon:this.props.overwriteIcon}):u.createElement(Ht.Z,{userId:t.user_id,hideStatus:!0}),this.props.isBot||(i=u.createElement(Hs.Z,null))):s?(o=u.createElement(Ht.Z,{userId:t.user_id,hideStatus:!0,hasMention:!0}),i=u.createElement(bf.Z,null,u.createElement(ve.Z,{id:"post_info.auto_responder",defaultMessage:"AUTOMATIC REPLY"}))):n&&this.props.isBot?o=u.createElement(Ht.Z,{userId:t.user_id,hideStatus:!0}):n&&(o=u.createElement(Ht.Z,{userId:"",overwriteName:u.createElement(ve.Z,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:R.ZP.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0})),this.props.compactDisplay&&(r=u.createElement("strong",{className:"colon"},":"));const l=u.createElement(Ef,{userId:this.props.post.user_id,isBot:this.props.isBot||a,isSystemMessage:n});return u.createElement("div",{className:"post__header"},u.createElement("div",{className:"col col__name"},o,r,i,l),u.createElement("div",{className:"col"},u.createElement(ff,{post:t,handleCommentClick:this.props.handleCommentClick,handleCardClick:this.props.handleCardClick,handleDropdownOpened:this.props.handleDropdownOpened,compactDisplay:this.props.compactDisplay,replyCount:this.props.replyCount,isFirstReply:this.props.isFirstReply,showTimeWithoutHover:this.props.showTimeWithoutHover,hover:this.props.hover,isLastPost:this.props.isLastPost})))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Cf,"propTypes",{handleCommentClick:m().func.isRequired,handleCardClick:m().func.isRequired,handleDropdownOpened:m().func.isRequired,compactDisplay:m().bool,replyCount:m().number,isFirstReply:m().bool,hover:m().bool.isRequired,showTimeWithoutHover:m().bool.isRequired,enablePostUsernameOverride:m().bool.isRequired,isBot:m().bool.isRequired,isGuest:m().bool.isRequired,isLastPost:m().bool,overwriteIcon:m().string});const yf=(0,a.connect)((function(e,t){var n,s;const a=(0,i.iE)(e),o="true"===a.EnablePostUsernameOverride,l="true"===a.EnablePostIconOverride&&(null===(n=t.post)||void 0===n||null===(s=n.props)||void 0===s?void 0:s.override_icon_url);let c;l&&(c=q.je.getAbsoluteUrl(l));const d=(0,r.PR)(e,t.post.user_id);return{enablePostUsernameOverride:o,isBot:Boolean(d&&d.is_bot),overwriteIcon:c,isGuest:Boolean(d&&(0,V.a_)(d))}}))(Cf);var vf=n(51695),wf=n(46098),Sf=n(59281),Tf=n(12770),Pf=n(88771),Mf=n(12874),Nf=n(61577),If=n(96329);function Rf({threadId:e}){const t=(0,a.useDispatch)(),n=(0,a.useSelector)(o.ev),s=(0,a.useSelector)(r.rc),i=(0,a.useSelector)((t=>(0,Di.HA)(t,e)));(0,u.useEffect)((()=>{(0,Sf.Y)(i)&&i.is_following&&t((0,po.bJ)(s,n,e))}),[]);const{participants:l,reply_count:c=0,last_reply_at:d,is_following:m=!1,post:{channel_id:p}}=i,h=(0,u.useMemo)((()=>null==l?void 0:l.map((({id:e})=>e))),[l]),g=(0,u.useCallback)((()=>{t((0,bt.F8)({id:e,channel_id:p}))}),[e,p]),f=(0,u.useCallback)((()=>{t((0,po.NC)(s,n,e,!m))}),[m]);return u.createElement("div",{className:"ThreadFooter"},(0,Sf.Y)(i)||!i.unread_replies?u.createElement("div",{className:"indicator"}):u.createElement(Pf.Z,{id:"threadFooterIndicator",content:u.createElement(ve.Z,{id:"threading.numNewMessages",defaultMessage:"{newReplies, plural, =0 {no unread messages} =1 {one unread message} other {# unread messages}}",values:{newReplies:i.unread_replies}})},u.createElement("div",{className:"indicator",tabIndex:0},u.createElement("div",{className:"dot-unreads"}))),h?u.createElement(Tf.Z,{userIds:h,size:"sm"}):null,u.createElement(Mf.Z,{onClick:g,className:"ReplyButton separated",prepend:u.createElement("span",{className:"icon"},u.createElement("i",{className:"icon-reply-outline"}))},u.createElement(ve.Z,{id:"threading.numReplies",defaultMessage:"{totalReplies, plural, =0 {Reply} =1 {# reply} other {# replies}}",values:{totalReplies:c}})),u.createElement(Nf.Z,{isFollowing:m,className:"separated",onClick:f}),Boolean(d)&&u.createElement(zr.ZP,Object.assign({value:d},If._),(({formatted:e})=>u.createElement("span",{className:"Timestamp separated alt-visible"},u.createElement(ve.Z,{id:"threading.footer.lastReplyAt",defaultMessage:"Last reply {formatted}",values:{formatted:e}})))))}const Af=(0,u.memo)(Rf);function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Lf extends u.PureComponent{constructor(e){super(e),Of(this,"handleCommentClick",(e=>{e.preventDefault();const t=this.props.post;t&&this.props.actions.selectPost(t)})),Of(this,"handleCardClick",(e=>{e&&this.props.actions.selectPostCard(e)})),Of(this,"handlePostClick",(e=>{const t=this.props.post;t&&(this.props.channelIsArchived||t.system_post_ids||e.altKey&&this.props.actions.markPostAsUnread(t,"CENTER"))})),Of(this,"handleDropdownOpened",(e=>{this.props.togglePostMenu&&this.props.togglePostMenu(e),this.setState({dropdownOpened:e})})),Of(this,"hasSameRoot",(e=>{const t=e.post;return!(e.isFirstReply||(t.root_id||e.previousPostIsComment||!e.consecutivePostByUser)&&!t.root_id)})),Of(this,"getClassName",((e,t,n,s,a,i)=>{let r="post";(e.failed||e.state===he.V8.POST_DELETED)&&(r+=" post--hide-controls"),!this.state.fadeOutHighlight&&this.props.shouldHighlight&&(r+=" post--highlight",(e.is_pinned||this.props.isFlagged)&&(r+=" post--pinned-or-flagged-highlight"));let o="";o=this.hasSameRoot(this.props)?"same--root":"other--root",i&&(r+=" post--bot");let l="";s||t||(l="current--user");let c="";this.props.consecutivePostByUser&&(c="same--user");let d="";return e.root_id&&e.root_id.length>0?d="post--comment":this.props.replyCount>0&&(d="post--root",c="",o=""),(t||n)&&(r+=" post--system",t&&(l="",d="",o="")),a&&(d="post--comment same--root"),this.props.compactDisplay&&(r+=" post--compact"),(this.state.dropdownOpened||this.state.a11yActive)&&(r+=" post--hovered"),(e.is_pinned||this.props.isFlagged)&&(r+=" post--pinned-or-flagged"),!this.state.alt||this.props.channelIsArchived||e.system_post_ids||(r+=" cursor--pointer"),r+" "+c+" "+o+" "+d+" "+l})),Of(this,"setHover",(()=>{this.setState({hover:!0})})),Of(this,"unsetHover",(()=>{this.setState({hover:!1})})),Of(this,"handleAlt",(e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})})),Of(this,"handleA11yActivateEvent",(()=>{this.setState({a11yActive:!0,ariaHidden:!1})})),Of(this,"handleA11yDeactivateEvent",(()=>{this.setState({a11yActive:!1,ariaHidden:!0})})),Of(this,"handlePostFocus",(()=>{this.updateAriaLabel()})),Of(this,"updateAriaLabel",(()=>{this.setState({currentAriaLabel:this.props.createAriaLabel(this.props.intl)})})),this.postRef=u.createRef(),this.state={dropdownOpened:!1,hover:!1,alt:!1,a11yActive:!1,currentAriaLabel:"",ariaHidden:!0,fadeOutHighlight:!1}}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.addEventListener(R.sp.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.addEventListener(R.sp.DEACTIVATE,this.handleA11yDeactivateEvent)),this.props.shouldHighlight&&(this.highlightTimeout=setTimeout((()=>{this.setState({fadeOutHighlight:!0})}),R.ZP.PERMALINK_FADEOUT))}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.removeEventListener(R.sp.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.removeEventListener(R.sp.DEACTIVATE,this.handleA11yDeactivateEvent)),clearTimeout(this.highlightTimeout)}componentDidUpdate(e){this.state.a11yActive&&this.postRef.current.dispatchEvent(new Event(R.sp.UPDATE)),this.props.post.state===he.V8.POST_DELETED&&e.post.state!==he.V8.POST_DELETED&&this.updateAriaLabel()}render(){const{post:e,replyCount:t,isCollapsedThreadsEnabled:n}=this.props;if(!e.id)return null;const s=Pe.Ew(e),a=(0,Yg.L9)(e),i=Pe.zj(e),r=e&&e.props&&"true"===e.props.from_webhook,o=e&&e.props&&"true"===e.props.from_bot;let l;const c=this.hasSameRoot(this.props)&&this.props.consecutivePostByUser&&!e.root_id&&0===this.props.replyCount&&!o;c||(l=u.createElement(qt.Z,{compactDisplay:this.props.compactDisplay,post:e,userId:e.user_id}),i&&(l=u.createElement("span",{className:"auto-responder"},l)));let d="";return this.props.center&&(d="center"),u.createElement(vf.Z.Provider,{value:{handlePopupOpened:this.handleDropdownOpened}},u.createElement("div",{ref:this.postRef,id:"post_"+e.id,"data-testid":"postView",role:"listitem",className:"a11y__section ".concat(this.getClassName(e,s,a,r,i,o)),tabIndex:"0",onFocus:this.handlePostFocus,onBlur:this.removeFocus,onMouseOver:this.setHover,onMouseLeave:this.unsetHover,onTouchStart:this.setHover,onClick:this.handlePostClick,"aria-label":this.state.currentAriaLabel,"aria-atomic":!0},u.createElement(wf.Z,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),u.createElement("div",{role:"application","data-testid":"postContent",className:"post__content "+d,"aria-hidden":this.state.ariaHidden},u.createElement("div",{className:"post__img"},l),u.createElement("div",null,u.createElement(yf,{post:e,handleCommentClick:this.handleCommentClick,handleCardClick:this.handleCardClick,handleDropdownOpened:this.handleDropdownOpened,compactDisplay:this.props.compactDisplay,isFirstReply:this.props.isFirstReply,replyCount:this.props.replyCount,showTimeWithoutHover:!c,hover:this.state.hover||this.state.a11yActive,isLastPost:this.props.isLastPost}),u.createElement(lf,{post:e,handleCommentClick:this.handleCommentClick,compactDisplay:this.props.compactDisplay,isCommentMention:this.props.isCommentMention,isFirstReply:this.props.isFirstReply}),n&&!e.root_id&&t?u.createElement(Af,{threadId:e.id}):null))))}}Of(Lf,"propTypes",{post:m().object.isRequired,thread:m().object,createAriaLabel:m().func.isRequired,currentUserId:m().string.isRequired,center:m().bool,compactDisplay:m().bool,isFirstReply:m().bool,shouldHighlight:m().bool,consecutivePostByUser:m().bool,previousPostIsComment:m().bool,togglePostMenu:m().func,isCommentMention:m().bool,replyCount:m().number,isLastPost:m().bool,channelIsArchived:m().bool.isRequired,intl:Me.gm.isRequired,actions:m().shape({selectPost:m().func.isRequired,selectPostCard:m().func.isRequired,markPostAsUnread:m().func.isRequired}).isRequired,isFlagged:m().bool.isRequired,isCollapsedThreadsEnabled:m().bool}),Of(Lf,"defaultProps",{post:{}});const Df=(0,we.ZP)(Lf);function kf(e,t){return!!e.root_id&&(!t||e.root_id!==t.id&&e.root_id!==t.root_id)}const xf=(0,a.connect)((function(){const e=(0,Pe.yk)(),t=(0,wt.VC)(),n=(0,Pe.Tx)();return(s,a)=>{const i=a.post||(0,wt.xl)(s,a.postId),o=(0,ee.mr)(s,i.channel_id);let l=null;a.previousPostId&&(l=(0,wt.xl)(s,a.previousPostId));let c=!1,d=!1;return l&&(c=(0,Pe.f_)(i,l),d=Boolean(l.root_id)),{post:i,createAriaLabel:n(s,i),currentUserId:(0,r.rc)(s),isFirstReply:kf(i,l),consecutivePostByUser:c,previousPostIsComment:d,replyCount:e(s,i),isCommentMention:t(s,i.id),center:(0,$.U2)(s,R.uP.CATEGORY_DISPLAY_SETTINGS,R.uP.CHANNEL_DISPLAY_MODE,R.uP.CHANNEL_DISPLAY_MODE_DEFAULT)===R.uP.CHANNEL_DISPLAY_MODE_CENTERED,compactDisplay:(0,$.U2)(s,R.uP.CATEGORY_DISPLAY_SETTINGS,R.uP.MESSAGE_DISPLAY,R.uP.MESSAGE_DISPLAY_DEFAULT)===R.uP.MESSAGE_DISPLAY_COMPACT,channelIsArchived:(0,tr.t2)(o),isFlagged:null!=(0,$.U2)(s,R.uP.CATEGORY_FLAGGED_POST,i.id,null),isCollapsedThreadsEnabled:(0,$.ym)(s)}}}),(function(e){return{actions:(0,s.bindActionCreators)({selectPost:bt.F8,selectPostCard:bt.Jm,markPostAsUnread:_e.VW},e)}}))(Df),Uf=(0,a.connect)((function(){const e=(0,Bg.H)();return(t,n)=>({post:e(t,n.combinedId),postId:n.combinedId})}))(xf);var Zf=n(86401);class jf extends u.PureComponent{render(){const{children:e}=this.props;return u.createElement("div",{className:"Separator NotificationSeparator","data-testid":"NotificationSeparator"},u.createElement("hr",{className:"separator__hr"}),e&&u.createElement("div",{className:"separator__text"},e))}}class Ff extends u.PureComponent{render(){return u.createElement("div",{className:"new-separator"},u.createElement(jf,{id:this.props.separatorId},u.createElement(ve.Z,{id:"posts_view.newMsg",defaultMessage:"New Messages"})))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ff,"propTypes",{separatorId:m().string.isRequired});var Hf=n(61032),qf=n(42306);const Bf=e=>u.createElement("svg",{width:"128",height:"113",viewBox:"0 0 128 113",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.createElement("path",{d:"M1.80233 55.6593C2.37238 26.1034 26.5458 29.6575 63.6379 13.7906C100.73 -2.07616 121.565 28.4022 120.995 57.9581C120.425 87.5141 90.6936 115.71 61.7755 110.352C32.8574 104.993 1.23229 85.2152 1.80233 55.6593Z",fill:e.theme.buttonBg,fillOpacity:"0.08"}),u.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"7",width:"122",height:"106"},u.createElement("path",{d:"M1.80233 55.6593C2.37238 26.1034 26.5458 29.6575 63.6379 13.7907C100.73 -2.07613 121.565 28.4023 120.995 57.9582C120.425 87.5141 90.6936 115.71 61.7755 110.352C32.8574 104.993 1.23229 85.2152 1.80233 55.6593Z",fill:e.theme.centerChannelBg})),u.createElement("g",{mask:"url(#mask0)"},u.createElement("path",{d:"M104.069 99.1028C117.129 99.1028 127.717 98.3007 127.717 97.3113C127.717 96.3219 117.129 95.5199 104.069 95.5199C91.0094 95.5199 80.4222 96.3219 80.4222 97.3113C80.4222 98.3007 91.0094 99.1028 104.069 99.1028Z",fill:"black",fillOpacity:"0.16"}),u.createElement("ellipse",{cx:"56.5959",cy:"88.8915",rx:"36.0082",ry:"1.9706",fill:"black",fillOpacity:"0.08"}),u.createElement("path",{d:"M60.8954 89.4289C64.754 89.4289 67.8821 89.0279 67.8821 88.5332C67.8821 88.0385 64.754 87.6375 60.8954 87.6375C57.0368 87.6375 53.9088 88.0385 53.9088 88.5332C53.9088 89.0279 57.0368 89.4289 60.8954 89.4289Z",fill:"black",fillOpacity:"0.08"}),u.createElement("path",{d:"M38.8605 89.4289C46.3799 89.4289 52.4756 89.0279 52.4756 88.5332C52.4756 88.0385 46.3799 87.6375 38.8605 87.6375C31.3411 87.6375 25.2455 88.0385 25.2455 88.5332C25.2455 89.0279 31.3411 89.4289 38.8605 89.4289Z",fill:"black",fillOpacity:"0.08"})),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M60.6626 80.4766L59.8322 81.5339L60.7427 80.9318C60.7813 81.1497 60.8128 81.3687 60.8372 81.5886C62.5681 80.2116 64.5919 79.4635 64.5919 79.4635C64.5919 79.4635 64.5349 80.0035 64.3794 80.8026L63.7606 81.0247L64.3347 81.0255C64.2031 81.6703 64.0384 82.3065 63.8415 82.9309L62.633 83.3646L63.6958 83.3661C63.3963 84.2644 62.9733 85.107 62.4413 85.8645C60.7187 88.2006 58.6275 89.4766 57.7705 88.7145C57.7036 88.6549 57.6461 88.5847 57.5979 88.5047C56.9013 87.6727 56.5888 85.5648 56.8889 83.1819C56.927 82.8867 56.982 82.5945 57.0535 82.3068L57.9169 83.3166L57.2266 81.6931C58.0016 79.2486 59.6729 77.0824 59.6729 77.0824C59.6729 77.0824 59.8783 77.577 60.1213 78.3494L59.6961 78.8907L60.1879 78.5655C60.3787 79.1922 60.5372 79.8303 60.6626 80.4766Z",fill:e.theme.centerChannelBg}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M60.6626 80.4766L59.8322 81.5339L60.7427 80.9318C60.7813 81.1497 60.8128 81.3687 60.8372 81.5886C62.5681 80.2116 64.5919 79.4635 64.5919 79.4635C64.5919 79.4635 64.5349 80.0035 64.3794 80.8026L63.7606 81.0247L64.3347 81.0255C64.2031 81.6703 64.0384 82.3065 63.8415 82.9309L62.633 83.3646L63.6958 83.3661C63.3963 84.2644 62.9733 85.107 62.4413 85.8645C60.7187 88.2006 58.6275 89.4766 57.7705 88.7145C57.7036 88.6549 57.6461 88.5847 57.5979 88.5047C56.9013 87.6727 56.5888 85.5648 56.8889 83.1819C56.927 82.8867 56.982 82.5945 57.0535 82.3068L57.9169 83.3166L57.2266 81.6931C58.0016 79.2486 59.6729 77.0824 59.6729 77.0824C59.6729 77.0824 59.8783 77.577 60.1213 78.3494L59.6961 78.8907L60.1879 78.5655C60.3787 79.1922 60.5372 79.8303 60.6626 80.4766Z",fill:e.theme.onlineIndicator}),u.createElement("path",{d:"M65.374 18.9794C65.374 17.3225 64.0309 15.9794 62.374 15.9794H18.5716C16.9148 15.9794 15.5716 17.3225 15.5716 18.9794V43.3287C15.5716 44.9856 16.9148 46.3287 18.5716 46.3287H21.8975V54.6747L28.7123 46.3287H62.374C64.0309 46.3287 65.374 44.9856 65.374 43.3287V18.9794Z",fill:e.theme.onlineIndicator}),u.createElement("path",{d:"M56.3859 24.8945H24.5599C24.1059 24.8945 23.7379 25.2625 23.7379 25.7165C23.7379 26.1705 24.1059 26.5385 24.5599 26.5385H56.3859C56.8399 26.5385 57.2079 26.1705 57.2079 25.7165C57.2079 25.2625 56.8399 24.8945 56.3859 24.8945Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M56.3859 30.3321H24.5599C24.1059 30.3321 23.7379 30.7001 23.7379 31.1541C23.7379 31.6081 24.1059 31.9761 24.5599 31.9761H56.3859C56.8399 31.9761 57.2079 31.6081 57.2079 31.1541C57.2079 30.7001 56.8399 30.3321 56.3859 30.3321Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M56.3859 35.7697H24.5599C24.1059 35.7697 23.7379 36.1377 23.7379 36.5917C23.7379 37.0456 24.1059 37.4136 24.5599 37.4136H56.3859C56.8399 37.4136 57.2079 37.0456 57.2079 36.5917C57.2079 36.1377 56.8399 35.7697 56.3859 35.7697Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M44.5932 46.4341C44.5932 44.851 45.8765 43.5677 47.4595 43.5677H65.374V46.4341H44.5932Z",fill:"black",fillOpacity:"0.24"}),u.createElement("path",{d:"M46.0263 45.0502C46.0263 43.3934 47.3695 42.0502 49.0263 42.0502H83.1549C84.8117 42.0502 86.1549 43.3934 86.1549 45.0502V63.4983C86.1549 65.1552 84.8117 66.4983 83.1549 66.4983H81.0577V73.2215L75.5667 66.4983H49.0263C47.3695 66.4983 46.0263 65.1552 46.0263 63.4983V45.0502Z",fill:e.theme.buttonBg}),u.createElement("path",{d:"M53.2683 48.958H78.9127C79.2784 48.958 79.5748 49.2544 79.5748 49.6201C79.5748 49.9858 79.2784 50.2822 78.9127 50.2822H53.2684C52.9027 50.2822 52.6062 49.9858 52.6062 49.6201C52.6062 49.2544 52.9027 48.958 53.2683 48.958Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M53.2684 53.3382H78.9127C79.2784 53.3382 79.5748 53.6347 79.5748 54.0004C79.5748 54.3661 79.2784 54.6625 78.9127 54.6625H53.2684C52.9027 54.6625 52.6062 54.3661 52.6062 54.0004C52.6062 53.6347 52.9027 53.3382 53.2684 53.3382Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M53.2684 57.7185H78.9127C79.2784 57.7185 79.5748 58.0149 79.5748 58.3806C79.5748 58.7463 79.2784 59.0428 78.9127 59.0428H53.2684C52.9027 59.0428 52.6062 58.7463 52.6062 58.3806C52.6062 58.0149 52.9027 57.7185 53.2684 57.7185Z",fill:e.theme.centerChannelBg}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.0864 66.4983C52.1153 66.3055 52.1322 66.1106 52.137 65.9148C52.1526 65.276 52.0384 64.6406 51.8013 64.0476L48.0833 65.9849L51.5109 63.4539C51.1891 62.8984 50.7571 62.4154 50.2415 62.0347C49.726 61.6541 49.138 61.384 48.5142 61.2412C47.8903 61.0984 47.2438 61.0859 46.615 61.2046C45.9861 61.3233 45.3883 61.5706 44.8586 61.9312C44.3289 62.2917 43.8788 62.7578 43.536 63.3004C43.1933 63.8431 42.9653 64.4507 42.8662 65.0856C42.7931 65.5544 42.7914 66.0308 42.8605 66.4983H52.0864Z",fill:"black",fillOpacity:"0.24"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.0723 78.7692C46.2 78.5525 46.276 78.2806 46.276 77.9854C46.276 77.2778 45.8395 76.7043 45.3011 76.7043C44.7627 76.7043 44.3262 77.2778 44.3262 77.9854C44.3262 78.2806 44.4022 78.5525 44.5299 78.7692C44.4022 78.9858 44.3262 79.2577 44.3262 79.5529C44.3262 79.8476 44.4019 80.119 44.5291 80.3354C44.4019 80.5518 44.3262 80.8232 44.3262 81.1179C44.3262 81.4131 44.4022 81.685 44.5299 81.9016C44.4022 82.1183 44.3262 82.3902 44.3262 82.6854C44.3262 82.9801 44.4019 83.2515 44.5292 83.4679C44.4019 83.6844 44.3262 83.9558 44.3262 84.2504C44.3262 84.5457 44.4022 84.8176 44.5299 85.0342C44.4022 85.2509 44.3262 85.5228 44.3262 85.818C44.3262 86.1126 44.4019 86.384 44.5291 86.6004C44.4019 86.8169 44.3262 87.0883 44.3262 87.3829C44.3262 88.0904 44.7627 88.664 45.3011 88.664C45.8395 88.664 46.276 88.0904 46.276 87.3829C46.276 87.0883 46.2003 86.8169 46.0731 86.6004C46.2003 86.384 46.276 86.1126 46.276 85.818C46.276 85.5228 46.2 85.2509 46.0723 85.0342C46.2 84.8176 46.276 84.5457 46.276 84.2504C46.276 83.9558 46.2003 83.6844 46.0731 83.4679C46.2003 83.2515 46.276 82.9801 46.276 82.6854C46.276 82.3902 46.2 82.1183 46.0723 81.9016C46.2 81.685 46.276 81.4131 46.276 81.1179C46.276 80.8232 46.2003 80.5518 46.0731 80.3354C46.2003 80.119 46.276 79.8476 46.276 79.5529C46.276 79.2577 46.2 78.9858 46.0723 78.7692Z",fill:e.theme.centerChannelColor}),u.createElement("path",{opacity:"0.32",fillRule:"evenodd",clipRule:"evenodd",d:"M46.0723 78.7692C46.2 78.5525 46.276 78.2806 46.276 77.9854C46.276 77.2778 45.8395 76.7043 45.3011 76.7043C44.7627 76.7043 44.3262 77.2778 44.3262 77.9854C44.3262 78.2806 44.4022 78.5525 44.5299 78.7692C44.4022 78.9858 44.3262 79.2577 44.3262 79.5529C44.3262 79.8476 44.4019 80.119 44.5291 80.3354C44.4019 80.5518 44.3262 80.8232 44.3262 81.1179C44.3262 81.4131 44.4022 81.685 44.5299 81.9016C44.4022 82.1183 44.3262 82.3902 44.3262 82.6854C44.3262 82.9801 44.4019 83.2515 44.5292 83.4679C44.4019 83.6844 44.3262 83.9558 44.3262 84.2504C44.3262 84.5457 44.4022 84.8176 44.5299 85.0342C44.4022 85.2509 44.3262 85.5228 44.3262 85.818C44.3262 86.1126 44.4019 86.384 44.5291 86.6004C44.4019 86.8169 44.3262 87.0883 44.3262 87.3829C44.3262 88.0904 44.7627 88.664 45.3011 88.664C45.8395 88.664 46.276 88.0904 46.276 87.3829C46.276 87.0883 46.2003 86.8169 46.0731 86.6004C46.2003 86.384 46.276 86.1126 46.276 85.818C46.276 85.5228 46.2 85.2509 46.0723 85.0342C46.2 84.8176 46.276 84.5457 46.276 84.2504C46.276 83.9558 46.2003 83.6844 46.0731 83.4679C46.2003 83.2515 46.276 82.9801 46.276 82.6854C46.276 82.3902 46.2 82.1183 46.0723 81.9016C46.2 81.685 46.276 81.4131 46.276 81.1179C46.276 80.8232 46.2003 80.5518 46.0731 80.3354C46.2003 80.119 46.276 79.8476 46.276 79.5529C46.276 79.2577 46.2 78.9858 46.0723 78.7692Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M48.9492 67.2676C49.0823 67.0973 49.2036 66.9181 49.3122 66.7312L46.7505 66.3094L49.5196 66.3302C49.7854 65.7495 49.9305 65.1205 49.9461 64.4817C49.9617 63.8428 49.8475 63.2075 49.6104 62.6144L45.8923 64.5517L49.32 62.0207C48.9982 61.4653 48.5661 60.9822 48.0506 60.6016C47.535 60.2209 46.9471 59.9508 46.3232 59.808C45.6993 59.6652 45.0529 59.6528 44.424 59.7715C43.7952 59.8902 43.1973 60.1375 42.6677 60.498C42.138 60.8585 41.6878 61.3246 41.3451 61.8673C41.0023 62.4099 40.7743 63.0175 40.6753 63.6524C40.5762 64.2873 40.6083 64.9358 40.7693 65.5577C40.9304 66.1797 41.2171 66.7617 41.6116 67.2676C41.4039 67.5334 41.2249 67.8206 41.0775 68.1243L44.404 69.8585L40.8571 68.6633C40.6944 69.1483 40.6112 69.6566 40.6108 70.1684C40.6088 71.2202 40.9616 72.2418 41.6116 73.0666C41.0707 73.7581 40.7344 74.5884 40.6412 75.4628C40.548 76.3371 40.7015 77.2202 41.0843 78.011C41.4671 78.8019 42.0637 79.4686 42.8059 79.9351C43.5482 80.4016 44.4061 80.6489 45.2817 80.6489C46.1573 80.6489 47.0152 80.4016 47.7575 79.9351C48.4997 79.4686 49.0963 78.8019 49.4791 78.011C49.8619 77.2202 50.0155 76.3371 49.9222 75.4628C49.829 74.5884 49.4927 73.7581 48.9518 73.0666C49.5993 72.2399 49.9511 71.2184 49.9507 70.1666C49.9502 69.1148 49.5975 68.0937 48.9492 67.2676Z",fill:e.theme.onlineIndicator}),u.createElement("path",{opacity:"0.1",d:"M40.6108 70.1658C40.6088 71.2177 40.9616 72.2392 41.6116 73.064C41.0707 73.7555 40.7344 74.5858 40.6412 75.4602C40.548 76.3345 40.7015 77.2176 41.0843 78.0084C41.4671 78.7993 42.0637 79.4661 42.8059 79.9325C43.5482 80.399 44.4061 80.6464 45.2817 80.6464C46.1573 80.6464 47.0152 80.399 47.7575 79.9325C48.4997 79.4661 49.0963 78.7993 49.4791 78.0084C49.8619 77.2176 50.0155 76.3345 49.9222 75.4602C49.829 74.5858 49.4927 73.7555 48.9518 73.064C49.5767 72.2672 40.6108 69.6398 40.6108 70.1658Z",fill:e.theme.centerChannelColor}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.2968 80.8175L36.9707 81.9966L37.5096 81.1534C37.9495 81.8459 38.2901 82.6083 38.5196 83.4141C39.1858 85.9642 38.9674 88.2705 38.0319 88.5652C37.9587 88.5883 37.8833 88.5983 37.8062 88.5961C36.9057 88.7278 35.36 87.909 33.9432 86.4649C33.7681 86.2852 33.6035 86.0936 33.4504 85.8913L34.5522 85.7168L33.1339 85.4432C31.9167 83.5905 31.3364 81.1672 31.3364 81.1672C31.3364 81.1672 31.766 81.2544 32.3976 81.4524L32.5388 82.064L32.5736 81.5089C33.0828 81.6746 33.5831 81.8717 34.0721 82.0993L34.3479 83.2938L34.4123 82.2661C34.5753 82.3457 34.7354 82.4315 34.8924 82.5233C34.8619 80.4521 35.3937 78.4667 35.3937 78.4667C35.3937 78.4667 35.7204 78.7852 36.1678 79.3132L36.0008 79.9169L36.2919 79.4615C36.6498 79.8924 36.9854 80.3451 37.2968 80.8175Z",fill:e.theme.centerChannelBg}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.2968 80.8175L36.9707 81.9966L37.5096 81.1534C37.9495 81.8459 38.2901 82.6083 38.5196 83.4141C39.1858 85.9642 38.9674 88.2705 38.0319 88.5652C37.9587 88.5883 37.8833 88.5983 37.8062 88.5961C36.9057 88.7278 35.36 87.909 33.9432 86.4649C33.7681 86.2852 33.6035 86.0936 33.4504 85.8913L34.5522 85.7168L33.1339 85.4432C31.9167 83.5905 31.3364 81.1672 31.3364 81.1672C31.3364 81.1672 31.766 81.2544 32.3976 81.4524L32.5388 82.064L32.5736 81.5089C33.0828 81.6746 33.5831 81.8717 34.0721 82.0993L34.3479 83.2938L34.4123 82.2661C34.5753 82.3457 34.7354 82.4315 34.8924 82.5233C34.8619 80.4521 35.3937 78.4667 35.3937 78.4667C35.3937 78.4667 35.7204 78.7852 36.1678 79.3132L36.0008 79.9169L36.2919 79.4615C36.6498 79.8924 36.9854 80.3451 37.2968 80.8175Z",fill:e.theme.onlineIndicator}),u.createElement("path",{d:"M90.4075 33.0776C90.4075 33.0776 82.0605 34.3956 83.0864 32.7323C84.1122 31.069 89.5744 29.4072 90.5762 29.7542C91.578 30.1013 90.4075 33.0776 90.4075 33.0776Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M90.4074 33.0776C90.4074 33.0776 82.0605 34.3956 83.0863 32.7323C84.1121 31.069 89.5744 29.4072 90.5761 29.7542C91.5779 30.1013 90.4074 33.0776 90.4074 33.0776Z",fill:e.theme.centerChannelColor,fillOpacity:"0.32"}),u.createElement("path",{d:"M90.4074 33.0776C90.4074 33.0776 82.0605 34.3956 83.0863 32.7323C84.1121 31.069 89.5744 29.4072 90.5761 29.7542C91.5779 30.1013 90.4074 33.0776 90.4074 33.0776Z",fill:e.theme.centerChannelColor,fillOpacity:"0.48"}),u.createElement("path",{d:"M99.9799 14.4778C99.9799 14.4778 94.588 15.9236 97.0867 20.5237C97.0867 20.5237 101.164 28.541 99.4539 29.0668C97.7443 29.5925 89.8536 29.3296 89.8536 29.3296C89.8536 29.3296 88.0125 33.7983 88.9331 33.9297C89.8536 34.0612 104.583 37.0841 106.161 34.1926C107.739 31.3011 106.161 18.8151 106.161 18.8151C106.161 18.8151 103.925 12.6378 99.9799 14.4778Z",fill:e.theme.buttonBg}),u.createElement("path",{opacity:"0.24",d:"M99.9799 14.4778C99.9799 14.4778 94.588 15.9236 97.0867 20.5237C97.0867 20.5237 101.164 28.541 99.4539 29.0668C97.7443 29.5925 89.8536 29.3296 89.8536 29.3296C89.8536 29.3296 88.0125 33.7983 88.9331 33.9297C89.8536 34.0612 104.583 37.0841 106.161 34.1926C107.739 31.3011 106.161 18.8151 106.161 18.8151C106.161 18.8151 103.925 12.6378 99.9799 14.4778Z",fill:e.theme.centerChannelColor}),u.createElement("path",{d:"M115.235 82.8224C115.235 82.8224 117.602 88.474 116.287 89.5255C114.972 90.5769 115.235 92.5484 116.156 92.5484C117.076 92.5484 119.181 90.7083 120.364 88.474C121.246 86.8096 122.711 83.4676 123.402 81.871C123.45 81.7592 123.474 81.6385 123.473 81.5167C123.471 81.3949 123.444 81.2748 123.392 81.1643C123.341 81.0538 123.267 80.9553 123.175 80.8753C123.084 80.7953 122.976 80.7356 122.859 80.7001L119.049 79.5366L115.235 82.8224Z",fill:e.theme.buttonBg}),u.createElement("path",{d:"M90.2482 89.6568C90.2482 89.6568 85.2508 93.7312 82.6206 93.5998C79.9904 93.4683 79.5958 96.2284 82.6206 96.6227C85.6453 97.017 94.7196 97.1484 95.5086 96.6227C96.2977 96.097 96.0347 90.5769 95.5086 90.4454C94.9826 90.314 90.2482 89.6568 90.2482 89.6568Z",fill:e.theme.buttonBg}),u.createElement("path",{d:"M107.213 47.7301C107.213 47.7301 107.213 51.8045 105.109 53.5131C105.109 53.5131 102.61 66.262 104.846 67.0506C107.082 67.8392 117.208 74.6736 118.128 78.0908L120.364 79.7995C120.364 79.7995 116.287 83.8739 115.498 83.8739C114.709 83.8739 106.95 73.2279 99.98 71.2564C99.98 71.2564 95.6402 70.2049 95.7717 64.5534C95.9032 58.9018 101.032 43.9186 101.032 43.9186H106.95L107.213 47.7301Z",fill:e.theme.sidebarBg}),u.createElement("path",{opacity:"0.9",d:"M107.213 47.7301C107.213 47.7301 107.213 51.8045 105.109 53.5131C105.109 53.5131 102.61 66.262 104.846 67.0506C107.082 67.8392 117.208 74.6736 118.128 78.0908L120.364 79.7995C120.364 79.7995 116.287 83.8739 115.498 83.8739C114.709 83.8739 106.95 73.2279 99.98 71.2564C99.98 71.2564 95.6402 70.2049 95.7717 64.5534C95.9032 58.9018 101.032 43.9186 101.032 43.9186H106.95L107.213 47.7301Z",fill:e.theme.centerChannelColor}),u.createElement("path",{d:"M93.5359 44.97C93.5359 44.97 89.5906 57.3246 90.2481 62.1876C90.2481 62.1876 88.67 66.7877 89.8536 71.7821C91.0372 76.7765 89.7221 89.6568 89.4591 89.9197C89.1961 90.1826 92.3523 92.9426 95.7716 90.7083C95.7716 90.7083 95.9031 87.5539 96.5607 86.8968C97.2182 86.2396 97.2182 72.4393 96.5607 70.4678C95.9031 68.4963 103.662 54.1702 103.662 54.1702C103.662 54.1702 107.871 50.3587 106.292 48.3872C104.714 46.4158 106.424 42.4728 106.424 42.4728L94.4565 43.2614L93.5359 44.97Z",fill:e.theme.sidebarBg}),u.createElement("path",{opacity:"0.8",d:"M93.5359 44.97C93.5359 44.97 89.5906 57.3246 90.2481 62.1876C90.2481 62.1876 88.67 66.7877 89.8536 71.7821C91.0372 76.7765 89.7221 89.6568 89.4591 89.9197C89.1961 90.1826 92.3523 92.9426 95.7716 90.7083C95.7716 90.7083 95.9031 87.5539 96.5607 86.8968C97.2182 86.2396 97.2182 72.4393 96.5607 70.4678C95.9031 68.4963 103.662 54.1702 103.662 54.1702C103.662 54.1702 107.871 50.3587 106.292 48.3872C104.714 46.4158 106.424 42.4728 106.424 42.4728L94.4565 43.2614L93.5359 44.97Z",fill:e.theme.centerChannelColor}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.1031 14.2901C93.3815 14.6621 92.5627 14.8721 91.6948 14.8721C88.7896 14.8721 86.4344 12.5184 86.4344 9.61487C86.4344 6.71135 88.7896 4.35759 91.6948 4.35759C94.4842 4.35759 96.7665 6.52736 96.9441 9.27023C98.2172 10.6232 99.7874 12.1701 100.374 12.2435C101.427 12.3749 96.9552 18.0265 96.9552 18.0265C96.9552 18.0265 95.5348 15.6356 94.1031 14.2901Z",fill:e.theme.centerChannelBg}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.1031 14.2901C93.3815 14.6621 92.5627 14.8721 91.6948 14.8721C88.7896 14.8721 86.4344 12.5184 86.4344 9.61487C86.4344 6.71135 88.7896 4.35759 91.6948 4.35759C94.4842 4.35759 96.7665 6.52736 96.9441 9.27023C98.2172 10.6232 99.7874 12.1701 100.374 12.2435C101.427 12.3749 96.9552 18.0265 96.9552 18.0265C96.9552 18.0265 95.5348 15.6356 94.1031 14.2901Z",fill:e.theme.centerChannelColor,fillOpacity:"0.48"}),u.createElement("path",{d:"M101.164 12.1121L100.506 11.192C100.506 11.192 95.9749 15.229 95.8075 16.2992C95.6946 16.8997 95.8235 17.5205 96.1662 18.0265L98.7964 16.8436L100.111 14.215L101.164 12.1121Z",fill:e.theme.buttonBg}),u.createElement("path",{d:"M93.273 44.7072C93.273 44.7072 92.2209 47.8616 93.0099 47.7301C93.799 47.5987 93.799 45.8901 94.7196 45.8901C95.6402 45.8901 96.1662 44.4443 96.1662 44.4443L93.273 44.7072Z",fill:e.theme.buttonBg}),u.createElement("path",{d:"M99.9799 44.97C99.9799 44.97 103.005 51.5416 106.818 50.8844L107.563 50.5654C107.874 50.4324 108.128 50.1936 108.28 49.8913C108.432 49.5891 108.472 49.2429 108.393 48.914C108.03 47.4003 107.362 44.97 106.818 44.97H99.9799Z",fill:e.theme.buttonBg}),u.createElement("path",{d:"M86.4457 9.94482C86.4457 9.94482 86.9604 8.30053 88.6701 8.95769C90.3797 9.61485 91.8263 11.0606 92.2208 10.0092C92.6154 8.9577 93.625 7.99042 94.3038 8.80264C94.9826 9.61486 98.0731 11.1263 97.9416 10.3377C97.81 9.54914 99.5854 4.88331 96.1662 3.1747C92.7469 1.46609 90.9057 0.151768 89.1961 1.46609C87.4865 2.78041 83.2781 5.27761 83.9357 6.85479C84.5932 8.43197 84.3302 9.22056 85.3823 9.61486C86.4344 10.0092 86.4457 9.94482 86.4457 9.94482Z",fill:e.theme.sidebarBg}),u.createElement("path",{opacity:"0.8",d:"M86.4457 9.94482C86.4457 9.94482 86.9604 8.30053 88.6701 8.95769C90.3797 9.61485 91.8263 11.0606 92.2208 10.0092C92.6154 8.9577 93.625 7.99042 94.3038 8.80264C94.9826 9.61486 98.0731 11.1263 97.9416 10.3377C97.81 9.54914 99.5854 4.88331 96.1662 3.1747C92.7469 1.46609 90.9057 0.151768 89.1961 1.46609C87.4865 2.78041 83.2781 5.27761 83.9357 6.85479C84.5932 8.43197 84.3302 9.22056 85.3823 9.61486C86.4344 10.0092 86.4457 9.94482 86.4457 9.94482Z",fill:e.theme.centerChannelColor}),u.createElement("path",{d:"M101.821 12.9007C101.821 12.9007 101.69 11.7178 100.506 11.9806C99.3224 12.2435 96.1662 17.5008 96.1662 17.5008C95.651 19.1793 95.2555 20.8922 94.9825 22.6266C94.4565 25.781 93.4044 37.347 92.3523 39.3185C91.3003 41.2899 93.2729 45.89 93.2729 45.89C93.2729 45.89 94.4565 44.5757 98.2703 45.3643C102.084 46.1529 107.082 46.9415 107.476 46.5472C107.871 46.1529 107.082 45.1015 108.134 43.7871C109.186 42.4728 110.632 17.6322 105.372 14.8722C105.372 14.8721 102.873 12.9007 101.821 12.9007Z",fill:e.theme.buttonBg}),u.createElement("path",{d:"M101.821 12.9007C101.821 12.9007 101.69 11.7178 100.506 11.9806C99.3224 12.2435 96.1662 17.5008 96.1662 17.5008C95.651 19.1793 95.2555 20.8922 94.9825 22.6266C94.4565 25.781 93.4044 37.347 92.3523 39.3185C91.3003 41.2899 93.2729 45.89 93.2729 45.89C93.2729 45.89 94.4565 44.5757 98.2703 45.3643C102.084 46.1529 107.082 46.9415 107.476 46.5472C107.871 46.1529 107.082 45.1015 108.134 43.7871C109.186 42.4728 110.632 17.6322 105.372 14.8722C105.372 14.8721 102.873 12.9007 101.821 12.9007Z",fill:"black",fillOpacity:"0.08"}),u.createElement("path",{opacity:"0.2",d:"M100.506 16.8436C100.506 16.8436 95.114 18.2894 97.6127 22.8895C97.6127 22.8895 101.69 30.9068 99.9799 31.4325C98.2703 31.9583 90.3797 31.6954 90.3797 31.6954C90.3797 31.6954 89.5248 34.5212 90.4454 34.6526C91.366 34.784 105.109 39.4499 106.687 36.5584C108.265 33.6669 106.687 21.1809 106.687 21.1809C106.687 21.1809 104.451 15.0036 100.506 16.8436Z",fill:"black"}),u.createElement("path",{d:"M77.496 31.0798L86.2368 35.8781C86.2875 35.9117 86.3449 35.9339 86.405 35.9429C86.4652 35.952 86.5266 35.9478 86.585 35.9306C86.6433 35.9134 86.6972 35.8836 86.7428 35.8434C86.7884 35.8031 86.8246 35.7534 86.8488 35.6976L88.9901 31.2246C89.0307 31.0971 89.0241 30.9593 88.9715 30.8362C88.9189 30.7132 88.8239 30.613 88.7037 30.5541L81.4467 26.8158C81.3573 26.762 81.2512 26.7431 81.1487 26.7627C81.0463 26.7823 80.9547 26.8389 80.8914 26.9218L77.2664 30.3349C77.2308 30.3985 77.2084 30.4686 77.2006 30.5411C77.1929 30.6136 77.2 30.6869 77.2215 30.7565C77.2429 30.8262 77.2784 30.8908 77.3256 30.9463C77.3728 31.0019 77.4308 31.0473 77.496 31.0798Z",fill:e.theme.sidebarBg}),u.createElement("path",{opacity:"0.8",d:"M77.496 31.0798L86.2368 35.8781C86.2875 35.9117 86.3449 35.9339 86.405 35.9429C86.4652 35.952 86.5266 35.9478 86.585 35.9306C86.6433 35.9134 86.6972 35.8836 86.7428 35.8434C86.7884 35.8031 86.8246 35.7534 86.8488 35.6976L88.9901 31.2246C89.0307 31.0971 89.0241 30.9593 88.9715 30.8362C88.9189 30.7132 88.8239 30.613 88.7037 30.5541L81.4467 26.8158C81.3573 26.762 81.2512 26.7431 81.1487 26.7627C81.0463 26.7823 80.9547 26.8389 80.8914 26.9218L77.2664 30.3349C77.2308 30.3985 77.2084 30.4686 77.2006 30.5411C77.1929 30.6136 77.2 30.6869 77.2215 30.7565C77.2429 30.8262 77.2784 30.8908 77.3256 30.9463C77.3728 31.0019 77.4308 31.0473 77.496 31.0798Z",fill:e.theme.centerChannelColor}),u.createElement("path",{d:"M90.5294 35.0693C90.5294 35.0693 82.0996 35.6599 83.2657 34.0916C84.4318 32.5234 90.0176 31.3406 90.9855 31.7731C91.9535 32.2056 90.5294 35.0693 90.5294 35.0693Z",fill:e.theme.centerChannelBg}),u.createElement("path",{d:"M90.5295 35.0693C90.5295 35.0693 82.0997 35.6599 83.2658 34.0916C84.4319 32.5234 90.0177 31.3406 90.9856 31.7731C91.9535 32.2056 90.5295 35.0693 90.5295 35.0693Z",fill:e.theme.centerChannelColor,fillOpacity:"0.48"}),u.createElement("path",{d:"M100.506 16.0551C100.506 16.0551 95.1141 17.5008 97.6128 22.1009C97.6128 22.1009 101.69 30.1183 99.98 30.644C98.2703 31.1697 90.3797 30.9069 90.3797 30.9069C90.3797 30.9069 88.5386 35.3755 89.4591 35.507C90.3797 35.6384 105.109 38.6613 106.687 35.7698C108.265 32.8783 106.687 20.3923 106.687 20.3923C106.687 20.3923 104.451 14.215 100.506 16.0551Z",fill:e.theme.buttonBg}),u.createElement("path",{opacity:"0.4",fillRule:"evenodd",clipRule:"evenodd",d:"M7.58358 23.5035H6.23999V25.5979H4.22461V26.8624H6.23999V28.8778H7.58358V26.8624H9.59897V25.5979H7.58358V23.5035Z",fill:e.theme.onlineIndicator}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.6581 4.51406H70.5084V7.86513H67.2838V9.88842H70.5084V13.113H72.6581V9.88842H75.8827V7.86513H72.6581V4.51406Z",fill:e.theme.onlineIndicator}),u.createElement("path",{opacity:"0.5",fillRule:"evenodd",clipRule:"evenodd",d:"M122.908 33.5356H119.863V38.2829H115.295V41.1493H119.863V45.7175H122.908V41.1493H127.477V38.2829H122.908V33.5356Z",fill:e.theme.onlineIndicator}));Bf.propTypes={theme:m().any.isRequired};const Gf=Bf,Vf=({totalUsers:e,usersLimit:t,channel:n,setHeader:s,theme:a})=>{if(!e)return u.createElement(qs.Z,null);const i=n.type===R.gT.PRIVATE_CHANNEL;return e<t&&!i?Wf(s,a):zf(n,s)};Vf.propTypes={totalUsers:m().number,usersLimit:m().number.isRequired,setHeader:m().node.isRequired,theme:m().any.isRequired};const Wf=(e,t)=>u.createElement(u.Fragment,null,e,u.createElement("div",{className:"LessThanMaxFreeUsers"},u.createElement(Gf,{theme:t}),u.createElement("div",{className:"titleAndButton"},u.createElement(ve.Z,{id:"intro_messages.inviteOthersToWorkspace.title",defaultMessage:"Let’s add some people to the workspace!"}),u.createElement(qf.Z,{accessibilityLabel:V._u("intro_messages.inviteOthers","Invite others to the workspace"),id:"introTextInvite",className:"intro-links color--link cursor--pointer",modalId:R.r8.INVITATION,dialogType:Sa},u.createElement(ve.Z,{id:"generic_icons.add",defaultMessage:"Add Icon"},(e=>u.createElement("i",{className:"icon-email-plus-outline",title:e}))),u.createElement(ve.Z,{id:"intro_messages.inviteOthersToWorkspace.button",defaultMessage:"Invite others to the workspace"}))))),zf=(e,t)=>{const n=e.group_constrained?ep:ad.Z;if(0!==e.delete_at)return null;const s=e.type===R.gT.PRIVATE_CHANNEL;return u.createElement("div",{className:"MoreThanMaxFreeUsersWrapper"},u.createElement("div",{className:"MoreThanMaxFreeUsers"},u.createElement(hp.Z,{channelId:e.id,teamId:e.team_id,permissions:[s?he.Pl.MANAGE_PRIVATE_CHANNEL_MEMBERS:he.Pl.MANAGE_PUBLIC_CHANNEL_MEMBERS]},u.createElement(Hf.Z,{className:"intro-links color--link",dialogType:n,dialogProps:{channel:e}},u.createElement(ve.Z,{id:"generic_icons.add",defaultMessage:"Add Icon"},(e=>u.createElement("i",{className:"icon-account-plus-outline",title:e}))),s&&e.group_constrained&&u.createElement(ve.Z,{id:"intro_messages.inviteGropusToChannel.button",defaultMessage:"Add groups to this private channel"}),s&&!e.group_constrained&&u.createElement(ve.Z,{id:"intro_messages.inviteMembersToPrivateChannel.button",defaultMessage:"Add members to this private channel"}),!s&&u.createElement(ve.Z,{id:"intro_messages.inviteMembersToChannel.button",defaultMessage:"Add members to this channel"})))),t)},Yf=u.memo(Vf);class Kf extends u.PureComponent{componentDidMount(){var e;null!==(e=this.props.stats)&&void 0!==e&&e.total_users_count||this.props.actions.getTotalUsersStats()}render(){const{currentUserId:e,channel:t,creatorName:n,fullWidth:s,locale:a,enableUserCreation:i,isReadOnly:r,channelProfiles:o,teamIsGroupConstrained:l,teammate:c,teammateName:d,stats:m,usersLimit:p,theme:h}=this.props;let g="";return s||(g="channel-intro--centered"),t.type===R.gT.DM_CHANNEL?function(e,t,n,s){const a="channelIntro";return n?u.createElement("div",{id:a,className:"channel-intro "+t},u.createElement("div",{className:"post-profile-img__container channel-intro-img"},u.createElement(Wr.Z,{src:V.bb(n.id,n.last_picture_update),size:"xl",userId:n.id,username:n.username,hasMention:!0})),u.createElement("div",{className:"channel-intro-profile d-flex"},u.createElement(Ht.Z,{userId:n.id,disablePopover:!1,hasMention:!0})),u.createElement("p",{className:"channel-intro-text"},u.createElement(on.Z,{id:"intro_messages.DM",defaultMessage:"This is the start of your direct message history with {teammate}.\\nDirect messages and files shared here are not shown to people outside this area.",values:{teammate:s}})),n.is_bot?null:Jf(e)):u.createElement("div",{id:a,className:"channel-intro "+t},u.createElement("p",{className:"channel-intro-text"},u.createElement(ve.Z,{id:"intro_messages.teammate",defaultMessage:"This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area."})))}(t,g,c,d):t.type===R.gT.GM_CHANNEL?function(e,t,n,s){const a="channelIntro";if(n.length>0){const i=n.filter((e=>e.id!==s)).map((e=>u.createElement(Wr.Z,{key:"introprofilepicture"+e.id,src:V.bb(e.id,e.last_picture_update),size:"xl",userId:e.id,username:e.username})));return u.createElement("div",{id:a,className:"channel-intro "+t},u.createElement("div",{className:"post-profile-img__container channel-intro-img"},i),u.createElement("p",{className:"channel-intro-text"},u.createElement(on.Z,{id:"intro_messages.GM",defaultMessage:"This is the start of your group message history with {names}.\\nMessages and files shared here are not shown to people outside this area.",values:{names:e.display_name}})),Jf(e))}return u.createElement("div",{id:a,className:"channel-intro "+t},u.createElement("p",{className:"channel-intro-text"},u.createElement(ve.Z,{id:"intro_messages.group_message",defaultMessage:"This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area."})))}(t,g,o,e):t.name===R.gT.DEFAULT_CHANNEL?function(e,t,n,s,a,i,r,o){let l=null;const c=n.total_users_count,d=e.type===R.gT.PRIVATE_CHANNEL;let m=null;if(!r){const t=Jf(e);t&&(m=u.createElement(hp.Z,{teamId:e.team_id,channelId:e.id,permissions:[d?he.Pl.MANAGE_PRIVATE_CHANNEL_PROPERTIES:he.Pl.MANAGE_PUBLIC_CHANNEL_PROPERTIES]},t))}return!r&&i&&(l=u.createElement(Wn.Z,{teamId:e.team_id,permissions:[he.Pl.INVITE_USER]},u.createElement(Wn.Z,{teamId:e.team_id,permissions:[he.Pl.ADD_USER_TO_TEAM]},!o&&m&&u.createElement(Yf,{setHeader:m,totalUsers:c,usersLimit:s,channel:e,theme:a}),o&&u.createElement(Hf.Z,{className:"intro-links color--link",dialogType:ui,dialogProps:{channel:e}},u.createElement(ve.Z,{id:"generic_icons.add",defaultMessage:"Add Icon"},(e=>u.createElement("i",{className:"fa fa-user-plus",title:e}))),u.createElement(ve.Z,{id:"intro_messages.addGroupsToTeam",defaultMessage:"Add other groups to this team"}))))),u.createElement("div",{id:"channelIntro",className:"channel-intro "+t},u.createElement("h2",{className:"channel-intro__title"},u.createElement(ve.Z,{id:"intro_messages.beginning",defaultMessage:"Beginning of {name}",values:{name:e.display_name}})),u.createElement("p",{className:"channel-intro__content"},!r&&u.createElement(on.Z,{id:"intro_messages.default",defaultMessage:"**Welcome to {display_name}!**\\n \\nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.",values:{display_name:e.display_name}}),r&&u.createElement(on.Z,{id:"intro_messages.readonly.default",defaultMessage:"**Welcome to {display_name}!**\\n \\nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.",values:{display_name:e.display_name}})),l,o&&m,u.createElement("br",null))}(t,g,m,p,h,i,r,l):t.name===R.gT.OFFTOPIC_CHANNEL?function(e,t,n,s,a){const i=e.type===R.gT.PRIVATE_CHANNEL,r=Jf(e),o=n.total_users_count;let l=null;r&&(l=u.createElement(hp.Z,{teamId:e.team_id,channelId:e.id,permissions:[i?he.Pl.MANAGE_PRIVATE_CHANNEL_PROPERTIES:he.Pl.MANAGE_PUBLIC_CHANNEL_PROPERTIES]},r));const c=l?u.createElement(Yf,{setHeader:l,totalUsers:o,usersLimit:s,channel:e,theme:a}):null;return u.createElement("div",{id:"channelIntro",className:"channel-intro "+t},u.createElement("h2",{className:"channel-intro__title"},u.createElement(ve.Z,{id:"intro_messages.beginning",defaultMessage:"Beginning of {name}",values:{name:e.display_name}})),u.createElement("p",{className:"channel-intro__content"},u.createElement(ve.Z,{id:"intro_messages.offTopic",defaultMessage:"This is the start of {display_name}, a channel for non-work-related conversations.",values:{display_name:e.display_name}})),c)}(t,g,m,p,h):t.type===R.gT.OPEN_CHANNEL||t.type===R.gT.PRIVATE_CHANNEL?function(e,t,n,s,a,i,r){const o=e.display_name;let l;const c=0!==e.delete_at,d=s.total_users_count;l=c?"":e.type===R.gT.PRIVATE_CHANNEL?u.createElement(ve.Z,{id:"intro_messages.onlyInvited",defaultMessage:" Only invited members can see this private channel."}):u.createElement(ve.Z,{id:"intro_messages.anyMember",defaultMessage:" Any member can join and read this channel."});const m=u.createElement(mt.Ji,{value:e.create_at,month:(0,it.u)(i),day:"2-digit",year:"numeric"});let p,h;""===r?e.type===R.gT.PRIVATE_CHANNEL?p=u.createElement(ve.Z,{id:"intro_messages.noCreatorPrivate",defaultMessage:"This is the start of the {name} private channel, created on {date}.",values:{name:o,date:m}}):e.type===R.gT.OPEN_CHANNEL&&(p=u.createElement(ve.Z,{id:"intro_messages.noCreator",defaultMessage:"This is the start of the {name} channel, created on {date}.",values:{name:o,date:m}})):e.type===R.gT.PRIVATE_CHANNEL?p=u.createElement("span",null,u.createElement(ve.Z,{id:"intro_messages.creatorPrivate",defaultMessage:"This is the start of the {name} private channel, created by {creator} on {date}.",values:{name:o,creator:r,date:m}})):e.type===R.gT.OPEN_CHANNEL&&(p=u.createElement("span",null,u.createElement(ve.Z,{id:"intro_messages.creator",defaultMessage:"This is the start of the {name} channel, created by {creator} on {date}.",values:{name:o,creator:r,date:m}}))),e.purpose&&""!==e.purpose&&(e.type===R.gT.PRIVATE_CHANNEL?h=u.createElement("span",null,u.createElement(ve.Z,{id:"intro_messages.purposePrivate",defaultMessage:" This private channel's purpose is: {purpose}",values:{purpose:e.purpose}})):e.type===R.gT.OPEN_CHANNEL&&(h=u.createElement("span",null,u.createElement(ve.Z,{id:"intro_messages.purpose",defaultMessage:" This channel's purpose is: {purpose}",values:{purpose:e.purpose}}))));const g=e.type===R.gT.PRIVATE_CHANNEL;let f=null;const b=Jf(e);b&&(f=u.createElement(hp.Z,{teamId:e.team_id,channelId:e.id,permissions:[g?he.Pl.MANAGE_PRIVATE_CHANNEL_PROPERTIES:he.Pl.MANAGE_PUBLIC_CHANNEL_PROPERTIES]},b));const _=f?u.createElement(Yf,{totalUsers:d,usersLimit:a,channel:e,setHeader:f,theme:n}):null;return u.createElement("div",{id:"channelIntro",className:"channel-intro "+t},u.createElement("h2",{className:"channel-intro__title"},u.createElement(ve.Z,{id:"intro_messages.beginning",defaultMessage:"Beginning of {name}",values:{name:o}})),u.createElement("p",{className:"channel-intro__content"},p,l,h,u.createElement("br",null)),_)}(t,g,h,m,p,a,n):null}}function Jf(e){return e.delete_at,null}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Kf,"propTypes",{currentUserId:m().string.isRequired,fullWidth:m().bool.isRequired,locale:m().string.isRequired,channelProfiles:m().array.isRequired,enableUserCreation:m().bool,isReadOnly:m().bool,teamIsGroupConstrained:m().bool,creatorName:m().string.isRequired,teammateName:m().string,stats:m().any.isRequired,theme:m().any.isRequired,usersLimit:m().number.isRequired,actions:m().shape({getTotalUsersStats:m().func.isRequired}).isRequired});const Qf=(0,a.connect)((function(e){const t="true"===(0,i.iE)(e).EnableUserCreation,n=(0,ee.ui)(e),s=(0,o.kA)(e),a=(0,ee.TB)(e)||{},l=(0,V.PR)(e,a.id),c=(0,r.PR)(e,a.creator_id);let d=parseInt((0,i.iE)(e).ExperimentalCloudUserLimit||"10",10);0===d&&(d=10);const m=(0,r.S1)(e)||{total_users_count:0};return{currentUserId:(0,r.rc)(e),channel:a,fullWidth:(0,$.U2)(e,R.uP.CATEGORY_DISPLAY_SETTINGS,R.uP.CHANNEL_DISPLAY_MODE,R.uP.CHANNEL_DISPLAY_MODE_DEFAULT)===R.uP.CHANNEL_DISPLAY_MODE_FULL_SCREEN,locale:(0,F.B)(e),channelProfiles:(0,r.OX)(e),enableUserCreation:t,isReadOnly:n,teamIsGroupConstrained:Boolean(s.group_constrained),creatorName:(0,V.hI)(e,c),teammate:l,teammateName:(0,V.hI)(e,l),stats:m,usersLimit:d,theme:(0,$.gh)(e)}}),(function(e){return{actions:(0,s.bindActionCreators)({getTotalUsersStats:K.S1},e)}}))(Kf);class Xf extends u.PureComponent{blockShortcutReactToLastPostForNonMessages(e){const{actions:{emitShortcutReactToLastPostFrom:t}}=this.props;(0,Pe.Xq)(e)&&t(R.tY.NO_WHERE)}componentDidUpdate(e){const{listId:t,isLastPost:n,shortcutReactToLastPostEmittedFrom:s}=this.props,a=e.shortcutReactToLastPostEmittedFrom!==s&&s===R.tY.CENTER;n&&a&&this.blockShortcutReactToLastPostForNonMessages(t)}render(){const{listId:e,previousListId:t,loadingOlderPosts:n,loadingNewerPosts:s}=this.props,{OLDER_MESSAGES_LOADER:a,NEWER_MESSAGES_LOADER:i,CHANNEL_INTRO_MESSAGE:r,LOAD_OLDER_MESSAGES_TRIGGER:o,LOAD_NEWER_MESSAGES_TRIGGER:l}=R.iH;if(Bg.Ji(e)){const t=Bg.xF(e);return u.createElement(Zf.Z,{key:t,date:t})}if(Bg.p4(e))return u.createElement(Ff,{separatorId:e});if(e===r)return u.createElement(Qf,null);if(e===o||e===l)return u.createElement("button",{className:"more-messages-text theme style--none color--link",onClick:e===o?this.props.loadOlderPosts:this.props.loadNewerPosts},u.createElement(ve.Z,{id:"posts_view.loadMore",defaultMessage:"Load More Messages"}));if(e===a||e===i){const e=!n&&!s;return u.createElement("div",{className:"loading-screen"},u.createElement("div",{className:Te()("loading__content",{hideAnimation:e})},u.createElement("div",{className:"round round-1"}),u.createElement("div",{className:"round round-2"}),u.createElement("div",{className:"round round-3"})))}const c={previousPostId:t,shouldHighlight:this.props.shouldHighlight,togglePostMenu:this.props.togglePostMenu,isLastPost:this.props.isLastPost};return Bg.mM(e)?u.createElement(Uf,Object.assign({combinedId:e},c)):u.createElement(xf,Object.assign({postId:e},c))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Xf,"propTypes",{listId:m().string.isRequired,previousListId:m().string,fullWidth:m().bool,shouldHighlight:m().bool,loadOlderPosts:m().func.isRequired,loadNewerPosts:m().func.isRequired,togglePostMenu:m().func.isRequired,isLastPost:m().bool.isRequired,shortcutReactToLastPostEmittedFrom:m().string.isRequired,loadingNewerPosts:m().bool.isRequired,loadingOlderPosts:m().bool.isRequired,actions:m().shape({emitShortcutReactToLastPostFrom:m().func.isRequired}).isRequired});const $f=(0,a.connect)((function(e,t){const n=(0,cg.dj)(e);return{post:t.post,channel:t.channel,shortcutReactToLastPostEmittedFrom:n}}),(function(e){return{actions:(0,s.bindActionCreators)({emitShortcutReactToLastPostFrom:_e.id},e)}}))(Xf);function eb(e){const{formatMessage:t}=(0,_s.Z)();return u.createElement("span",e,u.createElement("svg",{x:"0px",y:"0px",viewBox:"-239 239 21 23",enableBackground:"new -239 239 21 23",role:"img","aria-label":t({id:"generic_icons.arrow.down",defaultMessage:"Down Arrow Icon"})},u.createElement("path",{d:"M-239,241.4l2.4-2.4l8.1,8.2l8.1-8.2l2.4,2.4l-10.5,10.6L-239,241.4z M-228.5,257.2l8.1-8.2l2.4,2.4l-10.5,10.6l-10.5-10.6 l2.4-2.4L-228.5,257.2z"})))}class tb extends u.PureComponent{render(){if(Ia()(window).width()>768)return null;let e="post-list__arrows";return this.props.isScrolling&&!1===this.props.atBottom&&(e+=" scrolling"),u.createElement("div",{className:e,onClick:this.props.onClick},u.createElement(eb,null))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(tb,"propTypes",{isScrolling:m().bool.isRequired,atBottom:m().bool,onClick:m().func.isRequired});var nb=n(54228),sb=n(95939);function ab(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ib extends u.PureComponent{constructor(...e){super(...e),ab(this,"mounted",void 0),ab(this,"handleDismiss",(()=>{"function"==typeof this.props.onDismiss&&this.props.onDismiss()}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){let e="toast";const{show:t,extraClasses:n,showActions:s,width:a}=this.props;n&&(e+=" ".concat(n)),t&&(e+=" toast__visible");let i="toast__message";s&&(i+=" toast__pointer");let r=u.createElement("div",null);return s&&t&&(r=u.createElement(Tt.Z,{id:"toast-close__tooltip"},u.createElement(ve.Z,{id:"general_button.close",defaultMessage:"Close"}),u.createElement("div",{className:"tooltip__shortcut--txt"},u.createElement(ve.Z,{id:"general_button.esc",defaultMessage:"esc"})))),u.createElement("div",{className:e},u.createElement("div",{className:i,onClick:s?this.props.onClick:void 0},s&&(()=>u.createElement("div",{className:"toast__jump"},u.createElement(co,null),a>R.ZP.MOBILE_SCREEN_WIDTH&&this.props.onClickMessage))(),this.props.children),u.createElement("div",{className:"toast__dismiss",onClick:this.handleDismiss,"data-testid":n?"dismissToast-".concat(n):"dismissToast"},u.createElement(nb.Z,{delayShow:R.ZP.OVERLAY_TIME_DELAY,placement:"bottom",overlay:r},u.createElement(sb.Z,{className:"close-btn",id:"dismissToast"}))))}}let rb;ab(ib,"propTypes",{onClick:m().func,onClickMessage:m().string,onDismiss:m().func,children:m().node,show:m().bool.isRequired,showActions:m().bool,width:m().number.isRequired,extraClasses:m().string}),function(e){e.Contrast="contrast"}(rb||(rb={}));const ob=({children:e,variant:t})=>{let n="shortcut-key";return t===rb.Contrast&&(n+=" shortcut-key--contrast"),u.createElement("mark",{className:n},e)};ob.propTypes={variant:m().oneOf(["contrast"]),children:m().node.isRequired};const lb=()=>{const e=(0,V.V5)()?"⌘":"Ctrl";return u.createElement("span",{className:"search-shortcut"},u.createElement(ob,{variant:rb.Contrast},e),!(0,_.P)()&&u.createElement(ob,{variant:rb.Contrast},"Shift"),u.createElement(ob,{variant:rb.Contrast},"F"))},cb=({children:e,onDismiss:t})=>u.createElement("div",{className:"hint-toast__wrapper"},u.createElement("div",{className:"hint-toast"},u.createElement("div",{className:"hint-toast__message"},e),u.createElement("div",{className:"hint-toast__dismiss",onClick:()=>{"function"==typeof t&&t()},"data-testid":"dismissHintToast"},u.createElement(sb.Z,{className:"close-btn",id:"dismissHintToast"}))));function db(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cb.propTypes={children:m().node.isRequired,onDismiss:m().func.isRequired};const mb=[zr.ap.NL];class ub extends u.PureComponent{constructor(e){super(e),db(this,"handleShortcut",(e=>{V.pD(e,R.ZP.KeyCodes.ESCAPE)&&(this.state.showUnreadToast?this.hideUnreadToast():this.state.showNewMessagesToast?this.hideNewMessagesToast():this.hideArchiveToast())})),db(this,"hideUnreadToast",(()=>{this.state.showUnreadToast&&this.setState({showUnreadToast:!1})})),db(this,"hideArchiveToast",(()=>{this.state.showMessageHistoryToast&&this.setState({showMessageHistoryToast:!1})})),db(this,"hideNewMessagesToast",((e=!0)=>{this.state.showNewMessagesToast&&(this.setState({showNewMessagesToast:!1}),e&&this.props.updateLastViewedBottomAt())})),db(this,"hideSearchHintToast",(()=>{this.props.onSearchHintDismiss&&this.props.onSearchHintDismiss()})),db(this,"newMessagesToastText",((e,t)=>this.props.width>500&&void 0!==t?u.createElement(ve.Z,{id:"postlist.toast.newMessagesSince",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}} {isToday, select, true {} other {since}} {date}",values:{count:e,isToday:(0,Io.zk)(new Date(t)).toString(),date:u.createElement(zr.ZP,{value:t,useTime:!1,ranges:mb})}}):u.createElement(ve.Z,{id:"postlist.toast.newMessages",defaultMessage:"{count, number} new {count, plural, one {message} other {messages}}",values:{count:e}}))),db(this,"archiveToastText",(()=>u.createElement(ve.Z,{id:"postlist.toast.history",defaultMessage:"Viewing message history"}))),db(this,"getSearchHintToastText",(()=>u.createElement(ve.Z,{id:"postlist.toast.searchHint",defaultMessage:"Tip: Try {searchShortcut} to search this channel",values:{searchShortcut:u.createElement(lb,null)}}))),db(this,"changeUrlToRemountChannelView",(()=>{const{match:e}=this.props;P.m.replace("/".concat(e.params.team))})),db(this,"scrollToNewMessage",(()=>{const{focusedPostId:e,atLatestPost:t,scrollToNewMessage:n,updateLastViewedBottomAt:s}=this.props;!e||t?(n(),s(),this.hideNewMessagesToast()):this.changeUrlToRemountChannelView()})),db(this,"scrollToLatestMessages",(()=>{const{focusedPostId:e,atLatestPost:t,scrollToLatestMessages:n}=this.props;if(e){if(!t)return void this.changeUrlToRemountChannelView();this.hideArchiveToast()}n(),this.hideUnreadToast()})),this.state={unreadCountInChannel:e.unreadCountInChannel}}static getDerivedStateFromProps(e,t){let n,{showUnreadToast:s,showNewMessagesToast:a,showMessageHistoryToast:i}=t;return n=e.atLatestPost?ub.countNewMessages(e.postListIds,e.rootPosts,e.isCollapsedThreadsEnabled):e.channelMarkedAsUnread?t.unreadCountInChannel:t.unreadCountInChannel+e.newRecentMessagesCount,void 0===s&&null!==e.atBottom&&(s=n>0&&!e.atBottom),void 0===i&&""!==e.focusedPostId&&null!==e.atBottom&&(i=e.initScrollOffsetFromBottom>1e3||!e.atLatestPost),!e.channelMarkedAsUnread||e.atBottom||t.channelMarkedAsUnread||t.showUnreadToast||(s=!0),e.channelMarkedAsUnread&&e.lastViewedAt!==t.lastViewedAt&&!e.atBottom&&(s=!0),!s&&n>0&&!e.atBottom&&e.lastViewedBottom<e.latestPostTimeStamp&&(a=!0),n||(a=!1,s=!1),{unreadCount:n,showUnreadToast:s,showNewMessagesToast:a,lastViewedAt:e.lastViewedAt,channelMarkedAsUnread:e.channelMarkedAsUnread,showMessageHistoryToast:i}}componentDidMount(){this.mounted=!0;const{showUnreadToast:e,showNewMessagesToast:t,showMessageHistoryToast:n}=this.state,s=Boolean(e||t||n);document.addEventListener("keydown",this.handleShortcut),this.props.actions.updateToastStatus(s)}componentDidUpdate(e,t){const{showUnreadToast:n,showNewMessagesToast:s,showMessageHistoryToast:a}=this.state,{atBottom:i,atLatestPost:r,postListIds:o,lastViewedBottom:l,updateNewMessagesAtInChannel:c,actions:d}=this.props;!e.atBottom&&i&&r&&(this.hideNewMessagesToast(!1),this.hideUnreadToast(),this.hideArchiveToast());const m=e.postListIds.length,u=o.length;if(u!==m&&o[0]!==e.postListIds[0]&&!1===i&&r&&u>0&&!n&&c(l),t.showUnreadToast!==n||t.showNewMessagesToast!==s||t.showMessageHistoryToast!==a){const e=Boolean(n||s||a);d.updateToastStatus(e)}}componentWillUnmount(){document.removeEventListener("keydown",this.handleShortcut)}getToastToRender(){const{atLatestPost:e,atBottom:t,width:n,lastViewedAt:s,showSearchHintToast:a}=this.props,{showUnreadToast:i,showNewMessagesToast:r,showMessageHistoryToast:o,unreadCount:l}=this.state,c={show:!0,width:n,onDismiss:this.hideUnreadToast,onClick:this.scrollToLatestMessages,onClickMessage:V._u("postlist.toast.scrollToBottom","Jump to recents"),showActions:!e||e&&!t};if(i&&l>0)return u.createElement(ib,c,this.newMessagesToastText(l,s));if(r){const e={onDismiss:this.hideNewMessagesToast,onClick:this.scrollToNewMessage,onClickMessage:V._u("postlist.toast.scrollToLatest","Jump to new messages")};return u.createElement(ib,Object.assign({},c,e),this.newMessagesToastText(l,s))}if(o){const e={show:!0,width:n,onDismiss:this.hideArchiveToast,onClick:this.scrollToLatestMessages,onClickMessage:V._u("postlist.toast.scrollToBottom","Jump to recents"),showActions:!0,extraClasses:"toast__history"};return u.createElement(ib,e,this.archiveToastText())}return a?u.createElement(cb,{onDismiss:this.hideSearchHintToast},this.getSearchHintToastText()):null}render(){const e=this.getToastToRender();return u.createElement(u.Fragment,null,e)}}db(ub,"propTypes",{unreadCountInChannel:m().number,newRecentMessagesCount:m().number,channelMarkedAsUnread:m().bool,isCollapsedThreadsEnabled:m().bool,rootPosts:m().object,atLatestPost:m().bool,postListIds:m().array,latestPostTimeStamp:m().number,atBottom:m().bool,lastViewedBottom:m().number,width:m().number,lastViewedAt:m().number,focusedPostId:m().string,initScrollOffsetFromBottom:m().number,updateNewMessagesAtInChannel:m().func,scrollToNewMessage:m().func,scrollToLatestMessages:m().func,updateLastViewedBottomAt:m().func,showSearchHintToast:m().bool,onSearchHintDismiss:m().func,match:m().shape({params:m().shape({team:m().string}).isRequired}).isRequired,actions:m().shape({updateToastStatus:m().func.isRequired}).isRequired}),db(ub,"defaultProps",{focusedPostId:""}),db(ub,"countNewMessages",((e,t,n)=>{const s=(0,Pe.lH)(e);if(s<=0)return 0;let a=e.slice(0,s).filter((e=>!(0,Pe.Xq)(e)));return n&&(a=a.filter((e=>t[e]))),a.length}));const pb=(0,we.ZP)(ub),hb=(0,g.EN)((0,a.connect)((function(){const e=(0,yn.P1)(wt.Bd,r.rc,((e,t)=>t),((e,t,n)=>n),$.ym,((e,t,n,s,a)=>n?n.map((t=>e[t])).filter((e=>e&&e.user_id!==t&&e.state!==he.V8.POST_DELETED&&e.create_at>s&&(!a||""===e.root_id))).length:0)),t=(0,yn.P1)(wt.Bd,r.rc,ee.TB,((e,t,n)=>Object.values(e).filter((e=>""===e.root_id&&e.channel_id===n.id&&e.state!==he.V8.POST_DELETED)).reduce(((e,t)=>(e[t.id]=!0,e)),{}))),n=(0,Bg.Zl)();return function(s,a){let i=0;const r=(0,ee.Zm)(s,a.channelId),o=s.views.channel.lastChannelViewTime[a.channelId];if(!a.atLatestPost){let t=(0,wt.T$)(s,a.channelId);t&&(t=n(s,{postIds:t,lastViewedAt:o,channelId:a.channelId})),i=e(s,t,o)}return{rootPosts:t(s),lastViewedAt:o,newRecentMessagesCount:i,isCollapsedThreadsEnabled:(0,$.ym)(s),unreadCountInChannel:(0,ee.JC)(s),channelMarkedAsUnread:r}}}),(function(e){return{actions:(0,s.bindActionCreators)({updateToastStatus:ie.fB},e)}}))(pb));function gb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gb(Object(n),!0).forEach((function(t){bb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _b={padding:"14px 0px 7px"},Eb={position:"absolute",bottom:"0",maxHeight:"100%"},Cb=-50;class yb extends u.PureComponent{constructor(e){super(e),bb(this,"getNewMessagesSeparatorIndex",(e=>e.findIndex((e=>0===e.indexOf(R.iH.START_OF_NEW_MESSAGES))))),bb(this,"handleWindowResize",(()=>{this.props.actions.checkAndSetMobileView();const e=V.tq();if(e!==this.state.isMobile){const t=this.state.dynamicListStyle;this.state.postMenuOpened&&(e||"unset"!==t.willChange?e&&"transform"===t.willChange&&(t.willChange="unset"):t.willChange="transform"),this.setState({isMobile:e,dynamicListStyle:t}),this.scrollStopAction=new xt.Z(this.handleScrollStop)}this.showSearchHintThreshold=this.getShowSearchHintThreshold()})),bb(this,"togglePostMenu",(e=>{const t=this.state.dynamicListStyle;this.state.isMobile&&(t.willChange=e?"unset":"transform"),this.setState({postMenuOpened:e,dynamicListStyle:t})})),bb(this,"renderRow",(({data:e,itemId:t,style:n})=>{const s=e.indexOf(t);let a="";const i=-1!==s&&s<e.length-1?e[s+1]:"",r=s>0&&s<e.length?e[s-1]:"";((0,Bg.Ji)(r)||(0,Bg.p4)(r))&&(a+="post-row__padding bottom"),((0,Bg.Ji)(i)||(0,Bg.p4)(i))&&(a.includes("post-row__padding")?a+=" top":a+="post-row__padding top");const o=t===this.state.postListIds[0];return u.createElement("div",{style:n,className:a},u.createElement($f,{listId:t,previousListId:(0,Pe.in)(e,s),shouldHighlight:t===this.props.focusedPostId,loadOlderPosts:this.props.actions.loadOlderPosts,loadNewerPosts:this.props.actions.loadNewerPosts,togglePostMenu:this.togglePostMenu,isLastPost:o,loadingNewerPosts:this.props.loadingNewerPosts,loadingOlderPosts:this.props.loadingOlderPosts}))})),bb(this,"scrollToFailed",(e=>{0===e?this.props.actions.changeUnreadChunkTimeStamp(""):this.props.actions.changeUnreadChunkTimeStamp(this.props.lastViewedAt)})),bb(this,"onScroll",(({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n,clientHeight:s,scrollHeight:a})=>{if(a<=0)return;const i="forward"===e&&!n,r=a-s-t,o=r<1e3;"backward"===e&&!n&&t<1e3&&!this.props.atOldestPost?this.props.actions.loadOlderPosts():i&&o&&!this.props.atLatestPost&&this.props.actions.loadNewerPosts(),this.state.isMobile&&(this.state.isScrolling||this.setState({isScrolling:!0}),this.scrollStopAction&&this.scrollStopAction.fireAfter(R.ZP.SCROLL_DELAY)),this.checkBottom(t,a,s),n&&(this.listRef.current._getRangeToRender()[3]<=1&&!this.props.atLatestPost&&this.props.actions.canLoadMorePosts(R.kL.AFTER_ID),!this.state.atBottom&&a&&this.setState({initScrollOffsetFromBottom:r})),this.state.isMobile&&this.state.showSearchHint&&this.setState({showSearchHint:!1}),this.state.isMobile||this.state.isSearchHintDismissed||this.setState({showSearchHint:r>this.showSearchHintThreshold})})),bb(this,"getShowSearchHintThreshold",(()=>3*window.screen.height)),bb(this,"checkBottom",((e,t,n)=>{this.updateAtBottom(this.isAtBottom(e,t,n))})),bb(this,"isAtBottom",((e,t,n)=>t-n-e<=10&&t>0)),bb(this,"updateAtBottom",(e=>{if(e!==this.state.atBottom){let t=Date.now();this.props.latestPostTimeStamp>t&&(t=this.props.latestPostTimeStamp),this.setState({atBottom:e,lastViewedBottom:t})}})),bb(this,"updateLastViewedBottomAt",((e=Date.now())=>{this.setState({lastViewedBottom:e})})),bb(this,"handleScrollStop",(()=>{this.mounted&&this.setState({isScrolling:!1})})),bb(this,"handleSearchHintDismiss",(()=>{this.setState({showSearchHint:!1,isSearchHintDismissed:!0})})),bb(this,"updateFloatingTimestamp",(e=>{this.state.isMobile&&this.props.postListIds&&this.setState({topPostId:(0,Pe.nc)(this.props.postListIds.slice(e))})})),bb(this,"onItemsRendered",(({visibleStartIndex:e})=>{this.updateFloatingTimestamp(e)})),bb(this,"initScrollToIndex",(()=>{if(this.props.focusedPostId)return{index:this.state.postListIds.findIndex((e=>e===this.props.focusedPostId)),position:"center"};const e=(0,Pe.lH)(this.state.postListIds);return e>0?(0,Bg.Ji)(this.state.postListIds[e+1])?{index:e+1,position:"start",offset:Cb}:{index:e,position:"start",offset:Cb}:{index:0,position:"end"}})),bb(this,"scrollToLatestMessages",(()=>{this.props.atLatestPost?this.scrollToBottom():(this.updateNewMessagesAtInChannel(),this.props.actions.changeUnreadChunkTimeStamp(""))})),bb(this,"scrollToBottom",(()=>{this.listRef.current?this.listRef.current.scrollToItem(0,"end"):setTimeout((()=>{this.listRef.current&&this.listRef.current.scrollToItem(0,"end")}),500)})),bb(this,"scrollToNewMessage",(()=>{this.listRef.current?this.listRef.current.scrollToItem((0,Pe.lH)(this.state.postListIds),"start",Cb):setTimeout((()=>{this.listRef.current&&this.listRef.current.scrollToItem((0,Pe.lH)(this.state.postListIds),"start",Cb)}),500)})),bb(this,"updateNewMessagesAtInChannel",((e=Date.now())=>{this.props.actions.updateNewMessagesAtInChannel(this.props.channelId,e)})),bb(this,"renderToasts",(e=>u.createElement(hb,{atLatestPost:this.props.atLatestPost,postListIds:this.state.postListIds,atBottom:this.state.atBottom,width:e,lastViewedBottom:this.state.lastViewedBottom,latestPostTimeStamp:this.props.latestPostTimeStamp,scrollToNewMessage:this.scrollToNewMessage,scrollToLatestMessages:this.scrollToLatestMessages,updateNewMessagesAtInChannel:this.updateNewMessagesAtInChannel,updateLastViewedBottomAt:this.updateLastViewedBottomAt,channelId:this.props.channelId,focusedPostId:this.props.focusedPostId,initScrollOffsetFromBottom:this.state.initScrollOffsetFromBottom,onSearchHintDismiss:this.handleSearchHintDismiss,showSearchHintToast:this.state.showSearchHint})));const t=R.iH.CHANNEL_INTRO_MESSAGE,n=V.tq();this.state={isScrolling:!1,isMobile:n,atBottom:null,lastViewedBottom:Date.now(),postListIds:[t],topPostId:"",postMenuOpened:!1,dynamicListStyle:{willChange:"transform"},initScrollCompleted:!1,initScrollOffsetFromBottom:0,showSearchHint:!1,isSearchHintDismissed:!1},this.listRef=u.createRef(),this.postListRef=u.createRef(),n&&(this.scrollStopAction=new xt.Z(this.handleScrollStop)),this.initRangeToRender=this.props.focusedPostId?[0,100]:[0,50];let s=0;s=e.focusedPostId?this.props.postListIds.findIndex((e=>e===this.props.focusedPostId)):this.getNewMessagesSeparatorIndex(e.postListIds);const a=e.focusedPostId?100:50;this.initRangeToRender=[Math.max(s-30,0),Math.max(s+30,Math.min(e.postListIds.length-1,a))],this.showSearchHintThreshold=this.getShowSearchHintThreshold()}componentDidMount(){this.mounted=!0,this.props.actions.checkAndSetMobileView(),window.addEventListener("resize",this.handleWindowResize),Wg.Z.addListener(R.GM.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}getSnapshotBeforeUpdate(e){if(this.postListRef&&this.postListRef.current){const t=this.props.postListIds&&this.props.postListIds.length!==e.postListIds.length&&this.props.postListIds[0]===e.postListIds[0],n=this.props.atOldestPost!==e.atOldestPost;if((t||n)&&!1===this.state.atBottom){const e=this.postListRef.current;return{previousScrollTop:e.parentElement.scrollTop,previousScrollHeight:e.scrollHeight}}}return null}componentDidUpdate(e,t,n){if(!this.postListRef.current)return;const s=e.postListIds.length,a=this.props.postListIds.length;if(n){const t=this.postListRef.current.scrollHeight,i=a!==s&&this.props.postListIds[0]===e.postListIds[0],r=this.props.atOldestPost!==e.atOldestPost;if((i||r)&&!this.state.atBottom&&n){const e=n.previousScrollTop+(t-n.previousScrollHeight);0!==e&&e-n.previousScrollTop!=0&&this.listRef.current.scrollTo(e,e-n.previousScrollTop,!0)}}}componentWillUnmount(){this.mounted=!1,window.removeEventListener("resize",this.handleWindowResize),Wg.Z.removeListener(R.GM.POST_LIST_SCROLL_TO_BOTTOM,this.scrollToLatestMessages)}static getDerivedStateFromProps(e){const t=e.postListIds;let n;return n=e.atOldestPost?[...t,R.iH.CHANNEL_INTRO_MESSAGE]:e.autoRetryEnable?[...t,R.iH.OLDER_MESSAGES_LOADER]:[...t,R.iH.LOAD_OLDER_MESSAGES_TRIGGER],e.atLatestPost||(n=e.autoRetryEnable?[R.iH.NEWER_MESSAGES_LOADER,...n]:[R.iH.LOAD_NEWER_MESSAGES_TRIGGER,...n]),{postListIds:n}}render(){const e=this.props.channelId;let t;this.props.latestAriaLabelFunc&&this.props.postListIds.indexOf(R.iH.START_OF_NEW_MESSAGES)>=0&&(t=this.props.latestAriaLabelFunc(this.props.intl));const{dynamicListStyle:n}=this.state;return u.createElement("div",{role:"list",className:"a11y__region","data-a11y-sort-order":"1","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0,"data-a11y-loop-navigation":!1,"aria-label":V._u("accessibility.sections.centerContent","message list main region")},this.state.isMobile&&u.createElement(u.Fragment,null,u.createElement(zg.Z,{isScrolling:this.state.isScrolling,isMobile:!0,postId:this.state.topPostId}),u.createElement(tb,{isScrolling:this.state.isScrolling,atBottom:this.state.atBottom,onClick:this.scrollToBottom})),u.createElement("div",{role:"presentation",className:"post-list-holder-by-time",key:"postlist-"+e},u.createElement("div",{role:"presentation",className:"post-list__table"},u.createElement("div",{id:"postListContent",className:"post-list__content"},u.createElement("span",{className:"sr-only","aria-live":"polite"},t),u.createElement(Gg.Z,null,(({height:e,width:t})=>u.createElement(u.Fragment,null,u.createElement("div",null,this.renderToasts(t)),u.createElement(Vg.z,{ref:this.listRef,height:e,width:t,className:"post-list__dynamic",itemData:this.state.postListIds,overscanCountForward:80,overscanCountBackward:80,onScroll:this.onScroll,initScrollToIndex:this.initScrollToIndex,canLoadMorePosts:this.props.actions.canLoadMorePosts,innerRef:this.postListRef,style:fb(fb({},Eb),n),innerListStyle:_b,initRangeToRender:this.initRangeToRender,loaderId:R.iH.OLDER_MESSAGES_LOADER,correctScrollToBottom:this.props.atLatestPost,onItemsRendered:this.onItemsRendered,scrollToFailed:this.scrollToFailed},this.renderRow))))))))}}bb(yb,"propTypes",{postListIds:m().array.isRequired,focusedPostId:m().string,channelId:m().string.isRequired,autoRetryEnable:m().bool,atOldestPost:m().bool,atLatestPost:m().bool,loadingNewerPosts:m().bool,loadingOlderPosts:m().bool,intl:Me.gm.isRequired,latestPostTimeStamp:m().number,latestAriaLabelFunc:m().func,lastViewedAt:m().string,actions:m().shape({loadOlderPosts:m().func.isRequired,loadNewerPosts:m().func.isRequired,canLoadMorePosts:m().func.isRequired,checkAndSetMobileView:m().func.isRequired,changeUnreadChunkTimeStamp:m().func.isRequired,updateNewMessagesAtInChannel:m().func.isRequired}).isRequired});const vb=(0,we.ZP)(yb);function wb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Sb extends u.PureComponent{constructor(e){super(e),wb(this,"postsOnLoad",(async e=>{const{focusedPostId:t,isFirstLoad:n,latestPostTimeStamp:s,isPrefetchingInProcess:a,actions:i}=this.props;t?await i.loadPostsAround(e,this.props.focusedPostId):n?a||await i.loadUnreads(e):s?await i.syncPostsInChannel(e,this.props.latestPostTimeStamp,!1):await i.loadLatestPosts(e),t||this.markChannelAsReadAndViewed(e),this.mounted&&this.setState({loadingOlderPosts:!1,loadingNewerPosts:!1})})),wb(this,"callLoadPosts",(async(e,t,n)=>{const{error:s}=await this.props.actions.loadPosts({channelId:e,postId:t,type:n});return n===R.kL.BEFORE_ID?this.setState({loadingOlderPosts:!1}):this.setState({loadingNewerPosts:!1}),s?this.autoRetriesCount<3?(this.autoRetriesCount++,await this.callLoadPosts(e,t,n)):this.mounted&&this.setState({autoRetryEnable:!1}):(this.mounted&&this.setState({autoRetryEnable:!0}),this.state.autoRetryEnable||(this.autoRetriesCount=0)),{error:s}})),wb(this,"markChannelAsReadAndViewed",(e=>{this.props.actions.markChannelAsViewed(e),this.props.actions.markChannelAsRead(e)})),wb(this,"getOldestVisiblePostId",(()=>(0,Pe.ju)(this.props.postListIds))),wb(this,"getLatestVisiblePostId",(()=>(0,Pe.nc)(this.props.postListIds))),wb(this,"canLoadMorePosts",(async(e=R.kL.BEFORE_ID)=>{if(this.props.postListIds&&!this.state.loadingOlderPosts&&!this.state.loadingNewerPosts)if(this.extraPagesLoaded>10)this.state.autoRetryEnable&&this.setState({autoRetryEnable:!1});else{if(this.props.atOldestPost||e!==R.kL.BEFORE_ID){if(!this.props.atLatestPost){const e=this.getLatestVisiblePostId();await this.getPostsAfter(e)}}else{const e=this.getOldestVisiblePostId();await this.getPostsBefore(e)}this.extraPagesLoaded+=1}})),wb(this,"getPostsBefore",(async()=>{if(this.state.loadingOlderPosts)return;const e=this.getOldestVisiblePostId();this.setState({loadingOlderPosts:!0}),await this.callLoadPosts(this.props.channelId,e,R.kL.BEFORE_ID)})),wb(this,"getPostsAfter",(async()=>{if(this.state.loadingNewerPosts)return;const e=this.getLatestVisiblePostId();this.setState({loadingNewerPosts:!0}),await this.callLoadPosts(this.props.channelId,e,R.kL.AFTER_ID)})),this.state={loadingNewerPosts:!1,loadingOlderPosts:!1,autoRetryEnable:!0},this.autoRetriesCount=0,this.loadingMorePosts=null,this.actionsForPostList={loadOlderPosts:this.getPostsBefore,loadNewerPosts:this.getPostsAfter,checkAndSetMobileView:e.actions.checkAndSetMobileView,canLoadMorePosts:this.canLoadMorePosts,changeUnreadChunkTimeStamp:e.changeUnreadChunkTimeStamp,updateNewMessagesAtInChannel:this.props.actions.updateNewMessagesAtInChannel}}componentDidMount(){this.mounted=!0,this.props.channelId&&this.postsOnLoad(this.props.channelId)}componentDidUpdate(e){this.props.channelId!==e.channelId&&this.postsOnLoad(this.props.channelId)}componentWillUnmount(){this.props.channelManuallyUnread||this.markChannelAsReadAndViewed(this.props.channelId),this.mounted=!1}render(){return this.props.postListIds?u.createElement("div",{ref:"postlist",className:"post-list-holder-by-time",key:"postlist-"+this.props.channelId},u.createElement("div",{className:"post-list__table"},u.createElement("div",{id:"virtualizedPostListContent",ref:"postListContent",className:"post-list__content"},u.createElement(vb,{loadingNewerPosts:this.state.loadingNewerPosts,loadingOlderPosts:this.state.loadingOlderPosts,atOldestPost:this.props.atOldestPost,atLatestPost:this.props.atLatestPost,focusedPostId:this.props.focusedPostId,channelId:this.props.channelId,autoRetryEnable:this.state.autoRetryEnable,actions:this.actionsForPostList,postListIds:this.props.formattedPostIds,latestPostTimeStamp:this.props.latestPostTimeStamp,latestAriaLabelFunc:this.props.latestAriaLabelFunc,latestPostId:this.props.latestPostId})))):u.createElement(pi.Z,{position:"absolute",key:"loading"})}}wb(Sb,"propTypes",{formattedPostIds:m().array,postListIds:m().array,channelId:m().string,focusedPostId:m().string,atLatestPost:m().bool,atOldestPost:m().bool,isFirstLoad:m().bool,latestPostTimeStamp:m().number,latestAriaLabelFunc:m().func,channelManuallyUnread:m().bool.isRequired,latestPostId:m().string,changeUnreadChunkTimeStamp:m().func.isRequired,isPrefetchingInProcess:m().bool.isRequired,actions:m().shape({loadPostsAround:m().func.isRequired,loadUnreads:m().func.isRequired,loadPosts:m().func.isRequired,checkAndSetMobileView:m().func.isRequired,syncPostsInChannel:m().func.isRequired,loadLatestPosts:m().func.isRequired,markChannelAsViewed:m().func.isRequired,markChannelAsRead:m().func.isRequired,updateNewMessagesAtInChannel:m().func.isRequired}).isRequired});const Tb=(e,t)=>!e.entities.posts.postsInChannel[t],Pb=(0,Ls.GA)((e=>(0,Pe.nc)(e))),Mb=(0,g.EN)((0,a.connect)((function(){const e=(0,wt.Rx)(),t=(0,Bg.Zl)(),n=(0,Pe.Tx)();return function(s,a){let i,r,o,l,c=0,d=!1,m=!1;const{focusedPostId:u,unreadChunkTimeStamp:p,channelId:h}=a,g=s.views.channel,f=g.lastChannelViewTime[h],b=g.channelPrefetchStatus[h]===he.eE.STARTED,_=(0,ee.Zm)(s,h);if(r=u&&""!==p?e(s,u,h):p?(0,wt.Wj)(s,h,p):(0,wt.G4)(s,h),r&&(i=r.order,d=r.recent,m=r.oldest),i&&(o=t(s,{postIds:i,lastViewedAt:f,indicateNewMessages:!0,channelId:h}),i.length)){const e=Pb(i),t=(0,wt.xl)(s,e);c=t.create_at,l=n(s,t)}return{lastViewedAt:f,isFirstLoad:Tb(s,h),formattedPostIds:o,atLatestPost:d,atOldestPost:m,latestPostTimeStamp:c,postListIds:i,latestAriaLabelFunc:l,isPrefetchingInProcess:b,channelManuallyUnread:_}}}),(function(e){return{actions:(0,s.bindActionCreators)({loadUnreads:ie.D2,loadPosts:ie.Nz,loadLatestPosts:ie.e_,loadPostsAround:ie.cX,checkAndSetMobileView:ie.Yz,syncPostsInChannel:ie.RE,markChannelAsViewed:J.gI,markChannelAsRead:J.Eo,updateNewMessagesAtInChannel:y.JI},e)}}))(Sb));function Nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ib extends u.PureComponent{constructor(e){super(e),Nb(this,"changeUnreadChunkTimeStamp",(e=>{this.setState({unreadChunkTimeStamp:e,loaderForChangeOfPostsChunk:!0},(()=>{window.requestAnimationFrame((()=>{this.setState({loaderForChangeOfPostsChunk:!1})}))}))})),this.state={unreadChunkTimeStamp:e.lastViewedAt,loaderForChangeOfPostsChunk:!1,channelLoading:e.channelLoading}}static getDerivedStateFromProps(e,t){return null===t.unreadChunkTimeStamp&&e.lastViewedAt?{unreadChunkTimeStamp:e.lastViewedAt}:e.channelLoading!==t.channelLoading?{unreadChunkTimeStamp:e.lastViewedAt,channelLoading:e.channelLoading}:null}render(){return this.props.channelLoading||this.state.loaderForChangeOfPostsChunk?u.createElement("div",{id:"post-list"},u.createElement(pi.Z,{position:"absolute",key:"loading"})):u.createElement("div",{id:"post-list",role:"main"},u.createElement(Mb,{unreadChunkTimeStamp:this.state.unreadChunkTimeStamp,channelId:this.props.channelId,changeUnreadChunkTimeStamp:this.changeUnreadChunkTimeStamp,focusedPostId:this.props.focusedPostId}))}}Nb(Ib,"propTypes",{lastViewedAt:m().number,channelLoading:m().bool,channelId:m().string,focusedPostId:m().string});const Rb=(0,g.EN)((0,a.connect)((function(){return function(e,t){const n=(0,o.Xv)(e,t.match.params.team);let s;const a=(0,ee.mr)(e,t.channelId);let i=e.views.channel.lastChannelViewTime[t.channelId];a&&(a.type===R.gT.DM_CHANNEL&&a.teammate_id&&(s=(0,r.PR)(e,a.teammate_id)),i=a.last_post_at?i:a.last_post_at);const l=(0,o.gb)(e);return{lastViewedAt:i,channelLoading:((e,t,n,s,a)=>{if(e.postid)return!1;if(t&&n){if(t.type!==R.gT.DM_CHANNEL&&t.name!==e.identifier)return!0;if(t.type===R.gT.DM_CHANNEL&&s&&e.identifier!=="@".concat(s.username))return!0;const i=n.id;return!!(t.team_id&&t.team_id!==i||a&&!a[i])}return!0})(t.match.params,a,n,s,l)}}}))(Ib)),Ab=n.p+"files/daa08e6ee76dbbf096e390f862d038a7.png";function Ob(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Lb extends u.PureComponent{constructor(e){super(e),Ob(this,"handleNext",(e=>this.skipTutorial(e))),Ob(this,"skipTutorial",(e=>{switch(e.preventDefault(),this.state.currentScreen){case 0:(0,C.L9)("tutorial","tutorial_screen_1_welcome_to_mattermost_skip");break;case 1:(0,C.L9)("tutorial","tutorial_screen_2_how_mattermost_works_skip");break;case 2:(0,C.L9)("tutorial","tutorial_screen_3_youre_all_set_skip")}const{currentUserId:t}=this.props,n=[{user_id:t,category:R.uP.TUTORIAL_STEP,name:t,value:R.gT.TutorialSteps.FINISHED.toString()}];this.props.actions.savePreferences(t,n),this.props.actions.unhideNextSteps()})),Ob(this,"createScreen",(()=>{switch(this.state.currentScreen){case 0:return this.createScreenOne();case 1:return this.createScreenTwo();case 2:return this.createScreenThree()}return null})),Ob(this,"handleCircleClick",((e,t)=>{e.preventDefault(),this.setState({currentScreen:t})})),Ob(this,"createCircles",(()=>{const e=[];for(let t=0;t<3;t++){let n="circle";t===this.state.currentScreen&&(n+=" active"),e.push(u.createElement("a",{id:"tutorialIntroCircle"+t,href:"#",key:"circle"+t,className:n,"data-screen":t,onClick:e=>this.handleCircleClick(e,t)}))}return u.createElement("div",{className:"tutorial__circles"},e)})),this.state={currentScreen:0}}createScreenOne(){const e=this.createCircles();return u.createElement("div",{id:"tutorialIntroOne"},u.createElement("h3",null,u.createElement(ve.Z,{id:"tutorial_intro.screenOne.title1",defaultMessage:"Welcome to:"})),u.createElement("h1",null,u.createElement(ve.Z,{id:"tutorial_intro.screenOne.title2",defaultMessage:"Gomlo"})),u.createElement("p",null,u.createElement(ve.Z,{id:"tutorial_intro.screenOne.body1",defaultMessage:"Your team communication all in one place, instantly searchable and available anywhere."})),u.createElement("p",null,u.createElement(ve.Z,{id:"tutorial_intro.screenOne.body2",defaultMessage:"Keep your team connected to help them achieve what matters most."})),e)}createScreenTwo(){const e=this.createCircles();let t=null,n=null;if(this.props.appDownloadLink){const e=(0,Ks.Hb)(this.props.appDownloadLink);t=u.createElement(ve.Z,{id:"tutorial_intro.mobileApps",defaultMessage:"Install the apps for {link} for easy access and notifications on the go.",values:{link:u.createElement("a",{id:"appDownloadLink",href:e,target:"_blank",rel:"noopener noreferrer"},u.createElement(ve.Z,{id:"tutorial_intro.mobileAppsLinkText",defaultMessage:"PC, Mac, iOS and Android"}))}}),n=u.createElement("a",{id:"appDownloadImage",href:e,target:"_blank",rel:"noopener noreferrer"},u.createElement("img",{alt:"tutorial icons",className:"tutorial__app-icons",src:Ab}))}return u.createElement("div",{id:"tutorialIntroTwo"},u.createElement("h3",null,u.createElement(ve.Z,{id:"tutorial_intro.screenTwo.title",defaultMessage:"How Mattermost Works:"})),u.createElement("p",null,u.createElement(ve.Z,{id:"tutorial_intro.screenTwo.body1",defaultMessage:"Communication happens in public discussion channels, private channels and direct messages."})),u.createElement("p",null,u.createElement(ve.Z,{id:"tutorial_intro.screenTwo.body2",defaultMessage:"Everything is archived and searchable from any web-enabled desktop, laptop or phone."})),t,n,e)}createScreenThree(){let e,t;this.props.isLicensed&&this.props.restrictTeamInvite||(e=u.createElement(qf.Z,{id:"tutorialIntroInvite",className:"intro-links color--link style--none",modalId:R.r8.INVITATION,dialogType:Sa},u.createElement(ve.Z,{id:"tutorial_intro.invite",defaultMessage:"Invite Teammates"})),t=u.createElement("p",null,e,u.createElement(ve.Z,{id:"tutorial_intro.whenReady",defaultMessage:" when you're ready."})));const n=this.createCircles();let s=null;return this.props.supportEmail&&(s=u.createElement("p",{id:"supportInfo"},u.createElement(ve.Z,{id:"tutorial_intro.support",defaultMessage:"Need anything, just email us at "}),u.createElement("a",{href:"mailto:"+this.props.supportEmail,target:"_blank",rel:"noopener noreferrer"},this.props.supportEmail),".")),u.createElement("div",{id:"tutorialIntroThree"},u.createElement("h3",null,u.createElement(ve.Z,{id:"tutorial_intro.allSet",defaultMessage:"You're all set"})),t,s,u.createElement(ve.Z,{id:"tutorial_intro.end",defaultMessage:'Click "Next" to enter {channel}. This is the first channel teammates see when they sign up. Use it for posting updates everyone needs to know.',values:{channel:this.props.townSquareDisplayName}}),n)}render(){const e=this.createScreen();return u.createElement("div",{className:"tutorial-steps__container"},u.createElement("div",{id:"tutorialIntroContent",className:"tutorial__content"},u.createElement("div",{className:"tutorial__steps"},e,u.createElement("div",{className:"tutorial__footer"},u.createElement("button",{id:"tutorialNextButton",className:"btn btn-primary",onClick:this.handleNext},u.createElement(ve.Z,{id:"tutorial_intro.next",defaultMessage:"Next"})),u.createElement("a",{id:"tutorialSkipLink",className:"tutorial-skip",href:"#",onClick:this.skipTutorial},u.createElement(ve.Z,{id:"tutorial_intro.skip",defaultMessage:"Skip Tutorial"}))))))}}Ob(Lb,"propTypes",{currentUserId:m().string.isRequired,step:m().number,townSquareDisplayName:m().string.isRequired,appDownloadLink:m().string,isLicensed:m().bool.isRequired,restrictTeamInvite:m().bool.isRequired,supportEmail:m().string.isRequired,actions:m().shape({savePreferences:m().func.isRequired,unhideNextSteps:m().func.isRequired}).isRequired});const Db=(0,a.connect)((function(e){const t=(0,r.rc)(e);return{currentUserId:t,step:(0,$.wS)(e,R.uP.TUTORIAL_STEP,t,0)}}),(function(e){return{actions:(0,s.bindActionCreators)({savePreferences:st.$A,unhideNextSteps:Cn},e)}}))(Lb);class kb extends u.PureComponent{componentDidMount(){this.props.isRoot&&document.body.classList.add("app__body")}componentWillUnmount(){this.props.isRoot&&document.body.classList.remove("app__body")}render(){return u.createElement("div",{id:"app-content",className:"app__content"},u.createElement(Db,{townSquareDisplayName:this.props.townSquareDisplayName,appDownloadLink:this.props.appDownloadLink,isLicensed:this.props.isLicensed,restrictTeamInvite:this.props.restrictTeamInvite,supportEmail:this.props.supportEmail}))}}kb.propTypes={isRoot:m().bool,townSquareDisplayName:m().string.isRequired,appDownloadLink:m().string,isLicensed:m().bool.isRequired,restrictTeamInvite:m().bool.isRequired,supportEmail:m().string.isRequired},kb.defaultProps={isRoot:!0};const xb=(0,a.connect)((function(e){const t=(0,i.lJ)(e),n=(0,i.iE)(e),s=(0,o.kA)(e),a=(0,ee.p7)(e)[R.ZP.DEFAULT_CHANNEL];return{townSquareDisplayName:a?a.display_name:R.ZP.DEFAULT_CHANNEL_UI_NAME,appDownloadLink:n.AppDownloadLink,isLicensed:"true"===t.IsLicensed,restrictTeamInvite:!(0,ge.Rm)(e,{team:s.id,permission:he.Pl.INVITE_USER}),supportEmail:n.SupportEmail}}))(kb);function Ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Zb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ub(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Fb extends u.PureComponent{static getDerivedStateFromProps(e,t){let n={};const s=e.match.params.postid;return e.match.url!==t.url&&e.channelId!==t.channelId&&(n={deferredPostView:Fb.createDeferredPostView(),url:e.match.url,focusedPostId:s}),e.channelId!==t.channelId&&(n=Zb(Zb({},n),{},{channelId:e.channelId,focusedPostId:s})),s&&s!==t.focusedPostId&&(n=Zb(Zb({},n),{},{focusedPostId:s})),e.showNextSteps!==t.showNextSteps&&(n=Zb(Zb({},n),{},{showNextSteps:e.showNextSteps})),Object.keys(n).length?n:null}constructor(e){super(e),jb(this,"channelViewRef",void 0),jb(this,"getChannelView",(()=>this.channelViewRef.current)),jb(this,"onClickCloseChannel",(()=>{this.props.actions.goToLastViewedChannel()})),this.state={url:e.match.url,channelId:e.channelId,focusedPostId:e.match.params.postid,deferredPostView:Fb.createDeferredPostView(),showNextSteps:e.showNextSteps},this.channelViewRef=u.createRef()}async componentDidMount(){await this.props.actions.getContacts(0,500),!this.props.showNextSteps&&!this.props.showNextStepsTips||this.props.isOnboardingHidden||this.props.actions.setShowNextStepsView(!0)}componentDidUpdate(e){if(e.channelId!==this.props.channelId||e.channelIsArchived!==this.props.channelIsArchived){(0,C.B1)("ChannelView#componentDidUpdate");const[e]=(0,C.L8)("SidebarChannelLink#click","ChannelView#componentDidUpdate"),[t]=(0,C.L8)("TeamLink#click","ChannelView#componentDidUpdate");(0,C.tl)(["SidebarChannelLink#click","ChannelView#componentDidUpdate","TeamLink#click"]),-1!==e&&(0,C.L9)("performance","channel_switch",{duration:Math.round(e)}),-1!==t&&(0,C.L9)("performance","team_switch",{duration:Math.round(t)}),this.props.channelIsArchived&&!this.props.viewArchivedChannels&&this.props.actions.goToLastViewedChannel()}this.props.match.url!==e.match.url&&this.props.showNextStepsEphemeral&&this.props.actions.setShowNextStepsView(!1)}render(){const{channelIsArchived:e}=this.props;if(this.props.showTutorial)return u.createElement(xb,{isRoot:!1});if(this.props.showNextStepsEphemeral)return u.createElement(qg,null);let t;this.props.deactivatedChannel?t=u.createElement("div",{className:"post-create__container",id:"post-create"},u.createElement("div",{className:"channel-archived__message"},u.createElement(on.Z,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted."}),u.createElement("button",{className:"btn btn-primary channel-archived__close-btn",onClick:this.onClickCloseChannel},u.createElement(ve.Z,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})))):e?t=u.createElement("div",{className:"post-create__container",id:"post-create"},u.createElement("div",{id:"channelArchivedMessage",className:"channel-archived__message"},u.createElement(on.Z,{id:"archivedChannelMessage",defaultMessage:"You are viewing an **archived channel**. New messages cannot be posted."}),u.createElement("button",{className:"btn btn-primary channel-archived__close-btn",onClick:this.onClickCloseChannel},u.createElement(ve.Z,{id:"center_panel.archived.closeChannel",defaultMessage:"Close Channel"})))):this.props.channelRolesLoading||(t=u.createElement("div",{className:"post-create__container",id:"post-create"},u.createElement(Og,{getChannelView:this.getChannelView})));const n=this.state.deferredPostView;return u.createElement("div",{ref:this.channelViewRef,id:"app-content",className:"app__content"},u.createElement(vt,{overlayType:"center"}),u.createElement(ig,this.props),u.createElement(n,{channelId:this.props.channelId,focusedPostId:this.state.focusedPostId}),t)}}jb(Fb,"propTypes",{channelId:m().string.isRequired,deactivatedChannel:m().bool.isRequired,channelRolesLoading:m().bool.isRequired,match:m().shape({url:m().string.isRequired,params:m().shape({postid:m().string}).isRequired}).isRequired,showTutorial:m().bool.isRequired,showNextSteps:m().bool.isRequired,showNextStepsTips:m().bool.isRequired,isOnboardingHidden:m().bool.isRequired,showNextStepsEphemeral:m().bool.isRequired,channelIsArchived:m().bool.isRequired,viewArchivedChannels:m().bool.isRequired,isCloud:m().bool.isRequired,actions:m().shape({goToLastViewedChannel:m().func.isRequired,setShowNextStepsView:m().func.isRequired,getProfiles:m().func.isRequired,getContacts:m().func.isRequired}).isRequired}),jb(Fb,"createDeferredPostView",(()=>function(e,t=null){class n extends u.PureComponent{constructor(e,t){super(e,t),this.state={shouldRender:!1}}componentDidMount(){window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>this.setState({shouldRender:!0})))}))}render(){return this.state.shouldRender?u.createElement(e,this.props):t}}return vh()(n,e)}(Rb,u.createElement("div",{id:"post-list",className:"a11y__region","data-a11y-sort-order":"1","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0}))));const Hb=(0,yn.P1)(((e,t)=>(0,V.PR)(e,t)),(e=>Boolean(e&&e.delete_at))),qb=(0,g.EN)((0,a.connect)((function(e){const t=(0,ee.TB)(e),n=(0,i.iE)(e),s="true"===n.EnableTutorial,a=(0,$.wS)(e,R.uP.TUTORIAL_STEP,(0,r.rc)(e),R.PN.FINISHED),o="true"===n.ExperimentalViewArchivedChannels;let l=!0;if(t&&t.id){const n=(0,Ch.F3)(e),s=(0,ge.TL)(e);if(s[t.id]){const e=s[t.id].values();for(const t of e){n[t]&&(l=!1);break}}}return{channelId:t?t.id:"",channelRolesLoading:l,deactivatedChannel:!!t&&Hb(e,t.id),focusedPostId:e.views.channel.focusedPostId,showTutorial:s&&a<=R.PN.INTRO_SCREENS,showNextSteps:Bn(e),showNextStepsTips:Gn(e),isOnboardingHidden:qn(e),showNextStepsEphemeral:!0,channelIsArchived:!!t&&0!==t.delete_at,viewArchivedChannels:o,isCloud:"true"===(0,i.lJ)(e).Cloud}}),(function(e){return{actions:(0,s.bindActionCreators)({setShowNextStepsView:En,goToLastViewedChannel:ie.NL,getProfiles:K.cp,getContacts:fc.K2},e)}}))(Fb));function Bb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Gb extends u.PureComponent{constructor(e){super(e),Bb(this,"replaceUrlTimeout",void 0),Bb(this,"replaceUrlIfPermalink",(()=>{this.props.match.params.postid&&(this.replaceUrlTimeout=setTimeout((()=>{const e=this.props.match.url.split("/").slice(0,-1).join("/");P.m.replace(e)}),R.ZP.PERMALINK_FADEOUT))})),this.state={prevProps:e}}componentDidUpdate(e){this.props.match.params.team===e.match.params.team&&this.props.match.params.identifier===e.match.params.identifier||(clearTimeout(this.replaceUrlTimeout),this.props.actions.onChannelByIdentifierEnter(this.props),this.replaceUrlIfPermalink())}componentDidMount(){this.props.actions.onChannelByIdentifierEnter(this.props),this.replaceUrlIfPermalink()}componentWillUnmount(){clearTimeout(this.replaceUrlTimeout)}render(){return u.createElement(qb,null)}}Bb(Gb,"propTypes",{match:m().shape({params:m().shape({identifier:m().string.isRequired,team:m().string.isRequired,postid:m().string,path:m().string.isRequired}).isRequired,url:m().string.isRequired}).isRequired,actions:m().shape({onChannelByIdentifierEnter:m().func.isRequired}).isRequired,history:m().any.isRequired});const Vb=(0,g.EN)((0,a.connect)(null,(function(e){return{actions:(0,s.bindActionCreators)({onChannelByIdentifierEnter:hh},e)}}))(Gb)),Wb=(0,de.v)(u.lazy((()=>n.e(789).then(n.bind(n,34789)))),u.createElement("div",{className:"app__content"},u.createElement(pi.Z,null)));class zb extends u.PureComponent{constructor(e){super(e),this.state={returnTo:"",lastReturnTo:""}}static getDerivedStateFromProps(e,t){return t.lastReturnTo!==e.location.pathname&&e.location.pathname.includes("/pl/")?{lastReturnTo:e.location.pathname,returnTo:t.lastReturnTo}:{lastReturnTo:e.location.pathname}}render(){const{lastChannelPath:e,isCollapsedThreadsEnabled:t}=this.props,n=this.props.match.url;return u.createElement("div",{key:"inner-wrap",className:Te()("inner-wrap","channel__wrap",{"move--right":this.props.lhsOpen,"move--left":this.props.rhsOpen,"move--left-small":this.props.rhsMenuOpen})},u.createElement("div",{className:"row header"},u.createElement("div",{id:"navbar_wrapper"},u.createElement(uh,null))),u.createElement("div",{className:Te()("row main",{"CollapsedReplies___feature-enabled":t})},u.createElement(g.rs,null,u.createElement(g.AW,{path:"".concat(n,"/pl/:postid"),render:e=>u.createElement(Um,Object.assign({},e,{returnTo:this.state.returnTo}))}),u.createElement(g.AW,{path:"/:team/:path(group|messages)/:identifier/:postid?",component:Vb}),t?u.createElement(g.AW,{path:"/:team/threads/:threadIdentifier?",component:Wb}):null,u.createElement(g.l_,{to:e}))))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(zb,"propTypes",{match:m().shape({url:m().string.isRequired}).isRequired,location:m().shape({pathname:m().string.isRequired}).isRequired,lastChannelPath:m().string.isRequired,lhsOpen:m().bool.isRequired,rhsOpen:m().bool.isRequired,rhsMenuOpen:m().bool.isRequired,isCollapsedThreadsEnabled:m().bool.isRequired});const Yb=(0,a.connect)(((e,t)=>{let n=(0,ne.nX)(e,t.match.params.team);if(!n){const s=(0,o.Xv)(e,t.match.params.team);n=(0,ee.fG)(e,s.id)}return{lastChannelPath:"".concat(t.match.url,"/group/").concat(n),lhsOpen:Li(e),rhsOpen:(0,_t.aC)(e),rhsMenuOpen:(0,_t.Xb)(e),isCollapsedThreadsEnabled:(0,$.ym)(e)}}))(zb),Kb=n.p+"files/7d217fbea1424a39b663bc02b7eb7573.png",Jb=n.p+"files/b1ece2844056e78e97477553e914824e.png",Qb=n.p+"files/ab166d7875ef44e3af1f23c0a94c8138.png",Xb=n.p+"files/6401cc78152daa0b1244fa583f6ef220.png",$b=n.p+"files/63caa914c7f63e38eff077dad6c871fb.png",e_=n.p+"files/fe1a5f04b0442a257b1329cd58d0b3e4.png",t_=n.p+"files/461ab5b93e8823f9aa4926d6530dc3a8.png",n_=n.p+"files/73815c14ac41b26533112fd610ec451a.png",s_=n.p+"files/0b99356d78c0585ce41c0e6bc2663eee.png",a_=n.p+"files/0f8df07814c0fc48c5e39b6144b9a3a8.png",i_=n.p+"files/fd7d30807acd2f1d731c037e4622df5f.png",r_=n.p+"files/46c1cedbee5f01ad793692b96c2ab54a.png",o_=n.p+"files/b33b92bfae029a29a8ed3fb61f60e726.png",l_=n.p+"files/a13a616f2ec4d629e495196e51cef6f1.png",c_=n.p+"files/6d70af434f412e187db701b46337a85f.png";function d_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m_;!function(e){e.Mention="Mention",e.Unread="Unread",e.None="None"}(m_||(m_={}));class u_ extends u.PureComponent{constructor(...e){super(...e),d_(this,"updateTitle",(()=>{const{siteName:e,currentChannel:t,currentTeam:n,currentTeammate:s,unreads:a,inGlobalThreads:i,contactName:r}=this.props,{formatMessage:o}=this.props.intl,l=e||"",c=a.mentionCount>0?"(".concat(a.mentionCount,") "):"",d=!this.isDynamicFaviconSupported&&a.messageCount>0?"* ":"";if(t&&n&&t.id){let e=t.display_name;t.type===R.gT.DM_CHANNEL&&null!=s&&(e=r||s.display_name),document.title="".concat(c).concat(d).concat(e," - ").concat(n.display_name," ").concat(l)}else document.title=n&&i?o({id:"globalThreads.title",defaultMessage:"{prefix}Threads - {displayName} {siteName}"},{prefix:"".concat(c).concat(d),displayName:n.display_name,siteName:l}):o({id:"sidebar.team_select",defaultMessage:"{siteName} - Join a team"},{siteName:l||"Gomlo"})})),d_(this,"updateFavicon",(e=>{if(!_.vU()&&!_.i7())return;if(!document.querySelector('link[rel="icon"]'))return;const t=document.querySelector('link[rel="icon"][sizes="16x16"]'),n=document.querySelector('link[rel="icon"][sizes="24x24"]'),s=document.querySelector('link[rel="icon"][sizes="32x32"]'),a=document.querySelector('link[rel="icon"][sizes="64x64"]'),i=document.querySelector('link[rel="icon"][sizes="96x96"]'),r=e=>"string"==typeof e?e:"";switch(e){case m_.Mention:t.href=r(e_),n.href=r(t_),s.href=r(n_),a.href=r(s_),i.href=r(a_);break;case m_.Unread:t.href=r(i_),n.href=r(r_),s.href=r(o_),a.href=r(l_),i.href=r(c_);break;default:t.href=r(Kb),n.href=r(Jb),s.href=r(Qb),a.href=r(Xb),i.href=r($b)}}))}componentDidUpdate(e){this.updateTitle();const t=this.getBadgeStatus(e.unreads),n=this.getBadgeStatus(this.props.unreads);t!==n&&this.updateFavicon(n)}get isDynamicFaviconSupported(){return _.i7()||_.vU()}getBadgeStatus(e){return e.mentionCount>0?m_.Mention:e.messageCount>0?m_.Unread:m_.None}render(){return null}}d_(u_,"propTypes",{unreads:m().shape({messageCount:m().number.isRequired,mentionCount:m().number.isRequired}).isRequired,siteName:m().string,inGlobalThreads:m().bool.isRequired,contactName:m().string.isRequired});const p_=(0,we.ZP)(u_),h_=(0,g.EN)((0,a.connect)((function(e,{location:{pathname:t}}){const n=(0,i.iE)(e),s=(0,ee.TB)(e),a=s&&s.teammate_id?s:null,l=(0,o.kA)(e);let c="";if(a){const t=(0,r.PR)(e,a.teammate_id);c=t?(0,bc.No)(e,t.id):""}return{currentChannel:s,currentTeam:l,currentTeammate:a,siteName:n.SiteName,unreads:(0,ee.y8)(e),inGlobalThreads:null!=(0,g.LX)(t,{path:"/:team/threads/:threadIdentifier?"}),contactName:c}}),(function(e){return{actions:(0,s.bindActionCreators)({},e)}}))(p_));var g_=n(86040),f_=n(42243);class b_ extends u.PureComponent{render(){return u.createElement("span",this.props,u.createElement(ve.Z,{id:"generic_icons.adminOnlyIcon",defaultMessage:"Admin View Only Icon"},(e=>u.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",role:"img","aria-label":e},u.createElement("path",{d:"M7 3.21005C7.3264 3.21005 7.624 3.29165 7.8928 3.45485C8.1712 3.61805 8.392 3.83885 8.5552 4.11725C8.7184 4.38605 8.8 4.68365 8.8 5.01005C8.8 5.33645 8.7184 5.63885 8.5552 5.91725C8.392 6.18605 8.1712 6.40205 7.8928 6.56525C7.624 6.72845 7.3264 6.81005 7 6.81005C6.6736 6.81005 6.3712 6.72845 6.0928 6.56525C5.824 6.40205 5.608 6.18605 5.4448 5.91725C5.2816 5.63885 5.2 5.33645 5.2 5.01005C5.2 4.68365 5.2816 4.38605 5.4448 4.11725C5.608 3.83885 5.824 3.61805 6.0928 3.45485C6.3712 3.29165 6.6736 3.21005 7 3.21005ZM7 0.502848C7.9792 0.502848 8.9152 0.694848 9.808 1.07885C10.672 1.46285 11.4304 1.99565 12.0832 2.67725C12.7456 3.35885 13.2496 4.13645 13.5952 5.01005C13.2496 5.88365 12.7456 6.66125 12.0832 7.34285C11.4304 8.02445 10.672 8.55245 9.808 8.92685C8.9152 9.31085 7.9792 9.50285 7 9.50285C6.0208 9.50285 5.0848 9.31085 4.192 8.92685C3.328 8.55245 2.5648 8.02445 1.9024 7.34285C1.2496 6.66125 0.7504 5.88365 0.4048 5.01005C0.7504 4.13645 1.2496 3.35885 1.9024 2.67725C2.5648 1.99565 3.328 1.46285 4.192 1.07885C5.0848 0.694848 6.0208 0.502848 7 0.502848ZM1.7152 5.01005C2.0416 5.67245 2.4736 6.25325 3.0112 6.75245C3.5488 7.25165 4.1584 7.63565 4.84 7.90445C5.5312 8.17325 6.2512 8.30765 7 8.30765C8.1328 8.30765 9.1744 8.01005 10.1248 7.41485C11.0752 6.81965 11.8 6.01805 12.2992 5.01005C11.8 4.00205 11.0752 3.20045 10.1248 2.60525C9.1744 2.01005 8.1328 1.71245 7 1.71245C6.2512 1.71245 5.5312 1.84685 4.84 2.11565C4.1584 2.38445 3.5488 2.76845 3.0112 3.26765C2.4736 3.76685 2.0416 4.34765 1.7152 5.01005Z",fill:"rgba(var(--center-channel-color-rgb), 0.72)",fillOpacity:"0.48"})))))}}function __(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E_ extends u.PureComponent{constructor(e){super(e),__(this,"clearDataTimer",void 0),__(this,"trackClickEvent",(()=>{const e=this.state.noticesData[this.state.presentNoticeIndex];(0,C.L9)("ui","notice_click_".concat(e.id))})),__(this,"handleNextButton",(()=>{const e=this.state.noticesData[this.state.presentNoticeIndex],t=this.state.noticesData.length;if(1===t&&e.actionText)this.trackClickEvent(),window.open(e.actionParam,"_blank");else if(this.state.presentNoticeIndex+1<t){const e=this.state.noticesData[this.state.presentNoticeIndex+1];this.props.actions.updateNoticesAsViewed([e.id]),this.setState({presentNoticeIndex:this.state.presentNoticeIndex+1})}})),__(this,"handlePreviousButton",(()=>{0!==this.state.presentNoticeIndex&&this.setState({presentNoticeIndex:this.state.presentNoticeIndex-1})})),__(this,"onModalDismiss",(()=>{this.clearDataTimer=window.setTimeout((()=>{this.setState({noticesData:[],presentNoticeIndex:0})}),3e3)})),this.state={presentNoticeIndex:0,noticesData:[]},this.clearDataTimer=void 0}componentDidMount(){this.fetchNoticesData()}componentDidUpdate(e){const t=this.props.socketStatus,n=e.socketStatus;if(t.connected&&!n.connected&&n.lastConnectAt){const e=Date.now(),t=new Date(n.lastConnectAt).getDate();new Date(e).getDate()!==t&&e>n.lastConnectAt&&this.fetchNoticesData()}}componentWillUnmount(){clearTimeout(this.clearDataTimer)}async fetchNoticesData(){const{version:e,currentTeamId:t}=this.props;let n="web",s=e;(0,_.P)()&&(n="desktop",s=(0,_.zF)());const{data:a}=await this.props.actions.getInProductNotices(t,n,s);if(a&&(this.setState({noticesData:a}),a.length)){const e=this.state.noticesData[this.state.presentNoticeIndex];this.props.actions.updateNoticesAsViewed([e.id])}}confirmButtonText(e){const t=this.state.noticesData.length;return 1===t&&e.actionText?u.createElement("span",null,e.actionText):t===this.state.presentNoticeIndex+1?u.createElement(ve.Z,{id:"generic.done",defaultMessage:"Done"}):u.createElement(u.Fragment,null,u.createElement(ve.Z,{id:"generic.next",defaultMessage:"Next"}),u.createElement(g_.Z,null))}cancelButtonText(){return 0!==this.state.presentNoticeIndex?u.createElement(u.Fragment,null,u.createElement(f_.Z,null),u.createElement(ve.Z,{id:"generic.previous",defaultMessage:"Previous"})):null}renderCicrleIndicators(){const e=this.state.noticesData.length;if(1===e)return null;const t=[];for(let n=0;n<e;n++){let e="circle";n===this.state.presentNoticeIndex&&(e+=" active"),t.push(u.createElement("span",{id:"tutorialIntroCircle"+n,key:"circle"+n,className:e,"data-screen":n}))}return u.createElement("span",{className:"tutorial__circles"},t)}renderAdminOnlyText(){return this.state.noticesData[this.state.presentNoticeIndex].sysAdminOnly?u.createElement(u.Fragment,null,u.createElement(b_,null),u.createElement(ve.Z,{id:"inProduct_notices.adminOnlyMessage",defaultMessage:"Visible to Admins only"})):null}renderImage(e){return e?u.createElement("img",{className:"productNotices__img",src:e}):null}renderActionButton(e){return 1!==this.state.noticesData.length&&e.actionText?u.createElement("a",{target:"_blank",id:"actionButton",rel:"noopener noreferrer",className:"GenericModal__button actionButton",href:e.actionParam,onClick:this.trackClickEvent},e.actionText):null}render(){if(!this.state.noticesData.length)return null;const e=this.state.noticesData[this.state.presentNoticeIndex],t=0===this.state.presentNoticeIndex?void 0:this.handlePreviousButton,n=this.state.presentNoticeIndex===this.state.noticesData.length-1;return u.createElement(No.Z,{show:!0,onHide:this.onModalDismiss,handleConfirm:this.handleNextButton,handleCancel:t,modalHeaderText:u.createElement("span",null,e.title),confirmButtonText:this.confirmButtonText(e),cancelButtonText:this.cancelButtonText(),className:"productNotices",autoCloseOnConfirmButton:n,autoCloseOnCancelButton:!1},u.createElement("span",{className:"productNotices__helpText"},u.createElement(Ft.Z,{message:e.description})),this.renderActionButton(e),u.createElement("div",{className:"productNotices__imageDiv"},this.renderImage(e.image)),u.createElement("div",{className:"productNotices__info"},this.renderCicrleIndicators(),this.renderAdminOnlyText()))}}__(E_,"propTypes",{version:m().string.isRequired,currentTeamId:m().string.isRequired,actions:m().shape({getInProductNotices:m().func.isRequired,updateNoticesAsViewed:m().func.isRequired}).isRequired});const C_=(0,a.connect)((function(e){const t=(0,i.iE)(e).Version||"",n=(0,St.L)(e);return{currentTeamId:(0,o.ev)(e),version:t,socketStatus:n}}),(function(e){return{actions:(0,s.bindActionCreators)({getInProductNotices:Q.UG,updateNoticesAsViewed:Q.Ye},e)}}))(E_),y_=function(){const[e,t]=(0,u.useState)(!1);return e?u.createElement("div",{className:"fixed"},"alert"):null};class v_ extends u.Component{shouldComponentUpdate(e){return this.props.pathName!==e.pathName||this.props.fetchingChannels!==e.fetchingChannels||this.props.useLegacyLHS!==e.useLegacyLHS}componentDidMount(){const e=window.navigator.platform;document.body.classList.add("app__body","channel-view"),(_.w6()||_.un())&&document.body.classList.add("browser--ie"),"Win32"===e||"Win64"===e?document.body.classList.add("os--windows"):"MacIntel"!==e&&"MacPPC"!==e||document.body.classList.add("os--mac")}componentWillUnmount(){document.body.classList.remove("app__body","channel-view")}render(){const e=Ji,t=this.props.useLegacyLHS?Al:Rm;return u.createElement("div",{id:"channel_view",className:"channel-view"},u.createElement(me.Z,null),u.createElement(ue.Z,null),u.createElement(h_,null),u.createElement(C_,null),u.createElement("div",{className:"container-fluid"},u.createElement(an,null),u.createElement(Pi,null),u.createElement(g.AW,{component:e}),u.createElement(g.AW,{component:t}),!this.props.fetchingChannels&&u.createElement(g.AW,{component:Yb}),this.props.fetchingChannels&&u.createElement(pi.Z,null),u.createElement(D.Z,{pluggableName:"Root"}),u.createElement(Xe,null),u.createElement(Ai,null),u.createElement(Ue,null),u.createElement(dt,null),u.createElement(nt,null),u.createElement(ft,{isMac:V.V5()}),u.createElement(Oi.Z,null),u.createElement(y_,null)))}}function w_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(v_,"propTypes",{pathName:m().string.isRequired,fetchingChannels:m().bool.isRequired,useLegacyLHS:m().bool.isRequired});const S_=u.lazy((()=>n.e(875).then(n.bind(n,47875)))),T_=(0,de.v)(S_);let P_,M_=Date.now();class N_ extends u.PureComponent{constructor(e){super(e),w_(this,"blurTime",void 0),w_(this,"initialed",void 0),w_(this,"handleBlur",(()=>{window.isActive=!1,this.blurTime=(new Date).getTime(),this.props.currentUser&&this.props.actions.viewChannel("")})),w_(this,"handleFocus",(()=>{this.props.currentChannelId&&(this.props.actions.markChannelAsReadOnFocus(this.props.currentChannelId),window.isActive=!0),Date.now()-this.blurTime>1e4&&this.props.currentTeamId&&(this.props.actions.fetchMyChannelsAndMembers(this.props.currentTeamId),this.props.actions.loadProfilesForDirect())})),w_(this,"joinTeam",(async(e,t,n=!1)=>{const{data:s}=await this.props.actions.getTeamByName(e.match.params.team);if(s&&0===s.delete_at){const{error:a}=await e.actions.addUserToTeam(s.id,e.currentUser&&e.currentUser.id);a?e.history.push("/error?type=team_not_found"):(n&&c.Z.setTeamIdJoinedOnLoad(s.id),this.initialed?this.setState({team:s}):t.team=s,this.initTeam(s,t))}else e.history.push("/error?type=team_not_found")})),w_(this,"initTeam",((e,t)=>(e.id!==this.props.previousTeamId&&y.Fy(),this.props.actions.getMyTeamUnreads(),this.props.actions.selectTeam(e),this.props.actions.setPreviousTeamId(e.id),V.a_(this.props.currentUser)&&(this.initialed?this.setState({finishedFetchingChannels:!1}):t.finishedFetchingChannels=!1),this.props.actions.fetchMyChannelsAndMembers(e.id).then((()=>{this.initialed?this.setState({finishedFetchingChannels:!0}):t.finishedFetchingChannels=!0})),this.props.actions.loadStatusesForChannelAndSidebar(),this.props.actions.loadProfilesForDirect(),this.props.license&&"true"===this.props.license.IsLicensed&&"true"===this.props.license.LDAPGroups&&(this.props.currentUser&&this.props.actions.getGroupsByUserId(this.props.currentUser.id),this.props.actions.getAllGroupsAssociatedToChannelsInTeam(e.id,!0),e.group_constrained?this.props.actions.getAllGroupsAssociatedToTeam(e.id,!0):this.props.actions.getGroups(!0,0,0)),e))),w_(this,"updateCurrentTeam",((e,t)=>{const n=e.teamsList?e.teamsList.find((t=>t.name===e.match.params.team)):null;n&&(t.team=n,this.initTeam(n,t))})),w_(this,"onShortcutKeyDown",(e=>{if(e.shiftKey&&V._E(e)&&V.pD(e,R.ZP.KeyCodes.L)){const e=document.getElementById("sidebar-right");if(e)if(e.className.match("sidebar--right sidebar--right--expanded move--left")){const e=document.getElementById("reply_textbox");e&&e.focus()}else{const e=document.getElementById("post_textbox");e&&e.focus()}}})),this.blurTime=(new Date).getTime(),this.initialed=!1,this.props.mfaRequired?this.props.history.push("/mfa/setup"):(clearInterval(P_),P_=window.setInterval((()=>{const e=(new Date).getTime();e>M_+6e4&&(0,ce.GL)(!1),M_=e}),3e4),this.state={team:null,finishedFetchingChannels:!1,prevTeam:this.props.match.params.team,teamsList:this.props.teamsList},this.updateCurrentTeam(this.props,this.state),c.Z.setTeamIdJoinedOnLoad(null),this.state.team||this.joinTeam(this.props,this.state,!0))}static getDerivedStateFromProps(e,t){if(t.prevTeam!==e.match.params.team){const t=e.teamsList?e.teamsList.find((t=>t.name===e.match.params.team)):null;return{prevTeam:e.match.params.team,team:t||null}}return{prevTeam:e.match.params.team}}componentDidMount(){this.initialed=!0,(0,se.cP)(),(0,ce.iD)(),window.isActive=!0,V._v(this.props.theme),_.IT()&&le().enable(),window.addEventListener("focus",this.handleFocus),window.addEventListener("blur",this.handleBlur),window.addEventListener("keydown",this.onShortcutKeyDown)}componentDidUpdate(e){const{theme:t}=this.props;V.JB(e.theme,t)||V._v(t),this.props.match.params.team!==e.match.params.team&&(this.state.team&&this.initTeam(this.state.team,this.state),this.state.team||this.joinTeam(this.props,this.state))}componentWillUnmount(){window.isActive=!1,(0,se.eI)(),(0,ce.lN)(),_.IT()&&le().disable(),clearInterval(P_),window.removeEventListener("focus",this.handleFocus),window.removeEventListener("blur",this.handleBlur),window.removeEventListener("keydown",this.onShortcutKeyDown)}render(){var e;return null===this.state.team?u.createElement("div",null):u.createElement(g.rs,null,u.createElement(g.AW,{path:"/:team/integrations",component:T_}),u.createElement(g.AW,{path:"/:team/emoji",component:T_}),null===(e=this.props.plugins)||void 0===e?void 0:e.map((e=>u.createElement(g.AW,{key:e.id,path:"/:team/"+e.route,render:()=>u.createElement(D.Z,{pluggableName:"NeedsTeamComponent",pluggableId:e.id})}))),u.createElement(g.AW,{render:e=>u.createElement(v_,{pathName:e.location.pathname,fetchingChannels:!this.state.finishedFetchingChannels,useLegacyLHS:this.props.useLegacyLHS})}))}}w_(N_,"propTypes",{currentUser:m().shape({id:m().string.isRequired}),currentChannelId:m().string,currentTeamId:m().string,useLegacyLHS:m().bool.isRequired,actions:m().shape({fetchMyChannelsAndMembers:m().func.isRequired,getMyTeamUnreads:m().func.isRequired,viewChannel:m().func.isRequired,markChannelAsReadOnFocus:m().func.isRequired,getTeamByName:m().func.isRequired,addUserToTeam:m().func.isRequired,selectTeam:m().func.isRequired,setPreviousTeamId:m().func.isRequired,loadStatusesForChannelAndSidebar:m().func.isRequired,loadProfilesForDirect:m().func.isRequired,getAllGroupsAssociatedToChannelsInTeam:m().func.isRequired,getAllGroupsAssociatedToTeam:m().func.isRequired,getGroupsByUserId:m().func.isRequired,getGroups:m().func.isRequired}).isRequired,mfaRequired:m().bool.isRequired,match:m().shape({params:m().shape({team:m().string.isRequired}).isRequired}).isRequired,previousTeamId:m().string,history:m().shape({}).isRequired,teamsList:m().array.isRequired,theme:m().any.isRequired,plugins:m().any});const I_=(0,g.EN)((0,a.connect)((function(e,t){const n=(0,i.lJ)(e),s=(0,i.iE)(e),a=(0,r.ts)(e),l=e.plugins.components.NeedsTeamComponent;return{license:n,theme:(0,$.gh)(e),mfaRequired:(0,re.b2)(a,n,s,t.match.url),currentUser:a,currentTeamId:(0,o.ev)(e),previousTeamId:(0,ne.x_)(e),teamsList:(0,o.Dc)(e),currentChannelId:(0,ee.gO)(e),useLegacyLHS:"true"===s.EnableLegacySidebar,plugins:l}}),(function(e){return{actions:(0,s.bindActionCreators)({fetchMyChannelsAndMembers:J.oO,getMyTeamUnreads:Q.Jw,viewChannel:J.SU,markChannelAsReadOnFocus:ie.Kx,getTeamByName:Q.Xv,addUserToTeam:ae.aJ,setPreviousTeamId:te.h,selectTeam:Q.MA,loadStatusesForChannelAndSidebar:se.Vq,loadProfilesForDirect:K.VU,getAllGroupsAssociatedToChannelsInTeam:X.UL,getAllGroupsAssociatedToTeam:X.K9,getGroupsByUserId:X.FE,getGroups:X.jA},e)}}))(N_));function R_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A_={capture:!0};class O_{constructor(){R_(this,"handleKeyDown",(e=>{const t=e.ctrlKey,n=e.altKey,s=e.shiftKey;switch(!0){case(0,V.pD)(e,R.ZP.KeyCodes.TAB):if(this.lastInputEventIsKeyboard=!0,!(0,V.V5)()&&n||(0,V._E)(e))return;this.tabKeyIsPressed=!0;break;case(0,V.pD)(e,R.ZP.KeyCodes.TILDE):if(this.lastInputEventIsKeyboard=!0,!this.regions||!this.regions.length)return;t&&!n&&(this.tildeKeyIsPressed=!0,e.preventDefault(),s?this.previousRegion():this.nextRegion());break;case(0,V.pD)(e,R.ZP.KeyCodes.F6):if(this.lastInputEventIsKeyboard=!0,!(0,_.P)()&&!(0,V._E)(e))return;this.f6KeyIsPressed=!0,e.preventDefault(),s?this.previousRegion():this.nextRegion();break;case(0,V.pD)(e,R.ZP.KeyCodes.UP):if(this.lastInputEventIsKeyboard=!0,!this.navigationInProgress||!this.sections||!this.sections.length)return;this.upArrowKeyIsPressed=!0,e.preventDefault(),this.shouldReverseSections?this.nextSection():this.previousSection();break;case(0,V.pD)(e,R.ZP.KeyCodes.DOWN):if(this.lastInputEventIsKeyboard=!0,!this.navigationInProgress||!this.sections||!this.sections.length)return;this.downArrowKeyIsPressed=!0,e.preventDefault(),this.shouldReverseSections?this.previousSection():this.nextSection();break;case(0,V.pD)(e,R.ZP.KeyCodes.ESCAPE):if(!this.navigationInProgress)return;e.preventDefault(),this.cancelNavigation();break;case(0,V.pD)(e,R.ZP.KeyCodes.ENTER):this.enterKeyIsPressed=!0;break;case(0,V.pD)(e,R.ZP.KeyCodes.SPACE):"BUTTON"===e.target.nodeName&&(e.preventDefault(),e.stopPropagation(),e.target.click());break;case(0,V.pD)(e,R.ZP.KeyCodes.L):this.lastInputEventIsKeyboard=!0,this.lKeyIsPressed=!0}})),R_(this,"handleKeyUp",(()=>{this.resetInterractionStates()})),R_(this,"handleMouseClick",(e=>{this.enterKeyIsPressed||(this.lastInputEventIsKeyboard=!1),e.target!==this.activeElement&&this.cancelNavigation()})),R_(this,"handleMouseDown",(()=>{this.mouseIsPressed=!0})),R_(this,"handleMouseUp",(()=>{this.mouseIsPressed=!1})),R_(this,"handleFocus",(e=>{this.lastInputEventIsKeyboard&&this.windowIsFocused&&this.nextElement(e.target,e.path||!0),this.windowIsFocused||(this.windowIsFocused=!0)})),R_(this,"handleWindowBlur",(e=>{e.target===window&&(this.windowIsFocused=!1)})),R_(this,"handleActiveRegionUpdate",(()=>{this.navigationInProgress&&(this.updateActiveRegion(),this.focusedElement===this.activeRegion&&this.udpateCurrentFocus(!0))})),R_(this,"handleActiveSectionUpdate",(()=>{this.navigationInProgress&&(this.updateActiveSection(),this.focusedElement===this.activeSection&&this.udpateCurrentFocus(!0))})),R_(this,"handleActiveElementUpdate",(()=>{this.navigationInProgress&&(this.updateActiveElement(),this.focusedElement===this.activeElement&&this.udpateCurrentFocus(!0))})),this.regionHTMLCollection=this.getAllRegions(),this.sectionHTMLCollection=null,this.modalHTMLCollection=this.getAllModals(),this.popupHTMLCollection=this.getAllPopups(),this.activeRegion=null,this.activeSection=null,this.activeElement=null,this.mouseIsPressed=!1,this.lastInputEventIsKeyboard=!1,this.enterKeyIsPressed=!1,this.f6KeyIsPressed=!1,this.upArrowKeyIsPressed=!1,this.downArrowKeyIsPressed=!1,this.tabKeyIsPressed=!1,this.tildeKeyIsPressed=!1,this.lKeyIsPressed=!1,this.windowIsFocused=!0,this.resetNavigation=!1,document.addEventListener(R.GM.KEY_DOWN,this.handleKeyDown,A_),document.addEventListener(R.GM.KEY_UP,this.handleKeyUp,A_),document.addEventListener(R.GM.CLICK,this.handleMouseClick,A_),document.addEventListener(R.GM.MOUSE_DOWN,this.handleMouseDown,A_),document.addEventListener(R.GM.MOUSE_UP,this.handleMouseUp,A_),document.addEventListener(R.GM.FOCUS,this.handleFocus,A_),window.addEventListener(R.GM.BLUR,this.handleWindowBlur,A_)}destroy(){this.clearActiveRegion(),this.clearCurrentFocus(),document.removeEventListener(R.GM.KEY_DOWN,this.handleKeyDown,A_),document.removeEventListener(R.GM.KEY_UP,this.handleKeyUp,A_),document.removeEventListener(R.GM.CLICK,this.handleMouseClick,A_),document.removeEventListener(R.GM.MOUSE_DOWN,this.handleMouseDown,A_),document.removeEventListener(R.GM.MOUSE_UP,this.handleMouseUp,A_),document.removeEventListener(R.GM.FOCUS,this.handleFocus,A_),window.removeEventListener(R.GM.BLUR,this.handleWindowBlur,A_)}get navigationInProgress(){return!(!(this.regions&&this.regions.length&&this.isElementValid(this.activeRegion))||!this.lastInputEventIsKeyboard||this.modalIsOpen||this.popupIsOpen||!this.isElementValid(this.activeElement))}get regions(){let e=this.sortElementsByAttributeOrder(this.regionHTMLCollection);return e=e.filter((e=>this.elementIsVisible(e))),e}get sections(){let e=this.sortElementsByAttributeOrder(this.sectionHTMLCollection);return e=e.filter((e=>this.elementIsVisible(e))),this.shouldReverseSections&&e.reverse(),e}get activeRegionIndex(){return this.activeRegion?this.regions.indexOf(this.activeRegion):null}get activeSectionIndex(){return this.activeSection?this.sections.indexOf(this.activeSection):null}get shouldReverseSections(){return!!this.activeRegion&&this.getOrderReverseAttribute(this.activeRegion)}get focusedElement(){let e;return this.activeElement?e=this.activeElement:this.activeSection?e=this.activeSection:this.activeRegion&&(e=this.activeRegion),e}get a11yKeyIsPressed(){return this.f6KeyIsPressed||this.upArrowKeyIsPressed||this.downArrowKeyIsPressed||this.tabKeyIsPressed||this.tildeKeyIsPressed||this.lKeyIsPressed}get modalIsOpen(){return this.modalHTMLCollection.length>0}get popupIsOpen(){return this.popupHTMLCollection.length>0}get disableNavigation(){return this.activeRegion&&"true"===this.activeRegion.getAttribute(R.b3.DISABLE_NAVIGATION)}nextRegion(){const e=this.regions;if(e&&e.length&&!this.modalIsOpen&&!this.popupIsOpen){if(!this.disableNavigation){let t;t=!this.activeRegion||this.activeRegionIndex===e.length-1||this.resetNavigation?e[0]:e[this.activeRegionIndex+1],this.setActiveRegion(t)}this.setCurrentFocus(),this.resetNavigation=!1}}previousRegion(){const e=this.regions;if(e&&e.length&&!this.modalIsOpen&&!this.popupIsOpen){if(!this.disableNavigation){let t;t=!this.activeRegion||0!==this.activeRegionIndex&&this.resetNavigation?e[0]:0===this.activeRegionIndex?e[e.length-1]:e[this.activeRegionIndex-1],this.setActiveRegion(t)}this.setCurrentFocus(),this.resetNavigation=!1}}nextSection(){const e=this.sections,t=this.getLoopNavigationAttribute(this.activeRegion);if(!this.modalIsOpen&&!this.popupIsOpen&&e&&e.length&&(t||this.activeSectionIndex!==e.length-1)){if(!this.disableNavigation){let t;t=this.activeSection&&this.activeSectionIndex<e.length-1?e[this.activeSectionIndex+1]:e[0],this.setActiveSection(t)}this.setCurrentFocus(),this.resetNavigation=!0}}previousSection(){const e=this.sections,t=this.getLoopNavigationAttribute(this.activeRegion);if(!this.modalIsOpen&&!this.popupIsOpen&&e&&e.length&&(t||0!==this.activeSectionIndex)){if(!this.disableNavigation){let t;t=this.activeSection&&this.activeSectionIndex>0?e[this.activeSectionIndex-1]:this.activeSection&&0===this.activeSectionIndex?e[e.length-1]:e[0],this.setActiveSection(t)}this.setCurrentFocus(),this.resetNavigation=!0}}nextElement(e,t=!1){let n,s;t&&t.length?(t.indexOf(this.activeRegion)<0&&(n=t.find((e=>!!e.classList&&e.classList.contains(R.Sz.REGION)))),t.indexOf(this.activeSection)<0&&(s=t.find((e=>!!e.classList&&e.classList.contains(R.Sz.SECTION))))):t&&"function"==typeof e.closest&&(n=e.closest(".".concat(R.Sz.REGION)),s=e.closest(".".concat(R.Sz.SECTION))),n&&this.activeRegion!==n&&this.setActiveRegion(n,!1),s&&this.activeSection!==s&&this.setActiveSection(s),this.setActiveElement(e),this.setCurrentFocus(),this.resetNavigation=!0}cancelNavigation(){this.clearActiveRegion(),this.setCurrentFocus(),this.resetInterractionStates()}setActiveRegion(e,t=!0){(this.isElementValid(e,[this.activeRegion])||this.resetNavigation)&&(this.clearActiveRegion(),this.activeRegion=e,this.activeRegion.addEventListener(R.sp.UPDATE,this.handleActiveRegionUpdate),this.activeRegion.dispatchEvent(new Event(R.sp.ACTIVATE)),this.updateActiveRegion(),this.sectionHTMLCollection=this.getAllSectionsForRegion(this.activeRegion),t&&this.getFocusChildAttribute(this.activeRegion)&&this.sections&&this.sections.length&&this.setActiveSection(this.sections[0]))}setActiveSection(e){this.isElementValid(e,[this.activeSection])&&(this.clearActiveSection(),this.activeSection=e,this.activeSection.addEventListener(R.sp.UPDATE,this.handleActiveSectionUpdate),this.activeSection.dispatchEvent(new Event(R.sp.ACTIVATE)),this.updateActiveSection())}setActiveElement(e){this.isElementValid(e,[this.activeElement])&&(this.clearActiveElement(),this.activeElement=e,this.activeElement.addEventListener(R.sp.UPDATE,this.handleActiveElementUpdate),this.activeElement!==this.activeRegion&&this.activeElement!==this.activeSection&&this.activeElement.dispatchEvent(new Event(R.sp.ACTIVATE)),this.updateActiveElement())}setCurrentFocus(){this.clearCurrentFocus(),this.focusedElement&&(document.activeElement!==this.focusedElement&&this.focusedElement.focus(),this.udpateCurrentFocus())}updateActiveRegion(){this.activeRegion&&(this.activeRegion.classList.add(R.Sz.ACTIVE),this.activeRegion.getAttribute("tabindex")||this.activeRegion.setAttribute("tabindex",-1))}updateActiveSection(){this.activeSection&&(this.activeSection.classList.add(R.Sz.ACTIVE),this.activeSection.getAttribute("tabindex")||this.activeSection.setAttribute("tabindex",-1))}updateActiveElement(){this.activeElement&&this.activeElement.classList.add(R.Sz.ACTIVE)}udpateCurrentFocus(e=!1){(this.focusedElement&&this.a11yKeyIsPressed||e)&&this.focusedElement.classList.add(R.Sz.FOCUSED)}clearActiveRegion(){this.activeRegion&&(this.activeRegion.classList.remove(R.Sz.ACTIVE),this.activeRegion.dispatchEvent(new Event(R.sp.DEACTIVATE)),this.activeRegion.removeEventListener(R.sp.UPDATE,this.handleActiveRegionUpdate),this.activeRegion=null),this.clearActiveSection()}clearActiveSection(){this.activeSection&&(this.activeSection.classList.remove(R.Sz.ACTIVE),this.activeSection.dispatchEvent(new Event(R.sp.DEACTIVATE)),this.activeSection.removeEventListener(R.sp.UPDATE,this.handleActiveSectionUpdate),this.activeSection=null),this.clearActiveElement()}clearActiveElement(){this.activeElement&&(this.activeElement!==this.activeRegion&&this.activeElement!==this.activeSection&&(this.activeElement.classList.remove(R.Sz.ACTIVE),this.activeElement.dispatchEvent(new Event(R.sp.DEACTIVATE))),this.activeElement.removeEventListener(R.sp.UPDATE,this.handleActiveElementUpdate),this.activeElement=null)}clearCurrentFocus(e=!1){Array.from(document.getElementsByClassName(R.Sz.FOCUSED)).forEach((e=>{e.classList.remove(R.Sz.FOCUSED)})),e&&document.activeElement.blur()}resetInterractionStates(){this.mouseIsPressed=!1,this.f6KeyIsPressed=!1,this.upArrowKeyIsPressed=!1,this.downArrowKeyIsPressed=!1,this.tabKeyIsPressed=!1,this.tildeKeyIsPressed=!1,this.enterKeyIsPressed=!1,this.lKeyIsPressed=!1,this.lastInputEventIsKeyboard=!1}getAllRegions(){return document.getElementsByClassName(R.Sz.REGION)}getAllSectionsForRegion(e){return e?e.getElementsByClassName(R.Sz.SECTION):null}sortElementsByAttributeOrder(e){return e&&e.length?Array.from(e).sort(((e,t)=>{const n=parseInt(e.getAttribute(R.b3.SORT_ORDER),10),s=parseInt(t.getAttribute(R.b3.SORT_ORDER),10);return isNaN(n)&&isNaN(s)?0:isNaN(s)?-1:isNaN(n)?1:n-s})):[]}elementIsVisible(e){return e&&e.offsetParent}getAllModals(){return document.getElementsByClassName(R.Sz.MODAL)}getAllPopups(){return document.getElementsByClassName(R.Sz.POPUP)}getLoopNavigationAttribute(e){const t=e.getAttribute(R.b3.LOOP_NAVIGATION);return!t||"false"!==t.toLowerCase()}getOrderReverseAttribute(e){const t=e.getAttribute(R.b3.ORDER_REVERSE);return!(!t||"true"!==t.toLowerCase())}getFocusChildAttribute(e){const t=e.getAttribute(R.b3.FOCUS_CHILD);return!(!t||"true"!==t.toLowerCase())}isElementValid(e,t=[]){return!(!e||!e.classList||t.includes(e))}}function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function D_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L_(Object(n),!0).forEach((function(t){k_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x_=u.lazy((()=>Promise.all([n.e(835),n.e(718)]).then(n.bind(n,65606)))),U_=u.lazy((()=>n.e(424).then(n.bind(n,94424)))),Z_=u.lazy((()=>Promise.all([n.e(835),n.e(144),n.e(125),n.e(637),n.e(879)]).then(n.bind(n,40579)))),j_=u.lazy((()=>n.e(865).then(n.bind(n,48865)))),F_=u.lazy((()=>n.e(679).then(n.bind(n,95679)))),H_=u.lazy((()=>n.e(109).then(n.bind(n,6109)))),q_=u.lazy((()=>n.e(810).then(n.bind(n,49810)))),B_=u.lazy((()=>n.e(930).then(n.bind(n,97930)))),G_=u.lazy((()=>n.e(626).then(n.bind(n,56626)))),V_=u.lazy((()=>n.e(6).then(n.bind(n,33006)))),W_=u.lazy((()=>n.e(557).then(n.bind(n,90557)))),z_=u.lazy((()=>n.e(120).then(n.bind(n,71120)))),Y_=u.lazy((()=>n.e(920).then(n.bind(n,53920)))),K_=u.lazy((()=>n.e(422).then(n.bind(n,95422)))),J_=u.lazy((()=>n.e(808).then(n.bind(n,4808)))),Q_=u.lazy((()=>n.e(507).then(n.bind(n,51507)))),X_=u.lazy((()=>n.e(594).then(n.bind(n,11594)))),$_=u.lazy((()=>n.e(830).then(n.bind(n,99830)))),eE=(0,de.v)(X_),tE=(0,de.v)(x_),nE=(0,de.v)(G_),sE=(0,de.v)(U_),aE=(0,de.v)(Z_),iE=(0,de.v)(j_),rE=(0,de.v)(F_),oE=(0,de.v)(H_),lE=(0,de.v)(q_),cE=(0,de.v)(B_),dE=(0,de.v)(V_),mE=(0,de.v)(W_),uE=(0,de.v)(z_),pE=(0,de.v)(Y_),hE=(0,de.v)(K_),gE=(0,de.v)(J_),fE=(0,de.v)(Q_),bE=(0,de.v)($_),_E=e=>{let{component:t}=e,n=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["component"]);return u.createElement(g.AW,Object.assign({},n,{render:e=>u.createElement(iE,e,u.createElement(t,e))}))};class EE extends u.PureComponent{constructor(e){super(e),k_(this,"onConfigLoaded",(()=>{(0,V.X6)()&&(0,V.cz)();let e=R.ZP.TELEMETRY_RUDDER_KEY,t=R.ZP.TELEMETRY_RUDDER_DATAPLANE_URL;e.startsWith("placeholder")&&t.startsWith("placeholder")&&(e="",t=""),null!=e&&""!==e&&this.props.telemetryEnabled,"/"===this.props.location.pathname&&this.props.noAccounts&&this.props.history.push("/signup_user_complete"),(0,w.bP)().then((()=>{this.mounted&&this.setState({configLoaded:!0})})),(0,v.KW)()(O.Z.dispatch,O.Z.getState)})),k_(this,"handleLogoutLoginSignal",(e=>{const t=e=>e.storageArea===localStorage&&e.newValue;if(e.key===R.hC.LOGOUT&&t(e)&&(console.log("detected logout from a different tab"),y.gc("/",!1,!1)),e.key===R.hC.LOGIN&&t(e)){if((0,r.ts)(O.Z.getState()))return;document.addEventListener("visibilitychange",(function(){location.reload()}),!1)}})),this.currentCategoryFocus=0,this.currentSidebarFocus=0,this.mounted=!1,(0,f.x)((0,Ks.tU)()||(0,Ks.fO)()),(0,b.xW)(E.xn),window.addEventListener("storage",this.handleLogoutLoginSignal),document.addEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation()})),document.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation()})),this.state={configLoaded:!1},_.w6()||(this.a11yController=new O_)}componentDidUpdate(e){"/"===this.props.location.pathname&&(this.props.noAccounts?e.history.push("/signup_user_complete"):this.props.showTermsOfService&&e.history.push("/terms_of_service"))}componentDidMount(){h().attach(document.body),this.mounted=!0,this.props.actions.loadMeAndConfig().then((e=>{"/"===this.props.location.pathname&&e[2]&&e[2].data&&y.mc(),this.onConfigLoaded()})),(0,C.lS)()}componentWillUnmount(){this.mounted=!1,window.removeEventListener("storage",this.handleLogoutLoginSignal)}render(){var e;return this.state.configLoaded?u.createElement(Y,null,u.createElement(g.rs,null,u.createElement(g.AW,{path:"/error",component:tE}),u.createElement(Z,{path:"/login",component:sE}),u.createElement(Z,{path:"/reset_password",component:rE}),u.createElement(Z,{path:"/reset_password_complete",component:oE}),u.createElement(Z,{path:"/signup_user_complete",component:lE}),u.createElement(Z,{path:"/signup_email",component:cE}),u.createElement(Z,{path:"/should_verify_email",component:dE}),u.createElement(Z,{path:"/do_verify_email",component:mE}),u.createElement(Z,{path:"/claim",component:uE}),u.createElement(Z,{path:"/help",component:pE}),u.createElement(_E,{path:"/terms_of_service",component:nE}),u.createElement(g.AW,{path:"/landing",component:hE}),u.createElement(_E,{path:"/admin_console",component:aE}),u.createElement(j,{path:"/select_team",component:gE}),u.createElement(j,{path:"/oauth/authorize",component:fE}),u.createElement(j,{path:"/create_team",component:eE}),u.createElement(_E,{path:"/mfa",component:bE}),u.createElement(g.l_,{from:"/_redirect/integrations/:subpath*",to:"/".concat(this.props.permalinkRedirectTeamName,"/integrations/:subpath*")}),u.createElement(g.l_,{from:"/_redirect/pl/:postid",to:"/".concat(this.props.permalinkRedirectTeamName,"/pl/:postid")}),null===(e=this.props.plugins)||void 0===e?void 0:e.map((e=>u.createElement(g.AW,{key:e.id,path:"/plug/"+e.route,render:()=>u.createElement(D.Z,{pluggableName:"CustomRouteComponent",pluggableId:e.id})}))),u.createElement(_E,{path:"/:team",component:I_}),u.createElement(g.l_,{to:D_(D_({},this.props.location),{},{pathname:"/login"})}))):u.createElement("div",null)}}k_(EE,"propTypes",{telemetryEnabled:m().bool,noAccounts:m().bool,showTermsOfService:m().bool,permalinkRedirectTeamName:m().string,actions:m().shape({loadMeAndConfig:m().func.isRequired}).isRequired,plugins:m().array});const CE=(0,a.connect)((function(e){const t=(0,i.iE)(e),n=(0,r.YE)(e),s=e.plugins.components.CustomRouteComponent,a=c.Z.getPreviousTeamId((0,r.rc)(e)),l=(0,o.VP)(e,a);return{telemetryEnabled:"true"===t.DiagnosticsEnabled,noAccounts:"true"===t.NoAccounts,telemetryId:t.DiagnosticId,permalinkRedirectTeamName:l?l.name:"",showTermsOfService:n,plugins:s}}),(function(e){return{actions:(0,s.bindActionCreators)({loadMeAndConfig:l.X$},e)}}))(EE)},75872:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s,a,i,r=n(67294),o=n(73935),l=n(45697),c=n.n(l);class d extends r.PureComponent{constructor(e){super(e),this.el=document.createElement("div")}componentDidMount(){const e=document.getElementById("root-portal");e&&e.appendChild(this.el)}componentWillUnmount(){const e=document.getElementById("root-portal");e&&e.removeChild(this.el)}render(){return o.createPortal(this.props.children,this.el)}}s=d,a="propTypes",i={children:c().node},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i},58657:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(44012),o=n(21843);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{render(){const e=this.props,{saving:t,disabled:n,savingMessage:s,defaultMessage:a,btnClass:r,extraClasses:l}=e,c=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["saving","disabled","savingMessage","defaultMessage","btnClass","extraClasses"]);let d="save-button btn";return n&&!t||(d+=" "+r),l&&(d+=" "+l),i.createElement("button",Object.assign({type:"submit","data-testid":"saveSetting",id:"saveSetting",className:d,disabled:n},c),i.createElement(o.Z,{loading:t,text:s},i.createElement("span",null,a)))}}l(c,"propTypes",{saving:a().bool.isRequired,disabled:a().bool,id:a().string,onClick:a().func,savingMessage:a().node,defaultMessage:a().node,btnClass:a().string,extraClasses:a().string}),l(c,"defaultProps",{btnClass:"btn-primary",defaultMessage:i.createElement(r.Z,{id:"save_button.save",defaultMessage:"Save"}),disabled:!1,extraClasses:"",savingMessage:i.createElement(r.Z,{id:"save_button.saving",defaultMessage:"Saving"})})},88097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ye});var s,a,i,r=n(37703),o=n(14890),l=n(2913),c=n(70493),d=n(53497),m=n(63951),u=n(47715),p=n(67844),h=n(92337),g=(n(73210),n(23123),n(27852),n(24603),n(39714),n(33948),n(88674),n(67294)),f=n(86896),b=n(94184),_=n.n(b),E=n(52952),C=n(47470),y=n(74935),v=n(57006),w=n(46919),S=n(37060),T=n(93620),P=n(2192),M=n(6429),N=n(45697),I=n.n(N),R=n(44012),A=n(4002),O=n.n(A),L=n(73935),D=n(92094);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends D.Z{constructor(e){super(e),x(this,"getContent",(()=>O()(L.findDOMNode(this.popoverRef.current)).find(".popover-content"))),this.itemRefs=new Map,this.popoverRef=g.createRef(),this.suggestionReadOut=g.createRef()}generateLabel(e){e.username?(this.currentLabel=e.username,(e.first_name||e.last_name)&&e.nickname?this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name," ").concat(e.nickname):e.nickname?this.currentLabel+=" ".concat(e.nickname):(e.first_name||e.last_name)&&(this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name))):e.type===h.ZP.DM_CHANNEL||e.type===h.ZP.GM_CHANNEL?this.currentLabel=e.display_name:this.currentLabel=e.name,this.currentLabel&&(this.currentLabel=this.currentLabel.toLowerCase()),this.announceLabel()}renderChannelDivider(e){let t;return t=e===h.ZP.OPEN_CHANNEL?g.createElement(R.Z,{id:"suggestion.search.public",defaultMessage:"Public Channels"}):e===h.ZP.PRIVATE_CHANNEL?g.createElement(R.Z,{id:"suggestion.search.private",defaultMessage:"Private Channels"}):g.createElement(R.Z,{id:"suggestion.search.direct",defaultMessage:"Direct Messages"}),g.createElement("div",{key:e+"-divider",className:"search-autocomplete__divider"},g.createElement("span",null,t))}render(){if(0===this.props.items.length)return null;const e=[];let t=!1;for(let n=0;n<this.props.items.length;n++){const s=this.props.items[n],a=this.props.terms[n],i=a===this.props.selection,r=this.props.components[n];this.props.renderDividers&&(0!==n&&s.type===this.props.items[n-1].type||(s.type===h.ZP.DM_CHANNEL||s.type===h.ZP.GM_CHANNEL?(t||e.push(this.renderChannelDivider(h.ZP.DM_CHANNEL)),t=!0):s.type===h.ZP.PRIVATE_CHANNEL?e.push(this.renderChannelDivider(h.ZP.PRIVATE_CHANNEL)):s.type===h.ZP.OPEN_CHANNEL&&e.push(this.renderChannelDivider(h.ZP.OPEN_CHANNEL)))),i&&(this.currentItem=s),e.push(g.createElement(r,{key:a,ref:e=>this.itemRefs.set(a,e),item:s,term:a,matchedPretext:this.props.matchedPretext[n],isSelection:i,onClick:this.props.onCompleteWord,onMouseMove:this.props.onItemHover}))}return g.createElement(M.Z,{ref:this.popoverRef,id:"search-autocomplete__popover",className:"search-help-popover autocomplete visible",placement:"bottom"},g.createElement("div",{ref:this.suggestionReadOut,"aria-live":"polite",className:"hidden-label"}),e)}}x(U,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},D.Z.propTypes));class Z extends g.PureComponent{render(){if(0===this.props.items.length)return null;const e=this.props.items[0],t=this.props.terms[0],n=this.props.components[0],s=g.createElement(n,{key:t,ref:t,item:e,term:t,matchedPretext:this.props.matchedPretext[0],isSelection:!1,onClick:this.props.onCompleteWord});return g.createElement(M.Z,{id:"search-autocomplete__popover",className:"search-help-popover autocomplete visible",placement:"bottom"},s)}}s=Z,a="propTypes",i={onCompleteWord:I().func.isRequired,items:I().array.isRequired,terms:I().array.isRequired,components:I().array.isRequired,matchedPretext:I().array.isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;var j=n(39864),F=n(56640);const{KeyCodes:H}=h.ZP,q={searchForm:{overflow:"visible"}},B=e=>{const{isFocused:t,keepFocused:n,searchTerms:s,suggestionProviders:a}=e,i=(0,g.useRef)(),r=(0,f.Z)();return(0,g.useEffect)((()=>{t||n?setTimeout((()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.focus()}),0):setTimeout((()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.blur()}),0)}),[t,n]),(0,g.useEffect)((()=>{t&&!n&&s.endsWith('""')&&setTimeout((()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.focus()}),0)}),[s]),g.createElement("div",{id:e.isSideBarRight?"sbrSearchFormContainer":"searchFormContainer",className:"search-form__container"},g.createElement("form",{role:"application",className:_()(["search__form",{"search__form--focused":t}]),onSubmit:e.handleSubmit,style:q.searchForm,autoComplete:"off","aria-labelledby":"searchBox"},g.createElement("div",{className:"search__font-icon"},g.createElement("i",{className:"icon icon-magnify icon-16"})),""!==e.searchType&&g.createElement("div",{className:"searchTypeBadge",onMouseDown:e.handleFocus},"messages"===e.searchType&&g.createElement(R.Z,{id:"search_bar.search_types.messages",defaultMessage:"MESSAGES"}),"files"===e.searchType&&g.createElement(R.Z,{id:"search_bar.search_types.files",defaultMessage:"FILES"}),g.createElement("i",{className:"icon icon-close icon-12",onMouseDown:()=>{e.setKeepFocused(!0)},onClick:()=>e.clearSearchType&&e.clearSearchType()})),g.createElement(j.Z,{ref:t=>{i.current=t,e.getFocus&&e.getFocus(e.handleFocus)},id:e.isSideBarRight?"sbrSearchBox":"searchBox",tabIndex:"0",className:"search-bar form-control a11y__region",containerClass:"w-full","data-a11y-sort-order":"9","aria-describedby":e.isSideBarRight?"sbr-searchbar-help-popup":"searchbar-help-popup","aria-label":r.formatMessage({id:"search_bar.search",defaultMessage:"Search"}),placeholder:r.formatMessage({id:"search_bar.search",defaultMessage:"Search"}),value:e.searchTerms,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange,onKeyDown:t=>{var n;y.pD(t,H.ESCAPE)&&(null===(n=i.current)||void 0===n||n.blur(),t.stopPropagation(),t.preventDefault()),y.pD(t,H.DOWN)&&(t.preventDefault(),e.updateHighlightedSearchHint(1,!0)),y.pD(t,H.UP)&&(t.preventDefault(),e.updateHighlightedSearchHint(-1,!0)),y.pD(t,H.ENTER)&&e.handleEnterKey(t),y.pD(t,H.BACKSPACE)&&!s&&e.clearSearchType&&e.clearSearchType()},listComponent:U,dateComponent:Z,providers:a,type:"search",autoFocus:e.isFocus&&""===s,delayInputUpdate:!0,renderDividers:!0,clearable:!0,onClear:e.handleClear}),e.isSearchingTerm&&g.createElement(F.Z,null),e.children))};B.propTypes={searchTerms:I().string.isRequired,updateHighlightedSearchHint:I().func.isRequired,handleChange:I().func.isRequired,handleSubmit:I().func.isRequired,handleEnterKey:I().func.isRequired,handleClear:I().func.isRequired,handleFocus:I().func.isRequired,handleBlur:I().func.isRequired,keepFocused:I().bool.isRequired,setKeepFocused:I().func.isRequired,isFocused:I().bool.isRequired,suggestionProviders:I().array.isRequired,isSearchingTerm:I().bool.isRequired,isFocus:I().bool.isRequired,isSideBarRight:I().bool,searchType:I().string.isRequired,clearSearchType:I().func,getFocus:I().func,children:I().node},B.defaultProps={isSideBarRight:!1,getFocus:()=>{},children:null};const G=B;var V=n(42560),W=n(85357),z=n(43832),Y=n(26961),K=n(84827),J=n(16146),Q=(n(19601),n(31298)),X=n(60871),$=n(8943),ee=n(81214),te=n(21843),ne=n(28292),se=n(49671),ae=n(13516),ie=n(15240),re=n(38122);function oe(e){return g.createElement("div",{className:"FilesFilterMenu"},g.createElement(re.Z,null,g.createElement("span",{className:"action-icon dots-icon"},"all"!==e.selectedFilter&&g.createElement("i",{className:"icon-dot"}),g.createElement("i",{className:"icon icon-filter-variant"})),g.createElement(ie.Z,{ariaLabel:"file menu",openLeft:!0},g.createElement(ie.Z.ItemAction,{ariaLabel:"All file types",text:"All file types",onClick:()=>e.onFilter("all"),icon:"all"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}),g.createElement(ie.Z.ItemAction,{ariaLabel:"Documents",text:"Documents",onClick:()=>e.onFilter("documents"),icon:"documents"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}),g.createElement(ie.Z.ItemAction,{ariaLabel:"Spreadsheets",text:"Spreadsheets",onClick:()=>e.onFilter("spreadsheets"),icon:"spreadsheets"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}),g.createElement(ie.Z.ItemAction,{ariaLabel:"Presentations",text:"Presentations",onClick:()=>e.onFilter("presentations"),icon:"presentations"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}),g.createElement(ie.Z.ItemAction,{ariaLabel:"Code",text:"Code",onClick:()=>e.onFilter("code"),icon:"code"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}),g.createElement(ie.Z.ItemAction,{ariaLabel:"Images",text:"Images",onClick:()=>e.onFilter("images"),icon:"images"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}),g.createElement(ie.Z.ItemAction,{ariaLabel:"Audio",text:"Audio",onClick:()=>e.onFilter("audio"),icon:"audio"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}),g.createElement(ie.Z.ItemAction,{ariaLabel:"Videos",text:"Videos",onClick:()=>e.onFilter("video"),icon:"video"===e.selectedFilter?g.createElement("i",{className:"icon icon-check"}):null}))))}oe.propTypes={selectedFilter:I().string.isRequired,onFilter:I().func.isRequired};const{KeyCodes:le}=h.ZP;function ce(e){return g.createElement("div",{className:"MessagesOrFilesSelector"},g.createElement("div",{className:"buttons-container"},g.createElement("button",{onClick:()=>e.onChange("messages"),onKeyDown:t=>y.pD(t,le.ENTER)&&e.onChange("messages"),className:"messages"===e.selected?"active tab messages-tab":"tab messages-tab"},g.createElement(R.Z,{id:"search_bar.messages_tab",defaultMessage:"Messages"}),g.createElement("span",{className:"counter"},e.messagesCounter)),g.createElement("button",{onClick:()=>e.onChange("files"),onKeyDown:t=>y.pD(t,le.ENTER)&&e.onChange("files"),className:"files"===e.selected?"active tab files-tab":"tab files-tab"},g.createElement(R.Z,{id:"search_bar.files_tab",defaultMessage:"Files"}),g.createElement("span",{className:"counter"},e.filesCounter))),"files"===e.selected&&g.createElement(oe,{selectedFilter:e.selectedFilter,onFilter:e.onFilter}))}ce.propTypes={selected:I().string.isRequired,messagesCounter:I().string.isRequired,filesCounter:I().string.isRequired,onChange:I().func.isRequired,onFilter:I().func.isRequired};const de="files",me="messages",ue=e=>g.createElement("div",Object.assign({},e,{className:"scrollbar--view"})),pe=e=>g.createElement("div",Object.assign({},e,{className:"scrollbar--horizontal"})),he=e=>g.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"})),ge=e=>{const t=(0,g.useRef)(null),[n,s]=(0,g.useState)(e.searchType),a=(0,f.Z)();(0,g.useEffect)((()=>{var n;"all"!==e.searchFilterType&&e.setSearchFilterType("all"),s(e.searchType),null===(n=t.current)||void 0===n||n.scrollToTop()}),[e.searchTerms]),(0,g.useEffect)((()=>{0!==e.searchPage||e.isChannelFiles||setTimeout((()=>{e.getMorePostsForSearch(),e.getMoreFilesForSearch()}),100)}),[e.searchPage,e.searchTerms]);const i=(0,X.Ds)((()=>{e.getMorePostsForSearch()}),100,!1,(()=>{})),r=(0,X.Ds)((()=>{e.getMoreFilesForSearch()}),100,!1,(()=>{})),{results:o,fileResults:l,searchTerms:c,isCard:d,isSearchAtEnd:m,isSearchFilesAtEnd:u,isSearchingTerm:p,isFlaggedPosts:b,isSearchingFlaggedPost:E,isPinnedPosts:C,isChannelFiles:v,isSearchingPinnedPost:T,isSideBarExpanded:P,isMentionSearch:M,isOpened:N,updateSearchTerms:I,handleSearchHintSelection:A,searchFilterType:O,setSearchFilterType:L}=e,D=!o||!Array.isArray(o)||0===o.length,k=!l||!Array.isArray(l)||0===l.length,x=p||E||T||!N,U=!(n===me&&m||n===de&&u||v||b||C),Z=!(b||M||d||C||v);let j,F,H=o;const q={},B={variant:ae.U.ChannelSearch};M?(B.variant=ae.U.Mentions,q.id="search_header.title2",q.defaultMessage="Recent Mentions"):b?(B.variant=ae.U.FlaggedPosts,B.subtitleValues={icon:g.createElement(S.Z,{className:"icon  no-results__mini_icon"})},q.id="search_header.title3",q.defaultMessage="Saved Posts"):C?(B.variant=ae.U.PinnedPosts,B.subtitleValues={text:g.createElement("strong",null,"Pin to Channel")},H=[...o],H.sort(((e,t)=>t.create_at-e.create_at)),q.id="search_header.pinnedPosts",q.defaultMessage="Pinned Posts"):v?(B.variant="all"===O?ae.U.ChannelFiles:ae.U.ChannelFilesFiltered,q.id="search_header.channelFiles",q.defaultMessage="Files"):d?(q.id="search_header.title5",q.defaultMessage="Extra information"):!c&&D&&k?(q.id="search_header.search",q.defaultMessage="Search"):(B.titleValues={channelName:'"'.concat(c,'"')},q.id="search_header.results",q.defaultMessage="Search Results");const G=a.formatMessage(q),V=e=>{A(),I(e)};switch(!0){case x:j=g.createElement("div",{className:"sidebar--right__subheader a11y__section"},g.createElement("div",{className:"sidebar--right__loading"},g.createElement(te.Z,{text:y._u("search_header.loading","Searching")})));break;case D&&!c&&!M&&!C&&!b&&!v:j=g.createElement("div",{className:"sidebar--right__subheader search__hints a11y__section"},g.createElement(w.Z,{onOptionSelected:V,options:h.M9}));break;case D&&n===me&&!v:case k&&(n===de||v):j=g.createElement("div",{className:_()(["sidebar--right__subheader a11y__section",{"sidebar-expanded":P}])},g.createElement(ne.Z,B));break;default:(n===de||v)&&(H=l),j=H.map(((t,s)=>n!==me||e.isChannelFiles?g.createElement(se.Z,{key:t.id,fileInfo:t,teamName:e.currentTeamName,channelType:e.channels[t.channel_id]&&e.channels[t.channel_id].type,channelDisplayName:e.channels[t.channel_id]&&e.channels[t.channel_id].display_name}):g.createElement(ee.Z,{key:t.id,compactDisplay:e.compactDisplay,post:t,channelName:e.channels[t.channel_id]&&e.channels[t.channel_id].display_name,channelType:e.channels[t.channel_id]&&e.channels[t.channel_id].type,channelIsArchived:e.channels[t.channel_id]&&0!==e.channels[t.channel_id].delete_at,matches:e.matches[t.id],term:e.isFlaggedPosts||e.isPinnedPosts||e.isMentionSearch?"":c,isMentionSearch:e.isMentionSearch,a11yIndex:s,isFlaggedPosts:e.isFlaggedPosts,isPinnedPosts:e.isPinnedPosts}))),F=U?g.createElement("div",{className:"loading-screen"},g.createElement("div",{className:"loading__content"},g.createElement("div",{className:"round round-1"}),g.createElement("div",{className:"round round-2"}),g.createElement("div",{className:"round round-3"}))):null}return g.createElement("div",{id:"searchContainer",className:"SearchResults sidebar-right__body"},g.createElement($.Z,null,G,e.channelDisplayName&&g.createElement("div",{className:"sidebar--right__title__channel"},e.channelDisplayName)),Z&&g.createElement(ce,{selected:n,selectedFilter:O,messagesCounter:m||0===e.searchPage?"".concat(o.length):"".concat(o.length,"+"),filesCounter:u||0===e.searchPage?"".concat(l.length):"".concat(l.length,"+"),onChange:s,onFilter:L}),v&&g.createElement("div",{className:"channel-files__header"},g.createElement("div",{className:"channel-files__title"},g.createElement(R.Z,{id:"search_results.channel-files-header",defaultMessage:"Recent files"})),g.createElement(oe,{selectedFilter:O,onFilter:L})),g.createElement(Q.ZP,{ref:t,autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:pe,renderThumbVertical:he,renderView:ue,onScroll:()=>{if(!(e.isFlaggedPosts||e.isPinnedPosts||e.isSearchingTerm||e.isSearchGettingMore||e.isChannelFiles)){var s,a,o;const e=(null===(s=t.current)||void 0===s?void 0:s.getScrollHeight())||0;((null===(a=t.current)||void 0===a?void 0:a.getScrollTop())||0)+((null===(o=t.current)||void 0===o?void 0:o.getClientHeight())||0)+30>=e&&(n===de?r():i())}}},g.createElement("div",{id:"search-items-container",role:"application",className:_()(["search-items-container post-list__table a11y__region",{"no-results":D&&n===me||k&&n===de,"channel-files-container":v}]),"data-a11y-sort-order":"3","data-a11y-focus-child":!0,"data-a11y-loop-navigation":!1,"aria-label":a.formatMessage({id:"accessibility.sections.rhs",defaultMessage:"{regionTitle} complimentary region"},{regionTitle:G})},j,F)))};ge.defaultProps={isCard:!1,isOpened:!1,channelDisplayName:"",children:null};const fe=(e,t)=>{for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"results"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&"fileResults"!==n&&t[n]!==e[n])return!1;const{results:n}=e,{results:s}=t;if(n.length!==s.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==s[e])return!1;const{fileResults:a}=e,{fileResults:i}=t;if(a.length!==i.length)return!1;for(let e=0;e<a.length;e++)if(a[e]!==i[e])return!1;return!0},be=g.memo(ge,fe),_e=(0,r.connect)((function(){let e,t,n,s=[];return function(a){var i;const r="true"===(0,V.iE)(a).ExperimentalViewArchivedChannels,o=(0,W.BP)(a),l={};o&&o!==e&&(e=o,n=[],e.forEach((e=>{if(!e)return;const t=(0,c.mr)(a,e.channel_id);t&&0!==t.delete_at&&!r||(l[e.channel_id]=t,n.push(e))})));const d=(0,z.lJ)(a);d&&d!==t&&(t=d,s=[],t.forEach((e=>{if(!e)return;const t=(0,c.mr)(a,e.channel_id);t&&0!==t.delete_at&&!r||s.push(e)}))),t.forEach((e=>{if(!e)return;const t=(0,c.mr)(a,e.channel_id);l[e.channel_id]=t})),e.forEach((e=>{if(!e)return;const t=(0,c.mr)(a,e.channel_id);l[e.channel_id]=t}));const m=(0,K.M6)(a)||{};return{results:n,fileResults:s,channels:l,matches:(0,W.Or)(a),searchTerms:(0,p.kH)(a),isSearchingTerm:(0,p.Cd)(a),isSearchingFlaggedPost:(0,p.Nz)(a),isSearchingPinnedPost:(0,p.Yn)(a),isSearchGettingMore:(0,p.yS)(a),isSearchAtEnd:m.isEnd,isSearchFilesAtEnd:m.isFilesEnd,searchPage:null===(i=m.params)||void 0===i?void 0:i.page,compactDisplay:Y.U2(a,h.uP.CATEGORY_DISPLAY_SETTINGS,h.uP.MESSAGE_DISPLAY,h.uP.MESSAGE_DISPLAY_DEFAULT)===h.uP.MESSAGE_DISPLAY_COMPACT,currentTeamName:(0,J.kA)(a).name}}}))(be);var Ee=n(64972),Ce=n(89980),ye=n(76938),ve=n(58367),we=n(13776),Se=n(6602),Te=n(63738),Pe=n.n(Te),Me=n(30071),Ne=n(91857);n(30381);const Ie={};class Re extends Ne.Z{constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"handleDayClick",(e=>{const t=e.toISOString().split("T")[0];this.props.onClick(t,this.props.matchedPretext)}))}componentDidMount(){const e=this.props.locale.toLowerCase();e&&"en"!==e&&!Ie[e]&&(Ie[e]=n(46700)("./".concat(e)))}componentDidUpdate(e){const t=this.props.locale.toLowerCase();t&&"en"!==t&&t!==e.locale&&!Ie[t]&&(Ie[t]=n(46700)("./".concat(t)))}render(){let e;this.props.currentDate&&(e={today:this.props.currentDate});const t=this.props.locale.toLowerCase();return g.createElement(Pe(),{onDayClick:this.handleDayClick,showOutsideDays:!0,modifiers:e,localeUtils:Me.default,locale:t,ref:e=>{this.node=e}})}}const Ae=(0,r.connect)((function(e){const t=(0,Ce.rc)(e),n=(0,ye.S)(e,t),s=(0,Se.B)(e);let a;return(0,we.Y)(e)&&(a=n.useAutomaticTimezone?(0,ve.Oz)(n.automaticTimezone):(0,ve.Oz)(n.manualTimezone)),{currentDate:a,locale:s}}))(Re);class Oe extends Ee.Z{handlePretextChanged(e,t){const n=/\b(?:on|before|after):\s*(\S*)$/i.exec(e.toLowerCase());if(n){const e=n[1];this.startNewRequest(e);const s=Object.assign([],[{label:"Selected Date",date:e}]);t({matchedPretext:e,terms:s.map((e=>e.date)),items:s,component:Ae})}return Boolean(n)}allowDividers(){return!1}presentationType(){return"date"}}n(15306),n(23157);var Le=n(71816),De=n(72009),ke=n(69632),xe=n(54300);class Ue extends Ne.Z{render(){const{item:e,isSelection:t,teammate:n,currentUser:s}=this.props;let a="search-autocomplete__item";t&&(a+=" selected a11y--focused");const i=function(e,t){let n;if(e.type===h.ZP.DM_CHANNEL){const s=g.createElement(ke.Z,{url:(0,y.bb)((0,Le.aU)(t,e.name)),size:"sm"});n=g.createElement(g.Fragment,null,s,g.createElement("span",{className:"ml-3"},"@",e.display_name))}return e.type===h.ZP.GM_CHANNEL&&(n=g.createElement(g.Fragment,null,g.createElement("div",{className:"search-autocomplete__icon"},g.createElement("div",{className:"status status--group"},"G")),g.createElement("span",{className:"ml-3"},"@",e.display_name.replace(/ /g,"")))),e.type===h.ZP.OPEN_CHANNEL&&(n=g.createElement(g.Fragment,null,g.createElement("div",{className:"search-autocomplete__icon"},g.createElement("i",{className:"icon light icon--standard icon--no-spacing icon-globe"})),g.createElement("span",{className:"ml-3"},e.display_name),g.createElement("span",{className:"ml-2 light"},"~",e.name))),e.type===h.ZP.PRIVATE_CHANNEL&&(n=g.createElement(g.Fragment,null,g.createElement("div",{className:"search-autocomplete__icon"},g.createElement("i",{className:"icon light icon--standard icon--no-spacing icon-lock-outline"})),g.createElement("span",{className:"ml-3"},e.display_name),g.createElement("span",{className:"ml-2 light"},"~",e.name))),n}(e,s);let r=null;return e.type===h.ZP.DM_CHANNEL&&(r=g.createElement(xe.Z,{show:Boolean(n&&n.is_bot),className:"badge-popoverlist"})),g.createElement("div",Object.assign({onClick:this.handleClick,onMouseMove:this.handleMouseMove,className:a},Ne.Z.baseProps),g.createElement("span",{"data-testid":"listItem",className:"search-autocomplete__name"},i),r)}}const Ze=(0,r.connect)(((e,t)=>({teammate:(0,y.PR)(e,t.item.id),currentUser:(0,Ce.rc)(e)})),null,null,{forwardRef:!0})(Ue),je=De.Z.getState;function Fe(e,t){const n=e?"":"@";return t.type===h.ZP.DM_CHANNEL?n+t.display_name:t.type===h.ZP.GM_CHANNEL?n+t.display_name.replace(/ /g,""):(t.type===h.ZP.OPEN_CHANNEL||(t.type,h.ZP.PRIVATE_CHANNEL),t.name)}class He extends Ee.Z{constructor(e){super(),this.autocompleteChannelsForSearch=e}handlePretextChanged(e,t){const n=/\b(?:in|channel):\s*(\S*)$/i.exec(e.toLowerCase());if(n){let e=n[1];const s=e.startsWith("@");s&&(e=e.replace(/^@/,"")),this.startNewRequest(e),this.autocompleteChannelsForSearch(e,(n=>{if(this.shouldCancelDispatch(e))return;let a=n;s&&(a=a.filter((e=>(0,Le.I3)(e)||(0,Le.wk)(e))));const i=(0,Se.B)(je());a=a.sort(Le.ck.bind(null,i,[h.ZP.OPEN_CHANNEL,h.ZP.PRIVATE_CHANNEL,h.ZP.DM_CHANNEL,h.ZP.GM_CHANNEL]));const r=a.map(Fe.bind(null,s));t({matchedPretext:e,terms:r,items:a,component:Ze})}))}return Boolean(n)}}var qe=n(58423);class Be extends Ne.Z{render(){const{item:e,isSelection:t}=this.props;let n="search-autocomplete__item";t&&(n+=" selected a11y--focused");const s=e.username;let a,i="";return(e.first_name||e.last_name)&&e.nickname?i="".concat(y.Pp(e)," (").concat(e.nickname,")"):e.nickname?i="(".concat(e.nickname,")"):(e.first_name||e.last_name)&&(i="".concat(y.Pp(e))),e.remote_id&&(a=g.createElement(qe.Z,{className:"mention__shared-user-icon",withTooltip:!0})),g.createElement("div",Object.assign({className:n,ref:e=>{this.node=e},onClick:this.handleClick,onMouseMove:this.handleMouseMove},Ne.Z.baseProps),g.createElement(ke.Z,{size:"sm",username:s,url:y.bb(e.id,e.last_picture_update)}),g.createElement("div",{className:"mention--align ml-3"},g.createElement("span",null,"@",s),g.createElement(xe.Z,{show:Boolean(e.is_bot),className:"badge-autocomplete"}),g.createElement("span",{className:"ml-2 mention__fullname"},i)),a)}}class Ge extends Ee.Z{constructor(e){super(),this.autocompleteUsersInTeam=e}handlePretextChanged(e,t){const n=/\bfrom:\s*(\S*)$/i.exec(e.toLowerCase());return this.doAutocomplete(n,t),Boolean(n)}async doAutocomplete(e,t){if(!e)return;const n=e[1];this.startNewRequest(n);const s=await this.autocompleteUsersInTeam(n);if(this.shouldCancelDispatch(n))return;const a=Object.assign([],s.users);t({matchedPretext:n,terms:a.map((e=>e.username)),items:a,component:Be})}allowDividers(){return!0}}const Ve=(e,t)=>{let n=[],s=h.M9;if("files"===t&&(s=h.yg),""===e.trim())return s;const a=e.split(/\s+/g),i=a[a.length-1],r=a[a.length-2];if(r?!s.some((({searchTerm:e})=>r.toLowerCase().endsWith(e.toLowerCase()))):!s.some((({searchTerm:t})=>e.toLowerCase().endsWith(t.toLowerCase()))))try{n=s.filter((e=>new RegExp(i,"ig").test(e.searchTerm)&&e.searchTerm.toLowerCase()!==i.toLowerCase()))}catch(e){n=[]}return n},We=e=>{const{actions:t,searchTerms:n,searchType:s,currentChannel:a,hideSearchBar:i,enableFindShortcut:r}=e,o=(0,f.Z)(),[l,c]=(0,g.useState)(!1),[d,m]=(0,g.useState)(!1),[u,p]=(0,g.useState)(!1),[b,N]=(0,g.useState)(-1),[I,R]=(0,g.useState)(Ve(n,s)),[A,O]=(0,g.useState)("all"),L=(0,g.useRef)([new Oe,new He(t.autocompleteChannelsForSearch),new Ge(t.autocompleteUsersInTeam)]),D=(0,C.P)()&&(0,E.l)((0,C.zF)(),"4.7.0");(0,g.useEffect)((()=>{if(!r)return;const e=e=>{y._E(e)&&y.pD(e,h.ZP.KeyCodes.F)&&(D||!D&&e.shiftKey)&&(e.preventDefault(),i&&(t.openRHSSearch(),m(!0)),a&&F("in:".concat(a.name," ")),x())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[a,i]),(0,g.useEffect)((()=>{y.tq()||R(Ve(n,s))}),[n,s]),(0,g.useEffect)((()=>{!y.tq()&&l&&d&&U()}),[n]),(0,g.useEffect)((()=>{e.isFocus&&!e.isRhsOpen?x():U()}),[e.isRhsOpen]);const k=()=>t.closeRightHandSide(),x=()=>c(!0),U=()=>{setTimeout((()=>{d?m(!1):c(!1)}),0),q()},Z=()=>{l?m(!0):c(!0)},j=e=>{const t=(null==n?void 0:n.split(" "))||[];t.pop(),t.push(e.toLowerCase()),F(t.join(" "))},F=e=>{t.updateSearchTerms(e),q()},H=e=>{const n=e.target.value;t.updateSearchTerms(n)},q=(e=0,t=!1)=>{if(Math.abs(e)>1)return;let n=b+e;switch(e){case 1:n=n===I.length?0:n;break;case-1:n=n<0?I.length-1:n;break;case 0:default:n=-1}N(n),p(t)},B=a=>{!u||s||n?u&&(a.preventDefault(),m(!0),j(I[b].searchTerm)):(a.preventDefault(),m(!0),t.updateSearchType(0===b?"messages":"files"),N(-1)),e.isMentionSearch&&(a.preventDefault(),t.updateRhsState(h.Hp.SEARCH))},V=e=>{e.preventDefault(),W().then((()=>{m(!1),c(!1)}))},W=async()=>{if(0===n.trim().length)return;const{error:s}=await t.showSearchResults(Boolean(e.isMentionSearch));s||z()},z=()=>{y.tq()&&Y()},Y=()=>{e.isMentionSearch&&(c(!1),t.updateRhsState(h.Hp.SEARCH)),t.updateSearchTerms(""),t.updateSearchType("")},K=e=>{N(e),p(!1)},J=()=>g.createElement(g.Fragment,null,g.createElement("div",{className:"sidebar-collapse__container"},g.createElement("div",{id:e.isSideBarRight?"sbrSidebarCollapse":"sidebarCollapse",className:"sidebar-collapse",onClick:k},g.createElement("span",{className:"fa fa-2x fa-angle-left",title:o.formatMessage({id:"generic_icons.back",defaultMessage:"Back Icon"})}))),g.createElement(G,{updateHighlightedSearchHint:q,handleEnterKey:B,handleClear:Y,handleChange:H,handleSubmit:V,handleFocus:x,handleBlur:U,keepFocused:d,setKeepFocused:m,isFocused:l,suggestionProviders:L.current,isSideBarRight:e.isSideBarRight,isSearchingTerm:e.isSearchingTerm,isFocus:e.isFocus,getFocus:e.getFocus,searchTerms:n,searchType:s,clearSearchType:()=>t.updateSearchType("")},!y.tq()&&(()=>{let a=0;if(null==n||n.split(/[: ]/g).forEach((e=>{let t=h.M9;"files"===s&&(t=h.yg),t.some((({searchTerm:t})=>t.toLowerCase()===e.toLowerCase()))&&a++})),0===I.length||e.isMentionSearch)return g.createElement(g.Fragment,null);const i="search-help-popover".concat(l&&a<=2?" visible":"");return g.createElement(M.Z,{id:"".concat(e.isSideBarRight?"sbr-":"","searchbar-help-popup"),placement:"bottom",className:i},g.createElement(w.Z,{options:I,withTitle:!0,onOptionSelected:j,onMouseDown:Z,highlightedIndex:b,onOptionHover:K,onSearchTypeSelected:s||n?void 0:e=>t.updateSearchType(e),searchType:s}))})()));return e.isSideBarRight?g.createElement("div",{className:"sidebar--right__content"},g.createElement("div",{className:"search-bar__container channel-header alt"},g.createElement("div",{className:"sidebar-right__table"},J(),g.createElement(v.Z,{iconComponent:g.createElement(T.Z,{className:"icon icon--standard","aria-hidden":"true"}),ariaLabel:!0,buttonClass:_()("channel-header__icon",{"channel-header__icon--active":e.isMentionSearch}),buttonId:e.isSideBarRight?"sbrChannelHeaderMentionButton":"channelHeaderMentionButton",onClick:n=>{n.preventDefault(),e.isMentionSearch?t.closeRightHandSide():t.showMentions()},tooltipKey:"recentMentions",isRhsOpen:e.isRhsOpen}),g.createElement(v.Z,{iconComponent:g.createElement(S.Z,{className:"icon icon--standard"}),ariaLabel:!0,buttonClass:_()("channel-header__icon ",{"channel-header__icon--active":e.isFlaggedPosts}),buttonId:e.isSideBarRight?"sbrChannelHeaderFlagButton":"channelHeaderFlagButton",onClick:n=>{n.preventDefault(),e.isFlaggedPosts?t.closeRightHandSide():t.showFlaggedPosts()},tooltipKey:"flaggedPosts",isRhsOpen:e.isRhsOpen}))),e.searchVisible?g.createElement(_e,{isMentionSearch:e.isMentionSearch,isFlaggedPosts:!1,isPinnedPosts:e.isPinnedPosts,isChannelFiles:e.isChannelFiles,shrink:()=>{e.actions.setRhsExpanded(!1)},channelDisplayName:e.channelDisplayName,isOpened:e.isSideBarRightOpen,updateSearchTerms:j,handleSearchHintSelection:Z,isSideBarExpanded:e.isRhsExpanded,getMorePostsForSearch:e.actions.getMorePostsForSearch,getMoreFilesForSearch:e.actions.getMoreFilesForSearch,setSearchFilterType:t=>{switch(t){case"documents":e.actions.filterFilesSearchByExt(["doc","pdf","docx","odt","rtf","txt"]);break;case"spreadsheets":e.actions.filterFilesSearchByExt(["xls","xlsx","ods"]);break;case"presentations":e.actions.filterFilesSearchByExt(["ppt","pptx","odp"]);break;case"code":e.actions.filterFilesSearchByExt(["py","go","java","kt","c","cpp","h","html","js","ts","cs","vb","php","pl","r","rb","sql","swift","json"]);break;case"images":e.actions.filterFilesSearchByExt(["png","jpg","jpeg","bmp","tiff","svg","psd","xcf"]);break;case"audio":e.actions.filterFilesSearchByExt(["ogg","mp3","wav","flac"]);break;case"video":e.actions.filterFilesSearchByExt(["ogm","mp4","avi","webm","mov","mkv","mpeg","mpg"]);break;default:e.actions.filterFilesSearchByExt([])}O(t),e.isChannelFiles&&a?e.actions.showChannelFiles(a.id):e.actions.showSearchResults(!1)},searchFilterType:A,setSearchType:e=>t.updateSearchType(e),searchType:s||"messages"}):e.children):i?g.createElement(v.Z,{iconComponent:g.createElement(P.Z,{className:"icon icon--standard","aria-hidden":"true"}),ariaLabel:!0,buttonId:"channelHeaderSearchButton",onClick:e=>{e.preventDefault(),t.openRHSSearch()},tooltipKey:"search"}):g.createElement("div",{id:"searchbarContainer",className:"flex-child search-bar__container"},g.createElement("div",{className:"sidebar-right__table"},J()))};We.defaultProps={searchTerms:"",channelDisplayName:"",isFocus:!1,isSideBarRight:!1,getFocus:()=>{}};const ze=g.memo(We),Ye=(0,r.connect)((function(e){const t=(0,p.kV)(e);return{currentChannel:(0,c.TB)(e),isRhsExpanded:(0,p.OZ)(e),isRhsOpen:(0,p.aC)(e),isSearchingTerm:(0,p.Cd)(e),searchTerms:(0,p.fP)(e),searchType:(0,p.ge)(e),searchVisible:Boolean(t)&&t!==h.Hp.PLUGIN,isMentionSearch:t===h.Hp.MENTION,isFlaggedPosts:!1,isPinnedPosts:t===h.Hp.PIN,isChannelFiles:t===h.Hp.CHANNEL_FILES}}),(function(e){return{actions:(0,o.bindActionCreators)({updateSearchTerms:d.MR,updateSearchType:d.I_,showSearchResults:d.O8,showChannelFiles:d.Cj,showMentions:d.rb,showFlaggedPosts:d.Yv,setRhsExpanded:d.JI,closeRightHandSide:d.Lg,autocompleteChannelsForSearch:m.Z$,autocompleteUsersInTeam:u.XM,updateRhsState:d.D5,getMorePostsForSearch:l.X_,openRHSSearch:d.Xv,getMoreFilesForSearch:l.P3,filterFilesSearchByExt:d._$},e)}}))(ze)},46919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s=n(45697),a=n.n(s),i=n(67294),r=n(44012),o=n(94184),l=n.n(o);const c=e=>e.onSearchTypeSelected&&!e.searchType?i.createElement("div",{className:"search-hint__search-type-selector",onMouseDown:e.onMouseDown},i.createElement("div",null,i.createElement(r.Z,{id:"search_bar.usage.search_type_question",defaultMessage:"What are you searching for?"})),i.createElement("div",{className:"button-container"},i.createElement("button",{className:l()({highlighted:0===e.highlightedIndex}),onClick:()=>e.onSearchTypeSelected&&e.onSearchTypeSelected("messages")},i.createElement("i",{className:"icon icon-message-text-outline"}),i.createElement(r.Z,{id:"search_bar.usage.search_type_messages",defaultMessage:"Messages"})),i.createElement("button",{className:l()({highlighted:1===e.highlightedIndex}),onClick:()=>e.onSearchTypeSelected&&e.onSearchTypeSelected("files")},i.createElement("i",{className:"icon icon-file-document-outline"}),i.createElement(r.Z,{id:"search_bar.usage.search_type_files",defaultMessage:"Files"})))):i.createElement(i.Fragment,null,e.withTitle&&!e.searchType&&i.createElement("h4",{className:"search-hint__title"},i.createElement(r.Z,{id:"search_bar.usage.title",defaultMessage:"Search options"})),e.withTitle&&"files"===e.searchType&&i.createElement("h4",{className:"search-hint__title"},i.createElement(r.Z,{id:"search_bar.usage.title_files",defaultMessage:"File search options"})),e.withTitle&&"messages"===e.searchType&&i.createElement("h4",{className:"search-hint__title"},i.createElement(r.Z,{id:"search_bar.usage.title_messages",defaultMessage:"Message search options"})),i.createElement("ul",{role:"list",className:"search-hint__suggestions-list",onMouseDown:e.onMouseDown,onTouchEnd:e.onMouseDown},e.options.map(((t,n)=>i.createElement("li",{className:l()("search-hint__suggestions-list__option",{highlighted:n===e.highlightedIndex}),key:t.searchTerm,onMouseDown:()=>e.onOptionSelected(t.searchTerm),onTouchEnd:()=>e.onOptionSelected(t.searchTerm),onMouseOver:()=>(t=>{e.onOptionHover&&e.onOptionHover(t)})(n)},i.createElement("div",{className:"search-hint__suggestion-list__flex-wrap"},i.createElement("span",{className:"search-hint__suggestion-list__label"},t.additionalDisplay?t.additionalDisplay:t.searchTerm)),i.createElement("div",{className:"search-hint__suggestion-list__value"},i.createElement(r.Z,{id:t.message.id,defaultMessage:t.message.defaultMessage})))))));c.propTypes={withTitle:a().bool,onOptionSelected:a().func.isRequired,onMouseDown:a().func,options:a().arrayOf(a().shape({searchTerm:a().string.isRequired,additionalDisplay:a().string})).isRequired,highlightedIndex:a().number,onOptionHover:a().func,onSearchTypeSelected:a().func,searchType:a().oneOf(["files","messages",""])};const d=c},8943:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var s,a,i,r=n(37703),o=n(14890),l=n(53497),c=n(67844),d=n(45697),m=n.n(d),u=n(67294),p=n(19728),h=n(44012),g=n(15558),f=n(92337);class b extends u.PureComponent{render(){const e=u.createElement(p.Z,{id:"closeSidebarTooltip"},u.createElement(h.Z,{id:"rhs_header.closeSidebarTooltip",defaultMessage:"Close"})),t=u.createElement(p.Z,{id:"expandSidebarTooltip"},u.createElement(h.Z,{id:"rhs_header.expandSidebarTooltip",defaultMessage:"Expand Sidebar"})),n=u.createElement(p.Z,{id:"shrinkSidebarTooltip"},u.createElement(h.Z,{id:"rhs_header.collapseSidebarTooltip",defaultMessage:"Collapse Sidebar"}));return u.createElement("div",{className:"sidebar--right__header"},u.createElement("span",{className:"sidebar--right__title"},this.props.children),u.createElement("div",{className:"pull-right"},u.createElement(g.Z,{delayShow:f.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:this.props.isExpanded?n:t},u.createElement("button",{type:"button",className:"sidebar--right__expand btn-icon",onClick:this.props.actions.toggleRhsExpanded},u.createElement(h.Z,{id:"rhs_header.expandSidebarTooltip.icon",defaultMessage:"Expand Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-expand","aria-label":e}))),u.createElement(h.Z,{id:"rhs_header.collapseSidebarTooltip.icon",defaultMessage:"Collapse Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-arrow-collapse","aria-label":e}))))),u.createElement(g.Z,{delayShow:f.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:e},u.createElement("button",{id:"searchResultsCloseButton",type:"button",className:"sidebar--right__close btn-icon","aria-label":"Close",onClick:this.props.actions.closeRightHandSide},u.createElement(h.Z,{id:"rhs_header.closeTooltip.icon",defaultMessage:"Close Sidebar Icon"},(e=>u.createElement("i",{className:"icon icon-close","aria-label":e})))))))}}s=b,a="propTypes",i={isExpanded:m().bool.isRequired,children:m().node,actions:m().shape({closeRightHandSide:m().func.isRequired,toggleRhsExpanded:m().func.isRequired}).isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;const _=(0,r.connect)((function(e){return{isExpanded:(0,c.OZ)(e)}}),(function(e){return{actions:(0,o.bindActionCreators)({closeRightHandSide:l.Lg,toggleRhsExpanded:l.fV},e)}}))(b)},81214:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var s=n(37703),a=n(14890),i=n(70493),r=n(42560),o=n(89980),l=n(85357),c=n(26961),d=n(16146),m=n(59929),u=n(53497),p=n(85174),h=n(74935),g=n(67294),f=n(45697),b=n.n(f),_=n(44012),E=n(74806),C=n(19728),y=n(74650),v=n(35856),w=n(75515),S=n(73557),T=n(38373),P=n(15558),M=n(30529),N=n(20528),I=n(86401),R=n(19145),A=n(16242),O=n(32136),L=n(42897),D=n(89262),k=n(54300),x=n(971),U=n(46098),Z=n(92337),j=n(72654);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends g.PureComponent{constructor(e){super(e),F(this,"handleFocusRHSClick",(e=>{e.preventDefault(),this.props.actions.selectPost(this.props.post)})),F(this,"handleJumpClick",(e=>{e.preventDefault(),h.tq()&&this.props.actions.closeRightHandSide(),this.props.actions.setRhsExpanded(!1),D.m.push("/".concat(this.props.currentTeamName,"/pl/").concat(this.props.post.id))})),F(this,"handleCardClick",(e=>{e&&this.props.actions.selectPostCard(e)})),F(this,"handleDropdownOpened",(e=>{this.setState({dropdownOpened:e})})),F(this,"renderPostTime",(()=>{const e=this.props.post,t=!(y.V8.POST_DELETED===e.state||m.ZK(e));return g.createElement(L.Z,{isPermalink:t,eventTime:e.create_at,postId:e.id,location:Z.tY.SEARCH})})),F(this,"getClassName",(()=>{let e="post post--thread";return this.props.compactDisplay&&(e+=" post--compact"),this.state.dropdownOpened&&(e+=" post--hovered"),e})),F(this,"handleSearchItemFocus",(()=>{this.setState({currentAriaLabel:"".concat(this.getChannelName(),", ").concat(this.props.createAriaLabel(this.props.intl))})})),F(this,"getChannelName",(()=>{const{channelType:e}=this.props;let{channelName:t}=this.props;return e===Z.ZP.DM_CHANNEL&&(t=this.props.intl.formatMessage({id:"search_item.direct",defaultMessage:"Direct Message (with {username})"},{username:this.props.displayName})),t})),this.state={dropdownOpened:!1,showPreview:!1}}render(){const{post:e,channelIsArchived:t}=this.props,n=this.getChannelName();let s,a=!1;e.props&&e.props.from_webhook&&e.props.override_username&&this.props.enablePostUsernameOverride&&(s=e.props.override_username,a=!0);const i=g.createElement(M.Z,{compactDisplay:this.props.compactDisplay,post:e,userId:e.user_id}),r=g.createElement("div",{className:"post__img"},i);let o="";p.cq(this.props.post)&&(o+=" post--edited");let l,c,d,m,u=null;e.file_ids&&e.file_ids.length>0&&(u=g.createElement(w.Z,{post:e,compactDisplay:this.props.compactDisplay})),e.state===Z.ZP.POST_DELETED||e.state===y.V8.POST_DELETED?l=g.createElement("p",null,g.createElement(_.Z,{id:"post_body.deleted",defaultMessage:"(message deleted)"})):(h.tq()||(c=g.createElement(A.Z,{location:Z.tY.SEARCH,postId:e.id,isFlagged:this.props.isFlagged})),e.props&&e.props.card&&(d=g.createElement(P.Z,{delayShow:Z.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:g.createElement(C.Z,null,g.createElement(_.Z,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},g.createElement("button",{className:"card-icon__container icon--show style--none",onClick:e=>{e.preventDefault(),this.handleCardClick(this.props.post)}},g.createElement(x.Z,{className:"icon icon__info","aria-hidden":"true"})))),m=g.createElement("div",{className:"col__controls post-menu"},g.createElement(T.Z,{post:e,location:Z.tY.SEARCH,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,commentCount:this.props.commentCountForPost,isMenuOpen:this.state.dropdownOpened,isReadOnly:t||null}),c,g.createElement(S.Z,{location:Z.tY.SEARCH,handleCommentClick:this.handleFocusRHSClick,commentCount:this.props.replyCount,postId:e.id,searchStyle:"search-item__comment",extraClass:this.props.replyCount?"icon--visible":""}),g.createElement("a",{href:"#",onClick:this.handleJumpClick,className:"search-item__jump"},g.createElement(_.Z,{id:"search_item.jump",defaultMessage:"Jump"}))),l=g.createElement(R.Z,{post:e,options:{searchTerm:this.props.term,searchMatches:this.props.matches}},g.createElement(v.Z,{post:e,options:{searchTerm:this.props.term,searchMatches:this.props.matches,mentionHighlight:this.props.isMentionSearch},isRHS:!0})));const f=h.jH(e.create_at);return g.createElement("div",{"data-testid":"search-item-container",className:"search-item__container"},g.createElement(I.Z,{date:f}),g.createElement("div",{className:"a11y__section ".concat(this.getClassName()),id:"searchResult_"+e.id,"aria-label":this.state.currentAriaLabel,onFocus:this.handleSearchItemFocus,"data-a11y-sort-order":this.props.a11yIndex},g.createElement("div",{className:"search-channel__name","aria-hidden":"true"},n,t&&g.createElement("span",{className:"search-channel__archived"},g.createElement(O.Z,{className:"icon icon__archive channel-header-archived-icon svg-text-color"}),g.createElement(_.Z,{id:"search_item.channelArchived",defaultMessage:"Archived"}))),g.createElement(U.Z,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,skipPinned:this.props.isPinnedPosts,skipFlagged:this.props.isFlaggedPosts,channelId:e.channel_id}),g.createElement("div",{role:"application",className:"post__content"},r,g.createElement("div",null,g.createElement("div",{className:"post__header"},g.createElement("div",{className:"col col__name"},g.createElement(N.Z,{userId:e.user_id,overwriteName:s,disablePopover:a,isRHS:!0}),g.createElement(k.Z,{show:Boolean(e.props&&e.props.from_webhook&&!this.props.isBot)})),g.createElement("div",{className:"col"},this.renderPostTime(),d),m),g.createElement("div",{className:"search-item-snippet post__body"},g.createElement("div",{className:o},l,u))))))}}F(H,"propTypes",{post:b().object,createAriaLabel:b().func,matches:b().array,channelName:b().string,channelType:b().string,channelIsArchived:b().bool,compactDisplay:b().bool,isMentionSearch:b().bool,term:b().string,isFlagged:b().bool.isRequired,currentTeamName:b().string,commentCountForPost:b().number,enablePostUsernameOverride:b().bool.isRequired,isBot:b().bool.isRequired,a11yIndex:b().number,actions:b().shape({closeRightHandSide:b().func.isRequired,selectPost:b().func.isRequired,selectPostCard:b().func.isRequired,setRhsExpanded:b().func.isRequired}).isRequired,intl:j.gm.isRequired,displayName:b().string.isRequired,replyCount:b().number,isFlaggedPosts:b().bool,isPinnedPosts:b().bool}),F(H,"defaultProps",{isBot:!1,channelIsArchived:!1});const q=(0,E.ZP)(H),B=(0,s.connect)((function(){const e=(0,p.yk)(),t=(0,p.Tx)(),n=(0,l.U6)();return(s,a)=>{const{post:l}=a,u=(0,r.iE)(s),p=(0,c.VJ)(s),g="true"===u.EnablePostUsernameOverride,f=(0,o.PR)(s,l.user_id),b=(0,i.mr)(s,l.channel_id)||{delete_at:0},_=(0,h.PR)(s,b.id);return{currentTeamName:(0,d.kA)(s).name,createAriaLabel:t(s,l),channelId:b.id,channelName:b.display_name||"",channelType:b.type,channelIsArchived:0!==b.delete_at,commentCountForPost:n(s,{post:l}),enablePostUsernameOverride:g,isFlagged:(0,m.hX)(l.id,p),isBot:!!f&&f.is_bot,directTeammate:_,displayName:(0,h.hI)(s,_),replyCount:e(s,l)}}}),(function(e){return{actions:(0,a.bindActionCreators)({closeRightHandSide:u.Lg,selectPost:u.mF,selectPostCard:u.Ok,setRhsExpanded:u.JI},e)}}))(q)},56727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O}),n(64765);var s=n(4002),a=n.n(s),i=n(45697),r=n.n(i),o=n(67294),l=n(73935),c=n(44012),d=n(74806),m=n(26700),u=n(92337),p=n(19476),h=n(37703),g=n(89980),f=(n(39714),n(19601),n(11106)),b=n(74935),_=n(79592),E=n(20528),C=n(45288),y=n(31848),v=n(68403);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends o.PureComponent{render(){let e=null;this.props.actions&&(e=this.props.actions.map(((e,t)=>o.createElement(e,Object.assign({key:t.toString(),user:this.props.user,index:this.props.index,totalUsers:this.props.totalUsers},this.props.actionProps,this.props.actionUserProps)))));let t,n=this.props.user.email,s="more-modal__description";this.props.extraInfo&&this.props.extraInfo.length>0?(n=o.createElement(C.Z,{id:"admin.user_item.emailTitle",defaultMessage:"**Email:** {email}",values:{email:this.props.user.email}}),s=""):t=this.props.user.status?this.props.user.status:this.props.status,this.props.user.is_bot&&(t=null,n=null);let a=null,i=null;return this.props.userCount>=0&&(a=b.x("userListRowName"+this.props.userCount),i=b.x("userListRowEmail"+this.props.userCount)),o.createElement("div",{key:this.props.user.id,className:"more-modal__row"},o.createElement(_.Z,{src:f.je.getProfilePictureUrl(this.props.user.id,this.props.user.last_picture_update),status:t,size:"md",userId:this.props.user.id,hasMention:!0,username:this.props.user.username}),o.createElement("div",{className:"more-modal__details","data-testid":"userListItemDetails"},o.createElement("div",{className:"d-flex whitespace--nowrap"},o.createElement("div",{id:a,className:"more-modal__name"},o.createElement(E.Z,{userId:this.props.user.id,hasMention:!0,displayUsername:!0}),o.createElement(y.Z,null),this.props.user.first_name||this.props.user.last_name||this.props.user.nickname?"-":null,o.createElement(y.Z,null),b.HG(this.props.user)),o.createElement(v.Z,{userID:this.props.user.id,emojiSize:15,showTooltip:!0,emojiStyle:{marginLeft:0,marginBottom:-3}})),o.createElement("div",{id:i,className:s},n),this.props.extraInfo),o.createElement("div",{"data-testid":"userListItemActions",className:"more-modal__actions"},e))}}w(S,"propTypes",{user:r().object.isRequired,status:r().string,extraInfo:r().arrayOf(r().object),actions:r().arrayOf(r().func),actionProps:r().object,actionUserProps:r().object,index:r().number,totalUsers:r().number,userCount:r().number}),w(S,"defaultProps",{extraInfo:[],actions:[],actionProps:{},actionUserProps:{}});const T=(0,h.connect)((function(e,t){const n=t.user||{};return{status:(0,g.ZO)(e,n.id)}}))(S);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends o.PureComponent{constructor(e){super(e),P(this,"scrollToTop",(()=>{this.containerRef.current&&(this.containerRef.current.scrollTop=0)})),this.containerRef=o.createRef()}render(){const e=this.props.users,t=this.props.rowComponentType;let n;return null==e?o.createElement(p.Z,null):(n=e.length>0?e.map(((n,s)=>o.createElement(t,{key:n.id,user:n,extraInfo:this.props.extraInfo[n.id],actions:this.props.actions,actionProps:this.props.actionProps,actionUserProps:this.props.actionUserProps[n.id],index:s,totalUsers:e.length,userCount:s>=0&&s<u.ZP.TEST_ID_COUNT?s:-1,isDisabled:this.props.isDisabled}))):o.createElement("div",{key:"no-users-found",className:"more-modal__placeholder-row","data-testid":"noUsersFound"},o.createElement("p",null,o.createElement(c.Z,{id:"user_list.notFound",defaultMessage:"No users found"}))),o.createElement("div",{ref:this.containerRef},n))}}P(M,"propTypes",{users:r().arrayOf(r().object),extraInfo:r().object,actions:r().arrayOf(r().node),actionProps:r().object,actionUserProps:r().object,isDisabled:r().bool,rowComponentType:r().object}),P(M,"defaultProps",{users:[],extraInfo:{},actions:[],actionProps:{},rowComponentType:T});var N=n(927),I=n(82251);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends o.PureComponent{constructor(e){super(e),R(this,"nextPage",(e=>{e.preventDefault(),this.setState({nextDisabled:!0}),this.nextTimeoutId=setTimeout((()=>this.setState({nextDisabled:!1})),500),this.props.nextPage(),a()(l.findDOMNode(this.refs.channelListScroll)).scrollTop(0)})),R(this,"previousPage",(e=>{e.preventDefault(),this.props.previousPage(),a()(l.findDOMNode(this.refs.channelListScroll)).scrollTop(0)})),R(this,"focusSearchBar",(()=>{this.props.focusOnMount&&this.refs.filter.focus()})),R(this,"handleInput",(e=>{this.props.onTermChange(e.target.value),this.props.search(e.target.value)})),R(this,"renderCount",(e=>{if(!e)return null;if(this.props.filter)return null;const t=e.length,n=this.props.total,s=Boolean(this.props.term);let a,i;return s?(a=-1,i=-1):(a=this.props.page*this.props.usersPerPage,i=Math.min(a+this.props.usersPerPage,n),this.props.users.length<i&&(i=this.props.users.length)),this.props.renderCount?this.props.renderCount(t,this.props.total,a,i,s):this.props.total?s?o.createElement(c.Z,{id:"filtered_user_list.countTotal",defaultMessage:"{count, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,total:n}}):o.createElement(c.Z,{id:"filtered_user_list.countTotalPage",defaultMessage:"{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total",values:{count:t,startCount:a+1,endCount:i,total:n}}):null})),this.nextTimeoutId=0,this.state={nextDisabled:!1}}componentDidMount(){this.focusSearchBar()}componentDidUpdate(e){this.props.page===e.page&&this.props.term===e.term||this.refs.userList.scrollToTop()}componentWillUnmount(){clearTimeout(this.nextTimeoutId)}render(){let e,t,n;const{formatMessage:s}=this.props.intl;if(this.props.term||!this.props.users)n=this.props.users;else if(!this.props.term){const s=this.props.page*this.props.usersPerPage;let a=s+this.props.usersPerPage;this.props.users.length<a&&(a=this.props.users.length),n=this.props.users.slice(s,a),a<this.props.total&&(e=o.createElement("button",{id:"searchableUserListNextBtn",className:"btn btn-link filter-control filter-control__next",onClick:this.nextPage,disabled:this.state.nextDisabled},o.createElement(c.Z,{id:"filtered_user_list.next",defaultMessage:"Next"}))),this.props.page>0&&(t=o.createElement("button",{id:"searchableUserListPrevBtn",className:"btn btn-link filter-control filter-control__prev",onClick:this.previousPage},o.createElement(c.Z,{id:"filtered_user_list.prev",defaultMessage:"Previous"})))}let a;if(this.props.renderFilterRow)a=this.props.renderFilterRow(this.handleInput);else{const e={id:(0,I.t)("filtered_user_list.search"),defaultMessage:"Search users"};a=o.createElement("div",{className:"col-xs-12"},o.createElement("label",{className:"hidden-label",htmlFor:"searchUsersInput"},o.createElement(c.Z,{id:"filtered_user_list.search",defaultMessage:"Search users"})),o.createElement(m.Z,{id:"searchUsersInput",ref:"filter",className:"form-control filter-textbox",placeholder:e,inputComponent:N.Z,value:this.props.term,onInput:this.handleInput,"aria-label":s(e).toLowerCase()}))}return o.createElement("div",{className:"filtered-user-list"},o.createElement("div",{className:"filter-row"},a,o.createElement("div",{className:"col-sm-12"},o.createElement("span",{id:"searchableUserListTotal",className:"member-count pull-left","aria-live":"polite"},this.renderCount(n)))),o.createElement("div",{className:"more-modal__list"},o.createElement(M,{ref:"userList",users:n,extraInfo:this.props.extraInfo,actions:this.props.actions,actionProps:this.props.actionProps,actionUserProps:this.props.actionUserProps,rowComponentType:this.props.rowComponentType,isDisabled:this.props.isDisabled})),o.createElement("div",{className:"filter-controls"},t,e))}}R(A,"propTypes",{users:r().arrayOf(r().object),usersPerPage:r().number,total:r().number,extraInfo:r().object,nextPage:r().func.isRequired,previousPage:r().func.isRequired,search:r().func.isRequired,actions:r().arrayOf(r().any),actionProps:r().object,actionUserProps:r().object,focusOnMount:r().bool,renderCount:r().func,filter:r().string,renderFilterRow:r().func,page:r().number.isRequired,term:r().string.isRequired,onTermChange:r().func.isRequired,intl:r().any,isDisabled:r().bool,rowComponentType:r().func}),R(A,"defaultProps",{users:[],usersPerPage:50,extraInfo:{},actions:[],actionProps:{},actionUserProps:{},showTeamToggle:!1,focusOnMount:!1});const O=(0,d.ZP)(A)},93733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),a=n.n(s),i=n(67294),r=n(44012),o=n(58657),l=n(92337),c=n(74935);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{constructor(e){super(e),d(this,"onKeyDown",(e=>{this.props.shiftEnter&&e.keyCode===l.ZP.KeyCodes.ENTER&&e.shiftKey||!0!==this.props.disableEnterSubmit&&(0,c.pD)(e,l.ZP.KeyCodes.ENTER)&&this.props.submit&&"SELECT"!==e.target.tagName&&e.target.parentElement&&"react-select__input"!==e.target.parentElement.className&&!e.target.classList.contains("btn-cancel")&&this.settingList.current&&this.settingList.current.contains(e.target)&&this.handleSubmit(e)})),d(this,"handleSubmit",(e=>{e.preventDefault(),this.props.setting?this.props.submit(this.props.setting):this.props.submit()})),d(this,"handleUpdateSection",(e=>{this.props.updateSection(this.props.section),e.preventDefault()})),this.settingList=i.createRef()}componentDidMount(){if(this.settingList.current){const e=this.settingList.current.querySelectorAll('.btn:not(.save-button):not(.btn-cancel), input.form-control, select, textarea, [tabindex]:not([tabindex="-1"])');e.length>0?e[0].focus():this.settingList.current.focus()}document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){let e=null;this.props.clientError&&(e=i.createElement("div",{className:"form-group"},i.createElement("label",{id:"clientError",className:"col-sm-12 has-error"},this.props.clientError)));let t=null;this.props.serverError&&(t=i.createElement("div",{className:"form-group"},i.createElement("label",{id:"serverError",className:"col-sm-12 has-error"},this.props.serverError)));let n=null,s="setting-list__hint";"top"===this.props.infoPosition&&(s="pb-3"),this.props.extraInfo&&(n=i.createElement("div",{id:"extraInfo",className:s},this.props.extraInfo));let a="";this.props.submit&&(a=i.createElement(o.Z,{defaultMessage:this.props.saveButtonText,saving:this.props.saving,disabled:this.props.saving,onClick:this.handleSubmit}));const l=this.props.inputs;let c,d;c="full"===this.props.width?"col-sm-12":"medium"===this.props.width?"col-sm-10 col-sm-offset-2":"col-sm-9 col-sm-offset-3",this.props.title&&(d=i.createElement("h4",{id:"settingTitle",className:"col-sm-12 section-title"},this.props.title));let m,u=i.createElement("div",{className:"setting-list-item"},l,n);return"top"===this.props.infoPosition&&(u=i.createElement("div",null,n,l)),m=this.props.cancelButtonText?this.props.cancelButtonText:i.createElement(r.Z,{id:"setting_item_max.cancel",defaultMessage:"Cancel"}),i.createElement("section",{className:"section-max form-horizontal ".concat(this.props.containerStyle)},d,i.createElement("div",{className:c},i.createElement("div",{tabIndex:"-1",ref:this.settingList,className:"setting-list"},u,i.createElement("div",{className:"setting-list-item"},i.createElement("hr",null),this.props.submitExtra,t,e,a,i.createElement("button",{id:"cancelSetting",className:"btn btn-sm btn-cancel cursor--pointer style--none",onClick:this.handleUpdateSection},m)))))}}d(m,"defaultProps",{infoPosition:"bottom",saving:!1,section:"",containerStyle:""}),d(m,"propTypes",{inputs:a().node,containerStyle:a().string,clientError:a().oneOfType([a().string,a().object]),serverError:a().string,extraInfo:a().element,infoPosition:a().string,section:a().string,updateSection:a().func,setting:a().string,submit:a().func,disableEnterSubmit:a().bool,submitExtra:a().node,saving:a().bool,title:a().node,width:a().string,cancelButtonText:a().node,shiftEnter:a().bool,saveButtonText:a().string})},87878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(45697),a=n.n(s),i=(n(33948),n(67294)),r=n(44012),o=n(74935),l=n(86896);function c(){const{formatMessage:e}=(0,l.Z)();return i.createElement("i",{className:"icon-pencil-outline",title:e({id:"generic_icons.edit",defaultMessage:"Edit Icon"})})}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.PureComponent{constructor(...e){super(...e),d(this,"edit",null),d(this,"getEdit",(e=>{this.edit=e})),d(this,"handleUpdateSection",(e=>{e.preventDefault(),this.props.updateSection(this.props.section)}))}componentDidMount(){this.edit&&this.edit.focus()}render(){let e=null,t=null;return!this.props.disableOpen&&(0,o.tq)()?e=i.createElement("div",{className:"section-min__edit"},i.createElement("button",{id:this.props.section+"Edit",className:"color--link cursor--pointer style--none",onClick:this.handleUpdateSection,ref:this.getEdit,"aria-labelledby":this.props.section+"Title "+this.props.section+"Edit"},i.createElement(c,null),this.props.describe)):this.props.disableOpen||(e=i.createElement("div",{className:"section-min__edit"},i.createElement("button",{id:this.props.section+"Edit",className:"color--link cursor--pointer style--none text-left",onClick:this.handleUpdateSection,ref:this.getEdit,"aria-labelledby":this.props.section+"Title "+this.props.section+"Edit"},i.createElement(c,null),i.createElement(r.Z,{id:"setting_item_min.edit",defaultMessage:"Edit"}))),t=i.createElement("div",{id:this.props.section+"Desc",className:"section-min__describe"},this.props.describe)),i.createElement("div",{className:"section-min",onClick:this.handleUpdateSection},i.createElement("div",{className:"d-flex"},i.createElement("h4",{id:this.props.section+"Title",className:"section-min__title"},this.props.title),this.props.hideEdit?null:e),t)}}d(m,"propTypes",{title:a().oneOfType([a().element,a().string]).isRequired,disableOpen:a().bool,section:a().string.isRequired,updateSection:a().func.isRequired,describe:a().oneOfType([a().element,a().arrayOf(a().element),a().string]),hideEdit:a().bool});const u=m},68538:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f}),n(33948),n(60285);var s=n(45697),a=n.n(s),i=n(67294),r=n(44012),o=n(19728),l=n(92337),c=n(74935),d=n(60291),m=n(95795),u=n(15558),p=n(21843);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.PureComponent{constructor(e){super(e),g(this,"handleCancel",(e=>{this.setState({removeSrc:!1,setDefaultSrc:!1}),this.props.updateSection(e)})),g(this,"handleFileSelected",(()=>{this.confirmButton.current&&this.confirmButton.current.focus()})),g(this,"handleSave",(e=>{e.preventDefault(),this.props.loadingPicture||(this.state.removeSrc?this.props.onRemove():this.state.setDefaultSrc?this.props.onSetDefault():this.props.onSubmit())})),g(this,"handleRemoveSrc",(e=>{e.preventDefault(),this.setState({removeSrc:!0}),this.focusFirstElement()})),g(this,"handleSetDefaultSrc",(e=>{e.preventDefault(),this.setState({setDefaultSrc:!0}),this.focusFirstElement()})),g(this,"handleFileChange",(e=>{this.setState({removeSrc:!1,setDefaultSrc:!1}),this.props.onFileChange(e)})),g(this,"handleInputFile",(()=>{this.selectInput.current.value="",this.selectInput.current.click()})),g(this,"setPicture",(e=>{if(e){this.previewBlob=URL.createObjectURL(e);var t=new FileReader;t.onload=e=>{const t=d.Ii(e.target.result),n=d.vl(t);this.setState({image:this.previewBlob,orientationStyles:n})},t.readAsArrayBuffer(e)}})),g(this,"renderImg",(()=>{const e=this.props.imageContext;if(this.props.file){const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundImage:"url("+this.state.image+")"},this.state.orientationStyles);return i.createElement("div",{className:"".concat(e,"-img-preview")},i.createElement("div",{className:"img-preview__image"},i.createElement("div",{alt:"".concat(e," image preview"),style:t,className:"".concat(e,"-img-preview")})))}if(this.state.setDefaultSrc)return i.createElement("img",{className:"".concat(e,"-img"),alt:"".concat(e," image"),src:this.props.defaultImageSrc});if(this.props.src&&!this.state.removeSrc){const t=i.createElement("img",{className:"".concat(e,"-img"),alt:"".concat(e," image"),src:this.props.src});if(!this.props.onRemove&&!this.props.onSetDefault)return t;let n,s;return this.props.onRemove?(n=i.createElement(r.Z,{id:"setting_picture.remove",defaultMessage:"Remove This Icon"}),s=this.handleRemoveSrc):this.props.onSetDefault&&(n=i.createElement(r.Z,{id:"setting_picture.remove_profile_picture",defaultMessage:"Remove Profile Picture"}),s=this.handleSetDefaultSrc),i.createElement("div",{className:"".concat(e,"-img__container")},i.createElement("div",{className:"img-preview__image","aria-hidden":!0},t),i.createElement(u.Z,{delayShow:l.gT.OVERLAY_TIME_DELAY,placement:"right",overlay:i.createElement(o.Z,{id:"removeIcon"},i.createElement("div",{"aria-hidden":!0},n))},i.createElement("button",{"data-testid":"removeSettingPicture",className:"".concat(e,"-img__remove"),onClick:s},i.createElement("span",{"aria-hidden":!0},"×"),i.createElement("span",{className:"sr-only"},n))))}return null})),this.settingList=i.createRef(),this.selectInput=i.createRef(),this.confirmButton=i.createRef(),this.state={image:null,removeSrc:!1,setDefaultSrc:!1}}focusFirstElement(){this.settingList.current&&this.settingList.current.focus()}componentDidMount(){this.focusFirstElement(),this.selectInput.current&&this.selectInput.current.addEventListener("input",this.handleFileSelected)}componentDidUpdate(e){e.file!==this.props.file&&this.setPicture(this.props.file)}componentWillUnmount(){this.previewBlob&&URL.revokeObjectURL(this.previewBlob),this.selectInput.current&&this.selectInput.current.removeEventListener("input",this.handleFileSelected)}render(){const e=this.renderImg();let t,n,s="btn btn-sm",a=!1;return this.props.submitActive||this.state.removeSrc||this.state.setDefaultSrc?s+=" btn-primary":(s+=" btn-inactive disabled",a=!0),e&&(t=i.createElement("li",{className:"setting-list-item",role:"presentation"},e)),this.props.onSubmit&&(n=i.createElement("span",null,i.createElement("input",{"data-testid":"uploadPicture",ref:this.selectInput,className:"hidden",accept:".jpg,.png,.bmp",type:"file",onChange:this.handleFileChange,disabled:this.props.loadingPicture,"aria-hidden":!0,tabIndex:"-1"}),i.createElement("button",{"data-testid":"inputSettingPictureButton",className:"btn btn-sm btn-primary btn-file sel-btn",disabled:this.props.loadingPicture,onClick:this.handleInputFile,"aria-label":(0,c._u)("setting_picture.select","Select")},i.createElement(r.Z,{id:"setting_picture.select",defaultMessage:"Select"})),i.createElement("button",{tabIndex:a?"-1":"0","data-testid":"saveSettingPicture",disabled:a,ref:this.confirmButton,className:s,onClick:this.handleSave,"aria-label":this.props.loadingPicture?(0,c._u)("setting_picture.uploading","Uploading..."):(0,c._u)("setting_picture.save","Save")},i.createElement(p.Z,{loading:this.props.loadingPicture,text:(0,c._u)("setting_picture.uploading","Uploading...")},i.createElement(r.Z,{id:"setting_picture.save",defaultMessage:"Save"}))))),i.createElement("section",{className:"section-max form-horizontal"},i.createElement("h4",{className:"col-xs-12 section-title"},this.props.title),i.createElement("div",{className:"col-xs-offset-3 col-xs-8"},i.createElement("div",{className:"setting-list",ref:this.settingList,tabIndex:"-1","aria-label":this.props.title,"aria-describedby":"setting-picture__helptext"},t,i.createElement("div",{id:"setting-picture__helptext",className:"setting-list-item pt-3"},this.props.helpText),i.createElement("div",{className:"setting-list-item"},i.createElement("hr",null),i.createElement(m.Z,{errors:[this.props.clientError,this.props.serverError],type:"modal"}),n,i.createElement("button",{"data-testid":"cancelSettingPicture",className:"btn btn-link btn-sm theme",href:"#",onClick:this.handleCancel,"aria-label":(0,c._u)("setting_picture.cancel","Cancel")},i.createElement(r.Z,{id:"setting_picture.cancel",defaultMessage:"Cancel"}))))))}}g(f,"defaultProps",{imageContext:"profile"}),g(f,"propTypes",{clientError:a().string,serverError:a().string,src:a().string,defaultImageSrc:a().string,file:a().object,loadingPicture:a().bool,submitActive:a().bool,onRemove:a().func,onSetDefault:a().func,onSubmit:a().func,title:a().string,onFileChange:a().func,updateSection:a().func,imageContext:a().string,maxFileSize:a().number,helpText:a().object})},79097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),a=n.n(s),i=n(67294),r=n(19728),o=n(44012),l=n(15558),c=n(92337);const d=e=>{let t;if(t=e.channelType===c.gT.PRIVATE_CHANNEL?i.createElement("i",{className:"".concat(e.className||""," icon-circle-multiple-outline-lock")}):i.createElement("i",{className:"".concat(e.className||""," icon-circle-multiple-outline")}),!e.withTooltip)return t;const n=i.createElement(r.Z,{id:"sharedTooltip"},i.createElement(o.Z,{id:"shared_channel_indicator.tooltip",defaultMessage:"Shared with trusted organizations"}));return i.createElement(l.Z,{delayShow:c.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:n},t)};d.propTypes={className:a().string,withTooltip:a().bool};const m=d},58423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),a=n.n(s),i=n(67294),r=n(19728),o=n(44012),l=n(15558),c=n(92337);const d=e=>{const t=i.createElement("i",{className:"".concat(e.className||""," icon-circle-multiple-outline")});if(!e.withTooltip)return t;const n=i.createElement(r.Z,{id:"sharedTooltip"},i.createElement(o.Z,{id:"shared_user_indicator.tooltip",defaultMessage:"From trusted organizations"}));return i.createElement(l.Z,{delayShow:c.gT.OVERLAY_TIME_DELAY,placement:"bottom",overlay:n},t)};d.propTypes={className:a().string,withTooltip:a().bool};const m=d},60087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s=n(45697),a=n.n(s),i=(n(33948),n(73210),n(67294)),r=n(43253),o=n(44012),l=n(94184),c=n.n(l),d=n(59925),m=n(92337),u=n(82251),p=n(927);function h(e){var t,n,s,a;const[l,h]=(0,i.useState)(!0),[g,f]=(0,i.useState)(!1),[b,_]=(0,i.useState)(""),[E,C]=(0,i.useState)(""),[y,v]=(0,i.useState)(),w=(0,i.createRef)(),S=()=>{h(!1)},T=()=>{var t;null===(t=e.onModalDismissed)||void 0===t||t.call(e)};return(0,i.useEffect)((()=>{const{user:t,contact:n}=e;if(null!=n&&n.id)return _(n.display_name);const s=t.first_name||t.last_name?"".concat(t.first_name," ").concat(t.last_name):"";return _(t.nickname||s||t.username)}),[e.user,e.contact]),i.createElement(r.Z,{dialogClassName:"a11y__modal contact-modal",show:l,onHide:S,onExited:T,onEntered:()=>{},role:"dialog","aria-labelledby":"contactModalLabel",id:"contactModal"},i.createElement(r.Z.Header,{closeButton:!0},i.createElement(r.Z.Title,{componentClass:"h1",id:"contactModalLabel"},null!==(t=e.contact)&&void 0!==t&&t.id?i.createElement(o.Z,{id:"contacts.modal_add.edit",defaultMessage:"Cập nhật liên hệ"}):i.createElement(o.Z,{id:"contacts.modal_add.title",defaultMessage:"Thêm liên hệ"}))),i.createElement("form",{role:"form",className:"form-horizontal"},i.createElement(r.Z.Body,null,E?i.createElement("div",{className:"server-error form-group has-error"},i.createElement("label",{className:"control-label"},E)):null,i.createElement("div",{className:c()({"form-group":!0,"has-error":Boolean(y)})},i.createElement("label",{className:"col-sm-3 form__label control-label",htmlFor:"contactName"},i.createElement(o.Z,{id:"contact_modal.contactName",defaultMessage:"Tên"})),i.createElement("div",{className:"col-sm-9"},i.createElement(p.Z,{id:"contactName",onChange:()=>{var e;_(null===(e=w.current)||void 0===e?void 0:e.value)},type:"text",ref:w,className:"form-control",placeholder:{id:(0,u.t)("contact_modal.nameEx"),defaultMessage:'Ví dụ: "Hói", "Người phán xử", "Tên riêng"'},maxLength:m.ZP.MAX_CHANNELNAME_LENGTH,value:b,autoFocus:!0}),y?i.createElement("p",{className:"input__help error"},i.createElement(o.Z,{id:"contact_modal.displayNameError",defaultMessage:"Display name must have at least 2 characters."}),y):i.createElement("p",{className:"input__help"},i.createElement(o.Z,{id:"contact_modal.name.help",defaultMessage:"Đặt tên cho liên lạc này."}))))),i.createElement(r.Z.Footer,null,null!==(n=e.contact)&&void 0!==n&&n.id?i.createElement("div",{className:"footer-left"},i.createElement("button",{id:"deleteContact",type:"button",className:"btn btn-outline btn-outline-danger",onClick:t=>{var n;t.preventDefault(),e.onDelete(null===(n=e.contact)||void 0===n?void 0:n.id).then((e=>{if("error"in e)return f(!1),void C(e.error.message);T()}))}},i.createElement(o.Z,{id:"contact_modal.delete",defaultMessage:"Xóa"})),i.createElement("button",{id:"blockContact",type:"button",className:"btn btn-outline btn-outline-warning",onClick:t=>{t.preventDefault(),(0,d.L9)("modal_contact","click_block");const{contact:n}=e,s={id:null==n?void 0:n.id,display_name:null==n?void 0:n.display_name,relation:-1===(null==n?void 0:n.relation)?0:-1};e.onUpdate(s).then((e=>{if("error"in e)return f(!1),void C(e.error.message);T()}))}},-1===(null===(s=e.contact)||void 0===s?void 0:s.relation)?i.createElement(o.Z,{id:"contact_modal.unblock",defaultMessage:"Bỏ Chặn"}):i.createElement(o.Z,{id:"contact_modal.ublock",defaultMessage:"Chặn"}))):null,i.createElement("button",{id:"cancelNewChannel",type:"button",className:"btn btn-link",onClick:S},i.createElement(o.Z,{id:"contact_modal.cancel",defaultMessage:"Cancel"})),i.createElement("button",{id:"submitNewChannel",onClick:t=>{var n;if(t.preventDefault(),(0,d.L9)("modal_contact","click_submit"),g)return;const{contact:s}=e,a={id:(null==s?void 0:s.id)||void 0,creator_id:e.creatorId,user_id:(null==s?void 0:s.user_id)||e.user.id,display_name:null===(n=w.current)||void 0===n?void 0:n.value.trim(),relation:(null==s?void 0:s.relation)||0};(()=>{var e;const t=null===(e=w.current)||void 0===e?void 0:e.value.trim();return t?!(t.length>m.ZP.MAX_CHANNELNAME_LENGTH&&(v(i.createElement(o.Z,{id:"modal_contact.displayName.length",defaultMessage:"Tên quá dài. Tối đa {max} ký tự.",values:{max:m.ZP.MAX_CHANNELNAME_LENGTH}})),1)):(v(i.createElement(o.Z,{id:"modal_contact.displayName.required",defaultMessage:"Tên là bắt buộc"})),!1)})()&&(f(!0),v(void 0),C(""),(a.id?e.onUpdate:e.onCreate)(a).then((e=>{if("error"in e)return f(!1),void C(e.error.message);var t;t=e.data,S(),t&&T()})))},type:"submit",className:"btn btn-primary"},null!==(a=e.contact)&&void 0!==a&&a.id?i.createElement(o.Z,{id:"contact_modal.updateContact",defaultMessage:"Cập nhật"}):i.createElement(o.Z,{id:"contact_modal.addContact",defaultMessage:"Tạo liên hệ"})))))}h.propTypes={creatorId:a().string,onModalDismissed:a().func.isRequired,onCreate:a().func.isRequired,onUpdate:a().func.isRequired,onDelete:a().func.isRequired}},42329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c}),n(19601);var s=n(45697),a=n.n(s),i=n(67294),r=n(74935),o=n(54920);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(e){super(e),l(this,"dimensionsAvailable",(e=>e&&e.width&&e.height)),l(this,"isSmallImage",((e,t)=>e<48||t<48)),l(this,"handleLoad",(e=>{if(this.mounted){const t=e.target,n=this.isSmallImage(t.naturalWidth,t.naturalHeight);this.setState({loaded:!0,error:!1,isSmallImage:n,imageWidth:t.naturalWidth},(()=>{this.props.onImageLoaded&&t.naturalHeight&&this.props.onImageLoaded({height:t.naturalHeight,width:t.naturalWidth})}))}})),l(this,"handleError",(()=>{this.mounted&&(this.props.onImageLoadFail&&this.props.onImageLoadFail(),this.setState({error:!0}))})),l(this,"onEnterKeyDown",(e=>{"Enter"===e.key&&this.props.onClick(e)})),l(this,"renderImageLoaderIfNeeded",(()=>this.state.loaded||!this.props.showLoader||this.state.error?null:i.createElement("div",{style:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"}},i.createElement(o.Z,{containerClass:"file__image-loading"})))),l(this,"renderImageWithContainerIfNeeded",(()=>{const e=this.props,{fileInfo:t,src:n}=e,s=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["fileInfo","src"]);Reflect.deleteProperty(s,"showLoader"),Reflect.deleteProperty(s,"onImageLoaded"),Reflect.deleteProperty(s,"onImageLoadFail"),Reflect.deleteProperty(s,"dimensions"),Reflect.deleteProperty(s,"handleSmallImageContainer");let a=(0,r._u)("file_attachment.thumbnail","file thumbnail");t&&(a+=" ".concat(t.name).toLowerCase());const o=i.createElement("img",Object.assign({},s,{"aria-label":a,tabIndex:"0",onKeyDown:this.onEnterKeyDown,className:this.props.className+(this.props.handleSmallImageContainer&&this.state.isSmallImage?" small-image--inside-container":""),src:n,onError:this.handleError,onLoad:this.handleLoad}));if(this.props.handleSmallImageContainer&&this.state.isSmallImage){let e="small-image__container cursor--pointer a11y--active";return this.state.imageWidth<48&&(e+=" small-image__container--min-width"),i.createElement("div",{onClick:this.props.onClick,className:e,style:this.state.imageWidth>48?{width:this.state.imageWidth+2}:{}},o)}return o})),l(this,"renderImageOrPlaceholder",(()=>{const{dimensions:e}=this.props;let t;this.dimensionsAvailable(e)&&!this.state.loaded&&(t=i.createElement("div",{className:"image-loading__container ".concat(this.props.className),style:{maxWidth:e.width}},this.renderImageLoaderIfNeeded(),i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.width," ").concat(e.height),style:{maxHeight:e.height,maxWidth:e.width,verticalAlign:"middle"}})));const n=!this.dimensionsAvailable(e)||this.state.loaded;return i.createElement(i.Fragment,null,t,i.createElement("div",{className:"file-preview__button",style:{display:n?"initial":"none"}},this.renderImageWithContainerIfNeeded()))}));const{dimensions:t}=e;this.state={loaded:!1,isSmallImage:!!this.dimensionsAvailable(t)&&this.isSmallImage(t.width,t.height)},this.heightTimeout=0}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return this.renderImageOrPlaceholder()}}l(c,"propTypes",{src:a().string.isRequired,dimensions:a().object,fileInfo:a().object,showLoader:a().bool,onImageLoaded:a().func,onImageLoadFail:a().func,onClick:a().func,className:a().string,handleSmallImageContainer:a().bool})},77555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(21843);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{render(){const e=this.props,{spinning:t,spinningText:n,children:s}=e,a=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["spinning","spinningText","children"]);return i.createElement("button",Object.assign({disabled:t},a),i.createElement(r.Z,{loading:t,text:n},s))}}o(l,"propTypes",{children:a().node,spinning:a().bool,spinningText:a().node.isRequired,onClick:a().func}),o(l,"defaultProps",{spinning:!1})},95421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var s=n(45697),a=n.n(s),i=n(67294),r=n(86896);function o(e){const{formatMessage:t}=(0,r.Z)();return i.createElement("span",e,i.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 12 12",style:l,role:"img","aria-label":t({id:"mobile.set_status.away.icon",defaultMessage:"Away Icon"})},i.createElement("path",{className:"away--icon",d:"M9.081,5.712C9.267,5.712 9.417,5.863 9.417,6.048L9.417,9.086L11.864,10.499C12.025,10.592 12.08,10.797 11.987,10.958L11.482,11.832C11.39,11.993 11.184,12.048 11.023,11.955L7.904,10.154C7.788,10.087 7.727,9.961 7.737,9.836C7.736,9.827 7.736,9.818 7.736,9.809L7.736,6.048C7.736,5.863 7.886,5.712 8.072,5.712L9.081,5.712ZM4.812,11.513L4.605,11.513C2.325,11.41 0.253,10.374 0.046,9.027C-0.058,8.923 0.046,8.509 0.046,8.405C0.15,7.576 0.357,6.437 0.771,5.815C0.978,5.401 2.015,5.297 2.015,5.297C2.015,5.297 2.015,7.369 4.605,7.369L5.019,7.369C4.915,7.784 4.812,8.198 4.812,8.612C4.812,9.648 5.226,10.581 5.848,11.41C5.537,11.513 5.123,11.513 4.812,11.513ZM4.605,0.117C6.034,0.117 7.195,1.277 7.195,2.707C7.195,4.136 6.034,5.297 4.605,5.297C3.175,5.297 2.015,4.136 2.015,2.707C2.015,1.277 3.175,0.117 4.605,0.117Z"})))}const l={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421};var c=n(50928);function d(e){const{formatMessage:t}=(0,r.Z)();return i.createElement("span",e,i.createElement("svg",{x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-299 391 12 12",enableBackground:"new -299 391 12 12",role:"img","aria-label":t({id:"mobile.set_status.dnd.icon",defaultMessage:"Do Not Disturb Icon"})},i.createElement("g",null,i.createElement("ellipse",{className:"dnd--icon",cx:"-294.6",cy:"394",rx:"2.5",ry:"2.5"}),i.createElement("path",{className:"dnd--icon",d:"M-293.8,399.4c0-0.4,0.1-0.7,0.2-1c-0.3,0.1-0.6,0.2-1,0.2c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0.7,0,1.4-0.1,2-0.3 C-293.3,401.5-293.8,400.5-293.8,399.4z"})),i.createElement("path",{className:"dnd--icon",d:"M-287,400c0,0.1-0.1,0.1-0.1,0.1l-4.9,0c-0.1,0-0.1-0.1-0.1-0.1v-1.6c0-0.1,0.1-0.1,0.1-0.1l4.9,0c0.1,0,0.1,0.1,0.1,0.1 V400z"})))}var m=n(8696);function u(e){const{formatMessage:t}=(0,r.Z)();return i.createElement("span",e,i.createElement("svg",{x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-299 391 12 12",enableBackground:"new -299 391 12 12",role:"img","aria-label":t({id:"mobile.set_status.offline.icon",defaultMessage:"Offline Icon"})},i.createElement("g",null,i.createElement("g",null,i.createElement("ellipse",{className:"offline--icon",cx:"-294.5",cy:"394",rx:"2.5",ry:"2.5"}),i.createElement("path",{className:"offline--icon",d:"M-294.3,399.7c0-0.4,0.1-0.8,0.2-1.2c-0.1,0-0.2,0-0.4,0c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4h0.1h0.1c0.3,0,0.7,0,1-0.1C-293.9,401.6-294.3,400.7-294.3,399.7z"}))),i.createElement("g",null,i.createElement("path",{className:"offline--icon",d:"M-288.9,399.4l1.8-1.8c0.1-0.1,0.1-0.3,0-0.3l-0.7-0.7c-0.1-0.1-0.3-0.1-0.3,0l-1.8,1.8l-1.8-1.8c-0.1-0.1-0.3-0.1-0.3,0 l-0.7,0.7c-0.1,0.1-0.1,0.3,0,0.3l1.8,1.8l-1.8,1.8c-0.1,0.1-0.1,0.3,0,0.3l0.7,0.7c0.1,0.1,0.3,0.1,0.3,0l1.8-1.8l1.8,1.8 c0.1,0.1,0.3,0.1,0.3,0l0.7-0.7c0.1-0.1,0.1-0.3,0-0.3L-288.9,399.4z"}))))}var p=n(93065);function h(e){const{formatMessage:t}=(0,r.Z)();return i.createElement("span",e,i.createElement("svg",{x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"-243 245 12 12",enableBackground:"new -243 245 12 12",role:"img","aria-label":t({id:"mobile.set_status.online.icon",defaultMessage:"Online Icon"})},i.createElement("g",null,i.createElement("path",{className:"online--icon",d:"M-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5z"}),i.createElement("ellipse",{className:"online--icon",cx:"-238.5",cy:"248",rx:"2.5",ry:"2.5"})),i.createElement("path",{className:"online--icon",d:"M-238.9,253.8c0-0.4,0.1-0.9,0.2-1.3c-2.2-0.2-2.2-2-2.2-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5c0,0.1-0.1,0.5,0,0.6 c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0C-238.7,255.7-238.9,254.8-238.9,253.8z"}),i.createElement("g",null,i.createElement("g",null,i.createElement("path",{className:"online--icon",d:"M-232.3,250.1l1.3,1.3c0,0,0,0.1,0,0.1l-4.1,4.1c0,0,0,0-0.1,0c0,0,0,0,0,0l-2.7-2.7c0,0,0-0.1,0-0.1l1.2-1.2 c0,0,0.1,0,0.1,0l1.4,1.4l2.9-2.9C-232.4,250.1-232.3,250.1-232.3,250.1z"})))))}var g=n(12341);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.PureComponent{render(){const{button:e,status:t,type:n}=this.props;if(!t)return null;let s,a="status "+this.props.className;e&&(a=this.props.className||"");const r={className:a};return s="avatar"===n?"online"===t?h:"away"===t?o:"dnd"===t?d:u:"online"===t?g.Z:"away"===t?c.Z:"dnd"===t?m.Z:p.Z,i.createElement(s,r)}}f(b,"propTypes",{button:a().bool,status:a().string,className:a().string,type:a().string}),f(b,"defaultProps",{className:"",button:!1})},90747:(e,t,n)=>{"use strict";n.d(t,{nr:()=>d}),n(88674),n(23157),n(33948),n(41817),n(32023),n(27852),n(73210);var s=n(84094);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o;!function(e){e.Start="Start",e.Command="Command",e.EndCommand="EndCommand",e.CommandSeparator="CommandSeparator",e.StartParameter="StartParameter",e.ParameterSeparator="ParameterSeparator",e.Flag1="Flag1",e.Flag="Flag",e.FlagValueSeparator="FlagValueSeparator",e.StartValue="StartValue",e.NonspaceValue="NonspaceValue",e.QuotedValue="QuotedValue",e.TickValue="TickValue",e.EndValue="EndValue",e.EndQuotedValue="EndQuotedValue",e.EndTickedValue="EndTickedValue",e.Error="Error"}(o||(o={}));const l=(0,s.WG)(s.NR.COMMAND);class c{constructor(e,t,n){r(this,"state",o.Start),r(this,"command",void 0),r(this,"i",0),r(this,"incomplete",""),r(this,"incompleteStart",0),r(this,"binding",void 0),r(this,"form",void 0),r(this,"formsCache",void 0),r(this,"field",void 0),r(this,"position",0),r(this,"values",{}),r(this,"location",""),r(this,"error",""),r(this,"intl",void 0),r(this,"asError",(e=>(this.state=o.Error,this.error=e,this))),r(this,"matchBinding",(async(e,t=!1)=>{if(0===e.length)return this.asError(this.intl.formatMessage({id:"apps.error.parser.no_bindings",defaultMessage:"No command bindings."}));let n=e,s=!1;for(;!s;){let e="";switch(this.i<this.command.length&&(e=this.command[this.i]),this.state){case o.Start:if("/"!==e)return this.asError(this.intl.formatMessage({id:"apps.error.parser.no_slash_start",defaultMessage:"Command must start with a `/`."}));this.i++,this.incomplete="",this.incompleteStart=this.i,this.state=o.Command;break;case o.Command:switch(e){case"":t?s=!0:this.state=o.EndCommand;break;case" ":case"\t":this.state=o.EndCommand;break;default:this.incomplete+=e,this.i++}break;case o.EndCommand:{const e=n.find((e=>e.label.toLowerCase()===this.incomplete.toLowerCase()));if(!e){s=!0;break}this.binding=e,this.location+="/"+e.label,n=e.bindings||[],this.state=o.CommandSeparator;break}case o.CommandSeparator:switch(""===e&&(s=!0),e){case" ":case"\t":this.i++;break;default:this.incomplete="",this.incompleteStart=this.i,this.state=o.Command}break;default:return this.asError(this.intl.formatMessage({id:"apps.error.parser.unexpected_state",defaultMessage:"Unreachable: Unexpected state in matchBinding: `{state}`."},{state:this.state}))}}if(!this.binding)return this.asError(this.intl.formatMessage({id:"apps.error.parser.no_match",defaultMessage:"`{command}`: No matching command found in this workspace."},{command:this.command}));if(this.form=this.binding.form,!this.form){const e=await this.formsCache.getForm(this.location,this.binding);if(null!=e&&e.error)return this.asError(e.error);this.form=null==e?void 0:e.form}return this})),r(this,"parseForm",((e=!1)=>{if(this.state===o.Error||!this.form)return this;let t=[];this.form.fields&&(t=this.form.fields),this.state=o.StartParameter,this.i=this.incompleteStart||0;let n=!1,a=!1;for(;;){let i="";switch(this.i<this.command.length&&(i=this.command[this.i]),this.state){case o.StartParameter:switch(i){case"":return this;case"-":this.state=o.Flag1,this.i++;break;default:{this.position++;const e=t.find((e=>e.position===this.position));if(!e)return this.asError(this.intl.formatMessage({id:"apps.error.parser.no_argument_pos_x",defaultMessage:"Unable to identify argument."}));this.field=e,this.state=o.StartValue;break}}break;case o.ParameterSeparator:switch(this.incompleteStart=this.i,i){case"":return this.state=o.StartParameter,this;case" ":case"\t":this.i++;break;default:this.state=o.StartParameter}break;case o.Flag1:"-"===i&&this.i++,this.state=o.Flag,this.incomplete="",this.incompleteStart=this.i,n=!1;break;case o.Flag:if(""===i&&e)return this;switch(i){case"":case" ":case"\t":case"=":{const e=t.find((e=>{var t;return(null===(t=e.label)||void 0===t?void 0:t.toLowerCase())===this.incomplete.toLowerCase()}));if(!e)return this.asError(this.intl.formatMessage({id:"apps.error.parser.unexpected_flag",defaultMessage:"Command does not accept flag `{flagName}`."},{flagName:this.incomplete}));this.state=o.FlagValueSeparator,this.field=e,this.incomplete="";break}default:this.incomplete+=i,this.i++}break;case o.FlagValueSeparator:switch(this.incompleteStart=this.i,i){case"":if(e)return this;this.state=o.StartValue;break;case" ":case"\t":this.i++;break;case"=":if(n)return this.asError(this.intl.formatMessage({id:"apps.error.parser.multiple_equal",defaultMessage:"Multiple `=` signs are not allowed."}));n=!0,this.i++;break;default:this.state=o.StartValue}break;case o.StartValue:switch(this.incomplete="",this.incompleteStart=this.i,i){case'"':this.state=o.QuotedValue,this.i++;break;case"`":this.state=o.TickValue,this.i++;break;case" ":case"\t":return this.asError(this.intl.formatMessage({id:"apps.error.parser.unexpected_whitespace",defaultMessage:"Unreachable: Unexpected whitespace."}));default:this.state=o.NonspaceValue}break;case o.NonspaceValue:switch(i){case"":case" ":case"\t":this.state=o.EndValue;break;default:this.incomplete+=i,this.i++}break;case o.QuotedValue:switch(i){case"":return e?this:this.asError(this.intl.formatMessage({id:"apps.error.parser.missing_quote",defaultMessage:"Matching double quote expected before end of input."}));case'"':if(this.incompleteStart===this.i-1)return this.asError(this.intl.formatMessage({id:"apps.error.parser.empty_value",defaultMessage:"empty values are not allowed"}));this.i++,this.state=o.EndQuotedValue;break;case"\\":a=!0,this.i++;break;default:this.incomplete+=i,this.i++,a&&(a=!1)}break;case o.TickValue:switch(i){case"":return e?this:this.asError(this.intl.formatMessage({id:"apps.error.parser.missing_tick",defaultMessage:"Matching tick quote expected before end of input."}));case"`":if(this.incompleteStart===this.i-1)return this.asError(this.intl.formatMessage({id:"apps.error.parser.empty_value",defaultMessage:"empty values are not allowed"}));this.i++,this.state=o.EndTickedValue;break;default:this.incomplete+=i,this.i++}break;case o.EndTickedValue:case o.EndQuotedValue:case o.EndValue:if(!this.field)return this.asError(this.intl.formatMessage({id:"apps.error.parser.missing_field_value",defaultMessage:"Field value is missing."}));if(this.field.type===s.T1.BOOL&&(e&&!"true".startsWith(this.incomplete)&&!"false".startsWith(this.incomplete)||!e&&"true"!==this.incomplete&&"false"!==this.incomplete))this.i=this.incompleteStart,this.values[this.field.name]="true",this.state=o.StartParameter;else{if(e&&""===i)return this;if(this.values[this.field.name]=this.incomplete,this.incomplete="",this.incompleteStart=this.i,""===i)return this;this.state=o.ParameterSeparator}}}})),this.command=e,this.formsCache=t||[],this.intl=n}}class d{constructor(e,t,n,a=""){r(this,"store",void 0),r(this,"channelID",void 0),r(this,"rootPostID",void 0),r(this,"intl",void 0),r(this,"forms",{}),r(this,"composeCallFromCommand",(async e=>{let t=new c(e,this,this.intl);const n=this.getCommandBindings();if(!n)return{call:null,errorMessage:this.intl.formatMessage({id:"apps.error.parser.no_bindings",defaultMessage:"No command bindings."})};if(t=await t.matchBinding(n,!1),t=t.parseForm(!1),t.state===o.Error)return{call:null,errorMessage:(0,s.N3)(this.intl,t.error,t.command,t.i)};const a=this.getMissingFields(t);if(a.length>0){const e=a.map((e=>e.label)).join(", ");return{call:null,errorMessage:this.intl.formatMessage({id:"apps.error.command.field_missing",defaultMessage:"Required fields missing: `{fieldName}`."},{fieldName:e})}}return this.composeCallFromParsed(t)})),r(this,"getSuggestionsBase",(e=>{const t=e.toLowerCase(),n=[],s=this.getCommandBindings();for(const e of s){let s=e.label;s&&("/"!==s[0]&&(s="/"+s),s.startsWith(t)&&n.push({Complete:e.label,Suggestion:s,Description:e.description||"",Hint:e.hint||"",IconData:e.icon||""}))}return n})),r(this,"getSuggestions",(async e=>{var t,n,a,i,r,l;let d=new c(e,this,this.intl),m=[];const u=this.getCommandBindings();if(!u)return[];if(d=await d.matchBinding(u,!0),d.state===o.Error&&(m=this.getErrorSuggestion(d)),d.state===o.Command&&(m=this.getCommandSuggestions(d)),d.form||d.incomplete){d=d.parseForm(!0),d.state===o.Error&&(m=this.getErrorSuggestion(d));const e=await this.getParameterSuggestions(d);m=m.concat(e)}const p=[o.EndCommand,o.CommandSeparator,o.StartParameter,o.ParameterSeparator,o.EndValue],h=(null===(t=d.form)||void 0===t?void 0:t.call)||(null===(n=d.binding)||void 0===n?void 0:n.call)||(null===(a=d.binding)||void 0===a||null===(i=a.form)||void 0===i?void 0:i.call),g=0===this.getMissingFields(d).length,f=d.state!==o.EndValue||d.field&&void 0!==d.values[d.field.name];if(p.includes(d.state)&&h&&g&&f){const e=(0,s.uy)(d);e&&(m=[e,...m])}else 0===m.length&&(null===(r=d.field)||void 0===r?void 0:r.type)!==s.T1.USER&&(null===(l=d.field)||void 0===l?void 0:l.type)!==s.T1.CHANNEL&&(m=this.getNoMatchingSuggestion());return m.map((e=>this.decorateSuggestionComplete(d,e)))})),r(this,"getNoMatchingSuggestion",(()=>[{Complete:"",Suggestion:"",Hint:this.intl.formatMessage({id:"apps.suggestion.no_suggestion",defaultMessage:"No matching suggestions."}),IconData:s.ry,Description:""}])),r(this,"getErrorSuggestion",(e=>[{Complete:"",Suggestion:"",Hint:this.intl.formatMessage({id:"apps.suggestion.errors.parser_error",defaultMessage:"Parsing error"}),IconData:s.ry,Description:e.error}])),r(this,"composeCallFromParsed",(async e=>{var t;if(!e.binding)return{call:null,errorMessage:this.intl.formatMessage({id:"apps.error.parser.missing_binding",defaultMessage:"Missing command bindings."})};const n=(null===(t=e.form)||void 0===t?void 0:t.call)||e.binding.call;if(!n)return{call:null,errorMessage:this.intl.formatMessage({id:"apps.error.parser.missing_call",defaultMessage:"Missing binding call."})};const a=e.values,{errorMessage:i}=await this.expandOptions(e,a);if(i)return{call:null,errorMessage:i};const r=this.getAppContext(e.binding.app_id);return{call:(0,s.Zw)(n,r,{},a,e.command)}})),r(this,"expandOptions",(async(e,t)=>{var n;if(null===(n=e.form)||void 0===n||!n.fields)return{};const a={};if(await Promise.all(e.form.fields.map((async e=>{if(t[e.name])switch(e.type){case s.T1.DYNAMIC_SELECT:t[e.name]={label:"",value:t[e.name]};break;case s.T1.STATIC_SELECT:{var n;const s=null===(n=e.options)||void 0===n?void 0:n.find((n=>n.value===t[e.name]));if(!s)return void(a[e.name]=this.intl.formatMessage({id:"apps.error.command.unknown_option",defaultMessage:"Unknown option for field `{fieldName}`: `{option}`."},{fieldName:e.name,option:t[e.name]}));t[e.name]=s;break}case s.T1.USER:{let n=t[e.name];"@"===n[0]&&(n=n.substr(1));let i=(0,s.xU)(this.store.getState(),n);if(!i){const r=await this.store.dispatch((0,s.dQ)(n));if("error"in r)return void(a[e.name]=this.intl.formatMessage({id:"apps.error.command.unknown_user",defaultMessage:"Unknown user for field `{fieldName}`: `{option}`."},{fieldName:e.name,option:t[e.name]}));i=r.data}t[e.name]={label:i.username,value:i.id};break}case s.T1.CHANNEL:{var i,r;let n=t[e.name];"~"===n[0]&&(n=n.substr(1));let o=(0,s.y1)(this.store.getState(),n);if(!o){const i=await this.store.dispatch((0,s.Ft)((0,s.kA)(this.store.getState()).name,n));if("error"in i)return void(a[e.name]=this.intl.formatMessage({id:"apps.error.command.unknown_channel",defaultMessage:"Unknown channel for field `{fieldName}`: `{option}`."},{fieldName:e.name,option:t[e.name]}));o=i.data}t[e.name]={label:null===(i=o)||void 0===i?void 0:i.display_name,value:null===(r=o)||void 0===r?void 0:r.id};break}}}))),0===Object.keys(a).length)return{};let i="";return Object.keys(a).forEach((e=>{i=i+a[e]+"\n"})),{errorMessage:i}})),r(this,"decorateSuggestionComplete",((e,t)=>{if(t.Complete&&t.Complete.endsWith(s.fj))return t;let n=0;""===t.Complete&&(n=1);let a=e.command.substring(0,e.incompleteStart-n);return a+=void 0===t.Complete?t.Suggestion:t.Complete,t.Hint=t.Hint||"",a=a.substring(1),i(i({},t),{},{Complete:a})})),r(this,"getCommandBindings",(()=>l(this.store.getState()))),r(this,"getChannel",(()=>{const e=this.store.getState();return(0,s.mr)(e,this.channelID)})),r(this,"setChannelContext",((e,t)=>{this.channelID===e&&this.rootPostID===t||(this.forms={}),this.channelID=e,this.rootPostID=t})),r(this,"isAppCommand",(e=>{const t=e.toLowerCase();for(const e of this.getCommandBindings()){let n=e.label;if(n&&("/"!==n[0]&&(n="/"+n),t.startsWith(n+" ")))return!0}return!1})),r(this,"getAppContext",(e=>{const t={app_id:e,location:s.NR.COMMAND,root_id:this.rootPostID},n=this.getChannel();return n?(t.channel_id=n.id,t.team_id=n.team_id||(0,s.ev)(this.store.getState()),t):t})),r(this,"fetchForm",(async e=>{if(!e.call)return;const t=(0,s.Zw)(e.call,this.getAppContext(e.app_id)),n=await this.store.dispatch((0,s.cW)(t,s._L.FORM,this.intl));if(n.error)return{error:n.error.error||this.intl.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error."})};const a=n.data;switch(a.type){case s.Bp.FORM:break;case s.Bp.NAVIGATE:case s.Bp.OK:return{error:this.intl.formatMessage({id:"apps.error.responses.unexpected_type",defaultMessage:"App response type was not expected. Response type: {type}"},{type:a.type})};default:return{error:this.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:a.type})}}return{form:a.form}})),r(this,"getForm",(async(e,t)=>{const n=this.rootPostID||"",s="".concat(this.channelID,"-").concat(n,"-").concat(e),a=this.forms[s];if(a)return{form:a};this.forms={};const i=await this.fetchForm(t);return null!=i&&i.form&&(this.forms[s]=i.form),i})),r(this,"displayError",(e=>{let t=e;e.message&&(t=e.message),(0,s.Sj)(t,this.channelID,this.rootPostID)})),r(this,"getCommandSuggestions",(e=>{var t,n;if(null===(t=e.binding)||void 0===t||null===(n=t.bindings)||void 0===n||!n.length)return[];const s=e.binding.bindings,a=[];return s.forEach((t=>{t.label.toLowerCase().startsWith(e.incomplete.toLowerCase())&&a.push({Complete:t.label,Suggestion:t.label,Description:t.description||"",Hint:t.hint||"",IconData:t.icon||""})})),a})),r(this,"getParameterSuggestions",(async e=>{switch(e.state){case o.StartParameter:{var t,n;const s=null===(t=e.form)||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.find((t=>t.position===e.position+1));return s?(e.field=s,this.getValueSuggestions(e)):this.getFlagNameSuggestions(e)}case o.Flag:return this.getFlagNameSuggestions(e);case o.EndValue:case o.FlagValueSeparator:case o.NonspaceValue:return this.getValueSuggestions(e);case o.EndQuotedValue:case o.QuotedValue:return this.getValueSuggestions(e,'"');case o.EndTickedValue:case o.TickValue:return this.getValueSuggestions(e,"`")}return[]})),r(this,"getMissingFields",(e=>{const t=e.form;if(!t)return[];const n=[],s=e.values||[],a=t.fields||[];for(const e of a)e.is_required&&!s[e.name]&&n.push(e);return n})),r(this,"getFlagNameSuggestions",(e=>{if(!e.form||!e.form.fields||!e.form.fields.length)return[];let t="--";for(let n=e.incompleteStart-1;n>0&&n>=e.incompleteStart-2&&"-"===e.command[n];n--)t=t.substring(1);const n=e.form.fields.filter((t=>t.label&&t.label.toLowerCase().startsWith(e.incomplete.toLowerCase())&&!e.values[t.name]));return n?n.map((n=>{var s;return{Complete:t+(n.label||n.name),Suggestion:"--"+(n.label||n.name),Description:n.description||"",Hint:n.hint||"",IconData:(null===(s=e.binding)||void 0===s?void 0:s.icon)||""}})):[]})),r(this,"getValueSuggestions",(async(e,t)=>{var n;if(!e||!e.field)return[];const a=e.field;switch(a.type){case s.T1.USER:return this.getUserSuggestions(e);case s.T1.CHANNEL:return this.getChannelSuggestions(e);case s.T1.BOOL:return this.getBooleanSuggestions(e);case s.T1.DYNAMIC_SELECT:return this.getDynamicSelectSuggestions(e,t);case s.T1.STATIC_SELECT:return this.getStaticSelectSuggestions(e,t)}let i=e.incomplete;i&&t&&(i=t+i+t);const r=e.field.modal_label||e.field.label||e.field.name;return[{Complete:i,Suggestion:"".concat(r,": ").concat(t||'"').concat(e.incomplete).concat(t||'"'),Description:a.description||"",Hint:"",IconData:(null===(n=e.binding)||void 0===n?void 0:n.icon)||""}]})),r(this,"getStaticSelectSuggestions",((e,t)=>{var n;const a=e.field,i=null===(n=a.options)||void 0===n?void 0:n.filter((t=>t.label.toLowerCase().startsWith(e.incomplete.toLowerCase())));return null!=i&&i.length?i.map((n=>{var s;let i=n.value;return t?i=t+i+t:m(n.value)&&(i="`"+i+"`"),{Complete:i,Suggestion:n.label,Hint:a.hint||"",Description:a.description||"",IconData:n.icon_data||(null===(s=e.binding)||void 0===s?void 0:s.icon)||""}})):[{Complete:"",Suggestion:"",Hint:this.intl.formatMessage({id:"apps.suggestion.no_static",defaultMessage:"No matching options."}),Description:"",IconData:s.ry}]})),r(this,"getDynamicSelectSuggestions",(async(e,t)=>{var n;const a=e.field;if(!a)return this.makeDynamicSelectSuggestionError(this.intl.formatMessage({id:"apps.error.parser.unexpected_error",defaultMessage:"Unexpected error."}));const{call:i,errorMessage:r}=await this.composeCallFromParsed(e);if(!i)return this.makeDynamicSelectSuggestionError(this.intl.formatMessage({id:"apps.error.lookup.error_preparing_request",defaultMessage:"Error preparing lookup request: {errorMessage}"},{errorMessage:r}));i.selected_field=a.name,i.query=e.incomplete;const o=await this.store.dispatch((0,s.cW)(i,s._L.LOOKUP,this.intl));if(o.error){const e=o.error;return this.makeDynamicSelectSuggestionError(e.error||this.intl.formatMessage({id:"apps.error.unknown",defaultMessage:"Unknown error."}))}const l=o.data;switch(l.type){case s.Bp.OK:break;case s.Bp.NAVIGATE:case s.Bp.FORM:return this.makeDynamicSelectSuggestionError(this.intl.formatMessage({id:"apps.error.responses.unexpected_type",defaultMessage:"App response type was not expected. Response type: {type}"},{type:l.type}));default:return this.makeDynamicSelectSuggestionError(this.intl.formatMessage({id:"apps.error.responses.unknown_type",defaultMessage:"App response type not supported. Response type: {type}."},{type:l.type}))}const c=null==l||null===(n=l.data)||void 0===n?void 0:n.items;return null!=c&&c.length?c.map((n=>{var s;let a=n.value;return t?a=t+a+t:m(n.value)&&(a="`"+a+"`"),{Complete:a,Description:n.label,Suggestion:n.value,Hint:"",IconData:n.icon_data||(null===(s=e.binding)||void 0===s?void 0:s.icon)||""}})):[{Complete:"",Suggestion:"",Hint:this.intl.formatMessage({id:"apps.suggestion.no_static",defaultMessage:"No matching options."}),IconData:"",Description:this.intl.formatMessage({id:"apps.suggestion.no_dynamic",defaultMessage:"No data was returned for dynamic suggestions"})}]})),r(this,"makeDynamicSelectSuggestionError",(e=>{const t=this.intl.formatMessage({id:"apps.error",defaultMessage:"Error: {error}"},{error:e});return[{Complete:"",Suggestion:this.intl.formatMessage({id:"apps.suggestion.dynamic.error",defaultMessage:"Dynamic select error"}),Hint:"",IconData:s.ry,Description:t}]})),r(this,"getUserSuggestions",(e=>{var t,n,s;return 0===e.incomplete.trim().length?[{Complete:"",Suggestion:"",Description:(null===(t=e.field)||void 0===t?void 0:t.description)||"",Hint:(null===(n=e.field)||void 0===n?void 0:n.hint)||"@username",IconData:(null===(s=e.binding)||void 0===s?void 0:s.icon)||""}]:[]})),r(this,"getChannelSuggestions",(e=>{var t,n,s;return 0===e.incomplete.trim().length?[{Complete:"",Suggestion:"",Description:(null===(t=e.field)||void 0===t?void 0:t.description)||"",Hint:(null===(n=e.field)||void 0===n?void 0:n.hint)||"~channelname",IconData:(null===(s=e.binding)||void 0===s?void 0:s.icon)||""}]:[]})),r(this,"getBooleanSuggestions",(e=>{const t=[];var n,s,a,i,r,o;return"true".startsWith(e.incomplete)&&t.push({Complete:"true",Suggestion:"true",Description:(null===(n=e.field)||void 0===n?void 0:n.description)||"",Hint:(null===(s=e.field)||void 0===s?void 0:s.hint)||"",IconData:(null===(a=e.binding)||void 0===a?void 0:a.icon)||""}),"false".startsWith(e.incomplete)&&t.push({Complete:"false",Suggestion:"false",Description:(null===(i=e.field)||void 0===i?void 0:i.description)||"",Hint:(null===(r=e.field)||void 0===r?void 0:r.hint)||"",IconData:(null===(o=e.binding)||void 0===o?void 0:o.icon)||""}),t})),this.store=e||(0,s.bh)(),this.channelID=n,this.rootPostID=a,this.intl=t}}function m(e){return-1!==e.indexOf(" ")||-1!==e.indexOf("\t")}},84094:(e,t,n)=>{"use strict";n.d(t,{NR:()=>s.NR,_L:()=>s._L,T1:()=>s.T1,Bp:()=>s.Bp,WG:()=>a.W,mr:()=>i.mr,y1:()=>i.ZO,ev:()=>r.ev,kA:()=>r.kA,xU:()=>o.dQ,dQ:()=>l.dQ,Ft:()=>c.Ft,cW:()=>d.cW,Zw:()=>u.Zw,bh:()=>f,fj:()=>b,ry:()=>_,uy:()=>E,Sj:()=>C,zx:()=>y,N3:()=>v});var s=n(50766),a=n(62696),i=(n(85357),n(70493)),r=n(16146),o=n(89980),l=n(18493),c=n(80722),d=n(4205),m=n(34288),u=n(93183),p=n(74935),h=n(72009),g=n(92337);const f=()=>h.Z,b=g.gT.Integrations.EXECUTE_CURRENT_COMMAND_ITEM_ID,_=g.gT.Integrations.COMMAND_SUGGESTION_ERROR,E=e=>{let t="Ctrl";return(0,p.V5)()&&(t="⌘"),{Complete:e.command.substring(1)+b,Suggestion:"Execute Current Command",Hint:"",Description:"Select this option or use "+t+"+Enter to execute the current command.",IconData:b}},C=(e,t,n)=>{h.Z.dispatch((0,m.Cl)(e,t,n))},y={formatMessage:(e,t)=>(0,p.Us)(e.id,e.defaultMessage,t)},v=(e,t,n,s)=>e.formatMessage({id:"apps.error.parser",defaultMessage:"Parsing error: {error}"},{error:t})},28958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(19601);var s=n(67294),a=n(64972),i=n(91857);class r extends i.Z{render(){const e=this.props.isSelection,t=this.props.item,n=t.display_name,a=t.purpose;let r="mentions__name no-flex";e&&(r+=" suggestion--selected");const o="(~"+t.name+")";return s.createElement("div",Object.assign({className:r,onClick:this.handleClick,onMouseMove:this.handleMouseMove},i.Z.baseProps),s.createElement("div",{className:"mention__align"},s.createElement("span",null,n),s.createElement("span",{className:"mention__channelname"}," ",o)),s.createElement("div",{className:"mention__purpose"},a))}}class o extends a.Z{constructor(e){super(),this.autocompleteChannels=e}handlePretextChanged(e,t){const n=e.toLowerCase();return this.startNewRequest(n),this.autocompleteChannels(n,(e=>{if(this.shouldCancelDispatch(n))return;const s=Object.assign([],e);t({matchedPretext:n,terms:s.map((e=>e.display_name)),items:s,component:r})})),!0}}},59030:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(19601),n(88674);var s=n(67294),a=n(11106),i=n(74935),r=n(46261),o=n(54300),l=n(69632),c=n(64972),d=n(91857);class m extends d.Z{render(){const{item:e,isSelection:t}=this.props;let n="suggestion-list__item mentions__name";t&&(n+=" suggestion--selected");const c=e.username;let m="";return(e.first_name||e.last_name)&&e.nickname?m="- ".concat(i.Pp(e)," (").concat(e.nickname,")"):e.nickname?m="- (".concat(e.nickname,")"):(e.first_name||e.last_name)&&(m="- ".concat(i.Pp(e))),s.createElement("div",Object.assign({className:n,onClick:this.handleClick,onMouseMove:this.handleMouseMove},d.Z.baseProps),s.createElement(l.Z,{size:"xxs",username:c,url:a.je.getUsersRoute()+"/"+e.id+"/image?_="+(e.last_picture_update||0)}),s.createElement("span",{className:"admin-setting-user--align"},"@"+c),s.createElement("span",{className:"admin-setting-user__fullname"}," ",m),s.createElement(o.Z,{show:Boolean(e.is_bot)}),s.createElement(r.Z,{show:i.a_(e)}))}}class u extends c.Z{constructor(e){super(),this.autocompleteUsers=e}async handlePretextChanged(e,t){const n=e.toLowerCase();this.startNewRequest(n);const s=await this.autocompleteUsers(n);if(this.shouldCancelDispatch(n))return!1;const a=Object.assign([],s.users);return t({matchedPretext:n,terms:a.map((e=>e.username)),items:a,component:m}),!0}}},70668:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(19601),n(88674);var s=n(67294),a=n(64972),i=n(91857);class r extends i.Z{render(){const{item:e,isSelection:t}=this.props;let n="mentions__name";return t&&(n+=" suggestion--selected"),s.createElement("div",Object.assign({className:n,onClick:this.handleClick,onMouseMove:this.handleMouseMove},i.Z.baseProps),e.text)}}class o extends a.Z{constructor(e){super(),this.options=e}handlePretextChanged(e,t){return 0===e.length?(this.displayAllOptions(t),!0):!!e&&(this.filterOptions(e,t),!0)}async displayAllOptions(e){e({matchedPretext:"",terms:this.options.map((e=>e.text)),items:this.options,component:r})}async filterOptions(e,t){const n=this.options.filter((t=>t.text.toLowerCase().indexOf(e.toLowerCase())>=0)),s=n.map((e=>e.text));t({matchedPretext:e,terms:s,items:n,component:r})}}},41244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u}),n(19601);var s=n(45697),a=n.n(s),i=n(67294),r=n(92094),o=n(74935);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(e){super(e),m(this,"calculateInputRect",(()=>{if(this.props.inputRef.current){const e=this.props.inputRef.current.getInput().getBoundingClientRect();return{top:e.top,bottom:e.bottom,width:e.width}}return{top:0,bottom:0,width:0}})),m(this,"onModalScroll",(e=>{this.state.scroll!==e.target.scrollTop&&0!==this.latestHeight&&this.setState({scroll:e.target.scrollTop})})),m(this,"getChildHeight",(()=>{if(!this.container.current)return 0;const e=this.suggestionList.current.getContent()[0];return e?e.getBoundingClientRect().height:0})),m(this,"updateInputBounds",(()=>{const e=this.calculateInputRect();return e.top===this.state.inputBounds.top&&e.bottom===this.state.inputBounds.bottom&&e.width===this.state.inputBounds.width||this.setState({inputBounds:e}),e})),m(this,"updateLocation",(e=>{let t=e;if(e||(t=this.state.inputBounds),!this.container.current)return;this.latestHeight=this.getChildHeight();let n=this.props.location;window.innerHeight<t.bottom+this.latestHeight&&(n="top"),t.top-this.latestHeight<0&&(n="bottom"),this.state.location!==n&&this.setState({location:n})})),m(this,"updateModalBounds",(()=>{if(!this.container.current)return;const e=(0,o.N1)(this.container.current,".modal-content").getBoundingClientRect();this.state.modalBounds.top===e.top&&this.state.modalBounds.bottom===e.bottom||this.setState({modalBounds:{top:e.top,bottom:e.bottom}})})),this.state={scroll:0,modalBounds:{top:0,bottom:0},inputBounds:{top:0,bottom:0,width:0},location:e.location},this.container=i.createRef(),this.suggestionList=i.createRef(),this.latestHeight=0}componentDidMount(){this.container.current&&(0,o.N1)(this.container.current,".modal-body").addEventListener("scroll",this.onModalScroll),window.addEventListener("resize",this.updateModalBounds)}componentWillUnmount(){this.container.current&&(0,o.N1)(this.container.current,".modal-body").removeEventListener("scroll",this.onModalScroll),window.removeEventListener("resize",this.updateModalBounds)}componentDidUpdate(e,t){if(this.props.open&&!this.props.cleared&&(e.open!==this.state.open||e.cleared!==this.state.cleared||t.scroll!==this.state.scroll||t.modalBounds.top!==this.state.modalBounds.top||t.modalBounds.bottom!==this.state.modalBounds.bottom)){const e=this.updateInputBounds();if(this.updateLocation(e),this.container.current){const t=(0,o.N1)(this.container.current,".modal-body").getBoundingClientRect();if(e.bottom<t.top||e.top>t.bottom)return void this.props.onLoseVisibility()}this.updateModalBounds()}}render(){const e=d({},this.props);Reflect.deleteProperty(e,"onLoseVisibility");let t={};return t="top"===this.state.location?{bottom:this.state.modalBounds.bottom-this.state.inputBounds.top}:{top:this.state.inputBounds.bottom-this.state.modalBounds.top},i.createElement("div",{style:c({position:"fixed",zIndex:101,width:this.state.inputBounds.width},t),ref:this.container},i.createElement(r.Z,Object.assign({},e,{location:this.state.location,ref:this.suggestionList})))}}m(u,"propTypes",{location:a().string.isRequired,open:a().bool.isRequired,cleared:a().bool.isRequired,inputRef:a().object.isRequired,onLoseVisibility:a().func.isRequired})},64972:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});class s{constructor(){this.latestPrefix="",this.latestComplete=!0,this.disableDispatches=!1,this.requestStarted=!1}handlePretextChanged(e,t){}resetRequest(){this.requestStarted=!1}startNewRequest(e){this.latestPrefix=e,this.latestComplete=!1,this.requestStarted=!0}shouldCancelDispatch(e){if(this.disableDispatches)return!0;if(!this.requestStarted)return!0;if(e===this.latestPrefix)this.latestComplete=!0;else if(this.latestComplete)return!0;return!1}allowDividers(){return!0}presentationType(){return"text"}}},91857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(33948);var s=n(45697),a=n.n(s),i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.PureComponent{constructor(...e){super(...e),r(this,"handleClick",(e=>{e.preventDefault(),this.props.onClick(this.props.term,this.props.matchedPretext)})),r(this,"handleMouseMove",(e=>{e.preventDefault(),this.props.onMouseMove(this.props.term)}))}static get propTypes(){return{item:a().oneOfType([a().object,a().string]).isRequired,term:a().string.isRequired,matchedPretext:a().string.isRequired,isSelection:a().bool,onClick:a().func,onMouseMove:a().func}}}r(o,"baseProps",{role:"button",tabIndex:-1})},39864:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h}),n(27852),n(33948),n(19601);var s=n(45697),a=n.n(s),i=n(67294),r=n(16165),o=n(26700),l=n(92337),c=n(47470),d=n(74935);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=l.ZP.Integrations.EXECUTE_CURRENT_COMMAND_ITEM_ID,p=l.ZP.KeyCodes;class h extends i.PureComponent{constructor(e){super(e),m(this,"handleMentionKeyClick",((e,t)=>{if(this.props.isRHS!==t)return;let n="@"+e;this.props.value&&/[^\s]$/.test(this.props.value)&&(n=" "+n),this.addTextAtCaret(n,"")})),m(this,"getTextbox",(()=>{if(!this.inputRef.current)return null;const e=this.inputRef.current.getInput();return e.getDOMNode?e.getDOMNode():e})),m(this,"recalculateSize",(()=>{const e=this.inputRef.current.getInput();e.recalculateSize&&e.recalculateSize()})),m(this,"handleEmitClearSuggestions",((e=0)=>{setTimeout((()=>{this.clear()}),e)})),m(this,"preventSuggestionListClose",(()=>{this.preventSuggestionListCloseFlag=!0})),m(this,"handleFocusOut",(e=>{this.preventSuggestionListCloseFlag?this.preventSuggestionListCloseFlag=!1:this.container.contains(e.relatedTarget)||c.s()&&!e.relatedTarget||(this.props.forceSuggestionsWhenBlur||this.handleEmitClearSuggestions(),this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur())})),m(this,"handleFocusIn",(e=>{this.container.contains(e.relatedTarget)||this.preventSuggestionListCloseFlag||(this.setState({focused:!0}),(this.props.openOnFocus||this.props.openWhenEmpty)&&setTimeout((()=>{const e=this.getTextbox();if(e){const t=e.value.substring(0,e.selectionEnd);(this.props.openWhenEmpty||t.length>=this.props.requiredCharacters)&&this.pretext!==t&&this.handlePretextChanged(t)}})),this.props.onFocus&&this.props.onFocus())})),m(this,"handleChange",(e=>{const t=this.getTextbox(),n=t.value.substring(0,t.selectionEnd);this.composing||this.pretext===n||this.handlePretextChanged(n),this.props.onChange&&this.props.onChange(e)})),m(this,"handleCompositionStart",(()=>{this.composing=!0,this.props.onComposition&&this.props.onComposition()})),m(this,"handleCompositionUpdate",(e=>{if(!e.data)return;const t=this.getTextbox(),n=t.value.substring(0,t.selectionStart)+e.data;this.handlePretextChanged(n),this.props.onComposition&&this.props.onComposition()})),m(this,"handleCompositionEnd",(()=>{this.composing=!1,this.props.onComposition&&this.props.onComposition()})),m(this,"addTextAtCaret",((e,t)=>{const n=this.getTextbox(),s=n.selectionEnd,a=this.props.value,i=n.value.substring(0,n.selectionEnd);let r,o=!1;if(i.toLowerCase().endsWith(t.toLowerCase()))r=i.substring(0,i.length-t.length);else{const n=e.substring(t.length),s=h.findOverlap(i,n);o=0===s.length,r=i.substring(0,i.length-s.length-t.length)}const l=a.substring(s);let c;if(c=o?i:r+e+" "+l,n.value=c,this.props.onChange){const e={target:n};this.props.onChange(e)}window.requestAnimationFrame((()=>{n.value===c&&d.Mq(n,r.length+e.length+1)}))})),m(this,"replaceText",(e=>{const t=this.getTextbox();if(t.value=e,this.props.onChange){const e={target:t};this.props.onChange(e)}})),m(this,"handleCompleteWord",((e,t,n)=>{let s=e,a=!1;if(e.endsWith(u)&&(s=e.substring(0,e.length-u.length),a=!0),this.props.replaceAllInputOnSelect?this.replaceText(s):this.addTextAtCaret(s,t),this.props.onItemSelected){const e=this.state.items,t=this.state.terms;for(let n=0;n<t.length;n++)if(t[n]===s){this.props.onItemSelected(e[n]);break}}if(this.clear(),this.inputRef.current.focus(),a&&this.props.onKeyPress){let e=n;return n&&!d.pD(n,l.ZP.KeyCodes.TAB)||(e=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:13}),n&&n.preventDefault()),this.props.onKeyPress(e),!0}if(!a)for(const e of this.props.providers)e.handleCompleteWord&&e.handleCompleteWord(s,t,this.handlePretextChanged);return!1})),m(this,"selectNext",(()=>{this.setSelectionByDelta(1)})),m(this,"selectPrevious",(()=>{this.setSelectionByDelta(-1)})),m(this,"setSelectionByDelta",(e=>{let t=this.state.terms.indexOf(this.state.selection);-1!==t?(t+=e,t<0?t=0:t>this.state.terms.length-1&&(t=this.state.terms.length-1),this.setState({selection:this.state.terms[t]})):this.setState({selection:""})})),m(this,"setSelection",(e=>{this.setState({selection:e})})),m(this,"clear",(()=>{this.state.cleared||(this.setState({cleared:!0,matchedPretext:[],terms:[],items:[],components:[],selection:"",suggestionBoxAlgn:{}}),this.handlePretextChanged(""))})),m(this,"hasSuggestions",(()=>this.state.items.some((e=>!e.loading)))),m(this,"handleKeyDown",(e=>{if((this.props.openWhenEmpty||this.props.value)&&this.hasSuggestions())if(d.pD(e,p.UP))this.selectPrevious(),e.preventDefault();else if(d.pD(e,p.DOWN))this.selectNext(),e.preventDefault();else if(d.pD(e,p.ENTER)||this.props.completeOnTab&&d.pD(e,p.TAB)){let t="";for(let e=0;e<this.state.terms.length;e++)this.state.terms[e]===this.state.selection&&(t=this.state.matchedPretext[e]);if(this.pretext.toLowerCase().endsWith(t.toLowerCase())){if(this.handleCompleteWord(this.state.selection,t,e))return}else clearTimeout(this.timeoutId),this.nonDebouncedPretextChanged(this.pretext,!0);this.props.onKeyDown&&this.props.onKeyDown(e),e.preventDefault()}else d.pD(e,p.ESCAPE)?(this.clear(),this.setState({presentationType:"text"}),e.preventDefault(),e.stopPropagation()):this.props.onKeyDown&&this.props.onKeyDown(e);else this.props.onKeyDown&&this.props.onKeyDown(e)})),m(this,"handleSelect",(e=>{this.props.onSelect&&this.props.onSelect(e)})),m(this,"handleReceivedSuggestions",(e=>{const t=[],n=[];this.props.onSuggestionsReceived&&this.props.onSuggestionsReceived(e);for(let s=0;s<e.terms.length;s++)t.push(e.component),n.push(e.matchedPretext);const s=e.terms,a=e.items;let i=this.state.selection;return s.length>0?i=s[0]:this.state.selection&&(i=""),this.setState({cleared:!1,selection:i,terms:s,items:a,components:t,matchedPretext:n}),{selection:i,matchedPretext:e.matchedPretext}})),m(this,"handleReceivedSuggestionsAndComplete",(e=>{const{selection:t,matchedPretext:n}=this.handleReceivedSuggestions(e);t&&this.handleCompleteWord(t,n)})),m(this,"nonDebouncedPretextChanged",((e,t=!1)=>{this.pretext=e;let n=!1,s=this.handleReceivedSuggestions;t&&(s=this.handleReceivedSuggestionsAndComplete);for(const t of this.props.providers)if(n=t.handlePretextChanged(e,s)||n,n){if(void 0===this.state.suggestionBoxAlgn.pixelsToMoveX&&void 0===this.state.suggestionBoxAlgn.pixelsToMoveY&&["@",":","~","/"].includes(t.triggerCharacter)){const e=t.triggerCharacter,n=d.L4(e),s=d.qI(this.getTextbox(),n,this.props.listStyle);this.setState({suggestionBoxAlgn:s})}this.setState({presentationType:t.presentationType(),allowDividers:t.allowDividers()});break}n||this.clear()})),m(this,"debouncedPretextChanged",(e=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>this.nonDebouncedPretextChanged(e)),l.ZP.SEARCH_TIMEOUT_MILLISECONDS)})),m(this,"handlePretextChanged",(e=>{this.pretext=e,this.debouncedPretextChanged(e)})),m(this,"blur",(()=>{this.inputRef.current.blur()})),m(this,"focus",(()=>{const e=this.inputRef.current.input;'""'===e.value||e.value.endsWith('""')?(e.selectionStart=e.value.length-1,e.selectionEnd=e.value.length-1):e.selectionStart=e.value.length,e.focus(),this.handleChange({target:this.inputRef.current})})),m(this,"setContainerRef",(e=>{this.container&&(this.container.removeEventListener("focusin",this.handleFocusIn),this.container.removeEventListener("focusout",this.handleFocusOut)),e&&(e.addEventListener("focusin",this.handleFocusIn),e.addEventListener("focusout",this.handleFocusOut)),this.container=e})),this.suggestionReadOut=i.createRef(),this.composing=!1,this.pretext="",this.timeoutId="",this.preventSuggestionListCloseFlag=!1,this.state={focused:!1,cleared:!0,matchedPretext:[],items:[],terms:[],components:[],selection:"",allowDividers:!0,presentationType:"text",suggestionBoxAlgn:{}},this.inputRef=i.createRef()}componentDidMount(){this.props.listenForMentionKeyClick&&r.Z.addListener("mention_key_click",this.handleMentionKeyClick),this.handlePretextChanged(this.pretext)}componentWillUnmount(){r.Z.removeListener("mention_key_click",this.handleMentionKeyClick)}componentDidUpdate(e){const{value:t}=this.props;if(""!==t||this.pretext===t){if(e.contextId!==this.props.contextId){const e=this.getTextbox(),t=e.value.substring(0,e.selectionEnd).toLowerCase();this.handlePretextChanged(t)}}else this.handlePretextChanged(t)}render(){const e=this.props,{listComponent:t,dateComponent:n,listStyle:s,renderNoResults:a}=e,r=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["listComponent","dateComponent","listStyle","renderNoResults"]),l=this.props.renderDividers&&this.state.allowDividers;Reflect.deleteProperty(r,"providers"),Reflect.deleteProperty(r,"onChange"),Reflect.deleteProperty(r,"onComposition"),Reflect.deleteProperty(r,"onItemSelected"),Reflect.deleteProperty(r,"completeOnTab"),Reflect.deleteProperty(r,"isRHS"),Reflect.deleteProperty(r,"requiredCharacters"),Reflect.deleteProperty(r,"openOnFocus"),Reflect.deleteProperty(r,"openWhenEmpty"),Reflect.deleteProperty(r,"onFocus"),Reflect.deleteProperty(r,"onBlur"),Reflect.deleteProperty(r,"containerClass"),Reflect.deleteProperty(r,"replaceAllInputOnSelect"),Reflect.deleteProperty(r,"renderDividers"),Reflect.deleteProperty(r,"contextId"),Reflect.deleteProperty(r,"listenForMentionKeyClick"),Reflect.deleteProperty(r,"wrapperHeight"),Reflect.deleteProperty(r,"forceSuggestionsWhenBlur"),Reflect.deleteProperty(r,"onSuggestionsReceived");const c=t,d=n;return i.createElement("div",{ref:this.setContainerRef,className:this.props.containerClass},i.createElement("div",{ref:this.suggestionReadOut,"aria-live":"polite",role:"alert",className:"sr-only"}),i.createElement(o.Z,Object.assign({ref:this.inputRef,autoComplete:"off"},r,{onInput:this.handleChange,onCompositionStart:this.handleCompositionStart,onCompositionUpdate:this.handleCompositionUpdate,onCompositionEnd:this.handleCompositionEnd,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect})),(this.props.openWhenEmpty||this.props.value.length>=this.props.requiredCharacters)&&"text"===this.state.presentationType&&i.createElement("div",{style:{width:this.state.width}},i.createElement(c,{ariaLiveRef:this.suggestionReadOut,open:this.state.focused||this.props.forceSuggestionsWhenBlur,pretext:this.pretext,location:s,renderDividers:l,renderNoResults:a,onCompleteWord:this.handleCompleteWord,preventClose:this.preventSuggestionListClose,onItemHover:this.setSelection,cleared:this.state.cleared,matchedPretext:this.state.matchedPretext,items:this.state.items,terms:this.state.terms,suggestionBoxAlgn:this.state.suggestionBoxAlgn,selection:this.state.selection,components:this.state.components,wrapperHeight:this.props.wrapperHeight,inputRef:this.inputRef,onLoseVisibility:this.blur})),(this.props.openWhenEmpty||this.props.value.length>=this.props.requiredCharacters)&&"date"===this.state.presentationType&&i.createElement(d,{items:this.state.items,terms:this.state.terms,components:this.state.components,matchedPretext:this.state.matchedPretext,onCompleteWord:this.handleCompleteWord}))}static findOverlap(e,t){const n=e.toLowerCase(),s=t.toLowerCase();for(let e=s.length;e>0;e--){const t=s.substring(0,e);if(n.endsWith(t))return t}return""}}m(h,"propTypes",{listComponent:a().func.isRequired,inputComponent:a().elementType,dateComponent:a().func,value:a().string.isRequired,providers:a().arrayOf(a().object).isRequired,listStyle:a().string,containerClass:a().string,renderDividers:a().bool,renderNoResults:a().bool,completeOnTab:a().bool,onFocus:a().func,onBlur:a().func,onChange:a().func,onKeyDown:a().func,onKeyPress:a().func,onComposition:a().func,onSelect:a().func,onSearchTypeSelected:a().func,onItemSelected:a().func,isRHS:a().bool,requiredCharacters:a().number,openOnFocus:a().bool,disabled:a().bool,openWhenEmpty:a().bool,replaceAllInputOnSelect:a().bool,contextId:a().string,listenForMentionKeyClick:a().bool,wrapperHeight:a().number,onSuggestionsReceived:a().func,forceSuggestionsWhenBlur:a().bool}),m(h,"defaultProps",{listStyle:"top",containerClass:"",renderDividers:!1,renderNoResults:!1,completeOnTab:!0,isRHS:!1,requiredCharacters:1,openOnFocus:!1,openWhenEmpty:!1,replaceAllInputOnSelect:!1,listenForMentionKeyClick:!1,forceSuggestionsWhenBlur:!1})},92094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b}),n(33948);var s=n(4002),a=n.n(s),i=n(45697),r=n.n(i),o=n(67294),l=n(73935),c=n(44012),d=n(74935),m=n(92337),u=n(45288),p=n(56640);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.PureComponent{constructor(e){super(e),f(this,"getContent",(()=>a()(this.contentRef.current))),f(this,"scrollToItem",(e=>{const t=this.getContent();if(!t||0===t.length)return;const n=t[0].clientHeight;if(n<t[0].scrollHeight){const s=t.scrollTop(),i=parseInt(t.css("padding-top"),10),r=parseInt(t.css("padding-top"),10),o=a()(l.findDOMNode(this.itemRefs.get(e)));if(0===o.length)return;const c=o[0].offsetTop-parseInt(o.css("margin-top"),10),d=parseInt(o.css("margin-bottom"),10)+parseInt(o.css("padding-bottom"),10),m=o[0].offsetTop+o.height()+d;c-i<s?t.scrollTop(c-i):m+i+r>s+n&&t.scrollTop(m-n+i+r)}})),this.contentRef=o.createRef(),this.itemRefs=new Map,this.suggestionReadOut=o.createRef(),this.currentLabel="",this.currentItem={}}componentDidUpdate(e){this.props.selection!==e.selection&&this.props.selection&&this.scrollToItem(this.props.selection),(0,d.Qr)(this.currentItem)||this.generateLabel(this.currentItem)}componentWillUnmount(){this.removeLabel()}announceLabel(){const e=this.props.ariaLiveRef.current;e&&(e.innerHTML=this.currentLabel)}removeLabel(){const e=this.props.ariaLiveRef.current;e&&(e.innerHTML="")}generateLabel(e){e.username?(this.currentLabel=e.username,(e.first_name||e.last_name)&&e.nickname?this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name," ").concat(e.nickname):e.nickname?this.currentLabel+=" ".concat(e.nickname):(e.first_name||e.last_name)&&(this.currentLabel+=" ".concat(e.first_name," ").concat(e.last_name))):"mention.channels"===e.type&&(this.currentLabel=e.channel.display_name),this.currentLabel&&(this.currentLabel=this.currentLabel.toLowerCase()),this.announceLabel()}renderDivider(e){return o.createElement("div",{key:e+"-divider",className:"suggestion-list__divider"},o.createElement("span",null,o.createElement(c.Z,{id:"suggestion."+e})))}renderNoResults(){return o.createElement("div",{key:"list-no-results",className:"suggestion-list__no-results",ref:this.contentRef},o.createElement(u.Z,{id:"suggestion_list.no_matches",defaultMessage:"No items match __{value}__",values:{value:this.props.pretext||'""'}}))}render(){if(!this.props.open||this.props.cleared)return null;const e=[];if(0===this.props.items.length){if(!this.props.renderNoResults)return null;e.push(this.renderNoResults())}let t;for(let n=0;n<this.props.items.length;n++){const s=this.props.items[n],a=this.props.terms[n],i=a===this.props.selection,r=this.props.components[n];this.props.renderDividers&&s.type!==t&&(e.push(this.renderDivider(s.type)),t=s.type),s.loading?e.push(o.createElement(p.Z,{key:s.type})):(i&&(this.currentItem=s),e.push(o.createElement(r,{key:a,ref:e=>this.itemRefs.set(a,e),item:this.props.items[n],term:a,matchedPretext:this.props.matchedPretext[n],isSelection:i,onClick:this.props.onCompleteWord,onMouseMove:this.props.onItemHover})))}const n="suggestion-list suggestion-list--"+this.props.location,s="suggestion-list__content suggestion-list__content--"+this.props.location;let a=m.gT.SUGGESTION_LIST_MAXHEIGHT;this.props.wrapperHeight&&(a=Math.min((0,d.uK)()-(this.props.wrapperHeight+m.gT.POST_MODAL_PADDING),m.gT.SUGGESTION_LIST_MAXHEIGHT));const i={maxHeight:a},{pixelsToMoveX:r,pixelsToMoveY:l}=this.props.suggestionBoxAlgn,c=void 0!==r&&void 0!==l?{transform:"translate(".concat(r,"px, ").concat(l,"px)")}:{};return o.createElement("div",{className:n},o.createElement("div",{id:"suggestionList",role:"list",ref:this.contentRef,style:g(g({},i),c),className:s,onMouseDown:this.props.preventClose},e))}}f(b,"propTypes",{ariaLiveRef:r().object,open:r().bool.isRequired,location:r().string,renderDividers:r().bool,renderNoResults:r().bool,onCompleteWord:r().func.isRequired,preventClose:r().func,onItemHover:r().func.isRequired,pretext:r().string.isRequired,cleared:r().bool.isRequired,matchedPretext:r().array.isRequired,items:r().array.isRequired,terms:r().array.isRequired,selection:r().string.isRequired,components:r().array.isRequired,wrapperHeight:r().number,suggestionBoxAlgn:r().object}),f(b,"defaultProps",{renderDividers:!1,renderNoResults:!1})},21440:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var s=n(37703),a=n(22222),i=n(14890),r=n(26961),o=n(42560),l=n(38348),c=n(28847),d=n(74650),m=n(93278),u=n(92337),p=n(57799),h=n(67294),g=n(45288),f=n(52952),b=n(47470),_=n(16429);const E=[{name:"apiv3_deprecation",adminOnly:!0,title:h.createElement(g.Z,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Gomlo"}),icon:_.Z,body:h.createElement(g.Z,{id:"system_notice.body.api3",defaultMessage:"If you’ve created or installed integrations in the last two years, find out how [recent changes](!https://about.mattermost.com/default-apiv3-deprecation-guide) may have affected them."}),allowForget:!0,show:(e,t)=>!(t.InstallationDate>=new Date(2018,5,16,0,0,0,0).getTime())},{name:"advanced_permissions",adminOnly:!0,title:h.createElement(g.Z,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Gomlo"}),icon:_.Z,body:h.createElement(g.Z,{id:"system_notice.body.permissions",defaultMessage:"Some policy and permission System Console settings have moved with the release of [advanced permissions](!https://about.mattermost.com/default-advanced-permissions) in Enterprise E10 and E20."}),allowForget:!0,show:(e,t,n)=>!("false"===n.IsLicensed||t.InstallationDate>new Date(2018,5,16,0,0,0,0).getTime()||"true"===n.IsLicensed&&n.IssuedAt>new Date(2018,5,16,0,0,0,0).getTime())},{name:"ee_upgrade_advice",adminOnly:!0,title:h.createElement(g.Z,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Gomlo"}),icon:_.Z,body:h.createElement(g.Z,{id:"system_notice.body.ee_upgrade_advice",defaultMessage:"Enterprise Edition is recommended to ensure optimal operation and reliability. [Learn more](!https://mattermost.com/performance)."}),allowForget:!1,show:(e,t,n,s)=>!(null==s||!s.hasOwnProperty("TOTAL_USERS")||s.TOTAL_USERS<1e4||"true"===n.IsLicensed&&"true"===n.Cluster)},{name:"ie11_deprecation",title:h.createElement(g.Z,{id:"system_notice.title",defaultMessage:"**Notice**\\nfrom Gomlo"}),icon:_.Z,allowForget:!1,body:h.createElement(g.Z,{id:"system_notice.body.ie11_deprecation",defaultMessage:"Your browser, IE11, will no longer be supported in an upcoming release. [Find out how to move to another browser in one simple step](!https://forum.mattermost.org/t/mattermost-is-dropping-support-for-internet-explorer-ie11-in-v5-16/7575)."}),show:e=>!f.l(e,"5.16.0")&&!!b.w6()}];var C=n(45697),y=n.n(C),v=(n(33948),n(44012)),w=n(82251),S=n(68492),T=n(27420);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends h.PureComponent{constructor(...e){super(...e),P(this,"getCurrentNotice",(()=>{for(const t of this.props.notices){var e;if(!this.props.dismissedNotices[t.name]&&!this.props.preferences[t.name]&&(!t.adminOnly||this.props.isSystemAdmin)&&null!==(e=t.show)&&void 0!==e&&e.call(t,this.props.serverVersion,this.props.config,this.props.license,this.props.analytics))return t}return null})),P(this,"hide",((e=!1)=>{const t=this.getCurrentNotice();t&&(e||this.props.actions.savePreferences(this.props.currentUserId,[{user_id:this.props.currentUserId,category:u.uP.CATEGORY_SYSTEM_NOTICE,name:t.name,value:"dismissed"}]),this.props.actions.dismissNotice(t.name))})),P(this,"hideAndRemind",(()=>{this.hide(!0)})),P(this,"hideAndForget",(()=>{this.hide(!1)}))}componentDidMount(){this.props.isSystemAdmin&&this.props.actions.getStandardAnalytics()}componentDidUpdate(e){e.isSystemAdmin!==this.props.isSystemAdmin&&this.props.isSystemAdmin&&this.props.actions.getStandardAnalytics()}render(){const e=this.getCurrentNotice();if(null==e)return null;let t;return e.adminOnly&&(t=h.createElement("div",{className:"system-notice__info"},h.createElement(S.Z,{className:"fa fa-eye",title:{id:(0,w.t)("system_notice.adminVisible.icon"),defaultMessage:"Only visible to System Admins Icon"}}),h.createElement(v.Z,{id:"system_notice.adminVisible",defaultMessage:"Only visible to System Admins"}))),h.createElement("div",{className:"system-notice bg--white shadow--2"},h.createElement("div",{className:"system-notice__header"},h.createElement("div",{className:"system-notice__logo"},h.createElement(T.Z,null)),h.createElement("div",{className:"system-notice__title"},e.title)),h.createElement("div",{className:"system-notice__body"},e.body),t,h.createElement("div",{className:"system-notice__footer"},h.createElement("button",{id:"systemnotice_remindme",className:"btn btn-transparent",onClick:this.hideAndRemind},h.createElement(v.Z,{id:"system_notice.remind_me",defaultMessage:"Remind Me Later"})),e.allowForget&&h.createElement("button",{id:"systemnotice_dontshow",className:"btn btn-transparent",onClick:this.hideAndForget},h.createElement(v.Z,{id:"system_notice.dont_show",defaultMessage:"Don't Show Again"}))))}}P(M,"propTypes",{currentUserId:y().string.isRequired,notices:y().array.isRequired,preferences:y().objectOf(y().any).isRequired,dismissedNotices:y().any.isRequired,isSystemAdmin:y().bool,serverVersion:y().string.isRequired,actions:y().shape({}).isRequired});const N=(0,s.connect)((function(){const e=(0,r.YX)(),t=(0,a.P1)(e,(e=>{const t={};return e.forEach((e=>{t[e.name]=e})),t}));return function(e){const n=(0,o.lJ)(e),s=(0,o.iE)(e),a=e.entities.general.serverVersion,i=e.entities.admin.analytics;return{currentUserId:e.entities.users.currentUserId,preferences:t(e,u.uP.CATEGORY_SYSTEM_NOTICE),dismissedNotices:e.views.notice.hasBeenDismissed,isSystemAdmin:(0,l.AN)(e,{permission:d.Pl.MANAGE_SYSTEM}),notices:E,config:s,license:n,serverVersion:a,analytics:i}}}),(function(e){return{actions:(0,i.bindActionCreators)({savePreferences:c.$A,dismissNotice:p.G,getStandardAnalytics:m.pu},e)}}))(M)},32103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>fe});var s=n(14890),a=n(37703),i=n(22558),r=n(42560),o=n(16146),l=n(85357),c=n(38348),d=n(2015),m=n(89980),u=n(91150),p=n(15433);function h(e,t,n){return async(s,a)=>{const r=a();return(0,c.Ai)(r,{permission:d.Z.USE_GROUP_MENTIONS,channel:n,team:t})?{data:(0,i.qF)(r,e,t,n)}:{data:[]}}}n(88674);var g=n(63951),f=n(45697),b=n.n(f),_=n(67294),E=n(44012),C=n(97550),y=n(2803),v=(n(23157),n(33948),n(73210),n(20648)),w=n.n(v),S=n(23122),T=n(92337),P=n(64972),M=(n(19601),n(74935)),N=n(54300),I=n(46261),R=n(58423),A=n(69632),O=n(91857),L=n(68403);class D extends O.Z{render(){const e=this.props.isSelection,t=this.props.item;let n,s,a,i;"all"===t.username?(n="all",s=_.createElement(E.Z,{id:"suggestion.mention.all",defaultMessage:"Notifies everyone in this channel"}),a=_.createElement(E.Z,{id:"generic_icons.member",defaultMessage:"Member Icon"},(e=>_.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},_.createElement("i",{className:"icon icon-account-multiple-outline",title:e}))))):"channel"===t.username?(n="channel",s=_.createElement(E.Z,{id:"suggestion.mention.channel",defaultMessage:"Notifies everyone in this channel"}),a=_.createElement(E.Z,{id:"generic_icons.member",defaultMessage:"Member Icon"},(e=>_.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},_.createElement("i",{className:"icon icon-account-multiple-outline",title:e}))))):"here"===t.username?(n="here",s=_.createElement(E.Z,{id:"suggestion.mention.here",defaultMessage:"Notifies everyone online in this channel"}),a=_.createElement(E.Z,{id:"generic_icons.member",defaultMessage:"Member Icon"},(e=>_.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},_.createElement("i",{className:"icon icon-account-multiple-outline",title:e}))))):t.type===T.gT.MENTION_GROUPS?(n=t.name,s="- ".concat(t.display_name),a=_.createElement(E.Z,{id:"generic_icons.member",defaultMessage:"Group Icon"},(e=>_.createElement("i",{className:"mention__image fa fa-users fa-2x",title:e})))):(n=t.username,(t.first_name||t.last_name)&&t.nickname?s="".concat(M.Pp(t)," (").concat(t.nickname,")"):t.nickname?s="(".concat(t.nickname,")"):(t.first_name||t.last_name)&&(s="".concat(M.Pp(t))),a=_.createElement(A.Z,{size:"sm",username:t&&t.username,url:M.bb(t.id,t.last_picture_update)}),i=_.createElement(L.Z,{showTooltip:!0,userID:t.id,emojiSize:15,emojiStyle:{margin:"0 4px 4px"}}));let r=null;t.isCurrentUser&&(r=_.createElement("span",{className:"ml-1"},_.createElement(E.Z,{id:"suggestion.user.isCurrent",defaultMessage:"(you)"})));let o,l="mentions__name";return e&&(l+=" suggestion--selected"),t.remote_id&&(o=_.createElement(R.Z,{className:"shared-user-icon",withTooltip:!0})),_.createElement("div",Object.assign({className:l,"data-testid":"mentionSuggestion_".concat(n),onClick:this.handleClick,onMouseMove:this.handleMouseMove},O.Z.baseProps),a,_.createElement("span",null,_.createElement("span",{className:"mention--align"},"@"+n),_.createElement(N.Z,{show:Boolean(t.is_bot),className:"badge-autocomplete"}),i,_.createElement("span",{className:"light ml-2"},s,r),o,_.createElement(I.Z,{show:M.a_(t),className:"badge-autocomplete"})))}}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z extends P.Z{constructor(e){super(),this.setProps(e),this.data=null,this.lastCompletedWord="",this.lastPrefixWithNoResults="",this.triggerCharacter="@"}setProps({currentUserId:e,profilesInChannel:t,autocompleteUsersInChannel:n,useChannelMentions:s,autocompleteGroups:a,searchAssociatedGroupsForReference:i,priorityProfiles:r}){this.currentUserId=e,this.profilesInChannel=t,this.autocompleteUsersInChannel=n,this.useChannelMentions=s,this.autocompleteGroups=a,this.searchAssociatedGroupsForReference=i,this.priorityProfiles=r}specialMentions(){return this.latestPrefix.startsWith("/msg")||!this.useChannelMentions?[]:["here","group","all"].filter((e=>e.startsWith(this.latestPrefix))).map((e=>({username:e,type:T.gT.MENTION_SPECIAL})))}getProfileSuggestions(e){const t=[];if(!e)return t;if(e.username){const n=(0,S.rH)(e.username.toLowerCase(),T.gT.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push(...n)}return[e.first_name,e.last_name,e.nickname].forEach((e=>{const n=(0,S.O9)(e.toLowerCase()," ");t.push(...n)})),t.push(e.first_name.toLowerCase()+" "+e.last_name.toLowerCase()),t}getGroupSuggestions(e){const t=[];if(!e)return t;if(e.name){const n=(0,S.rH)(e.name.toLowerCase(),T.gT.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push(...n)}const n=(0,S.O9)(e.display_name.toLowerCase()," ");return t.push(...n),t.push(e.display_name.toLowerCase()),t}filterProfile(e){if(!e)return!1;const t=this.latestPrefix.toLowerCase();return this.getProfileSuggestions(e).some((e=>e.startsWith(t)))}filterGroup(e){if(!e)return!1;const t=this.latestPrefix.toLowerCase();return this.getGroupSuggestions(e).some((e=>e.startsWith(t)))}localMembers(){return this.profilesInChannel.filter((e=>this.filterProfile(e))).map((e=>this.createFromProfile(e,T.gT.MENTION_MEMBERS))).splice(0,25)}filterPriorityProfiles(){return this.priorityProfiles?this.priorityProfiles.filter((e=>this.filterProfile(e))).map((e=>this.createFromProfile(e,T.gT.MENTION_MEMBERS))):[]}localGroups(){return this.autocompleteGroups?this.autocompleteGroups.filter((e=>this.filterGroup(e))).map((e=>this.createFromGroup(e,T.gT.MENTION_GROUPS))).sort(((e,t)=>e.name.localeCompare(t.name))).splice(0,25):[]}remoteMembers(){return this.data?(this.data.users||[]).filter((e=>this.filterProfile(e))).map((e=>this.createFromProfile(e,T.gT.MENTION_MEMBERS))):[]}remoteGroups(){return this.data?(this.data.groups||[]).filter((e=>this.filterGroup(e))).map((e=>this.createFromGroup(e,T.gT.MENTION_GROUPS))):[]}remoteNonMembers(){return this.data?(this.data.out_of_channel||[]).filter((e=>this.filterProfile(e))).map((e=>x({type:T.gT.MENTION_NONMEMBERS},e))):[]}items(){const e={},t=this.filterPriorityProfiles();t.forEach((t=>{e[t.id]=!0}));const n=this.specialMentions(),s=this.localMembers().filter((t=>!e[t.id])),a={};s.forEach((e=>{a[e.id]=!0}));const i=this.remoteMembers().filter((t=>!a[t.id]&&!e[t.id])),r=(e,t)=>{const n=e.username.startsWith(this.latestPrefix),s=t.username.startsWith(this.latestPrefix);return n&&!s?-1:!n&&s?1:e.last_viewed_at&&t.last_viewed_at?t.last_viewed_at-e.last_viewed_at:e.last_viewed_at?-1:t.last_viewed_at?1:e.username.localeCompare(t.username)},o=s.concat(i).sort(r),l=this.localGroups(),c={};l.forEach((e=>{c[e.id]=!0}));const d=this.remoteGroups().filter((e=>!c[e.id])),m=l.concat(d).sort(((e,t)=>{const n=e.name.startsWith(this.latestPrefix),s=t.name.startsWith(this.latestPrefix);return n&&s?e.name.localeCompare(t.name):n?-1:s?1:e.name.localeCompare(t.name)})),u=this.remoteNonMembers().filter((e=>!a[e.id])).sort(r);return t.concat(o).concat(m).concat(n).concat(u)}updateMatches(e,t){0===t.length?this.lastPrefixWithNoResults=this.latestPrefix:this.lastPrefixWithNoResults===this.latestPrefix&&(this.lastPrefixWithNoResults="");const n=t.map((e=>e.username?"@"+e.username:e.name?"@"+e.name:""));e({matchedPretext:"@".concat(this.latestPrefix),terms:n,items:t,component:D})}handlePretextChanged(e,t){const n=w().cache("(?:^|\\W)@([\\pL\\d\\-_. ]*)$","i").exec(e.toLowerCase());if(!n)return!1;if(this.lastCompletedWord&&n[0].trim().startsWith(this.lastCompletedWord.trim()))return!1;const s=n[1];if(this.lastPrefixWithNoResults&&s.startsWith(this.lastPrefixWithNoResults))return!1;this.startNewRequest(s),this.updateMatches(t,this.items());let a=setTimeout((()=>{this.shouldCancelDispatch(s)||(this.updateMatches(t,this.items().concat([{type:T.gT.MENTION_MORE_MEMBERS,loading:!0}])),a=null)}),500);return this.autocompleteUsersInChannel(s).then((({data:e})=>{a&&clearTimeout(a),this.shouldCancelDispatch(s)||(this.data=e,this.searchAssociatedGroupsForReference(s).then((e=>{this.data&&e&&e.data&&(this.data.groups=e.data),this.updateMatches(t,this.items())})))})),!0}handleCompleteWord(e){this.lastCompletedWord=e,this.lastPrefixWithNoResults=""}createFromProfile(e,t){return e.id===this.currentUserId?x(x({type:t},e),{},{isCurrentUser:!0}):x({type:t},e)}createFromGroup(e,t){return x({type:t},e)}}const j=Z;n(23123);var F=n(70493),H=n(71816),q=n(72009);class B extends O.Z{render(){const e=this.props.isSelection,t=this.props.item,n=t.channel.display_name,s=_.createElement("span",{className:"suggestion-list__icon suggestion-list__icon--large"},_.createElement("i",{className:"icon icon--no-spacing icon-globe"}));let a="mentions__name no-flex";e&&(a+=" suggestion--selected");const i="~"+t.channel.name;return _.createElement("div",Object.assign({className:a,onClick:this.handleClick,onMouseMove:this.handleMouseMove},O.Z.baseProps),_.createElement("div",{className:"d-flex align-items-center"},s,_.createElement("span",null,n),_.createElement("span",{className:"mention__channelname ml-2"},i)))}}class G extends P.Z{constructor(e){super(),this.lastPrefixTrimmed="",this.lastPrefixWithNoResults="",this.lastCompletedWord="",this.triggerCharacter="~",this.autocompleteChannels=e}handlePretextChanged(e,t){this.resetRequest();const n=/\B(~([^~\r\n]*))$/i.exec(e.toLowerCase());if(!n)return!1;if(n.index>0&&"~"===e[n.index-1])return!1;const s=n[2];if(this.lastPrefixTrimmed&&s.trim()===this.lastPrefixTrimmed)return!0;if(this.lastPrefixTrimmed=s.trim(),this.lastPrefixWithNoResults&&s.startsWith(this.lastPrefixWithNoResults))return!1;if(this.lastCompletedWord&&n[0].startsWith(this.lastCompletedWord))return!1;this.lastCompletedWord="",this.startNewRequest(s);const a=s.toLowerCase().split(/\s+/),i={};var r=[];(0,F.qB)(q.Z.getState()).forEach((e=>{if("O"!==e.type||e.delete_at>0)return;const t=e.name.toLowerCase().split(/\s+/).concat(e.display_name.toLowerCase().split(/\s+/));for(var n=!0,s=0;n&&s<a.length;s++)if(a[s]){for(var o=!1,l=0;l<t.length;l++)if(t[l].startsWith(a[s])){o=!0;break}if(!o){n=!1;break}}n&&(i[e.id]=!0,r.push({type:T.gT.MENTION_CHANNELS,channel:e}))}));const o=(r=r.sort(((e,t)=>(0,H.Ut)("en",e.channel,t.channel)))).map((e=>"~"+e.channel.name));t({terms:o.concat([" "]),items:r.concat([{type:T.gT.MENTION_MORE_CHANNELS,loading:!0}]),component:B,matchedPretext:n[1]});const l=(e,a)=>{if(s!==this.latestPrefix||this.shouldCancelDispatch(s))return;const o=(0,F.h4)(q.Z.getState());0!==e.length||a||(this.lastPrefixWithNoResults=s);const l=[];e.forEach((e=>{if(!(e.delete_at>0)||o[e.id]){if(o[e.id]&&!i[e.id])return i[e.id]=!0,void r.push({type:T.gT.MENTION_CHANNELS,channel:e});if(!o[e.id]||!i[e.id]){if(!o[e.id]&&i[e.id]){delete i[e.id];const t=r.map((e=>e.channel.id)).indexOf(e.id);t>=0&&r.splice(t,1)}l.push({type:T.gT.MENTION_MORE_CHANNELS,channel:e})}}}));const c=(r=r.sort(((e,t)=>(0,H.Ut)("en",e.channel,t.channel)))).concat(l),d=c.map((e=>"~"+e.channel.name));t({matchedPretext:n[1],terms:d,items:c,component:B})};return this.autocompleteChannels(s,(e=>l(e,!1)),(()=>l([],!0))),!0}handleCompleteWord(e){this.lastCompletedWord=e,this.lastPrefixWithNoResults=""}}n(32023);var V=n(11106),W=n(62696),z=n(47470),Y=n(90747),K=n(84094);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $=T.gT.Integrations.EXECUTE_CURRENT_COMMAND_ITEM_ID,ee=T.gT.Integrations.COMMAND_SUGGESTION_ERROR;class te extends O.Z{render(){const{isSelection:e}=this.props,t=this.props.item;let n="slash-command";e&&(n+=" suggestion--selected");let s=_.createElement("span",null,"/");t.IconData===$&&(s=_.createElement("span",{className:"block mt-1"},"↵")),t.IconData===ee&&(s=_.createElement("span",null,"!"));let a=_.createElement("div",{className:"slash-command__icon"},s);return t.IconData&&t.IconData!==$&&t.IconData!==ee&&(a=_.createElement("div",{className:"slash-command__icon",style:{backgroundColor:"transparent"}},_.createElement("img",{src:t.IconData}))),_.createElement("div",Object.assign({className:n,onClick:this.handleClick,onMouseMove:this.handleMouseMove},O.Z.baseProps),a,_.createElement("div",{className:"slash-command__info"},_.createElement("div",{className:"slash-command__title"},t.Suggestion.substring(1)+" "+t.Hint),_.createElement("div",{className:"slash-command__desc"},t.Description)))}}class ne extends P.Z{constructor(e){super(),X(this,"props",void 0),X(this,"store",void 0),X(this,"triggerCharacter",void 0),X(this,"appCommandParser",void 0),this.store=q.Z,this.props=e,this.appCommandParser=new Y.nr(this.store,K.zx,e.channelId,e.rootId),this.triggerCharacter="/"}setProps(e){this.props=e,this.appCommandParser.setChannelContext(e.channelId,e.rootId)}handlePretextChanged(e,t){return!!e.startsWith(this.triggerCharacter)&&((0,W.D)(this.store.getState())&&this.appCommandParser.isAppCommand(e)?(this.appCommandParser.getSuggestions(e).then((n=>{const s=n.map((e=>Q(Q({},e),{},{Complete:"/"+e.Complete,Suggestion:"/"+e.Suggestion}))),a=s.map((e=>e.Complete));t({matchedPretext:e,terms:a,items:s,component:te})})),!0):(z.tq()?this.handleMobile(e,t):this.handleWebapp(e,t),!0))}handleCompleteWord(e,t,n){n(e+" ")}handleMobile(e,t){const{teamId:n}=this.props,s=e.toLowerCase();V.je.getCommandsList(n).then((n=>{let a=[];if((0,W.D)(this.store.getState())){const t=this.appCommandParser.getSuggestionsBase(e);a=a.concat(t)}n.forEach((e=>{if(e.auto_complete&&"shortcuts"!==e.trigger&&0===(this.triggerCharacter+e.trigger).indexOf(s)){const t=this.triggerCharacter+e.trigger;let n="";e.auto_complete_hint&&0!==e.auto_complete_hint.length&&(n=e.auto_complete_hint),a.push({Suggestion:t,Complete:"",Hint:n,Description:e.auto_complete_desc,IconData:""})}})),a=a.sort(((e,t)=>e.Suggestion.localeCompare(t.Suggestion)));const i=a.map((e=>e.Suggestion));t({matchedPretext:s,terms:i,items:a,component:te})}))}handleWebapp(e,t){const n=e.toLowerCase(),{teamId:s,channelId:a,rootId:i}=this.props,r={team_id:s,channel_id:a,root_id:i};V.je.getCommandAutocompleteSuggestionsList(n,s,r).then((s=>{let a=[],i="Ctrl";if(M.V5()&&(i="⌘"),(0,W.D)(this.store.getState())&&this.appCommandParser){const t=this.appCommandParser.getSuggestionsBase(e).map((e=>Q(Q({},e),{},{Complete:"/"+e.Complete,Suggestion:e.Suggestion})));a=a.concat(t)}s.forEach((e=>{this.contains(a,this.triggerCharacter+e.Complete)||a.push({Complete:this.triggerCharacter+e.Complete,Suggestion:this.triggerCharacter+e.Suggestion,Hint:e.Hint,Description:e.Description,IconData:e.IconData})})),e.includes(" ")||a.sort(((e,t)=>e.Suggestion.toLowerCase()>t.Suggestion.toLowerCase()?1:e.Suggestion.toLowerCase()<t.Suggestion.toLowerCase()?-1:0)),this.shouldAddExecuteItem(s,e)&&a.unshift({Complete:e+$,Suggestion:"/Execute Current Command",Hint:"",Description:"Select this option or use "+i+"+Enter to execute the current command.",IconData:$});const r=a.map((e=>e.Complete));t({matchedPretext:n,terms:r,items:a,component:te})}))}shouldAddExecuteItem(e,t){return 0!==e.length&&(" "===t[t.length-1]||-1!==e.findIndex((e=>""===e.Suggestion)))}contains(e,t){return-1!==e.findIndex((e=>e.Complete===t))}}var se=n(39730),ae=n(3601),ie=n(21226),re=n(36163),oe=n(62831);const le=["skintone"];class ce extends O.Z{render(){const e=this.props.term,t=this.props.item.emoji;let n="emoticon-suggestion";return this.props.isSelection&&(n+=" suggestion--selected"),_.createElement("div",Object.assign({className:n,onClick:this.handleClick,onMouseMove:this.handleMouseMove},O.Z.baseProps),_.createElement("div",{className:"pull-left"},_.createElement("img",{alt:e,className:"emoticon-suggestion__image",src:(0,ae.UK)(t),title:e})),_.createElement("div",{className:"pull-left"},e))}}class de extends P.Z{constructor(){super(),this.triggerCharacter=":"}handlePretextChanged(e,t){const n=/(^|\s|^\+|^-)(:([^:\s]*))$/g.exec(e.toLowerCase());if(!n)return!1;const s=n[1],a=n[2],i=n[3];if(i.length<2)return!1;if("-"!==s&&"+"!==s)for(const e of Object.keys(re.Iw))if(re.Iw[e].test(a))return!1;return"true"===q.Z.getState().entities.general.config.EnableCustomEmoji?q.Z.dispatch((0,se.E2)(i)).then((()=>this.findAndSuggestEmojis(a,i,t))):this.findAndSuggestEmojis(a,i,t),!0}formatEmojis(e){return e.map((e=>":"+e.name+":"))}findAndSuggestEmojis(e,t,n){const s=[],a=[],i=(0,ie.kM)(q.Z.getState()),r=(0,ie.Gd)(q.Z.getState());for(const[e,n]of i)if(!le.includes(n.category))if(n.aliases){for(const i of n.aliases)if(-1!==i.indexOf(t)){(r.includes(i)||r.includes(e)?s:a).push({name:i,emoji:n});break}}else if(-1!==e.indexOf(t)){if(i.hasSystemEmoji(e))continue;(r.includes(e)?s:a).push({name:e,emoji:n})}const o=(e,n)=>(0,oe.v)(e,n,t);s.sort(o),a.sort(o),n({matchedPretext:e,terms:[...this.formatEmojis(s),...this.formatEmojis(a)],items:[...s,...a],component:ce})}}var me=n(39864),ue=n(92094);function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class he extends _.PureComponent{constructor(e){super(e),pe(this,"suggestionProviders",void 0),pe(this,"wrapper",void 0),pe(this,"message",void 0),pe(this,"preview",void 0),pe(this,"handleChange",(e=>{this.props.onChange(e)})),pe(this,"checkMessageLength",(e=>{if(this.props.handlePostError)if(e.length>this.props.characterLimit){const t=_.createElement(E.Z,{id:"create_post.error_message",defaultMessage:"Your message is too long. Character count: {length}/{limit}",values:{length:e.length,limit:this.props.characterLimit}});this.props.handlePostError(t)}else this.props.handlePostError(null)})),pe(this,"handleKeyDown",(e=>{var t,n;null===(t=(n=this.props).onKeyDown)||void 0===t||t.call(n,e)})),pe(this,"handleSelect",(e=>{var t,n;null===(t=(n=this.props).onSelect)||void 0===t||t.call(n,e)})),pe(this,"handleMouseUp",(e=>{var t,n;null===(t=(n=this.props).onMouseUp)||void 0===t||t.call(n,e)})),pe(this,"handleKeyUp",(e=>{var t,n;null===(t=(n=this.props).onKeyUp)||void 0===t||t.call(n,e)})),pe(this,"handleBlur",(e=>{var t,n;null===(t=(n=this.props).onBlur)||void 0===t||t.call(n,e)})),pe(this,"handleFocus",(e=>{var t,n;null===(t=(n=this.props).onFocus)||void 0===t||t.call(n,e)})),pe(this,"handleHeightChange",((e,t)=>{var n,s;null===(n=(s=this.props).onHeightChange)||void 0===n||n.call(s,e,t)})),pe(this,"getInputBox",(()=>{var e;return null===(e=this.message.current)||void 0===e?void 0:e.getTextbox()})),pe(this,"focus",(()=>{const e=this.getInputBox();e&&(e.focus(),M.e6(e),this.checkMessageLength(e.value))})),pe(this,"blur",(()=>{var e;null===(e=this.getInputBox())||void 0===e||e.blur()})),pe(this,"recalculateSize",(()=>{var e;null===(e=this.message.current)||void 0===e||e.recalculateSize()})),pe(this,"focusTextbox",(()=>{this.focus()})),this.suggestionProviders=[new j({currentUserId:this.props.currentUserId,profilesInChannel:this.props.profilesInChannel,autocompleteUsersInChannel:e=>this.props.actions.autocompleteUsersInChannel(e,this.props.channelId),useChannelMentions:this.props.useChannelMentions,autocompleteGroups:this.props.autocompleteGroups,searchAssociatedGroupsForReference:e=>this.props.actions.searchAssociatedGroupsForReference(e,this.props.currentTeamId,this.props.channelId),priorityProfiles:this.props.priorityProfiles}),new G(e.actions.autocompleteChannels),new de],e.supportsCommands&&this.suggestionProviders.push(new ne({teamId:this.props.currentTeamId,channelId:this.props.channelId,rootId:this.props.rootId})),this.checkMessageLength(e.value),this.wrapper=_.createRef(),this.message=_.createRef(),this.preview=_.createRef()}updateSuggestions(e){if(this.props.channelId!==e.channelId||this.props.currentUserId!==e.currentUserId||this.props.profilesInChannel!==e.profilesInChannel||this.props.autocompleteGroups!==e.autocompleteGroups){const e=this.suggestionProviders;for(let t=0;t<e.length;t++)e[t]instanceof j&&e[t].setProps({currentUserId:this.props.currentUserId,profilesInChannel:this.props.profilesInChannel,autocompleteUsersInChannel:e=>this.props.actions.autocompleteUsersInChannel(e,this.props.channelId),useChannelMentions:this.props.useChannelMentions,autocompleteGroups:this.props.autocompleteGroups,searchAssociatedGroupsForReference:e=>this.props.actions.searchAssociatedGroupsForReference(e,this.props.currentTeamId,this.props.channelId),priorityProfiles:this.props.priorityProfiles}),e[t]instanceof ne&&e[t].setProps({teamId:this.props.currentTeamId,channelId:this.props.channelId,rootId:this.props.rootId})}e.value!==this.props.value&&this.checkMessageLength(this.props.value)}componentDidUpdate(e){var t;!e.preview&&this.props.preview&&(null===(t=this.preview.current)||void 0===t||t.focus()),this.updateSuggestions(e)}render(){let e,t=null,n="form-control custom-textarea",s="textarea-wrapper";var a;return this.props.emojiEnabled&&(n+=" custom-textarea--emoji-picker"),this.props.badConnection&&(n+=" bad-connection"),this.wrapper.current&&(e=null===(a=this.getInputBox())||void 0===a?void 0:a.clientHeight),this.props.preview&&(n+=" custom-textarea--preview",s+=" textarea-wrapper--preview",t=_.createElement("div",{tabIndex:0,ref:this.preview,className:"form-control custom-textarea textbox-preview-area",onKeyPress:this.props.onKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onBlur:this.handleBlur,onFocus:this.handleFocus},_.createElement(y.Z,{isRHS:this.props.isRHS,message:this.props.value,mentionKeys:[],channelId:this.props.channelId}))),_.createElement("div",{ref:this.wrapper,className:s,onClick:this.focusTextbox},_.createElement(me.Z,{id:this.props.id,ref:this.message,className:n,spellCheck:"true",placeholder:this.props.createMessage,onChange:this.handleChange,onKeyPress:this.props.onKeyPress,onSelect:this.handleSelect,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onKeyUp:this.handleKeyUp,onComposition:this.props.onComposition,onBlur:this.handleBlur,onFocus:this.handleFocus,onHeightChange:this.handleHeightChange,style:{visibility:this.props.preview?"hidden":"visible"},inputComponent:this.props.inputComponent,listComponent:ue.Z,listStyle:this.props.suggestionListStyle,providers:this.suggestionProviders,channelId:this.props.channelId,value:this.props.value,renderDividers:!0,isRHS:this.props.isRHS,disabled:this.props.disabled,contextId:this.props.channelId,listenForMentionKeyClick:this.props.listenForMentionKeyClick,wrapperHeight:e,openWhenEmpty:this.props.openWhenEmpty}),t)}}pe(he,"propTypes",{id:b().string.isRequired,channelId:b().string.isRequired,rootId:b().string,value:b().string.isRequired,onChange:b().func.isRequired,onKeyPress:b().func.isRequired,onComposition:b().func,onHeightChange:b().func,createMessage:b().string.isRequired,onKeyDown:b().func,onSelect:b().func,onMouseUp:b().func,onKeyUp:b().func,onBlur:b().func,onFocus:b().func,supportsCommands:b().bool,handlePostError:b().func,suggestionListStyle:b().string,emojiEnabled:b().bool,isRHS:b().bool,characterLimit:b().number.isRequired,disabled:b().bool,badConnection:b().bool,listenForMentionKeyClick:b().bool,currentUserId:b().string.isRequired}),pe(he,"defaultProps",{supportsCommands:!0,isRHS:!1,listenForMentionKeyClick:!1,inputComponent:C.Z});const ge={active:!0},fe=(0,a.connect)((()=>{const e=(0,m.T5)(),t=(0,u.S)(),n=(0,l.D1)();return(s,a)=>{const l=(0,o.ev)(s),u=(0,r.lJ)(s),p="true"===(null==u?void 0:u.IsLicensed)&&"true"===(null==u?void 0:u.LDAPGroups)&&(0,c.Ai)(s,{channel:a.channelId,team:l,permission:d.Z.USE_GROUP_MENTIONS})?(0,i.Lk)(s,l,a.channelId):null,h=e(s,a.channelId,ge),g=t(s,h);return{currentUserId:(0,m.rc)(s),currentTeamId:l,profilesInChannel:g,autocompleteGroups:p,priorityProfiles:n(s,a)}}}),(e=>({actions:(0,s.bindActionCreators)({autocompleteUsersInChannel:p.yp,autocompleteChannels:g.J3,searchAssociatedGroupsForReference:h},e)})),null,{forwardRef:!0})(he)},64501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var s=n(37703),a=n(92337),i=n(74935),r=n(45697),o=n.n(r),l=(n(33948),n(67294)),c=n(44012);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends l.PureComponent{constructor(...e){super(...e),d(this,"togglePreview",(e=>{var t,n;e.preventDefault(),null===(t=(n=this.props).updatePreview)||void 0===t||t.call(n,!this.props.showPreview)}))}render(){const{isMarkdownPreviewEnabled:e}=this.props,t=this.props.message&&this.props.message.length>0;let n,s="";this.props.message&&this.props.message.length>this.props.characterLimit&&(s="hidden"),n=this.props.previewMessageLink?l.createElement("span",null,this.props.previewMessageLink):l.createElement(c.Z,{id:"textbox.edit",defaultMessage:"Edit message"});let a=null;e&&(a=l.createElement("button",{id:"previewLink",onClick:this.togglePreview,className:"style--none textbox-preview-link color--link"},this.props.showPreview?n:l.createElement(c.Z,{id:"textbox.preview",defaultMessage:"Preview"})));const i=l.createElement("div",{style:{visibility:t?"visible":"hidden",opacity:t?"0.45":"0"},className:"help__format-text"},l.createElement("b",null,l.createElement(c.Z,{id:"textbox.bold",defaultMessage:"**bold**"})),l.createElement("i",null,l.createElement(c.Z,{id:"textbox.italic",defaultMessage:"*italic*"})),l.createElement("span",null,"~~",l.createElement("s",null,l.createElement(c.Z,{id:"textbox.strike",defaultMessage:"strike"})),"~~ "),l.createElement("span",null,l.createElement(c.Z,{id:"textbox.inlinecode",defaultMessage:"`inline code`"})),l.createElement("span",null,l.createElement(c.Z,{id:"textbox.preformatted",defaultMessage:"```preformatted```"})),l.createElement("span",null,l.createElement(c.Z,{id:"textbox.quote",defaultMessage:">quote"})));return l.createElement("div",{className:"help__text "+s},i,a)}}d(m,"propTypes",{isMarkdownPreviewEnabled:o().bool.isRequired,message:o().string,updatePreview:o().func,previewMessageLink:o().string,characterLimit:o().number.isRequired,showPreview:o().bool}),d(m,"defaultProps",{message:""});const u=a.ZP.PRE_RELEASE_FEATURES,p=(0,s.connect)((e=>({isMarkdownPreviewEnabled:(0,i.cr)(u.MARKDOWN_PREVIEW,e)})))(m)},12874:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(94184),o=n.n(r);function l(e){let{prepend:t,append:n,children:s,isActive:a,hasDot:r,allowTextOverflow:l=!1}=e,c=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["prepend","append","children","isActive","hasDot","allowTextOverflow"]);return i.createElement("button",Object.assign({},c,{className:o()("Button Button___transparent",{"is-active":a,allowTextOverflow:l},c.className)}),t&&i.createElement("span",{className:"Button_prepended"},t),i.createElement("span",{className:"Button_label"},s,r&&i.createElement("span",{className:"dot"})),n&&i.createElement("span",{className:"Button_appended"},n))}l.propTypes={prepend:a().node,append:a().node,isActive:a().bool,hasDot:a().bool,allowTextOverflow:a().bool};const c=(0,i.memo)(l)},61577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(45697),n(19601);var s=n(67294),a=n(86896),i=n(94184),r=n.n(i),o=n(12874),l=n(82251);function c(e){var t;let{isFollowing:n}=e,i=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["isFollowing"]);const{formatMessage:c}=(0,a.Z)();return s.createElement(o.Z,Object.assign({},i,{className:r()(i.className,"FollowButton"),disabled:null!==(t=i.disabled)&&void 0!==t?t:null==n,isActive:null!=n&&n}),c(n?{id:(0,l.t)("threading.following"),defaultMessage:"Following"}:{id:(0,l.t)("threading.notFollowing"),defaultMessage:"Follow"}))}const d=(0,s.memo)(c)},96329:(e,t,n)=>{"use strict";n.d(t,{_:()=>s}),n(67294);const s={units:["now","minute","hour","day","week"],useTime:!1,day:"numeric"}},82704:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l}),n(15306);var s=n(67294),a=n(5977),i=n(37703),r=n(89980),o=n(16146);function l(){const{params:e}=(0,a.$B)(),t=(0,a.k6)(),n=(0,i.useSelector)(o.ev),l=(0,i.useSelector)(r.rc);return(0,s.useMemo)((()=>({params:e,history:t,currentTeamId:n,currentUserId:l,clear:()=>t.replace("/".concat(e.team,"/threads")),select:n=>t.push("/".concat(e.team,"/threads").concat(n?"/"+n:"")),goToInChannel:(n,s=e.team)=>t.push("/".concat(s,"/pl/").concat(null!=n?n:e.threadIdentifier))})),[e.team,e.threadIdentifier,n,l])}},77409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ut});var s=n(37703),a=n(14890),i=n(16146),r=n(89980),o=n(85357),l=n(70493),c=n(60862),d=n(26961),m=n(92405),u=n(55165),p=n(92337),h=n(74935),g=n(16403),f=n(53497),b=n(45697),_=n.n(b),E=(n(19601),n(39714),n(4002)),C=n.n(E),y=n(67294),v=n(31298),w=n(94184),S=n.n(w),T=n(74650),P=n(8142),M=n(47470),N=(n(73210),n(42560)),I=n(38348),R=n(80722),A=n(22558),O=n(27640),L=n(6602),D=(n(88674),n(33948),n(23157),n(22222)),k=n(61045),x=n(59929),U=n(34959),Z=n(77905),j=n(73787),F=n(99206),H=n(3440),q=n(67844);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(){return(0,F.Qg)(p.hC.COMMENT_DRAFT,((e,t)=>t?G(G({},t),{},{uploadsInProgress:[]}):t))}function z(e,t){return(0,F.Bc)("".concat(p.hC.COMMENT_DRAFT).concat(e),t)}function Y(e,t){const n=(0,o.Jf)(T.V8.MESSAGE_TYPES.COMMENT);return()=>(s,a)=>{const i=(0,q.HG)(a(),p.hC.COMMENT_DRAFT,e);if(""!==i.message&&i.message!==n(a()))return;-1===t?s((0,m.Pc)(T.V8.MESSAGE_TYPES.COMMENT)):1===t&&s((0,m.Rc)(T.V8.MESSAGE_TYPES.COMMENT));const r=n(a());s(z(e,G(G({},i),{},{message:r})))}}function K(e,t,n){return async(s,a)=>{const i=a(),o=(0,r.rc)(i),l=h.u3();let c={file_ids:[],message:n.message,channel_id:e,root_id:t,parent_id:t,pending_post_id:"".concat(o,":").concat(l),user_id:o,create_at:l,metadata:{},props:G({},n.props)};const d=await s((0,j.H)(c));return d.error?{error:d.error}:(c=d.data,s(U.qb(c,n.fileInfos)))}}var J=n(28645),Q=n(10873),X=(n(32023),n(44012)),$=n(74806),ee=n(76279),te=n(34288),ne=n(72654),se=n(85174),ae=n(14906),ie=n(32579),re=n(1594),oe=n(13685),le=n(62788),ce=n(83440),de=n(79541),me=n(49880),ue=n(32103),pe=n(64501),he=n(45288),ge=n(52881);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ee=p.ZP.KeyCodes;class Ce extends y.PureComponent{static getDerivedStateFromProps(e,t){let n={createPostErrorId:e.createPostErrorId,rootId:e.rootId,messageInHistory:e.messageInHistory,draft:t.draft||be(be({},e.draft),{},{caretPosition:e.draft.message.length,uploadsInProgress:[]})};const s=e.rootId!==t.rootId,a=e.messageInHistory!==t.messageInHistory;return(s||a)&&(n=be(be({},n),{},{draft:be(be({},e.draft),{},{uploadsInProgress:s?[]:e.draft.uploadsInProgress})})),"api.post.create_post.root_id.app_error"===e.createPostErrorId&&e.createPostErrorId!==t.createPostErrorId&&(n=be(be({},n),{},{showPostDeletedModal:!0})),n}constructor(e){super(e),_e(this,"setShowPreview",(e=>{this.props.setShowPreview(e)})),_e(this,"focusTextboxIfNecessary",(e=>{this.props.rhsExpanded&&(document.getElementsByClassName("channel-switch-modal").length||(0,se.a0)(e,document.activeElement)&&this.focusTextbox())})),_e(this,"setCaretPosition",(e=>{const t=this.textboxRef.current&&this.textboxRef.current.getInputBox();this.setState({caretPosition:e},(()=>{h.Mq(t,e)}))})),_e(this,"pasteHandler",(e=>{if(!e.clipboardData||!e.clipboardData.items||"reply_textbox"!==e.target.id)return;const{clipboardData:t}=e,n=(0,ae.hC)(t);if(!n)return;e.preventDefault();const{draft:s}=this.state;let a=s.message;if((0,ae.lw)(n.className)){const{formattedMessage:e,formattedCodeBlock:n}=(0,ae.fB)(this.state.caretPosition,a,t),s=this.state.caretPosition+n.length;a=e,this.setCaretPosition(s)}else{const e=s.message.length;a=(0,ae.Kt)(n,s.message.trim(),this.state.caretPosition);const t=a.length-(e-this.state.caretPosition);this.setCaretPosition(t)}const i=be(be({},s),{},{message:a});this.props.onUpdateCommentDraft(i),this.setState({draft:i})})),_e(this,"handleNotifyAllConfirmation",(e=>{this.hideNotifyAllModal(),this.doSubmit(e)})),_e(this,"hideNotifyAllModal",(()=>{this.setState({showConfirmModal:!1})})),_e(this,"showNotifyAllModal",(()=>{this.setState({showConfirmModal:!0})})),_e(this,"toggleEmojiPicker",(()=>{this.setState({showEmojiPicker:!this.state.showEmojiPicker})})),_e(this,"hideEmojiPicker",(()=>{this.setState({showEmojiPicker:!1})})),_e(this,"handleEmojiClick",(e=>{const t=e.name||e.aliases[0];if(!t)return;const{draft:n}=this.state;let s="";if(""===n.message)s=":".concat(t,": ");else{const{draft:{message:e}}=this.state,{firstPiece:n,lastPiece:a}=(0,se.Nn)(this.state.caretPosition,e);s=""===n?":".concat(t,": ").concat(a," "):"".concat(n," :").concat(t,": ").concat(a," ");const i=""===n?":".concat(t,": ").length:"".concat(n," :").concat(t,": ").length;this.setCaretPosition(i)}const a=be(be({},n),{},{message:s});this.props.onUpdateCommentDraft(a),this.draftsForPost[this.props.rootId]=a,this.setState({showEmojiPicker:!1,draft:a})})),_e(this,"handleGifClick",(e=>{const{draft:t}=this.state;let n="";n=""===t.message?e:/\s+$/.test(t.message)?"".concat(t.message).concat(e," "):"".concat(t.message," ").concat(e," ");const s=be(be({},t),{},{message:n});this.props.onUpdateCommentDraft(s),this.draftsForPost[this.props.rootId]=s,this.setState({showEmojiPicker:!1,draft:s}),this.focusTextbox()})),_e(this,"handlePostError",(e=>{this.setState({postError:e})})),_e(this,"handleSubmit",(async e=>{e.preventDefault(),this.setShowPreview(!1);const{channelMembersCount:t,enableConfirmNotificationsToChannel:n,useChannelMentions:s,isTimezoneEnabled:a,groupsWithAllowReference:i,channelMemberCountsByGroup:r,useGroupMentions:o}=this.props,{draft:l}=this.state,c=n&&s;let d=0,m=0,u=[];const h=!(0,se.t7)(l.message);if(n&&h&&o&&(u=(0,se.TA)(l.message,i),u.length>0&&(u=u.map((e=>{const t=r[e.id];return t&&t.channel_member_count>p.ZP.NOTIFY_ALL_MEMBERS&&t.channel_member_count>d&&(d=t.channel_member_count,m=t.channel_member_timezones_count),"@".concat(e.name)})),u=[...new Set(u)])),!o&&u.length>0){const e=be(be({},l),{},{props:be(be({},l.props),{},{disable_group_highlight:!0})});this.props.onUpdateCommentDraft(e),this.setState({draft:e})}if(c&&t>p.ZP.NOTIFY_ALL_MEMBERS&&!h&&(d=t-1,u=["@all","@group"],a)){const{data:e}=await this.props.getChannelTimezones(this.props.channelId);m=e?e.length:0}if(!s&&(0,se.t7)(l.message,{checkAllMentions:!0})){const e=be(be({},l),{},{props:be(be({},l.props),{},{mentionHighlightDisabled:!0})});this.props.onUpdateCommentDraft(e),this.setState({draft:e})}if(d>0)return this.setState({channelTimezoneCount:m,memberNotifyCount:d,mentions:u}),void this.showNotifyAllModal();await this.doSubmit(e)})),_e(this,"doSubmit",(async e=>{e&&e.preventDefault();const{draft:t}=this.state;if(!this.shouldEnableAddButton())return;if(t.uploadsInProgress.length>0)return;if(this.state.postError)return this.setState({errorClass:"animation--highlight"}),void setTimeout((()=>{this.setState({errorClass:null})}),p.ZP.ANIMATION_TIMEOUT);if(this.props.rootDeleted)return void this.showPostDeletedModal();const n=Date.now()-this.lastBlurAt<150;this.focusTextbox(n);const s=this.state.serverError;let a=!1;(0,se.cW)(s)&&t.message===s.submittedMessage&&(a=!0);const i={ignoreSlash:a};try{await this.props.onSubmit(i),this.setState({postError:null,serverError:null})}catch(e){return(0,se.cW)(e)&&this.props.onUpdateCommentDraft(t),e.submittedMessage=t.message,void this.setState({serverError:e})}this.setState({draft:be(be({},this.props.draft),{},{uploadsInProgress:[]})})})),_e(this,"commentMsgKeyPress",(e=>{const{ctrlSend:t,codeBlockOnCtrlEnter:n}=this.props,{allowSending:s,withClosedCodeBlock:a,message:i}=(0,se.bp)(e,this.state.draft.message,t,n,0,0,this.state.caretPosition);if(s){if(e.persist(),this.textboxRef.current&&this.textboxRef.current.blur(),a&&i){const{draft:t}=this.state,n=be(be({},t),{},{message:i});this.props.onUpdateCommentDraft(n),this.setState({draft:n},(()=>this.handleSubmit(e))),this.draftsForPost[this.props.rootId]=n}else this.handleSubmit(e);this.setShowPreview(!1),setTimeout((()=>{this.focusTextbox()}))}this.emitTypingEvent()})),_e(this,"reactToLastMessage",(e=>{e.preventDefault();const{emitShortcutReactToLastPostFrom:t}=this.props;t(p.tY.RHS_ROOT)})),_e(this,"emitTypingEvent",(()=>{const{channelId:e,rootId:t}=this.props;te.bH(e,t)})),_e(this,"scrollToBottom",(()=>{const e=C()(".post-right__scroll");e[0]&&e.parent().scrollTop(e[0].scrollHeight)})),_e(this,"handleChange",(e=>{const t=e.target.value;let n=this.state.serverError;(0,se.cW)(n)&&(n=null);const{draft:s}=this.state,a=be(be({},s),{},{message:t});cancelAnimationFrame(this.saveDraftFrame),this.saveDraftFrame=requestAnimationFrame((()=>{this.props.onUpdateCommentDraft(a)})),this.setState({draft:a,serverError:n},(()=>{this.scrollToBottom()})),this.draftsForPost[this.props.rootId]=a})),_e(this,"handleMouseUpKeyUp",(e=>{const t=h.qK(e.target);this.setState({caretPosition:t})})),_e(this,"handleSelect",(e=>{h.cf(this.textboxRef.current.getInputBox(),e)})),_e(this,"handleKeyDown",(e=>{const t=(e.ctrlKey||e.metaKey)&&e.shiftKey&&h.pD(e,Ee.BACK_SLASH);if(h.m(e))return void this.setState({draft:be(be({},this.state.draft),{},{message:h.V4(e)})});if((this.props.ctrlSend||this.props.codeBlockOnCtrlEnter)&&h.pD(e,p.ZP.KeyCodes.ENTER)&&(e.ctrlKey||e.metaKey))return this.setShowPreview(!1),void this.commentMsgKeyPress(e);const{draft:n}=this.state,{message:s}=n;if(!e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey&&h.pD(e,p.ZP.KeyCodes.UP)&&""===s){e.preventDefault(),this.textboxRef.current&&this.textboxRef.current.blur();const{data:t}=this.props.onEditLatestPost();t||this.focusTextbox(!0)}const a=h._E(e)&&!e.altKey&&!e.shiftKey,i=h._E(e,!0)&&e.altKey;a&&(h.pD(e,p.ZP.KeyCodes.UP)?(e.preventDefault(),this.props.onMoveHistoryIndexBack()):h.pD(e,p.ZP.KeyCodes.DOWN)?(e.preventDefault(),this.props.onMoveHistoryIndexForward()):(h.pD(e,p.ZP.KeyCodes.B)||h.pD(e,p.ZP.KeyCodes.I))&&this.applyHotkeyMarkdown(e)),i&&h.pD(e,p.ZP.KeyCodes.K)&&this.applyHotkeyMarkdown(e),t&&this.reactToLastMessage(e)})),_e(this,"applyHotkeyMarkdown",(e=>{const t=h.IG(e),{draft:n}=this.state,s=be(be({},n),{},{message:t.message});this.props.onUpdateCommentDraft(s),this.draftsForPost[this.props.rootId]=s,this.setState({draft:s},(()=>{const e=this.textboxRef.current.getInputBox();h.AU(e,t.selectionStart,t.selectionEnd)}))})),_e(this,"handleFileUploadChange",(()=>{this.focusTextbox()})),_e(this,"handleUploadStart",(e=>{const{draft:t}=this.state,n=[...t.uploadsInProgress,...e],s=be(be({},t),{},{uploadsInProgress:n});this.props.onUpdateCommentDraft(s),this.setState({draft:s}),this.draftsForPost[this.props.rootId]=s,this.focusTextbox()})),_e(this,"handleUploadProgress",(({clientId:e,name:t,percent:n,type:s})=>{const a=be(be({},this.state.uploadsProgressPercent),{},{[e]:{percent:n,name:t,type:s}});this.setState({uploadsProgressPercent:a})})),_e(this,"handleFileUploadComplete",((e,t,n,s)=>{const a=this.draftsForPost[s],i=[...a.uploadsInProgress],r=(0,ee.Vi)([...a.fileInfos,...e],this.props.locale);for(let e=0;e<t.length;e++){const n=i.indexOf(t[e]);-1!==n&&i.splice(n,1)}const o=be(be({},a),{},{fileInfos:r,uploadsInProgress:i});this.props.updateCommentDraftWithRootId(s,o),this.draftsForPost[s]=o,this.props.rootId===s&&this.setState({draft:o})})),_e(this,"handleUploadError",((e,t=-1,n,s=-1)=>{if(-1!==t){const e=be({},this.draftsForPost[s]),n=[...e.uploadsInProgress],a=n.indexOf(t);-1!==a&&n.splice(a,1);const i=be(be({},e),{},{uploadsInProgress:n});this.props.updateCommentDraftWithRootId(s,i),this.draftsForPost[s]=i,this.props.rootId===s&&this.setState({draft:i})}let a=e;e&&"string"==typeof e&&(a=new Error(e)),this.setState({serverError:a},(()=>{a&&this.scrollToBottom()}))})),_e(this,"removePreview",(e=>{const{draft:t}=this.state,n=[...t.fileInfos],s=[...t.uploadsInProgress];this.handleUploadError(null);let a=n.findIndex((t=>t.id===e));-1===a?(a=s.indexOf(e),-1!==a&&(s.splice(a,1),this.fileUploadRef.current&&this.fileUploadRef.current.cancelUpload(e))):n.splice(a,1);const i=be(be({},t),{},{fileInfos:n,uploadsInProgress:s});this.props.onUpdateCommentDraft(i),this.setState({draft:i}),this.draftsForPost[this.props.rootId]=i,this.handleFileUploadChange()})),_e(this,"getFileCount",(()=>{const{draft:{fileInfos:e,uploadsInProgress:t}}=this.state;return e.length+t.length})),_e(this,"getFileUploadTarget",(()=>this.textboxRef.current)),_e(this,"getCreateCommentControls",(()=>this.createCommentControlsRef.current)),_e(this,"focusTextbox",((e=!1)=>{!this.textboxRef.current||!e&&M.tq()||this.textboxRef.current.focus()})),_e(this,"shouldEnableAddButton",(()=>!!this.props.enableAddButton||(0,se.cW)(this.state.serverError))),_e(this,"showPostDeletedModal",(()=>{this.setState({showPostDeletedModal:!0})})),_e(this,"hidePostDeletedModal",(()=>{this.setState({showPostDeletedModal:!1}),this.props.resetCreatePostRequest()})),_e(this,"handleBlur",(()=>{this.lastBlurAt=Date.now()})),_e(this,"handleHeightChange",((e,t)=>{this.setState({renderScrollbar:e>t}),window.requestAnimationFrame((()=>{this.textboxRef.current&&this.setState({scrollbarWidth:h.LF(this.textboxRef.current.getInputBox())})})),this.props.onHeightChange&&this.props.onHeightChange()})),this.state={showPostDeletedModal:!1,showConfirmModal:!1,showEmojiPicker:!1,channelTimezoneCount:0,uploadsProgressPercent:{},renderScrollbar:!1,scrollbarWidth:0,mentions:[],memberNotifyCount:0},this.lastBlurAt=0,this.draftsForPost={},this.doInitialScrollToBottom=!1,this.textboxRef=y.createRef(),this.fileUploadRef=y.createRef(),this.createCommentControlsRef=y.createRef()}componentDidMount(){const{useGroupMentions:e,getChannelMemberCountsByGroup:t,channelId:n,clearCommentDraftUploads:s,onResetHistoryIndex:a,setShowPreview:i,draft:r}=this.props;s(),a(),i(!1),this.focusTextbox(),document.addEventListener("paste",this.pasteHandler),document.addEventListener("keydown",this.focusTextboxIfNecessary),e&&t(n),""!==r.message&&(this.doInitialScrollToBottom=!0)}componentWillUnmount(){this.props.resetCreatePostRequest(),document.removeEventListener("paste",this.pasteHandler),document.removeEventListener("keydown",this.focusTextboxIfNecessary),this.saveDraftFrame&&(cancelAnimationFrame(this.saveDraftFrame),this.props.onUpdateCommentDraft(this.state.draft))}componentDidUpdate(e,t){t.draft.uploadsInProgress.length<this.state.draft.uploadsInProgress.length&&this.scrollToBottom(),t.showEmojiPicker&&!this.state.showEmojiPicker&&this.focusTextbox(),e.shouldShowPreview&&!this.props.shouldShowPreview&&this.focusTextbox(),e.rootId===this.props.rootId&&e.selectedPostFocussedAt===this.props.selectedPostFocussedAt||(this.props.useGroupMentions&&this.props.getChannelMemberCountsByGroup(this.props.channelId),this.focusTextbox()),this.doInitialScrollToBottom&&(this.scrollToBottom(),this.doInitialScrollToBottom=!1)}render(){const{draft:e}=this.state,t=this.props.readOnlyChannel||!this.props.canPost,{formatMessage:n}=this.props.intl,s=this.shouldEnableAddButton(),{renderScrollbar:a,channelTimezoneCount:i,mentions:r,memberNotifyCount:o}=this.state,l=h._u("accessibility.sections.rhsFooter","reply input region");let c="",d="";r.includes("@all")||r.includes("@group")?(d=y.createElement(X.Z,{id:"notify_all.title.confirm",defaultMessage:"Confirm sending notifications to entire channel"}),c=i>0?y.createElement(he.Z,{id:"notify_all.question_timezone",defaultMessage:"By using **@all** or **@group** you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{totalMembers:o,timezones:i}}):y.createElement(he.Z,{id:"notify_all.question",defaultMessage:"By using **@all** or **@group** you are about to send notifications to **{totalMembers} people**. Are you sure you want to do this?",values:{totalMembers:o}})):r.length>0&&(d=y.createElement(X.Z,{id:"notify_all.title.confirm_groups",defaultMessage:"Confirm sending notifications to groups"}),c=1===r.length?i>0?y.createElement(he.Z,{id:"notify_all.question_timezone_one_group",defaultMessage:"By using **{mention}** you are about to send notifications of up to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mention:r[0],totalMembers:o,timezones:i}}):y.createElement(he.Z,{id:"notify_all.question_one_group",defaultMessage:"By using **{mention}** you are about to send notifications of up to **{totalMembers} people**. Are you sure you want to do this?",values:{mention:r[0],totalMembers:o}}):i>0?y.createElement(he.Z,{id:"notify_all.question_timezone_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications of up to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?",values:{mentions:r.slice(0,-1).join(", "),finalMention:r[r.length-1],totalMembers:o,timezones:i}}):y.createElement(he.Z,{id:"notify_all.question_groups",defaultMessage:"By using **{mentions}** and **{finalMention}** you are about to send notifications of up to **{totalMembers} people**. Are you sure you want to do this?",values:{mentions:r.slice(0,-1).join(", "),finalMention:r[r.length-1],totalMembers:o}}));const m=y.createElement(X.Z,{id:"notify_all.confirm",defaultMessage:"Confirm"});let u=null;this.state.serverError&&(u=y.createElement(ge.Z,{id:"postServerError",error:this.state.serverError,submittedMessage:this.state.serverError.submittedMessage,handleSubmit:this.handleSubmit}));let g=null;if(this.state.postError){const e="post-error"+(this.state.errorClass?" "+this.state.errorClass:"");g=y.createElement("label",{className:e},this.state.postError)}let f=null;!t&&(e.fileInfos.length>0||e.uploadsInProgress.length>0)&&(f=y.createElement(oe.Z,{fileInfos:e.fileInfos,onRemove:this.removePreview,uploadsInProgress:e.uploadsInProgress,uploadsProgressPercent:this.state.uploadsProgressPercent}));let b=null;e.uploadsInProgress.length>0&&(b=y.createElement("span",{className:"post-right-comments-upload-in-progress"},1===e.uploadsInProgress.length?y.createElement(X.Z,{id:"create_comment.file",defaultMessage:"File uploading"}):y.createElement(X.Z,{id:"create_comment.files",defaultMessage:"Files uploading"})));let _,E="btn btn-primary comment-btn";s||(E+=" disabled"),t||this.props.shouldShowPreview||(_=y.createElement(le.Z,{ref:this.fileUploadRef,fileCount:this.getFileCount(),getTarget:this.getFileUploadTarget,onFileUploadChange:this.handleFileUploadChange,onUploadStart:this.handleUploadStart,onFileUpload:this.handleFileUploadComplete,onUploadError:this.handleUploadError,onUploadProgress:this.handleUploadProgress,rootId:this.props.rootId,channelId:this.props.channelId,postType:"comment"}));let C=null;const v=n({id:"emoji_picker.emojiPicker",defaultMessage:"Emoji Picker"}).toLowerCase();let w;!this.props.enableEmojiPicker||t||this.props.shouldShowPreview||(C=y.createElement("div",null,y.createElement(re.Z,{show:this.state.showEmojiPicker,target:this.getCreateCommentControls,onHide:this.hideEmojiPicker,onEmojiClose:this.hideEmojiPicker,onEmojiClick:this.handleEmojiClick,onGifClick:this.handleGifClick,enableGifPicker:this.props.enableGifPicker,topOffset:55}),y.createElement("button",{"aria-label":v,type:"button",onClick:this.toggleEmojiPicker,className:S()("emoji-picker__container","post-action",{"post-action--active":this.state.showEmojiPicker})},y.createElement(me.Z,{className:"icon icon--emoji emoji-rhs "})))),w=t?h._u("create_post.read_only","This channel is read-only. Only members with permission can post here."):h._u("create_comment.addComment","Add a comment...");let T="";a&&(T=" scroll");const P=this.textboxRef.current;let M="top";return P&&P.getInputBox().getBoundingClientRect().top<p.ZP.SUGGESTION_LIST_SPACE_RHS&&(M="bottom"),y.createElement("form",{onSubmit:this.handleSubmit},y.createElement("div",{role:"form","aria-label":l,tabIndex:"-1",className:"post-create a11y__region".concat(T),style:this.state.renderScrollbar&&this.state.scrollbarWidth?{"--detected-scrollbar-width":"".concat(this.state.scrollbarWidth,"px")}:void 0,"data-a11y-sort-order":"4"},y.createElement("div",{id:this.props.rootId,className:"post-create-body comment-create-body"},y.createElement("div",{className:"post-body__cell"},y.createElement(ue.Z,{onChange:this.handleChange,onKeyPress:this.commentMsgKeyPress,onKeyDown:this.handleKeyDown,onSelect:this.handleSelect,onMouseUp:this.handleMouseUpKeyUp,onKeyUp:this.handleMouseUpKeyUp,onComposition:this.emitTypingEvent,onHeightChange:this.handleHeightChange,handlePostError:this.handlePostError,value:t?"":e.message,onBlur:this.handleBlur,createMessage:w,emojiEnabled:this.props.enableEmojiPicker,initialText:"",channelId:this.props.channelId,rootId:this.props.rootId,isRHS:!0,popoverMentionKeyClick:!0,id:"reply_textbox",ref:this.textboxRef,disabled:t,characterLimit:this.props.maxPostSize,preview:this.props.shouldShowPreview,suggestionListStyle:M,badConnection:this.props.badConnection,listenForMentionKeyClick:!0,useChannelMentions:this.props.useChannelMentions}),y.createElement("span",{ref:this.createCommentControlsRef,className:"post-body__actions"},_,C))),y.createElement("div",{className:"post-create-footer"},y.createElement("div",{className:"d-flex justify-content-between"},y.createElement("div",{className:"col"},y.createElement(ce.Z,{channelId:this.props.channelId,postId:this.props.rootId}),g),y.createElement("div",{className:"col col-auto"},y.createElement(pe.Z,{characterLimit:this.props.maxPostSize,showPreview:this.props.shouldShowPreview,updatePreview:this.setShowPreview,message:t?"":this.state.message}))),y.createElement("div",{className:"text-right mt-2"},b,y.createElement("input",{type:"button",disabled:!s,id:"addCommentButton",className:E,value:n({id:"create_comment.comment",defaultMessage:"Add Comment"}),onClick:this.handleSubmit}),f,u))),y.createElement(de.Z,{show:this.state.showPostDeletedModal,onHide:this.hidePostDeletedModal}),y.createElement(ie.Z,{title:d,message:c,confirmButtonText:m,show:this.state.showConfirmModal,onConfirm:this.handleNotifyAllConfirmation,onCancel:this.hideNotifyAllModal}))}}_e(Ce,"propTypes",{channelId:_().string.isRequired,channelMembersCount:_().number.isRequired,rootId:_().string.isRequired,rootDeleted:_().bool.isRequired,messageInHistory:_().string,draft:_().shape({message:_().string.isRequired,uploadsInProgress:_().array.isRequired,fileInfos:_().array.isRequired}).isRequired,enableAddButton:_().bool.isRequired,codeBlockOnCtrlEnter:_().bool,ctrlSend:_().bool,latestPostId:_().string,locale:_().string.isRequired,createPostErrorId:_().string,clearCommentDraftUploads:_().func.isRequired,intl:ne.gm.isRequired,onUpdateCommentDraft:_().func.isRequired,updateCommentDraftWithRootId:_().func.isRequired,onSubmit:_().func.isRequired,onResetHistoryIndex:_().func.isRequired,onMoveHistoryIndexBack:_().func.isRequired,onMoveHistoryIndexForward:_().func.isRequired,onEditLatestPost:_().func.isRequired,getChannelTimezones:_().func.isRequired,resetCreatePostRequest:_().func.isRequired,readOnlyChannel:_().bool,enableConfirmNotificationsToChannel:_().bool.isRequired,enableEmojiPicker:_().bool.isRequired,enableGifPicker:_().bool.isRequired,badConnection:_().bool.isRequired,maxPostSize:_().number.isRequired,rhsExpanded:_().bool.isRequired,isTimezoneEnabled:_().bool.isRequired,selectedPostFocussedAt:_().number.isRequired,emitShortcutReactToLastPostFrom:_().func,canPost:_().bool.isRequired,useChannelMentions:_().bool.isRequired,useGroupMentions:_().bool.isRequired,setShowPreview:_().func.isRequired,shouldShowPreview:_().bool.isRequired,getChannelMemberCountsByGroup:_().func.isRequired,groupsWithAllowReference:_().object,channelMemberCountsByGroup:_().object,onHeightChange:_().func});const ye=(0,$.ZP)(Ce),ve=(0,s.connect)((function(){const e=(0,o.Jf)(T.V8.MESSAGE_TYPES.COMMENT);return(t,n)=>{const s=t.requests.posts.createPost.error||{},a=(0,q.HG)(t,p.hC.COMMENT_DRAFT,n.rootId),i=0!==a.message.trim().length||0!==a.fileInfos.length,o=(0,l.e7)(t)[n.channelId]?(0,l.e7)(t)[n.channelId].member_count:1,c=e(t),m=t.entities.channels.channels[n.channelId]||{},u=(0,N.iE)(t),h=(0,N.lJ)(t),g="true"===u.EnableConfirmNotificationsToChannel,f="true"===u.EnableEmojiPicker,b="true"===u.EnableGifPicker,_=(0,O.S)(t)>1,E="true"===u.ExperimentalTimezone,C=(0,I.Ai)(t,{channel:m.id,team:m.team_id,permission:T.Pl.CREATE_POST}),y=(0,I.Ai)(t,{channel:m.id,team:m.team_id,permission:T.Pl.USE_CHANNEL_MENTIONS}),v="true"===(null==h?void 0:h.IsLicensed)&&"true"===(null==h?void 0:h.LDAPGroups)&&(0,I.Ai)(t,{channel:m.id,team:m.team_id,permission:T.Pl.USE_GROUP_MENTIONS}),w=(0,l.am)(t,n.channelId),S=v?(0,A.mK)(t,m.team_id,m.id):null;return{draft:a,messageInHistory:c,enableAddButton:i,channelMembersCount:o,codeBlockOnCtrlEnter:(0,d.o4)(t,T.uP.CATEGORY_ADVANCED_SETTINGS,"code_block_ctrl_enter",!0),ctrlSend:(0,d.o4)(t,T.uP.CATEGORY_ADVANCED_SETTINGS,"send_on_ctrl_enter"),createPostErrorId:s.server_error_id,readOnlyChannel:!(0,r.BW)(t)&&"true"===u.ExperimentalTownSquareIsReadOnly&&m.name===p.gT.DEFAULT_CHANNEL,enableConfirmNotificationsToChannel:g,enableEmojiPicker:f,enableGifPicker:b,locale:(0,L.B)(t),maxPostSize:parseInt(u.MaxPostSize,10)||p.gT.DEFAULT_CHARACTER_LIMIT,rhsExpanded:(0,q.OZ)(t),badConnection:_,isTimezoneEnabled:E,selectedPostFocussedAt:(0,q.Om)(t),canPost:C,useChannelMentions:y,shouldShowPreview:(0,J.xI)(t),groupsWithAllowReference:S,useGroupMentions:v,channelMemberCountsByGroup:w}}}),(function(){let e,t,n,s,l,c,d,u;function g(){return(0,m.Ot)(T.V8.MESSAGE_TYPES.COMMENT)}return(f,b)=>(c!==b.rootId&&(e=function(e){return t=>z(e,t)}(b.rootId),n=Y(b.rootId,-1),s=Y(b.rootId,1)),c===b.rootId&&d===b.channelId||(l=function(e,t){const n=function(e,t){return(0,D.P1)(r.rc,(t=>(0,o.T$)(t,e)),(e=>t=>(0,o.xl)(e,t)),((e,n,s)=>{let a=null;if(!n)return a;for(const i of n){const n=s(i)||{};if(!(n.user_id!==e||n.props&&n.props.from_webhook||n.state===p.gT.POST_DELETED||n.type&&n.type.startsWith(p.gT.SYSTEM_MESSAGE_PREFIX)||(0,x.ZK)(n))){if(!t){a=n;break}if(n.root_id===t||n.id===t){a=n;break}}}return a}))}(e,t),s=(0,o.U6)();return()=>(e,t)=>{const a=t(),i=n(a);return i?e(U.Jp(i.id,s(a,{post:i}),"reply_textbox",h._u("create_comment.commentTitle","Comment"),!0)):{data:!1}}}(b.channelId,b.rootId)),c===b.rootId&&d===b.channelId&&u===b.latestPostId||(t=function(e,t,n){return(s={})=>async(a,r)=>{const o=(0,q.HG)(r(),p.hC.COMMENT_DRAFT,t),{message:l}=o;a((0,m.$s)(l)),a(z(t,null));const c=h.oL.exec(l),d=(0,k.RH)(r()),u=new H.Z(d);var g,f,b;c&&u.has(c[2])?a((g=n,f=c[1],b=c[2],e=>{"+"===f?e(U.rU(g,b)):"-"===f&&e((0,m.WO)(g,b))})):0!==l.indexOf("/")||s.ignoreSlash?a(K(e,t,o)):await a(function(e,t,n){return async(s,a)=>{const r=a(),o=(0,i.ev)(r);let l={channel_id:e,team_id:o,root_id:t,parent_id:t},{message:c}=n;const d=await s((0,j.J)(c,l));if(d.error)return{error:d.error};if(!d.data.message&&!d.data.args)return{};c=d.data.message,l=d.data.args;const{error:m}=await s((0,Z.P)(c,l));if(m){if(m.sendMessage)return s(K(e,t,n));throw m}return{}}}(e,t,o))}}(b.channelId,b.rootId,b.latestPostId)),c=b.rootId,d=b.channelId,u=b.latestPostId,(0,a.bindActionCreators)({clearCommentDraftUploads:W,onUpdateCommentDraft:e,updateCommentDraftWithRootId:z,onSubmit:t,onResetHistoryIndex:g,onMoveHistoryIndexBack:n,onMoveHistoryIndexForward:s,onEditLatestPost:l,resetCreatePostRequest:m.aw,getChannelTimezones:R.ng,emitShortcutReactToLastPostFrom:U.id,setShowPreview:Q.yx,getChannelMemberCountsByGroup:R.am},f))}),null,{forwardRef:!0})(ye);var we=n(86401),Se=n(58009),Te=n(51),Pe=n(21226),Me=n(47667),Ne=n(19728),Ie=n(38373),Re=n(75515),Ae=n(15558),Oe=n(30529),Le=n(18632),De=n(16242),ke=n(42897),xe=n(71622),Ue=n(90613),Ze=n(19145),je=n(35856);function Fe({post:e,previewCollapsed:t,previewEnabled:n,isEmbedVisible:s,pluginPostTypes:a}){const i=e.type&&a.hasOwnProperty(e.type);let r;const o=y.createElement(je.Z,{post:e,isRHS:!0,hasMention:!0});return r=e.state===T.V8.POST_DELETED||i?o:y.createElement(Ze.Z,{post:e,previewCollapsed:t,previewEnabled:n,isEmbedVisible:s},o),r}var He=n(54300),qe=n(17189),Be=n(971),Ge=n(46098),Ve=n(20528),We=n(68403);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Je extends y.PureComponent{constructor(e){super(e),Ke(this,"handleShortcutReactToLastPost",(e=>{if(e){const{isReadOnly:e,channelIsArchived:t,enableEmojiPicker:n,post:s,actions:{emitShortcutReactToLastPostFrom:a}}=this.props;a(p.tY.NO_WHERE);const i=s&&s.state===T.V8.POST_DELETED,r=s&&(0,x.Kx)(s),o=s&&se.Ew(s),l=s&&se.zj(s),c=s&&s.failed,d=this.postHeaderRef.current.getBoundingClientRect();!(d.top-110>0&&d.bottom<window.innerHeight)||r||o||e||c||l||i||t||(0,h.tq)()||!n||this.setState({hover:!0},(()=>{this.toggleEmojiPicker()}))}})),Ke(this,"removePost",(()=>{this.props.removePost(this.props.post)})),Ke(this,"createRemovePostButton",(()=>y.createElement("button",{className:"post__remove theme color--link style--none",type:"button",onClick:this.removePost},"×"))),Ke(this,"renderPostTime",(()=>{const e=this.props.post,t=!(T.V8.POST_DELETED===e.state||(0,x.ZK)(e));return y.createElement(ke.Z,{isPermalink:t,eventTime:e.create_at,postId:e.id,location:p.tY.RHS_COMMENT,timestampProps:Ye(Ye({},this.props.timestampProps),{},{style:this.props.isConsecutivePost&&!this.props.compactDisplay?"narrow":void 0})})})),Ke(this,"toggleEmojiPicker",(()=>{const e=!this.state.showEmojiPicker;this.setState({showEmojiPicker:e})})),Ke(this,"getClassName",((e,t,n)=>{let s="post post--thread same--root post--comment";return this.props.currentUserId===e.user_id&&(s+=" current--user"),(t||n)&&(s+=" post--system"),this.props.compactDisplay&&(s+=" post--compact"),(this.state.dropdownOpened||this.state.showEmojiPicker)&&(s+=" post--hovered"),this.props.isConsecutivePost&&(s+=" same--user"),this.state.alt&&!this.props.channelIsArchived&&(s+=" cursor--pointer"),s})),Ke(this,"handleAlt",(e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})})),Ke(this,"handleDropdownOpened",(e=>{this.setState({dropdownOpened:e})})),Ke(this,"getDotMenuRef",(()=>this.dotMenuRef.current)),Ke(this,"setHover",(()=>{this.setState({hover:!0})})),Ke(this,"unsetHover",(()=>{this.setState({hover:!1})})),Ke(this,"handleA11yActivateEvent",(()=>{this.setState({a11yActive:!0})})),Ke(this,"handleA11yDeactivateEvent",(()=>{this.setState({a11yActive:!1})})),Ke(this,"handlePostClick",(e=>{this.props.channelIsArchived||e.altKey&&this.props.actions.markPostAsUnread(this.props.post,"RHS_COMMENT")})),Ke(this,"handlePostFocus",(()=>{this.updateAriaLabel()})),Ke(this,"updateAriaLabel",(()=>{const{post:e,author:t,reactions:n,isFlagged:s,intl:a,emojiMap:i}=this.props;this.setState({currentAriaLabel:se.XN(e,t,s,n,a,i)})})),this.postRef=y.createRef(),this.dotMenuRef=y.createRef(),this.state={showEmojiPicker:!1,dropdownOpened:!1,alt:!1,hover:!1,a11yActive:!1,currentAriaLabel:""},this.postHeaderRef=y.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.addEventListener(p.sp.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.addEventListener(p.sp.DEACTIVATE,this.handleA11yDeactivateEvent))}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt),this.postRef.current&&(this.postRef.current.removeEventListener(p.sp.ACTIVATE,this.handleA11yActivateEvent),this.postRef.current.removeEventListener(p.sp.DEACTIVATE,this.handleA11yDeactivateEvent))}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:n}=this.props;this.state.a11yActive&&this.postRef.current.dispatchEvent(new Event(p.sp.UPDATE)),e.shortcutReactToLastPostEmittedFrom!==t&&t===p.tY.RHS_ROOT&&this.handleShortcutReactToLastPost(n),this.props.post.state===T.V8.POST_DELETED&&e.post.state!==T.V8.POST_DELETED&&this.updateAriaLabel()}render(){const{post:e,isConsecutivePost:t,isReadOnly:n,channelIsArchived:s}=this.props,a=e&&e.state===T.V8.POST_DELETED,i=(0,x.Kx)(e),r=se.Ew(e),o=(0,x.L9)(e),l=se.zj(e);let c,d,m,u,g=null;(this.props.compactDisplay||(0,h.tq)())&&(g=y.createElement(Ve.Z,{userId:e.user_id,channelId:e.channel_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0})),t||(g=y.createElement(Ve.Z,{userId:e.user_id,channelId:e.channel_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0}),d=y.createElement(Oe.Z,{compactDisplay:this.props.compactDisplay,isBusy:this.props.isBusy,isRHS:!0,post:e,userId:e.user_id,channelId:e.channel_id}),e.props&&e.props.from_webhook?(g=e.props.override_username&&this.props.enablePostUsernameOverride?y.createElement(Ve.Z,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0,overwriteName:e.props.override_username,disablePopover:!0}):y.createElement(Ve.Z,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0,disablePopover:!0}),c=y.createElement(He.Z,{className:"col col__name"})):l?(g=y.createElement("span",{className:"auto-responder"},y.createElement(Ve.Z,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0})),c=y.createElement(qe.Z,{className:"col col__name"},y.createElement(X.Z,{id:"post_info.auto_responder",defaultMessage:"AUTOMATIC REPLY"}))):r&&this.props.isBot?(g=y.createElement(Ve.Z,{userId:e.user_id,channelId:e.channel_id,hideStatus:!0}),m=y.createElement("span",{className:"post__visibility"},y.createElement(X.Z,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"}))):r&&(g=y.createElement(Ve.Z,{overwriteName:y.createElement(X.Z,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:p.ZP.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0,channelId:e.channel_id}),m=y.createElement("span",{className:"post__visibility"},y.createElement(X.Z,{id:"post_info.message.visible",defaultMessage:"(Only visible to you)"}))));let f="";e.failed&&(f+=" post-failed",u=y.createElement(Le.Z,{post:this.props.post})),se.cq(this.props.post)&&(f+=" post--edited");let b,_=null;e.file_ids&&e.file_ids.length>0&&(_=y.createElement(Re.Z,{post:e,compactDisplay:this.props.compactDisplay})),n||i||e.failed||r||!this.props.enableEmojiPicker||s||(b=y.createElement(xe.Z,{channelId:e.channel_id,postId:e.id,teamId:this.props.teamId,getDotMenuRef:this.getDotMenuRef,location:p.tY.RHS_COMMENT,showEmojiPicker:this.state.showEmojiPicker,toggleEmojiPicker:this.toggleEmojiPicker}));let E,C=null;if((0,h.tq)()||i||e.failed||r||(C=y.createElement(De.Z,{location:p.tY.RHS_COMMENT,postId:e.id,isFlagged:this.props.isFlagged})),i)E=y.createElement("div",{className:"col col__remove"},this.createRemovePostButton());else if(a)E=null;else if(!r&&((0,h.tq)()||this.state.hover||this.state.a11yActive||this.state.dropdownOpened||this.state.showEmojiPicker)){const e=y.createElement(Ie.Z,{post:this.props.post,location:p.tY.RHS_COMMENT,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,handleAddReactionClick:this.toggleEmojiPicker,isReadOnly:n||s,isMenuOpen:this.state.dropdownOpened,enableEmojiPicker:this.props.enableEmojiPicker});E=y.createElement("div",{ref:this.dotMenuRef,className:"col post-menu"},e,b,C)}const v=this.renderPostTime();let w,S;return e.props&&e.props.card&&(w=y.createElement(Ae.Z,{delayShow:p.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:y.createElement(Ne.Z,null,y.createElement(X.Z,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},y.createElement("button",{className:"card-icon__container icon--show style--none",onClick:e=>{e.preventDefault(),this.props.handleCardClick(this.props.post)}},y.createElement(Be.Z,{className:"icon icon__info","aria-hidden":"true"})))),r||(S=y.createElement(We.Z,{userID:e.user_id,showTooltip:!0,emojiSize:14,emojiStyle:{marginLeft:4,marginTop:1}})),y.createElement("div",{role:"listitem",ref:this.postRef,id:"rhsPost_"+e.id,tabIndex:"-1",className:"a11y__section ".concat(this.getClassName(e,r,o)),onClick:this.handlePostClick,onMouseOver:this.setHover,onMouseLeave:this.unsetHover,"aria-label":this.state.currentAriaLabel,onFocus:this.handlePostFocus,"data-a11y-sort-order":this.props.a11yIndex},y.createElement(Ge.Z,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),y.createElement("div",{role:"application",className:"post__content"},y.createElement("div",{className:"post__img"},d),y.createElement("div",null,y.createElement("div",{className:"post__header",ref:this.postHeaderRef},y.createElement("div",{className:"col col__name"},g,c,S),y.createElement("div",{className:"col"},v,w,m),E),y.createElement("div",{className:"post__body"},y.createElement("div",{className:f},u,y.createElement(Fe,{post:e,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible,pluginPostTypes:this.props.pluginPostTypes})),_,y.createElement(Ue.Z,{post:e,isReadOnly:n||s})))))}}Ke(Je,"propTypes",{post:_().object,teamId:_().string.isRequired,currentUserId:_().string.isRequired,compactDisplay:_().bool,author:_().string,reactions:_().object,isFlagged:_().bool.isRequired,isBusy:_().bool,removePost:_().func.isRequired,previewCollapsed:_().string.isRequired,previewEnabled:_().bool.isRequired,isEmbedVisible:_().bool,enableEmojiPicker:_().bool.isRequired,enablePostUsernameOverride:_().bool.isRequired,isReadOnly:_().bool.isRequired,pluginPostTypes:_().object,channelIsArchived:_().bool.isRequired,isConsecutivePost:_().bool,handleCardClick:_().func,a11yIndex:_().number,isBot:_().bool.isRequired,isLastPost:_().bool,shortcutReactToLastPostEmittedFrom:_().string,intl:ne.gm.isRequired,actions:_().shape({markPostAsUnread:_().func.isRequired,emitShortcutReactToLastPostFrom:_().func}),emojiMap:_().object.isRequired,timestampProps:_().object});const Qe=(0,$.ZP)(Je);function Xe(e,t){const n=t.post,s=t.previousPostId&&(0,o.xl)(e,t.previousPostId);let a=!1;if(s){const e=Boolean(n.props&&n.props.from_webhook),t=Boolean(s.props&&s.props.from_webhook);!(s&&s.user_id===n.user_id&&n.create_at-s.create_at<=T.V8.POST_COLLAPSE_TIMEOUT)||e||t||(0,x.Ew)(n)||(0,x.Ew)(s)||s.root_id!==n.root_id&&s.id!==n.root_id||(a=!0)}return a}const $e=(0,s.connect)((function(e,t){const n=(0,o.r)(),s=(0,r.RX)(),a=(0,Pe.kM)(e),c=(0,N.iE)(e),m="true"===c.EnableEmojiPicker,u="true"===c.EnablePostUsernameOverride,h=t.teamId||(0,i.ev)(e),g=e.entities.channels.channels[t.post.channel_id],f=(0,Pe.dj)(e),b=(0,r.PR)(e,t.post.user_id),_=Boolean(b&&b.is_bot);return{author:s(e,t.post.user_id),reactions:n(e,t.post.id),enableEmojiPicker:m,enablePostUsernameOverride:u,isEmbedVisible:(0,Te.Y_)(e,t.post.id),isReadOnly:(0,l.hV)(e,t.post.channel_id),teamId:h,pluginPostTypes:e.plugins.postTypes,channelIsArchived:(0,Me.t2)(g),isConsecutivePost:Xe(e,t),isFlagged:null!=(0,d.U2)(e,p.uP.CATEGORY_FLAGGED_POST,t.post.id,null),compactDisplay:(0,d.U2)(e,p.uP.CATEGORY_DISPLAY_SETTINGS,p.uP.MESSAGE_DISPLAY,p.uP.MESSAGE_DISPLAY_DEFAULT)===p.uP.MESSAGE_DISPLAY_COMPACT,shortcutReactToLastPostEmittedFrom:f,emojiMap:a,isBot:_}}),(function(e){return{actions:(0,a.bindActionCreators)({markPostAsUnread:U.VW,emitShortcutReactToLastPostFrom:U.id},e)}}))(Qe);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tt extends y.PureComponent{constructor(e){super(e),et(this,"handleShortcutReactToLastPost",(e=>{if(e){const{post:t,enableEmojiPicker:n,channelIsArchived:s,actions:{emitShortcutReactToLastPostFrom:a}}=this.props;a(p.tY.NO_WHERE);const i=t&&t.state===T.V8.POST_DELETED,r=t&&h.Kx(t),o=t&&se.Ew(t),l=t&&t.failed,c=t&&t.type===p.ZP.PostTypes.FAKE_PARENT_DELETED,d=this.postHeaderRef.current.getBoundingClientRect();d.top-110>0&&d.bottom<window.innerHeight&&(r||o||i||l||h.tq()||s||c||!n||this.toggleEmojiPicker(e))}})),et(this,"renderPostTime",(e=>{const t=this.props.post;if(t.type===p.ZP.PostTypes.FAKE_PARENT_DELETED)return null;const n=!(e||T.V8.POST_DELETED===t.state||x.ZK(t));return y.createElement(ke.Z,{isPermalink:n,eventTime:t.create_at,postId:t.id,location:p.tY.RHS_ROOT,timestampProps:this.props.timestampProps})})),et(this,"toggleEmojiPicker",(()=>{const e=!this.state.showEmojiPicker;this.setState({showEmojiPicker:e})})),et(this,"getClassName",((e,t,n)=>{let s="post post--root post--thread";return this.props.currentUserId===e.user_id&&(s+=" current--user"),(t||n)&&(s+=" post--system"),this.props.compactDisplay&&(s+=" post--compact"),(this.state.dropdownOpened||this.state.showEmojiPicker)&&(s+=" post--hovered"),this.state.alt&&!this.props.channelIsArchived&&(s+=" cursor--pointer"),s})),et(this,"handleAlt",(e=>{this.state.alt!==e.altKey&&this.setState({alt:e.altKey})})),et(this,"handleDropdownOpened",(e=>{this.setState({dropdownOpened:e})})),et(this,"handlePostClick",(e=>{this.props.channelIsArchived||e.altKey&&this.props.actions.markPostAsUnread(this.props.post,"RHS_ROOT")})),et(this,"handlePostFocus",(()=>{const{post:e,author:t,reactions:n,isFlagged:s,emojiMap:a}=this.props;this.setState({currentAriaLabel:se.XN(e,t,s,n,this.props.intl,a)})})),et(this,"getDotMenuRef",(()=>this.dotMenuRef.current)),this.state={alt:!1,showEmojiPicker:!1,testStateObj:!0,dropdownOpened:!1,currentAriaLabel:""},this.postHeaderRef=y.createRef(),this.dotMenuRef=y.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleAlt),document.addEventListener("keyup",this.handleAlt)}componentWillUnmount(){document.removeEventListener("keydown",this.handleAlt),document.removeEventListener("keyup",this.handleAlt)}componentDidUpdate(e){const{shortcutReactToLastPostEmittedFrom:t,isLastPost:n}=this.props;e.shortcutReactToLastPostEmittedFrom!==t&&t===p.tY.RHS_ROOT&&this.handleShortcutReactToLastPost(n)}render(){const{post:e,isReadOnly:t,teamId:n,channelIsArchived:s}=this.props,a=e&&e.state===T.V8.POST_DELETED,i=h.Kx(e),r=se.Ew(e),o=x.L9(e);let l;t||i||e.failed||r||!this.props.enableEmojiPicker||s||(l=y.createElement(xe.Z,{channelId:e.channel_id,postId:e.id,teamId:n,getDotMenuRef:this.getDotMenuRef,location:p.tY.RHS_ROOT,showEmojiPicker:this.state.showEmojiPicker,toggleEmojiPicker:this.toggleEmojiPicker}));let c,d,m=null;e.file_ids&&e.file_ids.length>0&&(m=y.createElement(Re.Z,{post:e,compactDisplay:this.props.compactDisplay})),r?c=y.createElement(Ve.Z,{overwriteName:y.createElement(X.Z,{id:"post_info.system",defaultMessage:"System"}),overwriteImage:p.ZP.SYSTEM_MESSAGE_PROFILE_IMAGE,disablePopover:!0}):e.props&&e.props.from_webhook?(c=e.props.override_username&&this.props.enablePostUsernameOverride?y.createElement(Ve.Z,{key:e.user_id,userId:e.user_id,hideStatus:!0,overwriteName:e.props.override_username,disablePopover:!0}):y.createElement(Ve.Z,{key:e.user_id,userId:e.user_id,hideStatus:!0,disablePopover:!0}),d=y.createElement(He.Z,null)):c=y.createElement(Ve.Z,{key:e.user_id,userId:e.user_id,isBusy:this.props.isBusy,isRHS:!0,hasMention:!0});let u="";se.cq(this.props.post)&&(u+=" post--edited");const g=y.createElement(Ie.Z,{post:this.props.post,location:p.tY.RHS_ROOT,isFlagged:this.props.isFlagged,handleDropdownOpened:this.handleDropdownOpened,handleAddReactionClick:this.toggleEmojiPicker,commentCount:this.props.commentCount,isMenuOpen:this.state.dropdownOpened,isReadOnly:t||s,enableEmojiPicker:this.props.enableEmojiPicker});let f,b,_,E;return!(i||e.failed||r||h.tq())&&(f=y.createElement(De.Z,{location:p.tY.RHS_ROOT,postId:e.id,isFlagged:this.props.isFlagged})),a||this.props.post.type===p.ZP.PostTypes.FAKE_PARENT_DELETED||(b=y.createElement("div",{ref:this.dotMenuRef,className:"col post-menu"},g,l,f)),this.props.post.props&&this.props.post.props.card&&(_=y.createElement(Ae.Z,{delayShow:p.ZP.OVERLAY_TIME_DELAY,placement:"top",overlay:y.createElement(Ne.Z,null,y.createElement(X.Z,{id:"post_info.info.view_additional_info",defaultMessage:"View additional info"}))},y.createElement("button",{className:"card-icon__container icon--show style--none",onClick:e=>{e.preventDefault(),this.props.handleCardClick(this.props.post)}},y.createElement(Be.Z,{className:"icon icon__info","aria-hidden":"true"})))),r||(E=y.createElement(We.Z,{userID:e.user_id,showTooltip:!0,emojiSize:14,emojiStyle:{marginLeft:4,marginTop:1}})),y.createElement("div",{role:"listitem",id:"rhsPost_"+e.id,tabIndex:"-1",className:"thread__root a11y__section ".concat(this.getClassName(e,r,o)),"aria-label":this.state.currentAriaLabel,onClick:this.handlePostClick,onFocus:this.handlePostFocus,"data-a11y-sort-order":"0"},y.createElement(Ge.Z,{isFlagged:this.props.isFlagged,isPinned:e.is_pinned,channelId:e.channel_id}),y.createElement("div",{role:"application",className:"post__content"},y.createElement("div",{className:"post__img"},y.createElement(Oe.Z,{compactDisplay:this.props.compactDisplay,isBusy:this.props.isBusy,isRHS:!0,post:e,userId:e.user_id,channelId:e.channel_id})),y.createElement("div",null,y.createElement("div",{className:"post__header",ref:this.postHeaderRef},y.createElement("div",{className:"col__name"},c,d,E),y.createElement("div",{className:"col"},this.renderPostTime(i),_),b),y.createElement("div",{className:"post__body"},y.createElement("div",{className:u},y.createElement(Fe,{post:e,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isEmbedVisible:this.props.isEmbedVisible,pluginPostTypes:this.props.pluginPostTypes})),m,y.createElement(Ue.Z,{post:e,isReadOnly:t||s})))))}}et(tt,"propTypes",{post:_().object.isRequired,teamId:_().string.isRequired,currentUserId:_().string.isRequired,compactDisplay:_().bool,commentCount:_().number.isRequired,author:_().string,reactions:_().object,isFlagged:_().bool.isRequired,previewCollapsed:_().string,previewEnabled:_().bool,isBusy:_().bool,isEmbedVisible:_().bool,enableEmojiPicker:_().bool.isRequired,enablePostUsernameOverride:_().bool.isRequired,isReadOnly:_().bool.isRequired,pluginPostTypes:_().object,channelIsArchived:_().bool.isRequired,handleCardClick:_().func.isRequired,isLastPost:_().bool,shortcutReactToLastPostEmittedFrom:_().string,intl:ne.gm.isRequired,actions:_().shape({markPostAsUnread:_().func.isRequired,emitShortcutReactToLastPostFrom:_().func}),emojiMap:_().object.isRequired,timestampProps:_().object}),et(tt,"defaultProps",{commentCount:0});const nt=(0,$.ZP)(tt),st=(0,s.connect)((function(e,t){const n=(0,o.r)(),s=(0,r.RX)(),a=(0,N.iE)(e),c="true"===a.EnableEmojiPicker,m="true"===a.EnablePostUsernameOverride,u=t.teamId||(0,i.ev)(e),h=(0,l.mr)(e,t.post.channel_id),g=(0,Pe.kM)(e),f=(0,Pe.dj)(e);return{author:s(e,t.post.user_id),reactions:n(e,t.post.id),emojiMap:g,enableEmojiPicker:c,enablePostUsernameOverride:m,isEmbedVisible:(0,Te.Y_)(e,t.post.id),isReadOnly:(0,l.hV)(e,t.post.channel_id),teamId:u,pluginPostTypes:e.plugins.postTypes,channelIsArchived:(0,Me.t2)(h),isFlagged:null!=(0,d.U2)(e,p.uP.CATEGORY_FLAGGED_POST,t.post.id,null),compactDisplay:(0,d.U2)(e,p.uP.CATEGORY_DISPLAY_SETTINGS,p.uP.MESSAGE_DISPLAY,p.uP.MESSAGE_DISPLAY_DEFAULT)===p.uP.MESSAGE_DISPLAY_COMPACT,shortcutReactToLastPostEmittedFrom:f}}),(function(e){return{actions:(0,a.bindActionCreators)({markPostAsUnread:U.VW,emitShortcutReactToLastPostFrom:U.id},e)}}))(nt);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot=it(it({},n(96329)._),{},{units:["now","minute","hour","day","week","month","year"]});function lt(e){return y.createElement("div",Object.assign({},e,{className:"scrollbar--view"}))}function ct(){return y.createElement("div",null)}function dt(e){return y.createElement("div",Object.assign({},e,{className:"scrollbar--vertical"}))}class mt extends y.Component{static getDerivedStateFromProps(e,t){let n={selected:e.selected};return t.selected&&e.selected&&t.selected.id!==e.selected.id&&(n=it(it({},n),{},{openTime:(new Date).getTime()})),n}constructor(e){super(e),rt(this,"scrollStopAction",void 0),rt(this,"rhspostlistRef",void 0),rt(this,"containerRef",void 0),rt(this,"postCreateContainerRef",void 0),rt(this,"handleResize",(()=>{this.setState({windowWidth:h.bn(),windowHeight:h.uK()}),M.tq()&&"reply_textbox"===document.activeElement.id&&this.scrollToBottom(),this.resizeRhsPostList()})),rt(this,"handleCardClick",(e=>{e&&this.props.actions.selectPostCard(e)})),rt(this,"handleCardClickPost",(e=>{e&&this.props.actions.selectPostCard(e)})),rt(this,"filterPosts",((e,t,n)=>{const s=[];return e.forEach((e=>{"system_ephemeral"===e.type&&e.create_at<n||e.root_id===t.id&&s.unshift(e)})),s})),rt(this,"scrollToBottom",(()=>{C()(".post-right__scroll")[0]&&C()(".post-right__scroll").parent().scrollTop(C()(".post-right__scroll")[0].scrollHeight)})),rt(this,"updateFloatingTimestamp",(()=>{if(h.tq()&&this.props.posts){const e=this.rhspostlistRef.current.childNodes,t=this.rhspostlistRef.current.getBoundingClientRect();let n="";const s=100;for(let a=0;a<e.length;a++)if(e[a].offsetTop+t.top-s>0){n=this.props.posts[a].id;break}n!==this.state.topRhsPostId&&this.setState({topRhsPostId:n})}})),rt(this,"handleScroll",(e=>{var t;this.updateFloatingTimestamp();const n=e.target,s=n.scrollHeight-n.getBoundingClientRect().height,a=n.scrollTop,i=null===(t=this.getLastPost())||void 0===t?void 0:t.getBoundingClientRect();if(this.state.isScrolling||this.setState({isScrolling:!0}),i){const e=a>=s-i.height;this.setState({userScrolledToBottom:e})}this.scrollStopAction.fireAfter(p.ZP.SCROLL_DELAY)})),rt(this,"handleScrollStop",(()=>{this.setState({isScrolling:!1})})),rt(this,"handlePostCommentResize",(()=>{this.resizeRhsPostList(),this.scrollToBottom()})),this.scrollStopAction=new P.Z(this.handleScrollStop);const t=(new Date).getTime();this.state={windowWidth:h.bn(),windowHeight:h.uK(),isScrolling:!1,topRhsPostId:"",openTime:t,postsContainerHeight:0,userScrolledToBottom:!1},this.rhspostlistRef=y.createRef(),this.containerRef=y.createRef(),this.postCreateContainerRef=y.createRef()}getLastPost(){var e;const t=null===(e=this.rhspostlistRef.current)||void 0===e?void 0:e.children;return t&&t[t.length-1]}resizeRhsPostList(){var e,t;const n=null===(e=this.containerRef.current)||void 0===e?void 0:e.getBoundingClientRect().height,s=null===(t=this.postCreateContainerRef.current)||void 0===t?void 0:t.getBoundingClientRect().height;n&&s&&this.setState({postsContainerHeight:n-(s+56)})}componentDidMount(){this.scrollToBottom(),this.resizeRhsPostList(),window.addEventListener("resize",this.handleResize),this.morePostsToFetch()&&this.props.actions.getPostThread(this.props.selected.id,!0),this.props.isCollapsedThreadsEnabled&&(null==this.props.userThread?this.fetchThread():this.markThreadRead())}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}morePostsToFetch(){var e;const t=h.B_(this.props.posts),n=(null==t?void 0:t.reply_count)||(null===(e=this.props.userThread)||void 0===e?void 0:e.reply_count)||0;return t&&this.props.posts.length<n+1}fetchThread(){this.props.actions.getThread(this.props.currentUserId,this.props.currentTeamId,this.props.selected.id,!0)}markThreadRead(){this.props.userThread&&(this.props.userThread.last_viewed_at<this.props.userThread.last_reply_at||this.props.userThread.unread_mentions||this.props.userThread.unread_replies)&&this.props.actions.updateThreadRead(this.props.currentUserId,this.props.currentTeamId,this.props.selected.id,Date.now())}componentDidUpdate(e){var t,n;const s=e.posts||[],a=this.props.posts||[],i=this.props.socketConnectionStatus&&!e.socketConnectionStatus,r=this.props.selected.id!==e.selected.id;(i||r)&&(this.props.actions.getPostThread(this.props.selected.id),this.props.isCollapsedThreadsEnabled&&null==this.props.userThread&&this.fetchThread()),this.props.isCollapsedThreadsEnabled&&(null===(t=this.props.userThread)||void 0===t?void 0:t.id)!==(null===(n=e.userThread)||void 0===n?void 0:n.id)&&this.markThreadRead(),s.length>=a.length||(a[0].user_id===this.props.currentUserId||this.state.userScrolledToBottom)&&this.scrollToBottom()}shouldComponentUpdate(e,t){return!h.JB(t.postsArray,this.props.posts)||!h.JB(t.selected,this.props.selected)||!h.JB(e.userThread,this.props.userThread)||e.previewEnabled!==this.props.previewEnabled||t.isBusy!==this.state.isBusy||t.isScrolling!==this.state.isScrolling||t.topRhsPostId!==this.state.topRhsPostId}render(){if(null==this.props.posts||null==this.props.selected||!this.props.channel)return y.createElement("span",null);const e=this.filterPosts(this.props.posts,this.props.selected,this.state.openTime),t=e.length,{selected:n,currentUserId:s}=this.props;let a=!1,i={};0===t?a=!0:i=e[t-1];let r=n.create_at;!r&&this.props.posts.length>0&&(r=this.props.posts[this.props.posts.length-1].create_at);const o=h.jH(r);let l=o;const c=[];let d,m=1;for(let n=0;n<t;n++){const t=e[n],a=n>0?e[n-1].id:"";if(!this.props.useRelativeTimestamp){const e=h.jH(t.create_at);e.toDateString()!==l.toDateString()&&(l=e,c.push(y.createElement(we.Z,{key:e.toString(),date:e})))}const r=t.id?t.id:t.pending_post_id;c.push(y.createElement($e,{key:r+"commentKey",post:t,previousPostId:a,teamId:this.props.channel.team_id,currentUserId:s,isBusy:this.state.isBusy,removePost:this.props.actions.removePost,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,handleCardClick:this.handleCardClickPost,a11yIndex:m++,isLastPost:t.id===i.id,timestampProps:this.props.useRelativeTimestamp?ot:void 0}))}const u=n.type===p.ZP.PostTypes.FAKE_PARENT_DELETED,g=0!==this.props.channel.delete_at;if(u||(d=g?y.createElement("div",{className:"channel-archived-warning"},y.createElement(he.Z,{id:"archivedChannelMessage",defaultMessage:"You are viewing an **archived channel**. New messages cannot be posted."})):y.createElement("div",{className:"post-create__container",ref:this.postCreateContainerRef},y.createElement(ve,{onHeightChange:this.handlePostCommentResize,channelId:n.channel_id,rootId:n.id,rootDeleted:n.state===T.V8.POST_DELETED,latestPostId:t>0?e[t-1].id:n.id}))),this.props.channel.type===p.ZP.DM_CHANNEL){const e=this.props.directTeammate;e&&e.delete_at&&(d=y.createElement("div",{className:"post-create-message"},y.createElement(he.Z,{id:"create_post.deactivated",defaultMessage:"You are viewing an archived channel with a **deactivated user**. New messages cannot be posted."})))}return y.createElement(y.Fragment,null,y.createElement("div",{className:S()("ThreadViewer",this.props.className),ref:this.containerRef},!this.props.useRelativeTimestamp&&y.createElement(Se.Z,{isScrolling:this.state.isScrolling,isMobile:h.tq(),postId:this.state.topRhsPostId,isRhsPost:!0}),y.createElement(v.ZP,{autoHide:!0,autoHideTimeout:500,autoHideDuration:500,renderThumbHorizontal:ct,renderThumbVertical:dt,autoHeightMax:this.state.postsContainerHeight,renderView:lt,onScroll:this.handleScroll},y.createElement("div",{className:"post-right__scroll"},y.createElement("div",{role:"application","aria-label":h._u("accessibility.sections.rhsContent","message details complimentary region"),className:"post-right__content a11y__region","data-a11y-sort-order":"3","data-a11y-focus-child":!0,"data-a11y-order-reversed":!0},!this.props.useRelativeTimestamp&&!u&&y.createElement(we.Z,{date:o}),y.createElement(st,{post:n,commentCount:t,teamId:this.props.channel.team_id,currentUserId:this.props.currentUserId,previewCollapsed:this.props.previewCollapsed,previewEnabled:this.props.previewEnabled,isBusy:this.state.isBusy,handleCardClick:this.handleCardClick,isLastPost:a,timestampProps:this.props.useRelativeTimestamp?ot:void 0}),!this.props.useRelativeTimestamp&&u&&o&&y.createElement(we.Z,{date:o}),y.createElement("div",{ref:this.rhspostlistRef,className:"post-right-comments-container"},c)),d))))}}rt(mt,"propTypes",{isCollapsedThreadsEnabled:_().bool.isRequired,posts:_().array.isRequired,previousRhsState:_().string,currentUserId:_().string.isRequired,currentTeamId:_().string.isRequired,previewCollapsed:_().string.isRequired,previewEnabled:_().bool.isRequired,socketConnectionStatus:_().bool.isRequired,actions:_().shape({removePost:_().func.isRequired,selectPostCard:_().func.isRequired,getPostThread:_().func.isRequired,getThread:_().func.isRequired,updateThreadRead:_().func.isRequired}).isRequired,useRelativeTimestamp:_().bool});const ut=(0,s.connect)((function(){const e=(0,o.Zf)();return function(t,{rootPostId:n}){const s=(0,r.rc)(t),a=(0,i.ev)(t),m=(0,o.xl)(t,n),u=(0,l.mr)(t,null==m?void 0:m.channel_id),f=(0,g.L)(t);let b=[],_=null;m&&(b=e(t,{rootId:m.id}),_=(0,c.bJ)(t,m.id));const E=(0,d.U2)(t,p.uP.CATEGORY_DISPLAY_SETTINGS,p.uP.COLLAPSE_DISPLAY,p.uP.COLLAPSE_DISPLAY_DEFAULT);return{isCollapsedThreadsEnabled:(0,d.ym)(t),currentUserId:s,currentTeamId:a,userThread:_,selected:m,channel:u,posts:b,socketConnectionStatus:f.connected,previewCollapsed:E,previewEnabled:(0,d.o4)(t,p.uP.CATEGORY_DISPLAY_SETTINGS,p.uP.LINK_PREVIEW_DISPLAY,"true"===p.uP.LINK_PREVIEW_DISPLAY_DEFAULT),directTeammate:(0,h.PR)(t,null==u?void 0:u.id)}}}),(function(e){return{actions:(0,a.bindActionCreators)({removePost:m.M8,getPostThread:m.ct,selectPostCard:f.Jm,getThread:u.bJ,updateThreadRead:u.bl},e)}}))(mt)},49801:(e,t,n)=>{"use strict";n.d(t,{ap:()=>s,ZP:()=>Z});var s={};n.r(s),n.d(s,{VC:()=>N,aS:()=>P,NL:()=>T,o$:()=>M});var a=n(37703),i=n(89980),r=n(76938),o=n(98020),l=n(26961),c=n(13776),d=n(92337),m=n(45697),u=n.n(m),p=n(48403),h=n.n(p),g=(n(33948),n(15306),n(39714),n(67294)),f=n(44012),b=n(74806),_=n(59864),E=n(80008),C=n.n(E),y=n(85175);function v(e,t,n){return"function"==typeof e?e(t,n):e}n(19601);const w=e=>{let{value:t,children:n,"aria-label":s=t.toLocaleString()}=e,a=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value","children","aria-label"]);return g.createElement("time",Object.assign({},a,{"aria-label":s,dateTime:t.toISOString()}),n)};w.propTypes={value:u().instanceOf(Date).isRequired,children:u().node};const S=(0,g.memo)(w),T={within:["day",-1],display:["day"]},P={equals:["day",0],display:g.createElement(f.Z,{id:"date_separator.today",defaultMessage:"Today"})},M={equals:["day",-1],display:g.createElement(f.Z,{id:"date_separator.yesterday",defaultMessage:"Yesterday"})},N={now:{within:["second",-45],display:["second",0]},second:{within:["second",-59],display:["second"]},minute:{within:["minute",-59],display:["minute"]},hour:{within:["hour",-23.75],display:["hour"]},"today-yesterday":T,Today:P,Yesterday:M,day:{within:["day",-6],display:["day"]},week:{within:["week",-3],display:["week"]},month:{within:["month",-11],display:["month"]},quarter:{within:["quarter",-3],display:["quarter"]},year:{within:["year",-1e3],display:["year"]}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=Boolean(new Intl.DateTimeFormat("en-US",{hour:"numeric"}).resolvedOptions().hourCycle);function L(e,t){return null!=t?t:!("h23"===e||"h24"===e)}const D=new Map([["hour",300],["minute",15],["second",1]]);function k(e){return"string"==typeof e||"number"==typeof e?N[e]:e}class x extends g.PureComponent{constructor(e){super(e),A(this,"nextUpdate",null),this.state={now:new Date,prevValue:e.value}}formatParts(e,{relative:t,date:n,time:s}){try{let i,r,o;if(null!=(null==(a=t)?void 0:a.message))i=t.message;else if(function(e){return Boolean(null==e?void 0:e.unit)}(t)&&(i=this.formatRelative(e,t),"day"!==t.unit||!s))return{relative:i};if(null==i&&n&&(r=this.formatDateTime(e,n)),s){const{hourCycle:t,hour12:n=(O?void 0:L(t))}=this.props;o=this.formatDateTime(e,R({hourCycle:t,hour12:n},s))}return{relative:i,date:r,time:o}}catch(t){const{timeZone:a,hourCycle:i,hour12:r}=this.props,o=C().utc(e.getTime());return a&&o.tz(a),{date:n&&x.momentDate(o,R({},n)),time:s&&x.momentTime(o,R({hourCycle:i,hour12:r},s))}}var a}formatRelative(e,t){let n,{unit:s,relNearest:a,truncateEndpoints:i}=t,r=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["unit","relNearest","truncateEndpoints"]);0===a?n=0:(n=(0,y.ad)(e,this.state.now,this.props.timeZone,s,i),null!=a&&(n=Math.round(n/a)*a)),0===n&&(n=e<=this.state.now?-0:0);const o=this.props.intl.formatRelativeTime(n,s,r);return r.capitalize?h()(o):o}formatDateTime(e,t){const{timeZone:n,intl:{locale:s}}=this.props;return new Intl.DateTimeFormat(s,R({timeZone:n},t)).format(e).replace(/-/g,"/")}static momentTime(e,{hour:t,minute:n,hourCycle:s,hour12:a}){if(t&&n)return e.format(L(s,a)?"h:mm A":"HH:mm")}static momentDate(e,{weekday:t,day:n,month:s,year:a}){return t&&n&&s&&a?e.format("dddd, MMMM DD, YYYY"):n&&s&&a?e.format("MMMM DD, YYYY"):n&&s?e.format("MMMM DD"):t?e.format("dddd"):void 0}autoRange(e,t=this.props.units||this.props.ranges){var n;return null!==(n=null==t?void 0:t.map(k).find((({equals:t,within:n})=>null!=t?(0,y.Xy)(e,this.state.now,this.props.timeZone,...t):null!=n&&(0,y.LO)(e,this.state.now,this.props.timeZone,...n))))&&void 0!==n?n:{display:[this.props.unit],updateIntervalInSeconds:this.props.updateIntervalInSeconds}}getFormats(e){const{numeric:t,style:n,useRelative:s=(()=>{const{display:s,updateIntervalInSeconds:a=this.props.updateIntervalInSeconds,capitalize:i=this.props.capitalize}=this.autoRange(e);if(s){if((0,_.isValidElementType)(s)||!Array.isArray(s))return{message:s,updateIntervalInSeconds:a};const[e,r=this.props.relNearest,o=this.props.truncateEndpoints]=s;if(e)return{unit:e,relNearest:r,truncateEndpoints:o,numeric:t,style:n,updateIntervalInSeconds:null!=a?a:D.get(e),capitalize:i}}return!1}),year:a,month:i,day:r,weekday:o,hour:l,minute:c,timeZone:d,useDate:m=(()=>(0,y.LO)(e,this.state.now,d,"day",-6)?{weekday:o}:(0,y.FT)(e)?{day:r,month:i}:{year:a,month:i,day:r}),useTime:u={hour:l,minute:c}}=this.props,p=v(s,{value:e},this.props);return{relative:p,date:!p&&v(m,{value:e},this.props),time:v(u,{value:e},this.props)}}componentWillUnmount(){this.nextUpdate&&(clearTimeout(this.nextUpdate),this.nextUpdate=null)}static getDerivedStateFromProps(e,t){return e.value!==t.prevValue?{now:new Date,prevValue:e.value}:null}maybeUpdate(e){return e&&e.updateIntervalInSeconds?setTimeout((()=>this.setState({now:new Date})),1e3*e.updateIntervalInSeconds):null}static format({relative:e,date:t,time:n}){return(e||t)&&n?g.createElement(f.Z,{id:"timestamp.datetime",defaultMessage:"{relativeOrDate} at {time}",values:{relativeOrDate:e||t,time:n}}):e||t||n}static formatLabel(e,t){const n=C()(e);return t&&n.tz(t),n.toString()+(t?" (".concat(n.tz(),")"):"")}render(){const{value:e=this.state.now,children:t,useSemanticOutput:n=!0,timeZone:s,label:a,className:i}=this.props,r=e instanceof Date?e:new Date(e),o=this.getFormats(r),l=this.formatParts(r,o);let c=x.format(l);return n&&(c=g.createElement(S,{value:r,"aria-label":null!=a?a:x.formatLabel(r,s),className:i},c)),this.nextUpdate=this.maybeUpdate(o.relative),t?v(t,R({value:r,timeZone:s,formatted:c},l),o):c}}A(x,"propTypes",{hourCycle:u().string,className:u().string,label:u().string,useSemanticOutput:u().bool}),A(x,"defaultProps",{numeric:"auto",style:"long",relNearest:1,year:"numeric",month:"2-digit",day:"2-digit",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h12",timeZoneName:"short"});const U=(0,b.ZP)(x),Z=(0,a.connect)((function(e,{userTimezone:t}){const n=(0,i.rc)(e);let s,a,m;var u;(0,c.Y)(e)&&(s=null!==(u=(0,o.G)(null!=t?t:(0,r.S)(e,n)))&&void 0!==u?u:void 0);const p=(0,l.o4)(e,d.uP.CATEGORY_DISPLAY_SETTINGS,d.uP.USE_MILITARY_TIME,!1);return O?a=p?"h23":"h12":m=!p,{timeZone:s,hourCycle:a,hour12:m}}))(U)},61032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o}),n(19601);var s=n(45697),a=n.n(s),i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.PureComponent{constructor(e){super(e),r(this,"show",(e=>{e&&e.preventDefault(),this.setState({show:!0})})),r(this,"hide",(()=>{this.setState({show:!1})})),this.state={show:!1}}render(){const e=this.props,{children:t,dialogType:n,dialogProps:s,onClick:a,isDisabled:r,id:o}=e,l=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["children","dialogType","dialogProps","onClick","isDisabled","id"]);let c,d=this.show;return a&&(d=e=>{a(),this.show(e)}),this.state.show&&(c=i.createElement(n,Object.assign({},s,{onHide:()=>{this.hide(),s.onHide&&s.onHide()}}))),i.createElement("button",Object.assign({},l,{className:"style--none "+l.className,onClick:d,"data-testid":o,disabled:r}),t,c)}}o.propTypes={children:a().node.isRequired,dialogType:a().any.isRequired,dialogProps:a().object,onClick:a().func,className:a().string,id:a().string,isDisabled:a().bool},o.defaultProps={dialogProps:{},className:""}},42306:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s=n(37703),a=n(14890),i=n(74838),r=(n(19601),n(45697)),o=n.n(r),l=n(67294),c=n(74806),d=n(72654);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends l.PureComponent{show(e){e&&e.preventDefault();const{modalId:t,dialogProps:n,dialogType:s}=this.props,a={modalId:t,dialogProps:n,dialogType:s};this.props.actions.openModal(a)}render(){const e=this.props,{children:t,onClick:n,intl:{formatMessage:s}}=e,a=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["children","onClick","intl"]),i=s({id:"accessibility.button.dialog",defaultMessage:"{dialogName} dialog"},{dialogName:a.accessibilityLabel});let r=null;this.props.showUnread&&(r=l.createElement("span",{className:"unread-badge"})),delete a.modalId,delete a.dialogType,delete a.dialogProps,delete a.accessibilityLabel,delete a.actions,delete a.showUnread;let o=()=>this.show();return n&&(o=e=>{n(),this.show(e)}),l.createElement("button",Object.assign({},a,{className:"style--none "+a.className,"data-toggle":"modal toggle","aria-label":i,onClick:o}),t,r)}}m(u,"propTypes",{accessibilityLabel:o().string,children:o().node.isRequired,modalId:o().string.isRequired,dialogType:o().elementType.isRequired,dialogProps:o().object,intl:d.gm.isRequired,onClick:o().func,className:o().string,showUnread:o().bool,actions:o().shape({openModal:o().func.isRequired}).isRequired}),m(u,"defaultProps",{dialogProps:{},className:""});const p=(0,c.ZP)(u),h=(0,s.connect)(null,(function(e){return{actions:(0,a.bindActionCreators)({openModal:i.h},e)}}))(p)},20528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(37703),a=n(89980),i=n(35845);const r=(0,s.connect)((function(){const e=(0,a.RX)();return(t,n)=>{const s=(0,a.PR)(t,n.userId);return{displayName:e(t,n.userId,!0),user:s,isShared:Boolean(s&&s.remote_id)}}}))(i.Z)},35845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var s=n(45697),a=n.n(s),i=(n(33948),n(67294)),r=n(94184),o=n.n(r),l=n(74935),c=n(15558),d=n(11132),m=n(54300),u=n(46261),p=n(58423);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.PureComponent{constructor(...e){super(...e),h(this,"overlay",void 0),h(this,"hideProfilePopover",(()=>{this.overlay&&this.overlay.hide()})),h(this,"setOverlaynRef",(e=>{this.overlay=e}))}render(){const{disablePopover:e,displayName:t,displayUsername:n,isBusy:s,isRHS:a,isShared:r,hasMention:h,hideStatus:g,overwriteName:f,overwriteIcon:b,user:_,userId:E,channelId:C}=this.props;let y;y=_&&n?"@".concat(_.username):f||t||"...";const v="string"==typeof y?y.toLowerCase():"",w=(0,l.A0)(_);if(e)return i.createElement("div",{className:o()("user-popover",{banned:w})},y);let S="right";a&&!(0,l.tq)()&&(S="left");let T,P="";return _&&(P=(0,l.bb)(_.id,_.last_picture_update)),r&&(T=i.createElement(p.Z,{className:"shared-user-icon",withTooltip:!0})),i.createElement(i.Fragment,null,i.createElement(c.Z,{ref:this.setOverlaynRef,trigger:"click",placement:S,rootClose:!0,overlay:i.createElement(d.Z,{className:"user-profile-popover",userId:E,channelId:C,src:P,isBusy:s,hide:this.hideProfilePopover,hideStatus:g,isRHS:a,hasMention:h,overwriteName:f,overwriteIcon:b})},i.createElement("button",{"aria-label":v,className:o()("user-popover style--none",{banned:w})},y)),T,i.createElement(m.Z,{show:Boolean(_&&_.is_bot),className:"badge-popoverlist"}),i.createElement(u.Z,{show:Boolean(_&&(0,l.a_)(_)),className:"badge-popoverlist"}))}}h(g,"propTypes",{userId:a().string.isRequired,displayName:a().string,isBusy:a().bool,isShared:a().bool,overwriteName:a().node,overwriteIcon:a().node,disablePopover:a().bool,displayUsername:a().bool,hasMention:a().bool,hideStatus:a().bool,isRHS:a().bool,overwriteImage:a().node,channelId:a().string}),h(g,"defaultProps",{disablePopover:!1,displayUsername:!1,hasMention:!1,hideStatus:!1,isRHS:!1,overwriteImage:"",overwriteName:""})},96269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var s=n(37703),a=n(14890),i=n(18493),r=n(42560),o=n(89980),l=n(45697),c=n.n(l),d=(n(88674),n(33948),n(67294)),m=n(43253),u=n(73935),p=n(50049),h=n(44012),g=n(74806),f=n(72009),b=n(92337),_=n(74935),E=n(82251),C=n(32579);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=d.lazy((()=>Promise.all([n.e(144),n.e(637),n.e(96)]).then(n.bind(n,57096)))),w=d.lazy((()=>n.e(821).then(n.bind(n,76821)))),S=(0,p.vU)({general:{id:(0,E.t)("user.settings.modal.general"),defaultMessage:"General"},security:{id:(0,E.t)("user.settings.modal.security"),defaultMessage:"Security"},notifications:{id:(0,E.t)("user.settings.modal.notifications"),defaultMessage:"Notifications"},display:{id:(0,E.t)("user.settings.modal.display"),defaultMessage:"Display"},sidebar:{id:(0,E.t)("user.settings.modal.sidebar"),defaultMessage:"Sidebar"},advanced:{id:(0,E.t)("user.settings.modal.advanced"),defaultMessage:"Advanced"},checkEmail:{id:"user.settings.general.checkEmail",defaultMessage:"Check your email at {email} to verify the address. Cannot find the email?"},confirmTitle:{id:(0,E.t)("user.settings.modal.confirmTitle"),defaultMessage:"Discard Changes?"},confirmMsg:{id:(0,E.t)("user.settings.modal.confirmMsg"),defaultMessage:"You have unsaved changes, are you sure you want to discard them?"},confirmBtns:{id:(0,E.t)("user.settings.modal.confirmBtns"),defaultMessage:"Yes, Discard"}});class T extends d.PureComponent{constructor(e){super(e),y(this,"requireConfirm",void 0),y(this,"customConfirmAction",void 0),y(this,"modalBodyRef",void 0),y(this,"afterConfirm",void 0),y(this,"handleResend",(e=>{this.setState({resendStatus:"sending"}),this.props.actions.sendVerificationEmail(e).then((({data:e,error:t})=>{e?this.setState({resendStatus:"success"}):t&&this.setState({resendStatus:"failure"})}))})),y(this,"handleKeyDown",(e=>{_._E(e)&&e.shiftKey&&_.pD(e,b.ZP.KeyCodes.A)&&this.handleHide()})),y(this,"handleHide",(()=>{this.requireConfirm?this.showConfirmModal((()=>this.handleHide())):this.setState({show:!1})})),y(this,"handleHidden",(()=>{this.setState({active_tab:"general",active_section:""}),this.props.onHide(),this.props.onExit()})),y(this,"handleCollapse",(()=>{u.findDOMNode(this.modalBodyRef.current).closest(".modal-dialog").classList.remove("display--content"),this.setState({active_tab:"",active_section:""})})),y(this,"handleConfirm",(()=>{this.setState({showConfirmModal:!1,enforceFocus:!0}),this.requireConfirm=!1,this.customConfirmAction=null,this.afterConfirm&&(this.afterConfirm(),this.afterConfirm=null)})),y(this,"handleCancelConfirmation",(()=>{this.setState({showConfirmModal:!1,enforceFocus:!0}),this.afterConfirm=null})),y(this,"showConfirmModal",(e=>{e&&(this.afterConfirm=e),this.customConfirmAction?this.customConfirmAction(this.handleConfirm):this.setState({showConfirmModal:!0,enforceFocus:!1})})),y(this,"closeModal",(()=>{this.requireConfirm?this.showConfirmModal(this.closeModal):this.handleHide()})),y(this,"collapseModal",(()=>{this.requireConfirm?this.showConfirmModal(this.collapseModal):this.handleCollapse()})),y(this,"updateTab",((e,t)=>{!t&&this.requireConfirm?this.showConfirmModal((()=>this.updateTab(e,!0))):this.setState({active_tab:e,active_section:""})})),y(this,"updateSection",((e,t)=>{!t&&this.requireConfirm?this.showConfirmModal((()=>this.updateSection(e,!0))):this.setState({active_section:e})})),this.state={active_tab:"general",active_section:"",showConfirmModal:!1,enforceFocus:!0,show:!0,resendStatus:""},this.requireConfirm=!1,this.customConfirmAction=null,this.afterConfirm=null,this.modalBodyRef=d.createRef()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e,t){this.state.active_tab!==t.active_tab&&(u.findDOMNode(this.modalBodyRef.current).scrollTop=0)}render(){const{formatMessage:e}=this.props.intl;if(null==this.props.currentUser)return d.createElement("div",null);const t=[];return t.push({name:"general",uiName:e(S.general),icon:"icon fa fa-gear",iconTitle:_._u("user.settings.general.icon","General Settings Icon")}),t.push({name:"security",uiName:e(S.security),icon:"icon fa fa-lock",iconTitle:_._u("user.settings.security.icon","Security Settings Icon")}),t.push({name:"notifications",uiName:e(S.notifications),icon:"icon fa fa-exclamation-circle",iconTitle:_._u("user.settings.notifications.icon","Notification Settings Icon")}),t.push({name:"display",uiName:e(S.display),icon:"icon fa fa-eye",iconTitle:_._u("user.settings.display.icon","Display Settings Icon")}),t.push({name:"sidebar",uiName:e(S.sidebar),icon:"icon fa fa-columns",iconTitle:_._u("user.settings.sidebar.icon","Sidebar Settings Icon")}),t.push({name:"advanced",uiName:e(S.advanced),icon:"icon fa fa-list-alt",iconTitle:_._u("user.settings.advance.icon","Advanced Settings Icon")}),d.createElement(m.Z,{id:"accountSettingsModal",dialogClassName:"a11y__modal settings-modal",show:this.state.show,onHide:this.handleHide,onExited:this.handleHidden,enforceFocus:this.state.enforceFocus,role:"dialog","aria-labelledby":"accountSettingsModalLabel"},d.createElement(m.Z.Header,{id:"accountSettingsHeader",closeButton:!0},d.createElement(m.Z.Title,{componentClass:"h1",id:"accountSettingsModalLabel"},d.createElement(h.Z,{id:"user.settings.modal.title",defaultMessage:"Account Settings"}))),d.createElement(m.Z.Body,{ref:this.modalBodyRef},d.createElement("div",{className:"settings-table"},d.createElement("div",{className:"settings-links"},d.createElement(d.Suspense,{fallback:null},d.createElement(s.Provider,{store:f.Z},d.createElement(w,{tabs:t,activeTab:this.state.active_tab,updateTab:this.updateTab})))),d.createElement("div",{className:"settings-content minimize-settings"},d.createElement(d.Suspense,{fallback:null},d.createElement(s.Provider,{store:f.Z},d.createElement(v,{activeTab:this.state.active_tab,activeSection:this.state.active_section,updateSection:this.updateSection,updateTab:this.updateTab,closeModal:this.closeModal,collapseModal:this.collapseModal,setEnforceFocus:e=>this.setState({enforceFocus:e}),setRequireConfirm:(e,t)=>{this.requireConfirm=e,this.customConfirmAction=t}})))))),d.createElement(C.Z,{title:e(S.confirmTitle),message:e(S.confirmMsg),confirmButtonText:e(S.confirmBtns),show:this.state.showConfirmModal,onConfirm:this.handleConfirm,onCancel:this.handleCancelConfirmation}))}}y(T,"propTypes",{onHide:c().func.isRequired,onExit:c().func,actions:c().shape({sendVerificationEmail:c().func.isRequired}).isRequired}),y(T,"defaultProps",{onExit:()=>{}});const P=(0,g.ZP)(T),M=(0,s.connect)((function(e){const t=(0,r.iE)(e),n="true"===t.CloseUnusedDirectMessages,s="true"===t.ExperimentalChannelOrganization,a="true"===t.SendEmailNotifications,i="true"===t.RequireEmailVerification;return{currentUser:(0,o.ts)(e),closeUnusedDirectMessages:n,experimentalChannelOrganization:s,sendEmailNotifications:a,requireEmailVerification:i}}),(function(e){return{actions:(0,a.bindActionCreators)({sendVerificationEmail:i.zk},e)}}))(P)},78335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var s=n(37703),a=n(42560),i=n(85357),r=n(60291),o=(n(88674),n(33948),n(45697)),l=n.n(o),c=n(67294),d=n(43253),m=n(76279),u=n(34288),p=n(92337),h=n(74935),g=n(4002),f=n.n(g),b=n(73935),_=n(80463);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends c.PureComponent{constructor(e){super(e),E(this,"handleFileInfoChanged",(e=>{let t=b.findDOMNode(this.videoRef.current);t||(t=document.createElement("video"));const n=t.canPlayType(e.mime_type);this.setState({canPlay:"probably"===n||"maybe"===n})})),E(this,"handleLoadError",(()=>{this.setState({canPlay:!1})})),E(this,"stop",(()=>{if(this.videoRef.current){const e=b.findDOMNode(this.videoRef.current);e.pause(),e.currentTime=0}})),this.state={canPlay:!0},this.videoRef=c.createRef(),this.sourceRef=c.createRef()}componentDidMount(){this.handleFileInfoChanged(this.props.fileInfo),this.sourceRef.current&&f()(b.findDOMNode(this.sourceRef.current)).one("error",this.handleLoadError)}componentDidUpdate(e){this.props.fileUrl!==e.fileUrl&&this.handleFileInfoChanged(this.props.fileInfo),this.sourceRef.current&&f()(b.findDOMNode(this.sourceRef.current)).one("error",this.handleLoadError)}render(){if(!this.state.canPlay)return c.createElement(_.Z,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});let e=p.ZP.WEB_VIDEO_WIDTH,t=p.ZP.WEB_VIDEO_HEIGHT;return h.tq()&&(e=p.ZP.MOBILE_VIDEO_WIDTH,t=p.ZP.MOBILE_VIDEO_HEIGHT),c.createElement("video",{key:this.props.fileInfo.id,ref:this.videoRef,"data-setup":"{}",controls:"controls",width:e,height:t},c.createElement("source",{ref:this.sourceRef,src:this.props.fileUrl}))}}E(C,"propTypes",{fileInfo:l().object.isRequired,fileUrl:l().string.isRequired});var y=n(91986),v=n(56640);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends c.PureComponent{constructor(e){super(e),w(this,"getCode",(()=>{!this.state.lang||this.props.fileInfo.size>p.ZP.CODE_PREVIEW_MAX_FILE_SIZE||f().ajax({async:!0,url:this.props.fileUrl,type:"GET",dataType:"text",error:this.handleReceivedError,success:this.handleReceivedCode})})),w(this,"handleReceivedCode",(e=>{let t=e;"#document"===e.nodeName&&(t=(new XMLSerializer).serializeToString(e)),this.setState({code:t,loading:!1,success:!0})})),w(this,"handleReceivedError",(()=>{this.setState({loading:!1,success:!1})})),this.state={code:"",lang:"",loading:!0,success:!0}}componentDidMount(){this.getCode()}static getDerivedStateFromProps(e,t){if(e.fileUrl!==t.prevFileUrl){const t=y.iP(e.fileInfo.extension);return!t||e.fileInfo.size>p.ZP.CODE_PREVIEW_MAX_FILE_SIZE?{code:"",lang:"",loading:!1,success:!1,prevFileUrl:e.fileUrl}:{code:"",lang:t,loading:!0,prevFileUrl:e.fileUrl}}return null}componentDidUpdate(e){this.props.fileUrl!==e.fileUrl&&this.getCode()}static supports(e){return Boolean(y.iP(e.extension))}render(){if(this.state.loading)return c.createElement("div",{className:"view-image__loading"},c.createElement(v.Z,null));if(!this.state.success)return c.createElement(_.Z,{fileInfo:this.props.fileInfo,fileUrl:this.props.fileUrl});const e=y.vY(this.state.lang),t=y.CH(this.state.lang,this.state.code);return c.createElement("div",{className:"post-code"},c.createElement("span",{className:"post-code__language"},"".concat(this.props.fileInfo.name," - ").concat(e)),c.createElement("div",{className:"hljs"},c.createElement("div",{className:"post-code__line-numbers"},y.wj(this.state.code)),c.createElement("code",{dangerouslySetInnerHTML:{__html:t}})))}}S.propTypes={fileInfo:l().object.isRequired,fileUrl:l().string.isRequired};var T=n(54920);function P({fileInfo:e,canDownloadFiles:t}){const n=!e.id;let s,a;return n?(s=e.link,a=e.link):(s=(0,m.gN)(e.id),a=e.has_preview_image?(0,m.iY)(e.id):s),t?c.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer",download:!n},c.createElement("img",{"data-testid":"imagePreview",alt:"preview url image",src:a})):c.createElement("img",{src:a})}P.propTypes={fileInfo:l().object.isRequired,canDownloadFiles:l().bool.isRequired},n(19601);var M=n(23279),N=n.n(M),I=n(19728),R=n(44012),A=n(15558);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends c.PureComponent{render(){let e="";this.props.enablePublicLink&&this.props.showPublicLink&&(e=c.createElement("span",null,c.createElement("a",{href:"#",className:"public-link text","data-title":"Public Image",onClick:this.props.onGetPublicLink},c.createElement(R.Z,{id:"view_image_popover.publicLink",defaultMessage:"Get a public link"})),c.createElement("span",{className:"text"}," | ")));let t=null;if(this.props.canDownloadFiles){let n;const s={};this.props.isExternalFile?n=c.createElement(R.Z,{id:"view_image_popover.open",defaultMessage:"Open"}):(n=c.createElement(R.Z,{id:"view_image_popover.download",defaultMessage:"Download"}),s.download=this.props.filename),t=c.createElement("span",{className:"modal-bar-links"},e,c.createElement("a",Object.assign({href:this.props.fileURL,className:"text",target:"_blank",rel:"noopener noreferrer"},s),n))}const n=[];let s=null;if(this.props.showZoomControls){let e,t,a;t=this.props.scale&&this.props.scale>p.v0.MIN_SCALE?c.createElement("span",{className:"modal-zoom-btn"},c.createElement("a",{onClick:this.props.handleZoomOut&&N()(this.props.handleZoomOut,300,{maxWait:300})},c.createElement("i",{className:"icon icon-minus"}))):c.createElement("span",{className:"btn-inactive"},c.createElement("i",{className:"icon icon-minus"})),n.push(c.createElement(A.Z,{delayShow:p.gT.OVERLAY_TIME_DELAY,key:"zoomOut",placement:"top",overlay:c.createElement(I.Z,{id:"zoom-out-icon-tooltip"},c.createElement(R.Z,{id:"view_image.zoom_out",defaultMessage:"Zoom Out"}))},t)),e=this.props.scale&&this.props.scale>p.v0.DEFAULT_SCALE?c.createElement("span",{className:"modal-zoom-btn"},c.createElement("a",{onClick:this.props.handleZoomReset},c.createElement("i",{className:"icon icon-magnify-minus"}))):this.props.scale&&this.props.scale<p.v0.DEFAULT_SCALE?c.createElement("span",{className:"modal-zoom-btn"},c.createElement("a",{onClick:this.props.handleZoomReset},c.createElement("i",{className:"icon icon-magnify-plus"}))):c.createElement("span",{className:"btn-inactive"},c.createElement("i",{className:"icon icon-magnify-minus"})),n.push(c.createElement(A.Z,{delayShow:p.gT.OVERLAY_TIME_DELAY,key:"zoomReset",placement:"top",overlay:c.createElement(I.Z,{id:"zoom-reset-icon-tooltip"},c.createElement(R.Z,{id:"view_image.zoom_reset",defaultMessage:"Reset Zoom"}))},e)),a=this.props.scale&&this.props.scale<p.v0.MAX_SCALE?c.createElement("span",{className:"modal-zoom-btn"},c.createElement("a",{onClick:this.props.handleZoomIn&&N()(this.props.handleZoomIn,300,{maxWait:300})},c.createElement("i",{className:"icon icon-plus"}))):c.createElement("span",{className:"btn-inactive"},c.createElement("i",{className:"icon icon-plus"})),n.push(c.createElement(A.Z,{delayShow:p.gT.OVERLAY_TIME_DELAY,key:"zoomIn",placement:"top",overlay:c.createElement(I.Z,{id:"zoom-in-icon-tooltip"},c.createElement(R.Z,{id:"view_image.zoom_in",defaultMessage:"Zoom In"}))},a)),s=c.createElement("div",{className:"modal-column"},n)}return c.createElement("div",{"data-testid":"fileCountFooter",ref:"imageFooter",className:"modal-button-bar"},c.createElement("div",{className:"modal-column text"},c.createElement("span",{className:"modal-bar-file-count"},c.createElement(R.Z,{id:"view_image_popover.file",defaultMessage:"File {count, number} of {total, number}",values:{count:this.props.fileIndex+1,total:this.props.totalFiles}}))),s,c.createElement("div",{className:"modal-column text"},t))}}O(L,"propTypes",{fileIndex:l().number,totalFiles:l().number,filename:l().string,fileURL:l().string,showPublicLink:l().bool,enablePublicLink:l().bool.isRequired,canDownloadFiles:l().bool.isRequired,isExternalFile:l().bool.isRequired,onGetPublicLink:l().func,scale:l().number,showZoomControls:l().bool,handleZoomIn:l().func,handleZoomOut:l().func,handleZoomReset:l().func}),O(L,"defaultProps",{fileIndex:0,totalFiles:0,filename:"",fileURL:"",showPublicLink:!0});const D=L;function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=c.lazy((()=>n.e(271).then(n.bind(n,78271)))),j=p.ZP.KeyCodes;class F extends c.PureComponent{constructor(e){super(e),U(this,"handleNext",(e=>{e&&e.stopPropagation();let t=this.state.imageIndex+1;t>this.props.fileInfos.length-1&&(t=0),this.showImage(t)})),U(this,"handlePrev",(e=>{e&&e.stopPropagation();let t=this.state.imageIndex-1;t<0&&(t=this.props.fileInfos.length-1),this.showImage(t)})),U(this,"handleKeyPress",(e=>{h.pD(e,j.RIGHT)?this.handleNext():h.pD(e,j.LEFT)&&this.handlePrev()})),U(this,"onModalShown",(e=>{document.addEventListener("keyup",this.handleKeyPress),this.showImage(e.startIndex)})),U(this,"onModalHidden",(()=>{document.removeEventListener("keyup",this.handleKeyPress),this.videoRef.current&&this.videoRef.current.stop()})),U(this,"showImage",(e=>{this.setState({imageIndex:e});const t=window.innerHeight-100;this.setState({imageHeight:t}),this.state.loaded[e]||this.loadImage(e)})),U(this,"loadImage",(e=>{const t=this.props.fileInfos[e];if(h.LM(t.extension)===p.ml.IMAGE&&Boolean(t.id)){let n;n=t.has_image_preview?(0,m.iY)(t.id):(0,m.qm)(t.id),h.po(n,(()=>this.handleImageLoaded(e)),(t=>this.handleImageProgress(e,t)))}else this.handleImageLoaded(e)})),U(this,"handleImageLoaded",(e=>{this.setState((t=>({loaded:x(x({},t.loaded),{},{[e]:!0})})))})),U(this,"handleImageProgress",((e,t)=>{this.setState((n=>({progress:x(x({},n.progress),{},{[e]:t})})))})),U(this,"handleGetPublicLink",(()=>{this.handleModalClose(),u.r1(this.props.fileInfos[this.state.imageIndex].id)})),U(this,"onMouseEnterImage",(()=>{this.setState({showCloseBtn:!0})})),U(this,"onMouseLeaveImage",(()=>{this.setState({showCloseBtn:!1})})),U(this,"setScale",((e,t)=>{this.setState((n=>({scale:x(x({},n.scale),{},{[e]:t})})))})),U(this,"handleZoomIn",(()=>{let e=this.state.scale[this.state.imageIndex];e=Math.min(e+p.v0.SCALE_DELTA,p.v0.MAX_SCALE),this.setScale(this.state.imageIndex,e)})),U(this,"handleZoomOut",(()=>{let e=this.state.scale[this.state.imageIndex];e=Math.max(e-p.v0.SCALE_DELTA,p.v0.MIN_SCALE),this.setScale(this.state.imageIndex,e)})),U(this,"handleZoomReset",(()=>{this.setScale(this.state.imageIndex,p.v0.DEFAULT_SCALE)})),U(this,"handleModalClose",(()=>{this.props.onModalDismissed(),this.setState({scale:h.kg(p.v0.DEFAULT_SCALE,this.props.fileInfos.length)})})),this.state={imageIndex:this.props.startIndex,imageHeight:"100%",loaded:h.kg(!1,this.props.fileInfos.length),progress:h.kg(0,this.props.fileInfos.length),showCloseBtn:!1,showZoomControls:!1,scale:h.kg(p.v0.DEFAULT_SCALE,this.props.fileInfos.length)},this.videoRef=c.createRef()}componentDidUpdate(e){!0===this.props.show&&!1===e.show?this.onModalShown(this.props):!1===this.props.show&&!0===e.show&&this.onModalHidden()}static getDerivedStateFromProps(e,t){const n={};return e.fileInfos[t.imageIndex]&&e.fileInfos[t.imageIndex].extension===p.ml.PDF?n.showZoomControls=!0:n.showZoomControls=!1,e.fileInfos.length!==t.prevFileInfosCount&&(n.loaded=h.kg(!1,e.fileInfos.length),n.progress=h.kg(0,e.fileInfos.length),n.prevFileInfosCount=e.fileInfos.length),Object.keys(n).length?n:null}render(){if(this.props.fileInfos.length<1||this.props.fileInfos.length-1<this.state.imageIndex)return null;const e=this.props.fileInfos[this.state.imageIndex],t=!e.link,n=e.link||e.name,s=h.LM(e.extension),a=e.link||(0,m.qm)(e.id),i=e.link||(0,m.gN)(e.id),r=!e.id;let o,l="a11y__modal modal-image",u="";if(this.state.loaded[this.state.imageIndex])s===p.ml.IMAGE||s===p.ml.SVG?o=c.createElement(P,{fileInfo:e,canDownloadFiles:this.props.canDownloadFiles}):s===p.ml.VIDEO||s===p.ml.AUDIO?o=c.createElement(C,{fileInfo:e,fileUrl:a}):s===p.ml.PDF?(u=" modal-auto__content",o=c.createElement("div",{className:"pdf"},c.createElement(c.Suspense,{fallback:null},c.createElement(Z,{fileInfo:e,fileUrl:a,scale:this.state.scale[this.state.imageIndex]})))):S.supports(e)?(l+=" modal-code",o=c.createElement(S,{fileInfo:e,fileUrl:a})):o=c.createElement(_.Z,{fileInfo:e,fileUrl:a});else{const e=h._u("view_image.loading","Loading"),t=Math.floor(this.state.progress[this.state.imageIndex]);o=c.createElement(T.Z,{loading:e,progress:t})}for(const t of this.props.pluginFilePreviewComponents)if(t.override(e,this.props.post)){o=c.createElement(t.component,{fileInfo:e,post:this.props.post,onModalDismissed:this.props.onModalDismissed});break}let g,f=null,b=null;return this.props.fileInfos.length>1&&(f=c.createElement("a",{id:"previewArrowLeft",ref:this.previewArrowLeft,className:"modal-prev-bar",href:"#",onClick:this.handlePrev},c.createElement("i",{className:"image-control image-prev"})),b=c.createElement("a",{id:"previewArrowRight",ref:this.previewArrowRight,className:"modal-next-bar",href:"#",onClick:this.handleNext},c.createElement("i",{className:"image-control image-next"}))),this.state.showCloseBtn&&(g=c.createElement("div",{className:"modal-close",onClick:this.handleModalClose})),c.createElement(d.Z,{show:this.props.show,onHide:this.handleModalClose,className:"modal-image",dialogClassName:l,role:"dialog","aria-labelledby":"viewImageModalLabel"},c.createElement(d.Z.Body,null,c.createElement("div",{className:"modal-image__wrapper",onClick:this.handleModalClose},c.createElement("div",{onMouseEnter:this.onMouseEnterImage,onMouseLeave:this.onMouseLeaveImage,onClick:e=>e.stopPropagation()},c.createElement(d.Z.Title,{componentClass:"h1",id:"viewImageModalLabel",className:"hide"},n),g,c.createElement("div",{className:"modal-image__background"},c.createElement("div",{className:"modal-image__content".concat(u)},o)),c.createElement(D,{showPublicLink:t,fileIndex:this.state.imageIndex,totalFiles:this.props.fileInfos.length,filename:n,fileURL:i,enablePublicLink:this.props.enablePublicLink,canDownloadFiles:this.props.canDownloadFiles,isExternalFile:r,onGetPublicLink:this.handleGetPublicLink,scale:this.state.scale[this.state.imageIndex],showZoomControls:this.state.showZoomControls,handleZoomIn:this.handleZoomIn,handleZoomOut:this.handleZoomOut,handleZoomReset:this.handleZoomReset}))),f,b))}}U(F,"propTypes",{postId:l().string,post:l().object,show:l().bool.isRequired,onModalDismissed:l().func.isRequired,fileInfos:l().arrayOf(l().object).isRequired,startIndex:l().number,canDownloadFiles:l().bool,enablePublicLink:l().bool,pluginFilePreviewComponents:l().arrayOf(l().object)}),U(F,"defaultProps",{show:!1,fileInfos:[],startIndex:0,pluginFilePreviewComponents:[],post:{}});const H=(0,s.connect)((function(e,t){const n=(0,a.iE)(e);return{canDownloadFiles:(0,r.qL)(n),enablePublicLink:"true"===n.EnablePublicLink,pluginFilePreviewComponents:e.plugins.components.FilePreview,post:t.post||(0,i.xl)(e,t.postId)}}))(F)},17189:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(94184),o=n.n(r);const l=e=>{let{show:t=!0,children:n}=e,s=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["show","children"]);if(!t)return null;const a=s.onClick?"button":"div";return i.createElement("div",{className:"Badge"},i.createElement(a,Object.assign({},s,{className:o()("Badge__box",s.className)}),n))};l.propTypes={show:a().bool,children:a().node.isRequired};const c=(0,i.memo)(l)},54300:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(44012),o=n(17189);const l=e=>i.createElement(o.Z,{className:"BotBadge "+e.className,show:e.show},i.createElement(r.Z,{id:"post_info.bot",defaultMessage:"BOT"}));l.propTypes={className:a().string,show:a().bool},l.defaultProps={show:!0,className:""};const c=l},46261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(44012),o=n(17189);const l=e=>i.createElement(o.Z,{className:"GuestBadge "+e.className,show:e.show},i.createElement(r.Z,{id:"post_info.guest",defaultMessage:"GUEST"}));l.propTypes={className:a().string,show:a().bool},l.defaultProps={show:!0,className:""};const c=l},32136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.archive",defaultMessage:"Archive Icon"})},s.createElement("path",{d:"M13.994 14.75H2.006V6.50599H3.5V13.256H12.5V6.50599H13.994V14.75ZM1.25 1.24999H14.75V5.74999H1.25V1.24999ZM6.128 7.24399H9.872C9.98 7.24399 10.07 7.27999 10.142 7.35199C10.214 7.42399 10.25 7.51399 10.25 7.62199V8.75599H5.75V7.62199C5.75 7.51399 5.786 7.42399 5.858 7.35199C5.93 7.27999 6.02 7.24399 6.128 7.24399ZM2.744 2.74399V4.25599H13.256V2.74399H2.744Z"})))}},1823:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.attach",defaultMessage:"Attachment Icon"})},s.createElement("g",{fill:"inherit",fillRule:"evenodd"},s.createElement("g",{transform:"translate(-1029.000000, -954.000000)",fillRule:"nonzero",fill:"inherit"},s.createElement("g",{transform:"translate(25.000000, 937.000000)"},s.createElement("g",{transform:"translate(1004.000000, 17.000000)"},s.createElement("path",{d:"M5.35,15.56 C3.98,15.56 2.61,15.039 1.567,13.997 C0.557,12.984 0,11.642 0,10.212 C0,8.783 0.557,7.44 1.566,6.429 L6.869,1.126 C8.371,-0.376 10.812,-0.375 12.314,1.125 C13.815,2.627 13.815,5.069 12.314,6.57 L7.011,11.873 C6.094,12.792 4.603,12.79 3.687,11.873 C2.771,10.958 2.771,9.467 3.687,8.551 L8.99,3.248 C9.323,2.916 9.861,2.916 10.193,3.248 C10.525,3.579 10.525,4.118 10.193,4.449 L4.89,9.752 C4.637,10.006 4.637,10.418 4.89,10.672 C5.143,10.923 5.555,10.925 5.809,10.672 L11.113,5.369 C11.952,4.53 11.952,3.166 11.113,2.327 C10.276,1.49 8.911,1.488 8.073,2.327 L2.769,7.631 C2.079,8.32 1.699,9.237 1.699,10.212 C1.699,11.188 2.079,12.104 2.768,12.794 C4.19,14.216 6.502,14.216 7.925,12.798 L7.929,12.794 C7.929,12.793 7.929,12.793 7.929,12.793 L15.355,5.369 C15.687,5.037 16.224,5.037 16.556,5.369 C16.888,5.7 16.888,6.239 16.556,6.57 L8.779,14.348 L8.761,14.332 C7.776,15.15 6.562,15.56 5.35,15.56 Z"})))))))}},38769:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.close",defaultMessage:"Close Icon"})},s.createElement("path",{d:"m 8,0 c 4.424,0 8,3.576 8,8 0,4.424 -3.576,8 -8,8 C 3.576,16 0,12.424 0,8 0,3.576 3.576,0 8,0 Z M 10.872,4 8,6.872 5.128,4 4,5.128 6.872,8 4,10.872 5.128,12 8,9.128 10.872,12 12,10.872 9.128,8 12,5.128 Z"})))}},95939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(67294),a=n(86896),i=n(82251);function r(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:(0,i.t)("generic_icons.close"),defaultMessage:"Close Icon"})},s.createElement("path",{fillRule:"nonzero",d:"M18 7.209L16.791 6 12 10.791 7.209 6 6 7.209 10.791 12 6 16.791 7.209 18 12 13.209 16.791 18 18 16.791 13.209 12z"})))}},49880:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var s=n(67294);class a extends s.PureComponent{render(){return s.createElement("span",this.props,s.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":"Emoji icon"},s.createElement("path",{d:"M8 12.4C8.59733 12.4 9.17333 12.2773 9.728 12.032C10.2613 11.7973 10.7307 11.4667 11.136 11.04C11.552 10.6133 11.8667 10.1333 12.08 9.60001H3.92C4.13333 10.1333 4.44267 10.6133 4.848 11.04C5.264 11.4667 5.73867 11.7973 6.272 12.032C6.82667 12.2773 7.40267 12.4 8 12.4ZM5.2 7.20001C5.52 7.20001 5.79733 7.08267 6.032 6.84801C6.27733 6.60267 6.4 6.32001 6.4 6.00001C6.4 5.68001 6.27733 5.40267 6.032 5.16801C5.79733 4.92267 5.52 4.80001 5.2 4.80001C4.88 4.80001 4.59733 4.92267 4.352 5.16801C4.11733 5.40267 4 5.68001 4 6.00001C4 6.32001 4.11733 6.60267 4.352 6.84801C4.59733 7.08267 4.88 7.20001 5.2 7.20001ZM10.8 7.20001C11.12 7.20001 11.3973 7.08267 11.632 6.84801C11.8773 6.60267 12 6.32001 12 6.00001C12 5.68001 11.8773 5.40267 11.632 5.16801C11.3973 4.92267 11.12 4.80001 10.8 4.80001C10.48 4.80001 10.1973 4.92267 9.952 5.16801C9.71733 5.40267 9.6 5.68001 9.6 6.00001C9.6 6.32001 9.71733 6.60267 9.952 6.84801C10.1973 7.08267 10.48 7.20001 10.8 7.20001ZM8 14.4C6.848 14.4 5.776 14.1067 4.784 13.52C3.81333 12.9547 3.04533 12.1867 2.48 11.216C1.89333 10.224 1.6 9.15201 1.6 8.00001C1.6 6.84801 1.89333 5.77601 2.48 4.78401C3.04533 3.81334 3.81333 3.04534 4.784 2.48001C5.776 1.89334 6.848 1.60001 8 1.60001C9.152 1.60001 10.224 1.89334 11.216 2.48001C12.1867 3.04534 12.9547 3.81334 13.52 4.78401C14.1067 5.77601 14.4 6.84801 14.4 8.00001C14.4 9.15201 14.1067 10.224 13.52 11.216C12.9547 12.1867 12.1867 12.9547 11.216 13.52C10.224 14.1067 9.152 14.4 8 14.4ZM8 5.72205e-06C6.56 5.72205e-06 5.216 0.368006 3.968 1.10401C2.76267 1.80801 1.808 2.76267 1.104 3.96801C0.368 5.21601 0 6.56001 0 8.00001C0 9.44001 0.368 10.784 1.104 12.032C1.808 13.2373 2.76267 14.192 3.968 14.896C5.216 15.632 6.56 16 8 16C9.44 16 10.784 15.632 12.032 14.896C13.2373 14.192 14.192 13.2373 14.896 12.032C15.632 10.784 16 9.44001 16 8.00001C16 6.56001 15.632 5.21601 14.896 3.96801C14.192 2.76267 13.2373 1.80801 12.032 1.10401C10.784 0.368006 9.44 5.72205e-06 8 5.72205e-06Z"})))}}},52718:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(){const{formatMessage:e}=(0,a.Z)();return s.createElement("i",{className:"fa fa-plus",title:e({id:"generic_icons.add",defaultMessage:"Add Icon"})})}},70767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(){const{formatMessage:e}=(0,a.Z)();return s.createElement("i",{className:"fa fa-angle-left",title:e({id:"generic_icons.back",defaultMessage:"Back Icon"})})}},92902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(){const{formatMessage:e}=(0,a.Z)();return s.createElement("i",{className:"fa fa-angle-down",title:e({id:"generic_icons.dropdown",defaultMessage:"Dropdown Icon"})})}},86040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(68492),o=n(82251);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{render(){const e="fa fa-1x fa-angle-right"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return i.createElement(r.Z,{className:e,title:{id:(0,o.t)("generic_icons.next"),defaultMessage:"Next Icon"}})}}l(c,"propTypes",{additionalClassName:a().oneOfType([a().string,a().oneOf([null])])}),l(c,"defaultProps",{additionalClassName:null})},42243:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(68492),o=n(82251);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{render(){const e="fa fa-1x fa-angle-left"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return i.createElement(r.Z,{className:e,title:{id:(0,o.t)("generic_icons.previous"),defaultMessage:"Previous Icon"}})}}l(c,"propTypes",{additionalClassName:a().oneOfType([a().string,a().oneOf([null])])}),l(c,"defaultProps",{additionalClassName:null})},20608:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(67294),a=n(68492),i=n(82251);function r(){return s.createElement(a.Z,{className:"fa fa-check",title:{id:(0,i.t)("generic_icons.success"),defaultMessage:"Success Icon"}})}},37668:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(68492),o=n(82251);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{render(){const e="fa fa-warning"+(this.props.additionalClassName?" "+this.props.additionalClassName:"");return i.createElement(r.Z,{className:e,title:{id:(0,o.t)("generic_icons.warning"),defaultMessage:"Warning Icon"}})}}l(c,"propTypes",{additionalClassName:a().oneOfType([a().string,a().oneOf([null])])}),l(c,"defaultProps",{additionalClassName:null})},37060:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",role:"img","aria-label":t({id:"generic_icons.flag",defaultMessage:"Flag Icon"})},s.createElement("path",{d:"M11.744 12.5L8 10.862L4.256 12.5V2.74405H11.744V12.5ZM11.744 1.25005H4.256C3.836 1.25005 3.476 1.40005 3.176 1.70005C2.888 1.98805 2.744 2.33605 2.744 2.74405V14.75L8 12.5L13.256 14.75V2.74405C13.256 2.33605 13.106 1.98805 12.806 1.70005C12.518 1.40005 12.164 1.25005 11.744 1.25005Z"})))}},30685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"12px",height:"15px",viewBox:"0 0 12 15",role:"img","aria-label":t({id:"generic_icons.flagged",defaultMessage:"Flagged Icon"})},s.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},s.createElement("g",{transform:"translate(-1073.000000, -33.000000)",fillRule:"nonzero",fill:"inherit"},s.createElement("g",{transform:"translate(-1.000000, 0.000000)"},s.createElement("g",{transform:"translate(1064.000000, 22.000000)"},s.createElement("g",{transform:"translate(10.000000, 11.000000)"},s.createElement("path",{d:"M9.76172 0.800049H2.23828C1.83984 0.800049 1.48828 0.952393 1.18359 1.25708C0.902344 1.53833 0.761719 1.88989 0.761719 2.31177V14.3L6 12.05L11.2383 14.3V2.31177C11.2383 1.88989 11.0859 1.53833 10.7812 1.25708C10.5 0.952393 10.1602 0.800049 9.76172 0.800049Z"}))))))))}},3636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 16 16",role:"presentation","aria-label":t({id:"generic_icons.channel.public",defaultMessage:"Public Channel Icon"})},s.createElement("path",{d:"M8 -2.47955e-05C6.56 -2.47955e-05 5.216 0.367975 3.968 1.10398C2.76267 1.80798 1.808 2.76264 1.104 3.96797C0.368 5.21598 0 6.55998 0 7.99998C0 9.43998 0.368 10.784 1.104 12.032C1.808 13.2373 2.76267 14.192 3.968 14.896C5.216 15.632 6.56 16 8 16C9.44 16 10.784 15.632 12.032 14.896C13.2373 14.192 14.192 13.2373 14.896 12.032C15.632 10.784 16 9.43998 16 7.99998C16 6.55998 15.632 5.21598 14.896 3.96797C14.192 2.76264 13.2373 1.80798 12.032 1.10398C10.784 0.367975 9.44 -2.47955e-05 8 -2.47955e-05ZM14.4 8.39998C14.2507 8.59198 13.92 8.80531 13.408 9.03998C12.768 9.31731 12.032 9.53064 11.2 9.67998V6.95998C12.288 6.77864 13.168 6.53864 13.84 6.23998C13.872 6.20798 13.9253 6.18131 14 6.15998C14.0853 6.12798 14.1387 6.10131 14.16 6.07998C14.32 6.63464 14.4 7.27464 14.4 7.99998V8.39998ZM6.8 11.52C6.93867 11.52 7.14133 11.536 7.408 11.568C7.67467 11.5893 7.872 11.6 8 11.6C8.53333 11.6 8.93333 11.5733 9.2 11.52C9.008 12.2773 8.8 12.912 8.576 13.424C8.36267 13.8933 8.17067 14.192 8 14.32C7.808 14.1813 7.61067 13.8826 7.408 13.424C7.152 12.8906 6.94933 12.256 6.8 11.52ZM8 9.99998C7.63733 9.99998 7.376 9.99464 7.216 9.98398C6.93867 9.97331 6.69333 9.95198 6.48 9.91998C6.48 9.74931 6.46933 9.46664 6.448 9.07198C6.416 8.61331 6.4 8.25598 6.4 7.99998V7.11998C6.77333 7.17331 7.30667 7.19998 8 7.19998C8.69333 7.19998 9.22667 7.17331 9.6 7.11998V7.99998C9.6 8.25598 9.584 8.61331 9.552 9.07198C9.53067 9.46664 9.52 9.74931 9.52 9.91998C9.30667 9.95198 9.06133 9.97331 8.784 9.98398C8.624 9.99464 8.36267 9.99998 8 9.99998ZM9.44 5.51998C9.12 5.57331 8.64 5.59998 8 5.59998C7.36 5.59998 6.88 5.57331 6.56 5.51998C6.656 4.82664 6.8 4.18131 6.992 3.58397C7.14133 3.07198 7.31733 2.62931 7.52 2.25597C7.69067 1.93598 7.85067 1.71731 8 1.59997C8.14933 1.71731 8.30933 1.93598 8.48 2.25597C8.68267 2.62931 8.85867 3.07198 9.008 3.58397C9.2 4.18131 9.344 4.82664 9.44 5.51998ZM13.44 4.63998C12.5867 5.00264 11.7867 5.24264 11.04 5.35997C10.9653 4.71997 10.848 4.11198 10.688 3.53598C10.5387 2.95998 10.3627 2.44798 10.16 1.99998C11.5573 2.49064 12.6507 3.37064 13.44 4.63998ZM2.56 4.63998C2.976 4.02131 3.456 3.49331 4 3.05597C4.576 2.58664 5.216 2.23464 5.92 1.99998C5.52533 2.87464 5.20533 3.99464 4.96 5.35997C3.92533 5.11464 3.12533 4.87464 2.56 4.63998ZM1.92 6.07998C1.952 6.11198 2.00533 6.14398 2.08 6.17598L2.24 6.23998C2.96533 6.55998 3.84533 6.79998 4.88 6.95998C4.848 7.09864 4.82667 7.26398 4.816 7.45598C4.80533 7.56264 4.8 7.74398 4.8 7.99998C4.8 8.74664 4.82667 9.30664 4.88 9.67998C4.048 9.53064 3.31733 9.31731 2.688 9.03998C2.16533 8.80531 1.82933 8.59198 1.68 8.39998V7.99998C1.63733 7.67998 1.63733 7.34931 1.68 7.00798C1.72267 6.66664 1.80267 6.35731 1.92 6.07998ZM2.16 10.56C3.14133 10.9546 4.128 11.2213 5.12 11.36C5.248 12.2133 5.51467 13.0933 5.92 14C5.088 13.7226 4.34133 13.2853 3.68 12.688C3.02933 12.08 2.52267 11.3706 2.16 10.56ZM13.84 10.56C13.4773 11.3706 12.9653 12.08 12.304 12.688C11.6533 13.2853 10.912 13.7226 10.08 14C10.4853 13.0933 10.752 12.2133 10.88 11.36C12.1493 11.1786 13.136 10.912 13.84 10.56Z"})))}},971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{className:"svg-text-color","aria-label":t({id:"generic_icons.info",defaultMessage:"Info Icon"}),width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"},s.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},s.createElement("g",{transform:"translate(-1015.000000, -516.000000)",fill:"inherit"},s.createElement("path",{d:"M1027,540 C1020.37258,540 1015,534.627417 1015,528 C1015,521.372583 1020.37258,516 1027,516 C1033.62742,516 1039,521.372583 1039,528 C1039,534.627417 1033.62742,540 1027,540 Z M1027,527 C1025.89543,527 1025,527.895431 1025,529 L1025,533 C1025,534.104569 1025.89543,535 1027,535 C1028.10457,535 1029,534.104569 1029,533 L1029,529 C1029,527.895431 1028.10457,527 1027,527 Z M1027,525 C1028.10457,525 1029,524.104569 1029,523 C1029,521.895431 1028.10457,521 1027,521 C1025.89543,521 1025,521.895431 1025,523 C1025,524.104569 1025.89543,525 1027,525 Z"})))))}},37951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"12px",height:"13px",viewBox:"0 0 13 15",role:"presentation","aria-label":t({id:"generic_icons.channel.private",defaultMessage:"Private Channel Icon"})},s.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},s.createElement("g",{transform:"translate(-116.000000, -175.000000)",fillRule:"nonzero",fill:"inherit"},s.createElement("g",{transform:"translate(95.000000, 0.000000)"},s.createElement("g",{transform:"translate(20.000000, 113.000000)"},s.createElement("g",{transform:"translate(1.000000, 62.000000)"},s.createElement("path",{d:"M12.0714286,6.5 L11.1428571,6.5 L11.1428571,4.64285714 C11.1428571,2.07814286 9.06471429,0 6.5,0 C3.93528571,0 1.85714286,2.07814286 1.85714286,4.64285714 L1.85714286,6.5 L0.928571429,6.5 C0.415071429,6.5 0,7.00792857 0,7.52142857 L0,13.9285714 C0,14.4420714 0.415071429,14.8571429 0.928571429,14.8571429 L12.0714286,14.8571429 C12.5849286,14.8571429 13,14.4420714 13,13.9285714 L13,7.52142857 C13,7.00792857 12.5849286,6.5 12.0714286,6.5 Z M6.5,1.85714286 C8.03585714,1.85714286 9.28571429,3.107 9.28571429,4.64285714 L9.28571429,6.5 L8.35714286,6.5 L4.64285714,6.5 L3.71428571,6.5 L3.71428571,4.64285714 C3.71428571,3.107 4.96414286,1.85714286 6.5,1.85714286 Z"}))))))))}},27420:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":t({id:"generic_icons.chatting",defaultMessage:"Chatting Logo"})},s.createElement("ellipse",{cx:"256.35",cy:"256.115",rx:"239.35",ry:"184.115",fill:"#00B9E1"}),s.createElement("path",{d:"M102.905 316.583C96.2845 316.276 90.5186 321.524 92.4172 327.874C96.3676 341.085 107.854 353.946 125.923 365.119C149.365 379.615 182.453 390.381 219.602 395.599C256.751 400.818 295.687 400.17 329.842 393.765C353.545 389.32 373.939 382.291 389.483 373.342C397.694 368.616 395.033 357.502 385.829 355.258L382.222 354.379C378.239 353.408 374.081 354.597 370.834 357.1C357.934 367.043 338.371 374.774 314.612 379.23C287.544 384.306 256.687 384.819 227.246 380.683C197.806 376.548 171.584 368.016 153.006 356.528C139.763 348.339 130.981 339.005 127.26 329.366C124.872 323.184 119.898 317.373 113.277 317.065L102.905 316.583Z",fill:"white"}),s.createElement("ellipse",{cx:"187.661",cy:"199.465",rx:"36.1149",ry:"22.6604",transform:"rotate(2.23843 187.661 199.465)",fill:"white"}),s.createElement("ellipse",{cx:"351.39",cy:"207.939",rx:"36.1149",ry:"22.6604",transform:"rotate(2.23843 351.39 207.939)",fill:"white"})))}},93620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"12px",height:"12px",viewBox:"0 0 18 18",version:"1.1",role:"img","aria-label":t({id:"generic_icons.mention",defaultMessage:"Mention Icon"}),fill:"inherit"},s.createElement("path",{d:"M9 11.7C9.72 11.7 10.35 11.43 10.89 10.89C11.43 10.35 11.7 9.71999 11.7 8.99999C11.7 8.27999 11.43 7.64999 10.89 7.10999C10.35 6.56999 9.72 6.29999 9 6.29999C8.28 6.29999 7.65 6.56999 7.11 7.10999C6.57 7.64999 6.3 8.27999 6.3 8.99999C6.3 9.71999 6.57 10.35 7.11 10.89C7.65 11.43 8.28 11.7 9 11.7ZM9 -1.26362e-05C11.46 -1.26362e-05 13.56 0.869987 15.3 2.60999C16.176 3.48599 16.842 4.45199 17.298 5.50799C17.766 6.59999 18 7.76399 18 8.99999V10.26C18 10.692 17.916 11.118 17.748 11.538C17.592 11.922 17.376 12.276 17.1 12.6C16.788 12.912 16.446 13.14 16.074 13.284C15.714 13.428 15.306 13.5 14.85 13.5C13.746 13.5 12.876 13.05 12.24 12.15C11.34 13.05 10.26 13.5 9 13.5C7.716 13.5 6.666 13.05 5.85 12.15C4.95 11.25 4.5 10.2 4.5 8.99999C4.5 7.70399 4.95 6.65399 5.85 5.84999C6.666 4.94999 7.716 4.49999 9 4.49999C10.296 4.49999 11.346 4.94999 12.15 5.84999C13.05 6.74999 13.5 7.79999 13.5 8.99999V10.26C13.5 10.44 13.536 10.614 13.608 10.782C13.692 10.95 13.8 11.106 13.932 11.25C14.076 11.382 14.232 11.49 14.4 11.574C14.568 11.658 14.718 11.7 14.85 11.7C15.03 11.7 15.204 11.664 15.372 11.592C15.54 11.508 15.696 11.394 15.84 11.25C16.08 11.01 16.2 10.68 16.2 10.26V8.99999C16.2 7.01999 15.48 5.30999 14.04 3.86999C13.332 3.16199 12.564 2.63999 11.736 2.30399C10.908 1.96799 9.996 1.79999 9 1.79999C7.056 1.79999 5.346 2.48999 3.87 3.86999C3.174 4.52999 2.652 5.30399 2.304 6.19199C1.968 7.04399 1.8 7.97999 1.8 8.99999C1.8 9.98399 1.974 10.902 2.322 11.754C2.67 12.594 3.186 13.356 3.87 14.04C4.554 14.724 5.328 15.252 6.192 15.624C7.092 16.008 8.028 16.2 9 16.2H13.5V18H9C7.752 18 6.6 17.772 5.544 17.316C4.488 16.872 3.51 16.2 2.61 15.3C1.71 14.4 1.05 13.44 0.63 12.42C0.21 11.4 0 10.266 0 9.01799C0 7.75799 0.222 6.59399 0.666 5.52599C1.098 4.49399 1.746 3.52199 2.61 2.60999C4.266 0.869987 6.396 -1.26362e-05 9 -1.26362e-05Z"})))}},69113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"16px",height:"10px",viewBox:"0 0 16 10",version:"1.1",role:"img","aria-label":t({id:"generic_icons.menu",defaultMessage:"Menu Icon"})},s.createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},s.createElement("g",{transform:"translate(-188.000000, -38.000000)",fillRule:"nonzero",fill:"inherit"},s.createElement("g",null,s.createElement("g",null,s.createElement("g",{transform:"translate(188.000000, 38.000000)"},s.createElement("path",{d:"M15.5,0 C15.776,0 16,0.224 16,0.5 L16,1.5 C16,1.776 15.776,2 15.5,2 L0.5,2 C0.224,2 0,1.776 0,1.5 L0,0.5 C0,0.224 0.224,0 0.5,0 L15.5,0 Z M15.5,4 C15.776,4 16,4.224 16,4.5 L16,5.5 C16,5.776 15.776,6 15.5,6 L0.5,6 C0.224,6 0,5.776 0,5.5 L0,4.5 C0,4.224 0.224,4 0.5,4 L15.5,4 Z M15.5,8 C15.776,8 16,8.224 16,8.5 L16,9.5 C16,9.776 15.776,10 15.5,10 L0.5,10 C0.224,10 0,9.776 0,9.5 L0,8.5 C0,8.224 0.224,8 0.5,8 L15.5,8 Z"}))))))))}},2192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 17 17",role:"img","aria-label":t({id:"generic_icons.search",defaultMessage:"Search Icon"})},s.createElement("path",{d:"M16.398 15.138L13.014 11.754C13.458 11.178 13.8 10.548 14.04 9.86399C14.28 9.14399 14.4 8.40599 14.4 7.64999C14.4 6.42599 14.094 5.29199 13.482 4.24799C12.882 3.22799 12.072 2.41799 11.052 1.81799C10.008 1.20599 8.874 0.899988 7.65 0.899988C6.426 0.899988 5.292 1.20599 4.248 1.81799C3.228 2.41799 2.418 3.22799 1.818 4.24799C1.206 5.29199 0.9 6.42599 0.9 7.64999C0.9 8.87399 1.206 10.008 1.818 11.052C2.418 12.072 3.228 12.882 4.248 13.482C5.292 14.094 6.426 14.4 7.65 14.4C8.406 14.4 9.138 14.274 9.846 14.022C10.53 13.794 11.16 13.458 11.736 13.014L15.138 16.398C15.306 16.566 15.516 16.65 15.768 16.65C16.02 16.65 16.23 16.56 16.398 16.38C16.566 16.212 16.65 16.008 16.65 15.768C16.65 15.528 16.566 15.318 16.398 15.138ZM2.7 7.64999C2.7 6.74999 2.922 5.92199 3.366 5.16599C3.81 4.40999 4.41 3.80999 5.166 3.36599C5.922 2.92199 6.75 2.69999 7.65 2.69999C8.55 2.69999 9.378 2.92199 10.134 3.36599C10.89 3.80999 11.49 4.40999 11.934 5.16599C12.378 5.92199 12.6 6.74999 12.6 7.64999C12.6 8.54999 12.378 9.37799 11.934 10.134C11.49 10.89 10.89 11.49 10.134 11.934C9.378 12.378 8.55 12.6 7.65 12.6C6.75 12.6 5.922 12.378 5.166 11.934C4.41 11.49 3.81 10.89 3.366 10.134C2.922 9.37799 2.7 8.54999 2.7 7.64999Z"})))}},50928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:r,role:"img","aria-label":t({id:"mobile.set_status.away.icon",defaultMessage:"Away Icon"})},s.createElement("path",{className:"away--icon",d:"M10,0C15.519,0 20,4.481 20,10C20,15.519 15.519,20 10,20C4.481,20 0,15.519 0,10C0,4.481 4.481,0 10,0ZM10.27,3C10.949,3 11.5,3.586 11.5,4.307L11.5,9.379L15.002,12.881C15.492,13.37 15.499,14.158 15.019,14.638L14.638,15.019C14.158,15.499 13.37,15.492 12.881,15.002L8.887,11.008C8.739,10.861 8.636,10.686 8.576,10.501C8.528,10.402 8.5,10.299 8.5,10.193L8.5,4.307C8.5,3.586 9.051,3 9.73,3L10.27,3Z"})))}const r={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},8696:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:r,role:"img","aria-label":t({id:"mobile.set_status.dnd.icon",defaultMessage:"Do Not Disturb Icon"})},s.createElement("path",{className:"dnd--icon",d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm5.25,8.5l-10.5,0c-0.414,0 -0.75,0.336 -0.75,0.75l0,1.5c0,0.414 0.336,0.75 0.75,0.75l10.5,0c0.414,0 0.75,-0.336 0.75,-0.75l0,-1.5c0,-0.414 -0.336,-0.75 -0.75,-0.75Z"})))}const r={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},93065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"100%",height:"100%",className:"offline--icon",viewBox:"0 0 20 20",style:r,role:"img","aria-label":t({id:"mobile.set_status.offline.icon",defaultMessage:"Offline Icon"})},s.createElement("path",{d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm0,2c4.415,0 8,3.585 8,8c0,4.415 -3.585,8 -8,8c-4.415,0 -8,-3.585 -8,-8c0,-4.415 3.585,-8 8,-8Z"})))}const r={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},12341:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(67294),a=n(86896);function i(e){const{formatMessage:t}=(0,a.Z)();return s.createElement("span",e,s.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 20 20",style:r,role:"img","aria-label":t({id:"mobile.set_status.online.icon",defaultMessage:"Online Icon"})},s.createElement("path",{className:"online--icon",d:"M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm6.19,7.18c0,0.208 -0.075,0.384 -0.224,0.53l-5.782,5.64l-1.087,1.059c-0.149,0.146 -0.33,0.218 -0.543,0.218c-0.213,0 -0.394,-0.072 -0.543,-0.218l-1.086,-1.059l-2.891,-2.82c-0.149,-0.146 -0.224,-0.322 -0.224,-0.53c0,-0.208 0.075,-0.384 0.224,-0.53l1.086,-1.059c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l2.348,2.298l5.24,-5.118c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l1.086,1.059c0.149,0.146 0.224,0.322 0.224,0.53Z"})))}const r={fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:1.41421}},56640:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(68492),o=n(82251);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{render(){return i.createElement("span",{id:"loadingSpinner",className:"LoadingSpinner"+(this.props.text?" with-text":"")},i.createElement(r.Z,{className:"fa fa-spinner fa-fw fa-pulse spinner",component:"span",title:{id:(0,o.t)("generic_icons.loading"),defaultMessage:"Loading Icon"}}),this.props.text)}}l(c,"propTypes",{text:a().node}),l(c,"defaultProps",{text:null})},21843:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=n(67294),r=n(56640);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{render(){const{text:e,loading:t,children:n}=this.props;return t?i.createElement(r.Z,{text:e}):n}}o(l,"propTypes",{loading:a().bool,text:a().node,children:a().node}),o(l,"defaultProps",{loading:!0,text:null,children:null})},15240:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var s,a,i,r=n(45697),o=n.n(r),l=(n(33948),n(65069),n(67294)),c=n(74935),d=n(94184),m=n.n(d),u=n(34288),p=n(92337);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends l.PureComponent{constructor(e){super(e),h(this,"node",void 0),h(this,"show",(()=>{this.setState({show:!0})})),h(this,"hide",(()=>{this.setState({show:!1})})),h(this,"onClick",(e=>{e.preventDefault();const{id:t,postId:n,subMenu:s,action:a,root:i}=this.props,r=c.tq(),o=Object.entries(e.nativeEvent).find((([e])=>"path"===e));let l;o&&(l=o[1]),r?s&&s.length?(i||e.stopPropagation(),(0,u._t)(s)):a&&a(n):l&&l.slice(0,2).find((e=>e.id===t))&&a?a(n):l||e.nativeEvent.composedPath||!a?!l&&e.nativeEvent.composedPath().slice(0,2).find((e=>e.id===t))&&a&&a(n):a(n)})),h(this,"handleKeyDown",(e=>{c.pD(e,p.ZP.KeyCodes.ENTER)&&(this.props.action?this.onClick(e):this.show()),c.pD(e,p.ZP.KeyCodes.RIGHT)&&("right"===this.props.direction?this.show():this.hide()),c.pD(e,p.ZP.KeyCodes.LEFT)&&("left"===this.props.direction?this.show():this.hide())})),this.node=l.createRef(),this.state={show:!1}}render(){const{id:e,postId:t,text:n,selectedValueText:s,subMenu:a,icon:i,filter:r,ariaLabel:o,direction:d,styleSelectableItem:u}=this.props,p=c.tq();if(r&&!r(e))return"";let h=n;i&&(h=l.createElement(l.Fragment,null,l.createElement("span",{className:m()(["icon",{"sorting-menu-icon":u}])},i),n));const f=a&&a.length,b={visibility:this.state.show&&f&&!p?"visible":"hidden",top:this.node&&this.node.current?String(this.node.current.offsetTop)+"px":"unset"},_="100%";"left"===d?b.right=_:b.left=_;let E="";return p||(E=l.createElement("ul",{className:m()(["a11y__popup Menu dropdown-menu SubMenu",{styleSelectableItem:u}]),style:b},f?a.map((e=>{const n="SidebarChannelMenu-moveToDivider"===e.id;return l.createElement("span",{className:m()(["SubMenuItemContainer",{hasDivider:n}]),key:e.id},l.createElement(g,{id:e.id,postId:t,text:e.text,selectedValueText:e.selectedValueText,icon:e.icon,subMenu:e.subMenu,action:e.action,filter:e.filter,ariaLabel:o,root:!1,direction:e.direction}),e.text===s&&l.createElement("span",{className:"sorting-menu-checkbox"},l.createElement("i",{className:"icon-check"})))})):"")),l.createElement("li",{className:m()(["SubMenuItem MenuItem",{styleSelectableItem:u}]),role:"menuitem",id:e+"_menuitem",ref:this.node},l.createElement("div",{className:m()([{styleSelectableItemDiv:u}]),id:e,"aria-label":o,onMouseEnter:this.show,onMouseLeave:this.hide,onClick:this.onClick,tabIndex:0,onKeyDown:this.handleKeyDown},"SidebarChannelMenu-moveToDivider"!==e&&l.createElement("span",{id:"channelHeaderDropdownIconLeft_"+e,className:m()(["fa fa-angle-left SubMenu__icon-left".concat(f&&"left"===d?"":"-empty"),{mobile:p}]),"aria-label":c._u("post_info.submenu.icon","submenu icon").toLowerCase()}),h,s&&l.createElement("span",{className:"selected"},s),"SidebarChannelMenu-moveToDivider"!==e&&l.createElement("span",{id:"channelHeaderDropdownIconRight_"+e,className:m()(["fa fa-angle-right SubMenu__icon-right".concat(f&&"right"===d?"":"-empty"),{mobile:p}]),"aria-label":c._u("post_info.submenu.icon","submenu icon").toLowerCase()}),E))}}h(g,"propTypes",{id:o().string,postId:o().string,text:o().node.isRequired,selectedValueText:o().node,subMenu:o().arrayOf(o().shape({id:o().string,postId:o().string,text:o().node.isRequired,selectedValueText:o().node,subMenu:o().arrayOf(o().shape({id:o().string,postId:o().string,text:o().node.isRequired,selectedValueText:o().node,subMenu:o().arrayOf(o().shape({id:o().string,postId:o().string,text:o().node.isRequired,selectedValueText:o().node,subMenu:o().arrayOf(o().object),subMenuClass:o().string,icon:o().node,action:o().func,filter:o().func,ariaLabel:o().string,root:o().bool,show:o().bool,direction:o().oneOf(["left","right"]),openUp:o().bool,styleSelectableItem:o().bool})),subMenuClass:o().string,icon:o().node,action:o().func,filter:o().func,ariaLabel:o().string,root:o().bool,show:o().bool,direction:o().oneOf(["left","right"]),openUp:o().bool,styleSelectableItem:o().bool})),subMenuClass:o().string,icon:o().node,action:o().func,filter:o().func,ariaLabel:o().string,root:o().bool,show:o().bool,direction:o().oneOf(["left","right"]),openUp:o().bool,styleSelectableItem:o().bool})),subMenuClass:o().string,icon:o().node,action:o().func,filter:o().func,ariaLabel:o().string,root:o().bool,show:o().bool,direction:o().oneOf(["left","right"]),openUp:o().bool,styleSelectableItem:o().bool}),h(g,"defaultProps",{show:!0,direction:"left",subMenuClass:"pl-4"});class f extends l.PureComponent{render(){const{children:e}=this.props;return l.createElement("li",{className:"MenuHeader"},e)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s=f,a="propTypes",i={divider:o().node,children:o().node},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i;class _ extends l.PureComponent{constructor(...e){super(...e),b(this,"handleDividerClick",(e=>{e.preventDefault(),e.stopPropagation()}))}render(){const{children:e}=this.props,t=this.props.divider||l.createElement("li",{className:"MenuGroup menu-divider",onClick:this.handleDividerClick});return l.createElement(l.Fragment,null,t,e)}}b(_,"propTypes",{divider:o().node,children:o().node});var E=n(61787);const C=({onClick:e,ariaLabel:t,text:n,extraText:s,id:a,buttonClass:i,isDangerous:r})=>l.createElement("button",{"data-testid":a,id:a,"aria-label":t,className:"style--none"+(s?" MenuItem__with-help":"")+(i?" "+i:"")+(r?" MenuItem__dangerous":""),onClick:e},n&&l.createElement("span",{className:"MenuItem__primary-text"},n),s&&l.createElement("span",{className:"MenuItem__help-text"},s));C.propTypes={onClick:o().func.isRequired,ariaLabel:o().string,text:o().node.isRequired,extraText:o().string,id:o().string,buttonClass:o().string,isDangerous:o().bool};const y=(0,E.Z)(C);y.displayName="MenuItemAction";const v=y,w=({url:e,text:t,onClick:n})=>l.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e,onClick:n},t);w.propTypes={url:o().string.isRequired,text:o().node.isRequired,onClick:o().func};const S=(0,E.Z)(w);S.displayName="MenuItemExternalLink";const T=S;var P=n(73727);const M=({to:e,text:t})=>l.createElement(P.Link,{to:e},l.createElement("span",{className:"MenuItem__primary-text"},t));M.propTypes={to:o().string.isRequired,text:o().node.isRequired};const N=(0,E.Z)(M);N.displayName="MenuItemLink";const I=N,R=({id:e,show:t,children:n})=>t?l.createElement("li",{className:"MenuTopNotification",role:"menuitem",id:e},n):null;R.propTypes={show:o().bool.isRequired,id:o().string,children:o().node};const A=R;var O=n(42306);const L=({modalId:e,dialogType:t,dialogProps:n,text:s,accessibilityLabel:a,extraText:i,children:r,className:o,sibling:c,showUnread:d})=>l.createElement(l.Fragment,null,l.createElement(O.Z,{accessibilityLabel:a||s,modalId:e,dialogType:t,dialogProps:n,className:m()({"MenuItem__with-help":i,["".concat(o)]:o}),showUnread:d},s&&l.createElement("span",{className:"MenuItem__primary-text"},s),i&&l.createElement("span",{className:"MenuItem__help-text"},i),r),c);L.propTypes={modalId:o().string.isRequired,dialogType:o().elementType.isRequired,extraText:o().string,text:o().string,accessibilityLabel:o().string,className:o().string,children:o().node,sibling:o().node,showUnread:o().bool};const D=(0,E.Z)(L);D.displayName="MenuItemToggleModalRedux";const k=D;function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends l.PureComponent{constructor(e){super(e),x(this,"node",void 0),x(this,"observer",void 0),x(this,"hideUnneededDividers",(()=>{if(null===this.node.current)return;this.observer.disconnect();const e=Object.values(this.node.current.children).slice(0,this.node.current.children.length);let t=!1,n=!0;for(const s of e)s.classList.contains("menu-divider")||s.classList.contains("mobile-menu-divider")?(s.style.display="block",(n||t)&&(s.style.display="none"),t=!0):(n=!1,t=!1);e.reverse();for(const t of e){if(!t.classList.contains("menu-divider")&&!t.classList.contains("mobile-menu-divider"))break;t.style.display="none"}this.observer.observe(this.node.current,{attributes:!0,childList:!0,subtree:!0})})),x(this,"handleMenuClick",(e=>{e.target===this.node.current&&(e.preventDefault(),e.stopPropagation())})),this.node=l.createRef(),this.observer=new MutationObserver(this.hideUnneededDividers)}componentDidMount(){this.hideUnneededDividers()}componentDidUpdate(){this.hideUnneededDividers()}componentWillUnmount(){this.observer.disconnect()}rect(){return this.node&&this.node.current?this.node.current.getBoundingClientRect():null}render(){const{children:e,openUp:t,openLeft:n,id:s,ariaLabel:a,customStyles:i}=this.props;let r={};return i?r=i:(n&&(r.left="inherit",r.right=0),t&&!(0,c.tq)()&&(r.bottom="100%",r.top="auto")),l.createElement("div",{"aria-label":a,className:"a11y__popup Menu",id:s,role:"menu"},l.createElement("ul",{ref:this.node,style:r,className:"Menu__content dropdown-menu",onClick:this.handleMenuClick},e))}}x(U,"propTypes",{children:o().node,openLeft:o().bool,openUp:o().bool,id:o().string,ariaLabel:o().string.isRequired}),x(U,"Header",f),x(U,"Group",_),x(U,"ItemAction",v),x(U,"ItemExternalLink",T),x(U,"ItemLink",I),x(U,"ItemToggleModalRedux",k),x(U,"ItemSubMenu",g),x(U,"TopNotification",A)},61787:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(94184),o=n.n(r);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){class t extends i.PureComponent{render(){const t=this.props,{id:n,show:s,icon:a,text:r}=t,l=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["id","show","icon","text"]);if(!s)return null;let c=r;return a&&(c=i.createElement(i.Fragment,null,i.createElement("span",{className:"icon"},a),r)),i.createElement("li",{className:o()("MenuItem",{"MenuItem--with-icon":a}),role:"menuitem",id:n},i.createElement(e,Object.assign({text:c},l)))}}return l(t,"propTypes",{show:a().bool,id:a().string,icon:a().node,text:a().node}),l(t,"defaultProps",{show:!0}),l(t,"displayName",void 0),t}},38122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),a=n.n(s),i=n(67294),r=n(92337),o=n(66660),l=n(74935);function c(e){return(0,l.tq)()?e.show?e.children:null:i.createElement(o.Z,{in:e.show,classNames:"MenuWrapperAnimation",enter:!0,exit:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:80},e.children)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}c.propTypes={children:a().node,show:a().bool.isRequired};class m extends i.PureComponent{constructor(e){if(super(e),d(this,"node",void 0),d(this,"keyboardClose",(e=>{e.key===r.ZP.KeyCodes.ESCAPE[0]&&this.close(),e.key===r.ZP.KeyCodes.TAB[0]&&this.closeOnBlur(e)})),d(this,"closeOnBlur",(e=>{this.node&&this.node.current&&e.target&&this.node.current.contains(e.target)||this.close()})),d(this,"close",(()=>{this.state.open&&(this.setState({open:!1}),this.props.onToggle&&this.props.onToggle(!1))})),d(this,"toggle",(e=>{this.props.stopPropagationOnToggle&&(e.preventDefault(),e.stopPropagation());const t=!this.state.open;this.setState({open:t},(()=>{this.props.onToggle&&this.props.onToggle(t)}))})),!Array.isArray(e.children)||2!==e.children.length)throw new Error("MenuWrapper needs exactly 2 children");this.state={open:!1},this.node=i.createRef()}componentDidMount(){document.addEventListener("click",this.closeOnBlur,!0),document.addEventListener("keyup",this.keyboardClose,!0)}static getDerivedStateFromProps(e,t){return void 0!==e.open&&e.open!==t.open?{open:e.open}:null}componentWillUnmount(){document.removeEventListener("click",this.closeOnBlur,!0),document.removeEventListener("keyup",this.keyboardClose,!0)}render(){const{children:e}=this.props,t=this.props.animationComponent;return i.createElement("div",{id:this.props.id,className:"MenuWrapper "+this.props.className+(this.state.open?" MenuWrapper--open":""),onClick:this.toggle,ref:this.node,disabled:this.props.isDisabled},e?Object.values(e)[0]:{},i.createElement(t,{show:this.state.open},e?Object.values(e)[1]:{}))}}d(m,"propTypes",{children:a().node,className:a().string,onToggle:a().func,animationComponent:a().any,id:a().string,isDisabled:a().bool,stopPropagationOnToggle:a().bool,open:a().bool}),d(m,"defaultProps",{className:"",animationComponent:c})},86486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var s=n(45697),a=n.n(s),i=(n(33948),n(67294)),r=n(66660),o=n(74806),l=n(95939),c=n(86896);function d(e){const{formatMessage:t}=(0,c.Z)();return i.createElement("span",e,i.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",role:"img","aria-label":t({id:"generic_icons.back",defaultMessage:"Back Icon"})},i.createElement("path",{d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"})))}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),m(this,"modal",i.createRef()),m(this,"enforceFocus",(()=>{setTimeout((()=>{const e=document.activeElement;this.modal&&this.modal.current&&!this.modal.current.contains(e)&&this.modal.current.focus()}))})),m(this,"handleKeypress",(e=>{"Escape"===e.key&&this.props.show&&this.close()})),m(this,"close",(()=>{this.props.onClose()}))}componentDidMount(){document.addEventListener("keydown",this.handleKeypress),document.addEventListener("focus",this.enforceFocus,!0),this.enforceFocus()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeypress),document.removeEventListener("focus",this.enforceFocus,!0)}render(){return i.createElement(r.Z,{in:this.props.show,classNames:"FullScreenModal",mountOnEnter:!0,unmountOnExit:!0,timeout:100,appear:!0},i.createElement(i.Fragment,null,i.createElement("div",{className:"FullScreenModal",ref:this.modal,tabIndex:-1,"aria-modal":!0,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,role:"dialog"},this.props.onGoBack&&i.createElement("button",{onClick:this.props.onGoBack,className:"back","aria-label":this.props.intl.formatMessage({id:"full_screen_modal.back",defaultMessage:"Back"})},i.createElement(d,{id:"backIcon"})),i.createElement("button",{onClick:this.close,className:"close-x","aria-label":this.props.intl.formatMessage({id:"full_screen_modal.close",defaultMessage:"Close"})},i.createElement(l.Z,{id:"closeIcon"})),this.props.children),i.createElement("div",{tabIndex:0,style:{display:"none"}})))}}m(u,"propTypes",{show:a().bool.isRequired,onClose:a().func.isRequired,onGoBack:a().func,children:a().node.isRequired,ariaLabel:a().string,ariaLabelledBy:a().string,intl:a().any.isRequired});const p=(0,o.ZP)(u,{forwardRef:!0});p.displayName="injectIntl(FullScreenModal)";const h=p},6429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=n(67294),r=n(95234);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={xs:"xsmall",sm:"small",md:"medium",lg:"large"};class c extends i.PureComponent{render(){const{placement:e,popoverSize:t,children:n,popoverStyle:s,title:a,id:o,onMouseOut:c,onMouseOver:d,className:m,style:u}=this.props;return i.createElement(r.Z,{id:o,style:u,className:m,bsStyle:s,placement:e,bsClass:"popover",title:a,bsSize:t&&l[t],onMouseOut:c,onMouseOver:d},n)}}o(c,"propTypes",{id:a().string,children:a().node,popoverStyle:a().oneOf(["info"]),popoverSize:a().oneOf(["xs","sm","md","lg"]),title:a().node,placement:a().oneOf(["bottom","top","right","left"]),className:a().string,onMouseOut:a().func,onMouseOver:a().func}),o(c,"defaultProps",{placement:"right",popoverStyle:"info",popoverSize:"sm"})},92684:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=(n(33948),n(67294)),r=n(12906);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),o(this,"handleChange",(e=>{this.props.onChange(this.props.id,e.target.checked)}))}render(){return i.createElement(r.Z,{label:this.props.label,labelClassName:this.props.labelClassName,inputClassName:this.props.inputClassName,helpText:this.props.helpText,inputId:this.props.id},i.createElement("div",{className:"checkbox"},i.createElement("label",null,i.createElement("input",{id:this.props.id,disabled:this.props.disabled,autoFocus:this.props.autoFocus,type:"checkbox",checked:this.props.value,onChange:this.handleChange}),i.createElement("span",null,this.props.placeholder))))}}o(l,"propTypes",{id:a().string.isRequired,label:a().node.isRequired,labelClassName:a().string,helpText:a().node,placeholder:a().string.isRequired,value:a().bool.isRequired,disabled:a().bool,inputClassName:a().string,autoFocus:a().bool}),o(l,"defaultProps",{labelClassName:"",inputClassName:""})},12906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(45697),a=n.n(s),i=n(67294);const r=({inputId:e,label:t,labelClassName:n,inputClassName:s,children:a,footer:r,helpText:o})=>i.createElement("div",{"data-testid":e,className:"form-group"},i.createElement("label",{"data-testid":e+"label",className:"control-label "+n,htmlFor:e},t),i.createElement("div",{className:s},a,i.createElement("div",{"data-testid":e+"help-text",className:"help-text"},o),r));r.propTypes={inputId:a().string,label:a().node.isRequired,labelClassName:a().string,inputClassName:a().string,children:a().node.isRequired,helpText:a().node,footer:a().node};const o=r},51116:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var s=n(45697),a=n.n(s),i=(n(33948),n(19601),n(67294)),r=n(12906);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.PureComponent{constructor(...e){super(...e),o(this,"handleChange",(e=>{"number"===this.props.type?this.props.onChange(this.props.id,parseInt(e.target.value,10)):this.props.onChange(this.props.id,e.target.value)}))}render(){const{resizable:e}=this.props;let{type:t}=this.props,n=null;if("textarea"===t){let t={};e||(t=Object.assign({},{resize:"none"})),n=i.createElement("textarea",{autoFocus:this.props.autoFocus,"data-testid":this.props.id+"input",id:this.props.id,dir:"auto",style:t,className:"form-control",rows:5,placeholder:this.props.placeholder,value:this.props.value,maxLength:this.props.maxLength,onChange:this.handleChange,disabled:this.props.disabled})}else t=["input","email","tel","number","url","password"].includes(t)?t:"input",n=i.createElement("input",{autoFocus:this.props.autoFocus,"data-testid":this.props.id+t,id:this.props.id,className:"form-control",type:t,placeholder:this.props.placeholder,value:this.props.value,maxLength:this.props.maxLength,onChange:this.handleChange,disabled:this.props.disabled});return i.createElement(r.Z,{label:this.props.label,labelClassName:this.props.labelClassName,inputClassName:this.props.inputClassName,helpText:this.props.helpText,inputId:this.props.id,footer:this.props.footer},n)}}o(l,"propTypes",{id:a().string.isRequired,label:a().node.isRequired,labelClassName:a().string,placeholder:a().string,helpText:a().node,footer:a().node,value:a().oneOfType([a().string,a().number]).isRequired,inputClassName:a().string,maxLength:a().number,resizable:a().bool,disabled:a().bool,type:a().oneOf(["input","textarea","number","email","tel","url","password"]),autoFocus:a().bool}),o(l,"validTypes",["input","textarea","number","email","tel","url","password"]),o(l,"defaultProps",{labelClassName:"",inputClassName:"",type:"input",maxLength:-1,resizable:!0})},88771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,r:()=>d});var s=n(45697),a=n.n(s),i=(n(19601),n(33948),n(67294)),r=n(19728),o=n(15558);const l=e=>{let{id:t,content:n,children:s,placement:a="top",className:l="hidden-xs",delayShow:c=500,style:d}=e,m=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["id","content","children","placement","className","delayShow","style"]);return i.createElement(o.Z,Object.assign({},m,{delayShow:c,placement:a,overlay:i.createElement(r.Z,{id:t,style:d,className:l,placement:a},n)}),s)};l.propTypes={id:a().string.isRequired,content:a().node.isRequired,children:a().node.isRequired,className:a().string,arrowOffsetTop:a().oneOfType([a().number,a().string])};const c=l;function d(){const[e,t]=(0,i.useState)(!1);return[(0,i.useMemo)((()=>({onEntered:()=>t(!0),animation:!e,delayShow:e?0:void 0})),[e,t]),t]}},97281:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n(45697),a=n.n(s),i=(n(15306),n(67294)),r=n(94184),o=n.n(r),l=n(74935);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{render(){const{content:e,url:t,size:n,withHover:s,className:a}=this.props,r=s?"":"no-hover",c=t||(0,l.uZ)({display_name:e});let d;return d="string"==typeof e?c?i.createElement("div",{"data-testid":"teamIconImage",className:"TeamIcon__image TeamIcon__".concat(n),"aria-label":"Team Icon",style:{backgroundImage:"url('".concat(c,"')")}}):i.createElement("div",{"data-testid":"teamIconInitial",className:"TeamIcon__initials TeamIcon__initials__".concat(n),"aria-label":"Team Initials"},e?e.replace(/\s/g,"").substring(0,2):"??"):e,i.createElement("div",{className:o()("TeamIcon TeamIcon__".concat(n),{withImage:c},a,r)},i.createElement("div",{className:"TeamIcon__content ".concat(r)},d))}}c(d,"propTypes",{url:a().oneOfType([a().string,a().oneOf([null])]),content:a().node.isRequired,size:a().oneOf(["sm","lg"]),withHover:a().bool,className:a().string}),c(d,"defaultProps",{size:"sm"});const m=d},69632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(45697),a=n.n(s),i=(n(19601),n(67294)),r=n(94184),o=n.n(r);const l=e=>{let{url:t,username:n,size:s="md",text:a}=e,r=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["url","username","size","text"]);const l=o()("Avatar Avatar-".concat(s),r.className);return a?i.createElement("div",Object.assign({},r,{className:l+" Avatar-plain","data-content":a})):i.createElement("img",Object.assign({},r,{className:l,alt:"".concat(n||"user"," profile image"),src:t}))};l.propTypes={url:a().string,username:a().string,size:a().oneOf(["xxs","xs","sm","md","lg","xl","xxl"]),text:a().string};const c=(0,i.memo)(l)},12770:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var s=n(45697),a=n.n(s),i=(n(19601),n(33948),n(67294)),r=n(86896),o=n(37703),l=n(17621),c=n.n(l),d=n(89980),m=n(26961),u=n(82251),p=n(74935),h=n(88771),g=n(69632),f=n(18493);const b=(0,d.Pq)();function _(e){let{userId:t,overlayProps:n}=e,s=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["userId","overlayProps"]);const a=(0,o.useSelector)((e=>(0,d.PR)(e,t))),r=(0,o.useSelector)((e=>b(e,!0)(a)));return i.createElement(h.Z,Object.assign({id:"name-".concat(t),content:r},n),i.createElement(g.Z,Object.assign({url:(0,p.bb)(t,null==a?void 0:a.last_picture_update),tabIndex:0},s)))}function E({size:e,userIds:t,totalUsers:n,fetchMissingUsers:s=!0}){const{formatMessage:a}=(0,r.Z)(),l=(0,o.useDispatch)(),[p,E]=(0,h.r)(),[C,y,{overflowUnnamedCount:v,nonDisplayCount:w}]=function(e,t=e.length){const n=Math.max(e.length,t)>4?3:4,s=e.slice(0,n),a=e.slice(n),i=Math.max(t-s.length-a.length,0);return[s,a,{overflowUnnamedCount:i,nonDisplayCount:a.length+i}]}(t,n),S=(0,o.useSelector)((e=>y.map((t=>b(e,!0)((0,d.PR)(e,t)))).join(", "))),{centerChannelBg:T,centerChannelColor:P}=(0,o.useSelector)(m.gh),M=(0,i.useMemo)((()=>({background:c().mix(T,P,8).toRgbString()})),[T,P]);return(0,i.useEffect)((()=>{s&&l((0,f.C4)(t))}),[s,t]),i.createElement("div",{className:"Avatars Avatars___".concat(e),onMouseLeave:()=>E(!1)},C.map((t=>i.createElement(_,{style:M,key:t,userId:t,size:e,tabIndex:0,overlayProps:p}))),Boolean(w)&&i.createElement(h.Z,Object.assign({id:"names-overflow"},p,{content:y.length?a({id:(0,u.t)("avatars.overflowUsers"),defaultMessage:"{overflowUnnamedCount, plural, =0 {{names}} =1 {{names} and one other} other {{names} and # others}}"},{overflowUnnamedCount:v,names:S}):a({id:(0,u.t)("avatars.overflowUnnamedOnly"),defaultMessage:"{overflowUnnamedCount, plural, =1 {one other} other {# others}}"},{overflowUnnamedCount:v})}),i.createElement(g.Z,{style:M,size:e,tabIndex:0,text:w>99?"".concat(99,"+"):"+".concat(w)})))}E.propTypes={totalUsers:a().number,breakAt:a().number,fetchMissingUsers:a().bool};const C=(0,i.memo)(E)},37780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(19601);var s=n(65203);const a=n(92337).ZP.PayloadSources,i=Object.assign(new s.Dispatcher,{handleServerAction:function(e){e.type||console.warn("handleServerAction called with undefined action type");var t={source:a.SERVER_ACTION,action:e};this.dispatch(t)},handleViewAction:function(e){e.type||console.warn("handleViewAction called with undefined action type");var t={source:a.VIEW_ACTION,action:e};this.dispatch(t)}})},93278:(e,t,n)=>{"use strict";n.d(t,{yr:()=>c,$U:()=>d,iE:()=>m,rF:()=>u,KB:()=>p,Bd:()=>h,Sf:()=>g,gY:()=>f,yX:()=>b,dc:()=>_,p3:()=>E,Mz:()=>C,Ln:()=>y,xT:()=>v,sW:()=>w,W3:()=>S,Av:()=>T,q1:()=>P,nY:()=>M,LD:()=>N,kO:()=>I,iz:()=>R,vy:()=>A,KO:()=>O,Du:()=>L,nU:()=>D,GA:()=>k,rX:()=>x,r3:()=>U,oQ:()=>Z,bC:()=>j,MA:()=>F,f2:()=>H,s$:()=>q,pu:()=>G,a6:()=>V,JJ:()=>W,DF:()=>z,h5:()=>Y,GH:()=>K,kM:()=>J,uM:()=>Q,ZO:()=>X,JS:()=>$,Cg:()=>ee,rR:()=>te,QQ:()=>ne,r6:()=>se,Zl:()=>ae,L6:()=>ie,_g:()=>re,JN:()=>oe,L4:()=>le,S:()=>ce,XV:()=>de,KY:()=>me,k:()=>ue,zI:()=>pe,jl:()=>he,be:()=>ge,vI:()=>fe,hd:()=>be}),n(88674);var s=n(70082),a=n(74650),i=n(11106),r=n(10806),o=n(60871),l=n(47590);function c(e=0,t=a.LQ.LOGS_PAGE_SIZE_DEFAULT){return(0,o.Vs)({clientFunc:i.je.getLogs,onRequest:s.lj.GET_LOGS_REQUEST,onSuccess:[s.lj.RECEIVED_LOGS,s.lj.GET_LOGS_SUCCESS],onFailure:s.lj.GET_LOGS_FAILURE,params:[e,t]})}function d(e=0,t=a.LQ.PAGE_SIZE_DEFAULT){return(0,o.Vs)({clientFunc:i.je.getAudits,onRequest:s.lj.GET_AUDITS_REQUEST,onSuccess:[s.lj.RECEIVED_AUDITS,s.lj.GET_AUDITS_SUCCESS],onFailure:s.lj.GET_AUDITS_FAILURE,params:[e,t]})}function m(){return(0,o.Vs)({clientFunc:i.je.getConfig,onRequest:s.lj.GET_CONFIG_REQUEST,onSuccess:[s.lj.RECEIVED_CONFIG,s.lj.GET_CONFIG_SUCCESS],onFailure:s.lj.GET_CONFIG_FAILURE})}function u(e){return(0,o.Vs)({clientFunc:i.je.updateConfig,onRequest:s.lj.UPDATE_CONFIG_REQUEST,onSuccess:[s.lj.RECEIVED_CONFIG,s.lj.UPDATE_CONFIG_SUCCESS],onFailure:s.lj.UPDATE_CONFIG_FAILURE,params:[e]})}function p(){return(0,o.Vs)({clientFunc:i.je.reloadConfig,onRequest:s.lj.RELOAD_CONFIG_REQUEST,onSuccess:s.lj.RELOAD_CONFIG_SUCCESS,onFailure:s.lj.RELOAD_CONFIG_FAILURE})}function h(){return(0,o.Vs)({clientFunc:i.je.getEnvironmentConfig,onRequest:s.lj.GET_ENVIRONMENT_CONFIG_REQUEST,onSuccess:[s.lj.RECEIVED_ENVIRONMENT_CONFIG,s.lj.GET_ENVIRONMENT_CONFIG_SUCCESS],onFailure:s.lj.GET_ENVIRONMENT_CONFIG_FAILURE})}function g(e){return(0,o.Vs)({clientFunc:i.je.testEmail,onRequest:s.lj.TEST_EMAIL_REQUEST,onSuccess:s.lj.TEST_EMAIL_SUCCESS,onFailure:s.lj.TEST_EMAIL_FAILURE,params:[e]})}function f(e){return(0,o.Vs)({clientFunc:i.je.testSiteURL,onRequest:s.lj.TEST_SITE_URL_REQUEST,onSuccess:s.lj.TEST_SITE_URL_SUCCESS,onFailure:s.lj.TEST_SITE_URL_FAILURE,params:[e]})}function b(e){return(0,o.Vs)({clientFunc:i.je.testS3Connection,onRequest:s.lj.TEST_S3_REQUEST,onSuccess:s.lj.TEST_S3_SUCCESS,onFailure:s.lj.TEST_S3_FAILURE,params:[e]})}function _(){return(0,o.Vs)({clientFunc:i.je.invalidateCaches,onRequest:s.lj.INVALIDATE_CACHES_REQUEST,onSuccess:s.lj.INVALIDATE_CACHES_SUCCESS,onFailure:s.lj.INVALIDATE_CACHES_FAILURE})}function E(){return(0,o.Vs)({clientFunc:i.je.recycleDatabase,onRequest:s.lj.RECYCLE_DATABASE_REQUEST,onSuccess:s.lj.RECYCLE_DATABASE_SUCCESS,onFailure:s.lj.RECYCLE_DATABASE_FAILURE})}function C(e){return(0,o.Vs)({clientFunc:i.je.createComplianceReport,onRequest:s.lj.CREATE_COMPLIANCE_REQUEST,onSuccess:[s.lj.RECEIVED_COMPLIANCE_REPORT,s.lj.CREATE_COMPLIANCE_SUCCESS],onFailure:s.lj.CREATE_COMPLIANCE_FAILURE,params:[e]})}function y(e=0,t=a.LQ.PAGE_SIZE_DEFAULT){return(0,o.Vs)({clientFunc:i.je.getComplianceReports,onRequest:s.lj.GET_COMPLIANCE_REQUEST,onSuccess:[s.lj.RECEIVED_COMPLIANCE_REPORTS,s.lj.GET_COMPLIANCE_SUCCESS],onFailure:s.lj.GET_COMPLIANCE_FAILURE,params:[e,t]})}function v(e){return(0,o.Vs)({clientFunc:i.je.uploadBrandImage,onRequest:s.lj.UPLOAD_BRAND_IMAGE_REQUEST,onSuccess:s.lj.UPLOAD_BRAND_IMAGE_SUCCESS,onFailure:s.lj.UPLOAD_BRAND_IMAGE_FAILURE,params:[e]})}function w(){return(0,o.Vs)({clientFunc:i.je.deleteBrandImage,onRequest:s.lj.DELETE_BRAND_IMAGE_REQUEST,onSuccess:s.lj.DELETE_BRAND_IMAGE_SUCCESS,onFailure:s.lj.DELETE_BRAND_IMAGE_FAILURE})}function S(){return(0,o.Vs)({clientFunc:i.je.getClusterStatus,onRequest:s.lj.GET_CLUSTER_STATUS_REQUEST,onSuccess:[s.lj.RECEIVED_CLUSTER_STATUS,s.lj.GET_CLUSTER_STATUS_SUCCESS],onFailure:s.lj.GET_CLUSTER_STATUS_FAILURE})}function T(){return(0,o.Vs)({clientFunc:i.je.testLdap,onRequest:s.lj.TEST_LDAP_REQUEST,onSuccess:s.lj.TEST_LDAP_SUCCESS,onFailure:s.lj.TEST_LDAP_FAILURE})}function P(e=0,t=a.LQ.PAGE_SIZE_MAXIMUM,n={q:""}){return(0,o.Vs)({clientFunc:i.je.getLdapGroups,onRequest:s.lj.GET_LDAP_GROUPS_REQUEST,onSuccess:[s.lj.RECEIVED_LDAP_GROUPS,s.lj.GET_LDAP_GROUPS_SUCCESS],onFailure:s.lj.GET_LDAP_GROUPS_FAILURE,params:[e,t,n]})}function M(e){return async(t,n)=>{let a;t({type:s.lj.LINK_LDAP_GROUP_REQUEST,data:e});try{a=await i.je.linkLdapGroup(e)}catch(a){return(0,o._f)(a,t,n),t((0,r.$C)([{type:s.lj.LINK_LDAP_GROUP_FAILURE,error:a,data:e},(0,l.H)(a)])),{error:a}}return t((0,r.$C)([{type:s.lj.LINK_LDAP_GROUP_SUCCESS,data:null},{type:s.lj.LINKED_LDAP_GROUP,data:{primary_key:e,name:a.display_name,mattermost_group_id:a.id,has_syncables:!1}}])),{data:!0}}}function N(e){return async(t,n)=>{t({type:s.lj.UNLINK_LDAP_GROUP_REQUEST,data:e});try{await i.je.unlinkLdapGroup(e)}catch(a){return(0,o._f)(a,t,n),t((0,r.$C)([{type:s.lj.UNLINK_LDAP_GROUP_FAILURE,error:a,data:e},(0,l.H)(a)])),{error:a}}return t((0,r.$C)([{type:s.lj.UNLINK_LDAP_GROUP_SUCCESS,data:null},{type:s.lj.UNLINKED_LDAP_GROUP,data:e}])),{data:!0}}}function I(e){return(0,o.Vs)({clientFunc:i.je.uploadPublicSamlCertificate,onRequest:s.lj.UPLOAD_SAML_PUBLIC_REQUEST,onSuccess:s.lj.UPLOAD_SAML_PUBLIC_SUCCESS,onFailure:s.lj.UPLOAD_SAML_PUBLIC_FAILURE,params:[e]})}function R(e){return(0,o.Vs)({clientFunc:i.je.uploadPrivateSamlCertificate,onRequest:s.lj.UPLOAD_SAML_PRIVATE_REQUEST,onSuccess:s.lj.UPLOAD_SAML_PRIVATE_SUCCESS,onFailure:s.lj.UPLOAD_SAML_PRIVATE_FAILURE,params:[e]})}function A(e){return(0,o.Vs)({clientFunc:i.je.uploadPublicLdapCertificate,onSuccess:s.lj.UPLOAD_LDAP_PUBLIC_SUCCESS,params:[e]})}function O(e){return(0,o.Vs)({clientFunc:i.je.uploadPrivateLdapCertificate,onSuccess:s.lj.UPLOAD_LDAP_PRIVATE_SUCCESS,params:[e]})}function L(e){return(0,o.Vs)({clientFunc:i.je.uploadIdpSamlCertificate,onRequest:s.lj.UPLOAD_SAML_IDP_REQUEST,onSuccess:s.lj.UPLOAD_SAML_IDP_SUCCESS,onFailure:s.lj.UPLOAD_SAML_IDP_FAILURE,params:[e]})}function D(){return(0,o.Vs)({clientFunc:i.je.deletePublicSamlCertificate,onRequest:s.lj.DELETE_SAML_PUBLIC_REQUEST,onSuccess:s.lj.DELETE_SAML_PUBLIC_SUCCESS,onFailure:s.lj.DELETE_SAML_PUBLIC_FAILURE})}function k(){return(0,o.Vs)({clientFunc:i.je.deletePrivateSamlCertificate,onRequest:s.lj.DELETE_SAML_PRIVATE_REQUEST,onSuccess:s.lj.DELETE_SAML_PRIVATE_SUCCESS,onFailure:s.lj.DELETE_SAML_PRIVATE_FAILURE})}function x(){return(0,o.Vs)({clientFunc:i.je.deletePublicLdapCertificate,onSuccess:s.lj.DELETE_LDAP_PUBLIC_SUCCESS})}function U(){return(0,o.Vs)({clientFunc:i.je.deletePrivateLdapCertificate,onSuccess:s.lj.DELETE_LDAP_PRIVATE_SUCCESS})}function Z(){return(0,o.Vs)({clientFunc:i.je.deleteIdpSamlCertificate,onRequest:s.lj.DELETE_SAML_IDP_REQUEST,onSuccess:s.lj.DELETE_SAML_IDP_SUCCESS,onFailure:s.lj.DELETE_SAML_IDP_FAILURE})}function j(e){return(0,o.Vs)({clientFunc:i.je.testElasticsearch,onRequest:s.lj.TEST_ELASTICSEARCH_REQUEST,onSuccess:s.lj.TEST_ELASTICSEARCH_SUCCESS,onFailure:s.lj.TEST_ELASTICSEARCH_FAILURE,params:[e]})}function F(){return(0,o.Vs)({clientFunc:i.je.purgeElasticsearchIndexes,onRequest:s.lj.PURGE_ELASTICSEARCH_INDEXES_REQUEST,onSuccess:s.lj.PURGE_ELASTICSEARCH_INDEXES_SUCCESS,onFailure:s.lj.PURGE_ELASTICSEARCH_INDEXES_FAILURE})}function H(e){return(0,o.Vs)({clientFunc:i.je.uploadLicense,onRequest:s.lj.UPLOAD_LICENSE_REQUEST,onSuccess:s.lj.UPLOAD_LICENSE_SUCCESS,onFailure:s.lj.UPLOAD_LICENSE_FAILURE,params:[e]})}function q(){return(0,o.Vs)({clientFunc:i.je.removeLicense,onRequest:s.lj.REMOVE_LICENSE_REQUEST,onSuccess:s.lj.REMOVE_LICENSE_SUCCESS,onFailure:s.lj.REMOVE_LICENSE_FAILURE})}function B(e,t=""){return async(n,a)=>{let c;n({type:s.lj.GET_ANALYTICS_REQUEST,data:null});try{c=await i.je.getAnalytics(e,t)}catch(e){return(0,o._f)(e,n,a),n((0,r.$C)([{type:s.lj.GET_ANALYTICS_FAILURE,error:e},(0,l.H)(e)])),{error:e}}const d=[{type:s.lj.GET_ANALYTICS_SUCCESS,data:null}];return""===t?d.push({type:s.lj.RECEIVED_SYSTEM_ANALYTICS,data:c,name:e}):d.push({type:s.lj.RECEIVED_TEAM_ANALYTICS,data:c,name:e,teamId:t}),n((0,r.$C)(d)),{data:c}}}function G(e=""){return B("standard",e)}function V(e=""){return B("extra_counts",e)}function W(e=""){return B("post_counts_day",e)}function z(e=""){return B("bot_post_counts_day",e)}function Y(e=""){return B("user_counts_with_posts_day",e)}function K(e,t=!1){return async(n,a)=>{let c;n({type:s.lj.UPLOAD_PLUGIN_REQUEST,data:null});try{c=await i.je.uploadPlugin(e,t)}catch(e){return(0,o._f)(e,n,a),n((0,r.$C)([{type:s.lj.UPLOAD_PLUGIN_FAILURE,error:e},(0,l.H)(e)])),{error:e}}return n((0,r.$C)([{type:s.lj.UPLOAD_PLUGIN_SUCCESS,data:null}])),{data:c}}}function J(e,t=!1){return async(n,a)=>{let c;n({type:s.lj.INSTALL_PLUGIN_FROM_URL_REQUEST,data:null});try{c=await i.je.installPluginFromUrl(e,t)}catch(e){return(0,o._f)(e,n,a),n((0,r.$C)([{type:s.lj.INSTALL_PLUGIN_FROM_URL_FAILURE,error:e},(0,l.H)(e)])),{error:e}}return n({type:s.lj.INSTALL_PLUGIN_FROM_URL_SUCCESS,data:null}),{data:c}}}function Q(){return(0,o.Vs)({clientFunc:i.je.getPlugins,onRequest:s.lj.GET_PLUGIN_REQUEST,onSuccess:[s.lj.GET_PLUGIN_SUCCESS,s.lj.RECEIVED_PLUGINS],onFailure:s.lj.GET_PLUGIN_FAILURE})}function X(){return(0,o.Vs)({clientFunc:i.je.getPluginStatuses,onRequest:s.lj.GET_PLUGIN_STATUSES_REQUEST,onSuccess:[s.lj.GET_PLUGIN_STATUSES_SUCCESS,s.lj.RECEIVED_PLUGIN_STATUSES],onFailure:s.lj.GET_PLUGIN_STATUSES_FAILURE})}function $(e){return async(t,n)=>{t({type:s.lj.REMOVE_PLUGIN_REQUEST,data:e});try{await i.je.removePlugin(e)}catch(a){return(0,o._f)(a,t,n),t((0,r.$C)([{type:s.lj.REMOVE_PLUGIN_FAILURE,error:a,data:e},(0,l.H)(a)])),{error:a}}return t((0,r.$C)([{type:s.lj.REMOVE_PLUGIN_SUCCESS,data:null},{type:s.lj.REMOVED_PLUGIN,data:e}])),{data:!0}}}function ee(e){return async(t,n)=>{t({type:s.lj.ENABLE_PLUGIN_REQUEST,data:e});try{await i.je.enablePlugin(e)}catch(a){return(0,o._f)(a,t,n),t((0,r.$C)([{type:s.lj.ENABLE_PLUGIN_FAILURE,error:a,data:e},(0,l.H)(a)])),{error:a}}return t((0,r.$C)([{type:s.lj.ENABLE_PLUGIN_SUCCESS,data:null},{type:s.lj.ENABLED_PLUGIN,data:e}])),{data:!0}}}function te(e){return async(t,n)=>{t({type:s.lj.DISABLE_PLUGIN_REQUEST,data:e});try{await i.je.disablePlugin(e)}catch(a){return(0,o._f)(a,t,n),t((0,r.$C)([{type:s.lj.DISABLE_PLUGIN_FAILURE,error:a,data:e},(0,l.H)(a)])),{error:a}}return t((0,r.$C)([{type:s.lj.DISABLE_PLUGIN_SUCCESS,data:null},{type:s.lj.DISABLED_PLUGIN,data:e}])),{data:!0}}}function ne(e){return(0,o.Vs)({clientFunc:i.je.getSamlMetadataFromIdp,onSuccess:s.lj.RECEIVED_SAML_METADATA_RESPONSE,params:[e]})}function se(e){return(0,o.Vs)({clientFunc:i.je.setSamlIdpCertificateFromMetadata,onSuccess:s.lj.SET_SAML_IDP_SUCCESS,params:[e]})}function ae(e,t){return async n=>{try{return i.je.trackEvent("api","api_request_send_metric_ack",{warnMetricId:e}),await i.je.sendWarnMetricAck(e,t),{data:!0}}catch(e){return n((0,l.H)(e)),{error:e.message}}}}function ie(e=0,t=10){return async(n,a)=>{let r;try{r=await i.je.getDataRetentionCustomPolicies(e,t)}catch(e){return(0,o._f)(e,n,a),n({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICIES,error:e}),{error:e}}return n({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICIES,data:r}),{data:r}}}function re(e){return async(t,n)=>{let a;try{a=await i.je.getDataRetentionCustomPolicy(e)}catch(e){return(0,o._f)(e,t,n),t({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY,error:e}),{error:e}}return t({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY,data:a}),{data:a}}}function oe(e){return async(t,n)=>{try{await i.je.deleteDataRetentionCustomPolicy(e)}catch(e){return(0,o._f)(e,t,n),t({type:s.lj.DELETE_DATA_RETENTION_CUSTOM_POLICY_FAILURE,error:e}),{error:e}}const a={id:e};return t({type:s.lj.DELETE_DATA_RETENTION_CUSTOM_POLICY_SUCCESS,data:a}),{data:a}}}function le(e,t=0,n=a.LQ.TEAMS_CHUNK_SIZE,r=!1){return async(a,l)=>{let c;try{c=await i.je.getDataRetentionCustomPolicyTeams(e,t,n,r)}catch(e){return(0,o._f)(e,a,l),a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_TEAMS,error:e}),{error:e}}return a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_TEAMS,data:c}),{data:c}}}function ce(e,t=0,n=a.LQ.TEAMS_CHUNK_SIZE){return async(a,r)=>{let l;try{l=await i.je.getDataRetentionCustomPolicyChannels(e,t,n)}catch(e){return(0,o._f)(e,a,r),a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_CHANNELS,error:e}),{error:e}}return a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_CHANNELS,data:l}),{data:l}}}function de(e,t,n){return async(a,r)=>{let l;try{l=await i.je.searchDataRetentionCustomPolicyTeams(e,t,n)}catch(e){return(0,o._f)(e,a,r),a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_TEAMS_SEARCH,error:e}),{error:e}}return a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_TEAMS_SEARCH,data:l}),{data:l}}}function me(e,t,n){return async(a,r)=>{let l;try{l=await i.je.searchDataRetentionCustomPolicyChannels(e,t,n)}catch(e){return(0,o._f)(e,a,r),a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_CHANNELS_SEARCH,error:e}),{error:e}}return a({type:s.lj.RECEIVED_DATA_RETENTION_CUSTOM_POLICY_CHANNELS_SEARCH,data:l}),{data:l}}}function ue(e){return(0,o.Vs)({clientFunc:i.je.createDataRetentionPolicy,onSuccess:s.lj.CREATE_DATA_RETENTION_CUSTOM_POLICY_SUCCESS,params:[e]})}function pe(e,t){return(0,o.Vs)({clientFunc:i.je.updateDataRetentionPolicy,onSuccess:s.lj.UPDATE_DATA_RETENTION_CUSTOM_POLICY_SUCCESS,params:[e,t]})}function he(e,t){return(0,o.Vs)({clientFunc:i.je.addDataRetentionPolicyTeams,onSuccess:s.lj.ADD_DATA_RETENTION_CUSTOM_POLICY_TEAMS_SUCCESS,params:[e,t]})}function ge(e,t){return async(n,a)=>{try{await i.je.removeDataRetentionPolicyTeams(e,t)}catch(e){return(0,o._f)(e,n,a),n({type:s.lj.REMOVE_DATA_RETENTION_CUSTOM_POLICY_TEAMS_FAILURE,error:e}),{error:e}}const r={teams:t};return n({type:s.lj.REMOVE_DATA_RETENTION_CUSTOM_POLICY_TEAMS_SUCCESS,data:r}),{data:r}}}function fe(e,t){return(0,o.Vs)({clientFunc:i.je.addDataRetentionPolicyChannels,onSuccess:s.lj.ADD_DATA_RETENTION_CUSTOM_POLICY_CHANNELS_SUCCESS,params:[e,t]})}function be(e,t){return async(n,a)=>{try{await i.je.removeDataRetentionPolicyChannels(e,t)}catch(e){return(0,o._f)(e,n,a),n({type:s.lj.REMOVE_DATA_RETENTION_CUSTOM_POLICY_CHANNELS_FAILURE,error:e}),{error:e}}const r={channels:t};return n({type:s.lj.REMOVE_DATA_RETENTION_CUSTOM_POLICY_CHANNELS_SUCCESS,data:r}),{data:r}}}},526:(e,t,n)=>{"use strict";n.d(t,{W:()=>o}),n(88674);var s=n(70082),a=n(11106),i=n(70493),r=n(60871);function o(e,t){return async(n,o)=>{const l=(0,i.mr)(o(),t),c=(null==l?void 0:l.team_id)||"";return n((0,r.Vs)({clientFunc:()=>a.je.getAppsBindings(e,t,c),onSuccess:s.uA.RECEIVED_APP_BINDINGS}))}}},36745:(e,t,n)=>{"use strict";n.d(t,{oR:()=>r,nt:()=>o,F3:()=>l,hS:()=>c,sA:()=>d,Te:()=>m,aM:()=>u});var s=n(70082),a=n(11106),i=n(60871);function r(){return(0,i.Vs)({clientFunc:a.je.getSubscription,onSuccess:[s.gs.RECEIVED_CLOUD_SUBSCRIPTION]})}function o(){return(0,i.Vs)({clientFunc:a.je.getCloudProducts,onSuccess:[s.gs.RECEIVED_CLOUD_PRODUCTS]})}function l(){return(0,i.Vs)({clientFunc:a.je.getSubscriptionStats,onSuccess:s.gs.RECEIVED_CLOUD_SUBSCRIPTION_STATS})}function c(){return(0,i.Vs)({clientFunc:a.je.getCloudCustomer,onSuccess:[s.gs.RECEIVED_CLOUD_CUSTOMER]})}function d(){return(0,i.Vs)({clientFunc:a.je.getInvoices,onSuccess:[s.gs.RECEIVED_CLOUD_INVOICES]})}function m(e){return(0,i.Vs)({clientFunc:a.je.updateCloudCustomer,onSuccess:[s.gs.RECEIVED_CLOUD_CUSTOMER],params:[e]})}function u(e){return(0,i.Vs)({clientFunc:a.je.updateCloudCustomerAddress,onSuccess:[s.gs.RECEIVED_CLOUD_CUSTOMER],params:[e]})}},29361:(e,t,n)=>{"use strict";n.d(t,{rE:()=>o,_n:()=>l,GK:()=>c,K2:()=>d}),n(88674);var s=n(11106),a=n(70082),i=n(47590),r=n(60871);function o(e){return(0,r.Vs)({clientFunc:s.je.createContact,onSuccess:a.AV.RECEIVED_CONTACT,params:[e]})}function l(e,t){return(0,r.Vs)({clientFunc:s.je.patchContact,onSuccess:a.AV.RECEIVED_CONTACT,params:[e,t]})}function c(e){return async(t,n)=>{try{await s.je.deleteContact(e)}catch(e){return t((0,i.H)(e)),{error:e}}const r=n().entities.contacts.contacts[e];return r&&t({type:a.AV.DELETE_CONTACT,data:r}),{data:!0}}}function d(e=0,t=20){return(0,r.Vs)({clientFunc:s.je.getContacts,onSuccess:a.AV.RECEIVED_CONTACTS,params:[e,t]})}},91925:(e,t,n)=>{"use strict";n.d(t,{Bh:()=>c,je:()=>d,Nh:()=>m,B2:()=>u,ex:()=>p,jA:()=>h,D$:()=>g,$5:()=>f,K9:()=>b,UL:()=>_,n0:()=>E,c9:()=>C,k0:()=>y,ir:()=>v,FE:()=>w,Sx:()=>S}),n(88674);var s=n(70082),a=n(74650),i=n(11106),r=n(10806),o=n(47590),l=n(60871);function c(e,t,n,c){return async(d,m)=>{let u;try{u=await i.je.linkGroupSyncable(e,t,n,c)}catch(e){return(0,l._f)(e,d,m),d((0,o.H)(e)),{error:e}}const p=[];let h="";switch(n){case a.Fl.SYNCABLE_TYPE_TEAM:p.push({type:s.kq.RECEIVED_GROUP_ASSOCIATED_TO_TEAM,data:{teamID:t,groups:[{id:e}]}}),h=s.kq.LINKED_GROUP_TEAM;break;case a.Fl.SYNCABLE_TYPE_CHANNEL:h=s.kq.LINKED_GROUP_CHANNEL;break;default:console.warn("unhandled syncable type ".concat(n))}return p.push({type:h,data:u}),d((0,r.$C)(p)),{data:!0}}}function d(e,t,n){return async(c,d)=>{try{await i.je.unlinkGroupSyncable(e,t,n)}catch(e){return(0,l._f)(e,c,d),c((0,o.H)(e)),{error:e}}const m=[];let u="";const p={group_id:e,syncable_id:t};switch(n){case a.Fl.SYNCABLE_TYPE_TEAM:u=s.kq.UNLINKED_GROUP_TEAM,p.syncable_id=t,m.push({type:s.kq.RECEIVED_GROUPS_NOT_ASSOCIATED_TO_TEAM,data:{teamID:t,groups:[{id:e}]}});break;case a.Fl.SYNCABLE_TYPE_CHANNEL:u=s.kq.UNLINKED_GROUP_CHANNEL,p.syncable_id=t;break;default:console.warn("unhandled syncable type ".concat(n))}return m.push({type:u,data:p}),c((0,r.$C)(m)),{data:!0}}}function m(e,t){return async(n,c)=>{let d;try{d=await i.je.getGroupSyncables(e,t)}catch(e){return(0,l._f)(e,n,c),n((0,o.H)(e)),{error:e}}let m="";switch(t){case a.Fl.SYNCABLE_TYPE_TEAM:m=s.kq.RECEIVED_GROUP_TEAMS;break;case a.Fl.SYNCABLE_TYPE_CHANNEL:m=s.kq.RECEIVED_GROUP_CHANNELS;break;default:console.warn("unhandled syncable type ".concat(t))}return n((0,r.$C)([{type:m,data:d,group_id:e}])),{data:!0}}}function u(e,t,n,o){return async(c,d)=>{let m;try{m=await i.je.patchGroupSyncable(e,t,n,o)}catch(e){return(0,l._f)(e,c,d),{error:e}}const u=[];let p="";switch(n){case a.Fl.SYNCABLE_TYPE_TEAM:p=s.kq.PATCHED_GROUP_TEAM;break;case a.Fl.SYNCABLE_TYPE_CHANNEL:p=s.kq.PATCHED_GROUP_CHANNEL;break;default:console.warn("unhandled syncable type ".concat(n))}return u.push({type:p,data:m}),c((0,r.$C)(u)),{data:!0}}}function p(e){return(0,l.Vs)({clientFunc:i.je.getGroup,onSuccess:[s.kq.RECEIVED_GROUP],params:[e]})}function h(e,t=0,n=a.LQ.PAGE_SIZE_DEFAULT){return(0,l.Vs)({clientFunc:async(e,t,n)=>await i.je.getGroups(e,t,n),onSuccess:[s.kq.RECEIVED_GROUPS],params:[e,t,n]})}function g(e,t="",n=0,r=a.LQ.PAGE_SIZE_DEFAULT){return(0,l.Vs)({clientFunc:i.je.getGroupsNotAssociatedToTeam,onSuccess:[s.kq.RECEIVED_GROUPS],params:[e,t,n,r]})}function f(e,t="",n=0,r=a.LQ.PAGE_SIZE_DEFAULT,o=!1){return(0,l.Vs)({clientFunc:i.je.getGroupsNotAssociatedToChannel,onSuccess:[s.kq.RECEIVED_GROUPS],params:[e,t,n,r,o]})}function b(e,t,n){return(0,l.Vs)({clientFunc:async(e,t,n)=>{const s=await i.je.getAllGroupsAssociatedToTeam(e,t,n);return s.teamID=e,s},onSuccess:[s.kq.RECEIVED_ALL_GROUPS_ASSOCIATED_TO_TEAM],params:[e,t,n]})}function _(e,t){return(0,l.Vs)({clientFunc:async(e,t)=>({groupsByChannelId:(await i.je.getAllGroupsAssociatedToChannelsInTeam(e,t)).groups}),onSuccess:[s.kq.RECEIVED_ALL_GROUPS_ASSOCIATED_TO_CHANNELS_IN_TEAM],params:[e,t]})}function E(e,t,n){return(0,l.Vs)({clientFunc:async(e,t,n)=>{const s=await i.je.getAllGroupsAssociatedToChannel(e,t,n);return s.channelID=e,s},onSuccess:[s.kq.RECEIVED_ALL_GROUPS_ASSOCIATED_TO_CHANNEL],params:[e,t,n]})}function C(e,t="",n=0,r=a.LQ.PAGE_SIZE_DEFAULT,o){return(0,l.Vs)({clientFunc:async(e,t,n,s,a)=>{const r=await i.je.getGroupsAssociatedToTeam(e,t,n,s,a);return{groups:r.groups,totalGroupCount:r.total_group_count,teamID:e}},onSuccess:[s.kq.RECEIVED_GROUPS_ASSOCIATED_TO_TEAM],params:[e,t,n,r,o]})}function y(e,t="",n=0,r=a.LQ.PAGE_SIZE_DEFAULT,o=!1){return(0,l.Vs)({clientFunc:async(e,t,n,s,a)=>{const r=await i.je.getGroupsAssociatedToChannel(e,t,n,s,a);return{groups:r.groups,totalGroupCount:r.total_group_count,channelID:e}},onSuccess:[s.kq.RECEIVED_GROUPS_ASSOCIATED_TO_CHANNEL],params:[e,t,n,r,o]})}function v(e,t){return(0,l.Vs)({clientFunc:i.je.patchGroup,onSuccess:[s.kq.PATCHED_GROUP],params:[e,t]})}function w(e){return(0,l.Vs)({clientFunc:i.je.getGroupsByUserId,onSuccess:[s.kq.RECEIVED_MY_GROUPS],params:[e]})}function S(e){return(0,l.Vs)({clientFunc:i.je.getGroupStats,onSuccess:[s.kq.RECEIVED_GROUP_STATS],params:[e]})}},40422:(e,t,n)=>{"use strict";n.d(t,{ct:()=>u,kA:()=>p,tJ:()=>h,Ht:()=>g,V4:()=>f,M1:()=>b,f5:()=>_,w9:()=>E,vn:()=>C,z0:()=>y,Bm:()=>v,cC:()=>w,OH:()=>S,h0:()=>T,kq:()=>P,JL:()=>M,eo:()=>N,N4:()=>I,i5:()=>R,D:()=>A,J4:()=>O,oh:()=>L,eg:()=>D,VZ:()=>k,qu:()=>x,H:()=>U,lp:()=>Z}),n(88674);var s=n(70082),a=n(74650),i=n(11106),r=n(89980),o=n(70493),l=n(16146),c=n(10806),d=n(47590),m=n(60871);function u(e){return(0,m.Vs)({clientFunc:i.je.createIncomingWebhook,onSuccess:[s.bK.RECEIVED_INCOMING_HOOK],params:[e]})}function p(e){return(0,m.Vs)({clientFunc:i.je.getIncomingWebhook,onSuccess:[s.bK.RECEIVED_INCOMING_HOOK],params:[e]})}function h(e="",t=0,n=a.LQ.PAGE_SIZE_DEFAULT){return(0,m.Vs)({clientFunc:i.je.getIncomingWebhooks,onSuccess:[s.bK.RECEIVED_INCOMING_HOOKS],params:[e,t,n]})}function g(e){return async(t,n)=>{try{await i.je.removeIncomingWebhook(e)}catch(e){return(0,m._f)(e,t,n),t((0,d.H)(e)),{error:e}}return t((0,c.$C)([{type:s.bK.DELETED_INCOMING_HOOK,data:{id:e}}])),{data:!0}}}function f(e){return(0,m.Vs)({clientFunc:i.je.updateIncomingWebhook,onSuccess:[s.bK.RECEIVED_INCOMING_HOOK],params:[e]})}function b(e){return(0,m.Vs)({clientFunc:i.je.createOutgoingWebhook,onSuccess:[s.bK.RECEIVED_OUTGOING_HOOK],params:[e]})}function _(e){return(0,m.Vs)({clientFunc:i.je.getOutgoingWebhook,onSuccess:[s.bK.RECEIVED_OUTGOING_HOOK],params:[e]})}function E(e="",t="",n=0,r=a.LQ.PAGE_SIZE_DEFAULT){return(0,m.Vs)({clientFunc:i.je.getOutgoingWebhooks,onSuccess:[s.bK.RECEIVED_OUTGOING_HOOKS],params:[e,t,n,r]})}function C(e){return async(t,n)=>{try{await i.je.removeOutgoingWebhook(e)}catch(e){return(0,m._f)(e,t,n),t((0,d.H)(e)),{error:e}}return t((0,c.$C)([{type:s.bK.DELETED_OUTGOING_HOOK,data:{id:e}}])),{data:!0}}}function y(e){return(0,m.Vs)({clientFunc:i.je.updateOutgoingWebhook,onSuccess:[s.bK.RECEIVED_OUTGOING_HOOK],params:[e]})}function v(e){return(0,m.Vs)({clientFunc:i.je.regenOutgoingHookToken,onSuccess:[s.bK.RECEIVED_OUTGOING_HOOK],params:[e]})}function w(e){return(0,m.Vs)({clientFunc:i.je.getCustomTeamCommands,onSuccess:[s.bK.RECEIVED_CUSTOM_TEAM_COMMANDS],params:[e]})}function S(e){return(0,m.Vs)({clientFunc:i.je.addCommand,onSuccess:[s.bK.RECEIVED_COMMAND],params:[e]})}function T(e){return(0,m.Vs)({clientFunc:i.je.editCommand,onSuccess:[s.bK.RECEIVED_COMMAND],params:[e]})}function P(e){return async(t,n)=>{let a;try{a=await i.je.regenCommandToken(e)}catch(e){return(0,m._f)(e,t,n),t((0,d.H)(e)),{error:e}}return t((0,c.$C)([{type:s.bK.RECEIVED_COMMAND_TOKEN,data:{id:e,token:a.token}}])),{data:!0}}}function M(e){return async(t,n)=>{try{await i.je.deleteCommand(e)}catch(e){return(0,m._f)(e,t,n),t((0,d.H)(e)),{error:e}}return t((0,c.$C)([{type:s.bK.DELETED_COMMAND,data:{id:e}}])),{data:!0}}}function N(e){return(0,m.Vs)({clientFunc:i.je.createOAuthApp,onSuccess:[s.bK.RECEIVED_OAUTH_APP],params:[e]})}function I(e){return(0,m.Vs)({clientFunc:i.je.editOAuthApp,onSuccess:s.bK.RECEIVED_OAUTH_APP,params:[e]})}function R(e=0,t=a.LQ.PAGE_SIZE_DEFAULT){return(0,m.Vs)({clientFunc:i.je.getOAuthApps,onSuccess:[s.bK.RECEIVED_OAUTH_APPS],params:[e,t]})}function A(){return(0,m.Vs)({clientFunc:i.je.getAppsOAuthAppIDs,onSuccess:[s.bK.RECEIVED_APPS_OAUTH_APP_IDS]})}function O(){return(0,m.Vs)({clientFunc:i.je.getAppsBotIDs,onSuccess:[s.bK.RECEIVED_APPS_BOT_IDS]})}function L(e){return(0,m.Vs)({clientFunc:i.je.getOAuthApp,onSuccess:[s.bK.RECEIVED_OAUTH_APP],params:[e]})}function D(){return async(e,t)=>{const n=t(),s=(0,r.rc)(n);let a;try{a=await i.je.getAuthorizedOAuthApps(s)}catch(n){return(0,m._f)(n,e,t),e((0,d.H)(n)),{error:n}}return{data:a}}}function k(e){return(0,m.Vs)({clientFunc:i.je.deauthorizeOAuthApp,params:[e]})}function x(e){return async(t,n)=>{try{await i.je.deleteOAuthApp(e)}catch(e){return(0,m._f)(e,t,n),t((0,d.H)(e)),{error:e}}return t((0,c.$C)([{type:s.bK.DELETED_OAUTH_APP,data:{id:e}}])),{data:!0}}}function U(e){return(0,m.Vs)({clientFunc:i.je.regenOAuthAppSecret,onSuccess:[s.bK.RECEIVED_OAUTH_APP],params:[e]})}function Z(e){return async(t,n)=>{const s=n();let a;e.channel_id=(0,o.gO)(s),e.team_id=(0,l.ev)(s);try{a=await i.je.submitInteractiveDialog(e)}catch(e){return(0,m._f)(e,t,n),t((0,d.H)(e)),{error:e}}return{data:a}}}},62696:(e,t,n)=>{"use strict";n.d(t,{D:()=>i,W:()=>r}),n(85827);var s=n(22222),a=n(42560);const i=(0,s.P1)((e=>(0,a.iE)(e)),(e=>"true"===(null==e?void 0:e.FeatureFlagAppsEnabled))),r=e=>(0,s.P1)((e=>e.entities.apps.bindings),(e=>i(e)),((t,n)=>n&&t?t.filter((t=>t.location===e)).reduce(((e,t)=>e.concat(t.bindings||[])),[]):[]))},43832:(e,t,n)=>{"use strict";n.d(t,{c9:()=>l,Tw:()=>c,lJ:()=>d}),n(64765);var s=n(22222),a=n(8706),i=n(76279);function r(e){return e.entities.files.files}function o(e,t){return t&&e.entities.files.fileIdsByPostId[t]||[]}function l(e){return e.entities.files.filePublicLink}function c(){return(0,s.P1)(r,o,a.M,((e,t,n)=>{const s=t.map((t=>e[t])).filter((e=>Boolean(e)));return(0,i.Vi)(s,n)}))}const d=(0,s.P1)((function(e){return e.entities.files.filesFromSearch}),(e=>e.entities.search.fileResults),((e,t)=>t?t.map((t=>e[t])):[]))},22558:(e,t,n)=>{"use strict";n.d(t,{Fb:()=>d,Kj:()=>R,Lk:()=>C,mK:()=>_,ex:()=>u,_3:()=>f,Uo:()=>p,u9:()=>g,k0:()=>P,c9:()=>S,$5:()=>T,D$:()=>w,_:()=>L,yg:()=>D,qF:()=>E}),n(33948),n(32023);var s=n(22222),a=(n(23157),n(74650)),i=n(23122),r=n(70493),o=n(16146);const l=[],c={teams:[],channels:[]};function d(e){return e.entities.groups.groups}function m(e){return e.entities.groups.myGroups}function u(e,t){return d(e)[t]}function p(e,t){return function(e,t){return function(e){return e.entities.groups.stats}(e)[t]||{}}(e,t).total_member_count}function h(e,t){return e.entities.groups.syncables[t]||c}function g(e,t){return h(e,t).teams}function f(e,t){return h(e,t).channels}const b=(0,s.P1)(C,(e=>{const t={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n];t[s.name]=s}return t})),_=(0,s.P1)(C,(e=>new Map(e.map((e=>["@".concat(e.name),e])))));function E(e,t,n,s){const r=C(e,n,s);return r?function(e,t){let n=t.toLowerCase();return n.startsWith("@")&&(n=n.substr(1)),e.filter((e=>{if(!e)return!1;const t=[],s=(0,i.rH)((e.name||"").toLowerCase(),a.LQ.AUTOCOMPLETE_SPLIT_CHARACTERS);t.push(...s);const r=(e.display_name||"").toLowerCase();return t.push(r),t.filter((e=>""!==e)).some((e=>e.startsWith(n)))}))}(r,t):l}function C(e,t,n){const s=(0,o.VP)(e,t),a=(0,r.mr)(e,n);let i=[];if(s&&s.group_constrained&&a&&a.group_constrained){const s=N(e,n),a=M(e,t);i=s.concat(a.filter((e=>s.indexOf(e)<0)))}else i=s&&s.group_constrained?M(e,t):a&&a.group_constrained?N(e,n):I(e);return i}const y=(0,s.P1)(((e,t)=>{var n;return(null===(n=e.entities.teams.groupsAssociatedToTeam[t])||void 0===n?void 0:n.ids)||[]}),(e=>new Set(e))),v=(0,s.P1)(((e,t)=>{var n;return(null===(n=e.entities.channels.groupsAssociatedToChannel[t])||void 0===n?void 0:n.ids)||[]}),(e=>new Set(e))),w=(0,s.P1)(d,((e,t)=>y(e,t)),((e,t)=>Object.entries(e).filter((([e])=>!t.has(e))).map((e=>e[1])))),S=(0,s.P1)(d,((e,t)=>y(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).map((e=>e[1])))),T=(0,s.P1)(d,((e,t)=>v(e,t)),((e,t,n)=>(0,o.VP)(e,n)),((e,t,n)=>S(e,n)),((e,t,n,s)=>{let a=Object.values(e).filter((e=>!t.has(e.id)));if(n.group_constrained){const e=s.map((e=>e.id));a=a.filter((t=>null==e?void 0:e.includes(t.id)))}return a})),P=(0,s.P1)(d,((e,t)=>v(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).map((e=>e[1])))),M=(0,s.P1)(d,((e,t)=>y(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),N=(0,s.P1)(d,((e,t)=>v(e,t)),((e,t)=>Object.entries(e).filter((([e])=>t.has(e))).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),I=(0,s.P1)(d,(e=>Object.entries(e).filter((e=>e[1].allow_reference&&0===e[1].delete_at)).map((e=>e[1])))),R=(0,s.P1)(I,(e=>{const t={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n];t[s.name]=s}return t})),A=(0,s.P1)(m,(e=>Object.values(e).filter((e=>e.allow_reference&&0===e.delete_at)))),O=(0,s.P1)(m,b,((e,t)=>Object.values(e).filter((e=>e.allow_reference&&0===e.delete_at&&t[e.name])))),L=(0,s.P1)(A,(e=>{const t=[];return e.forEach((e=>t.push({key:"@".concat(e.name)}))),t})),D=(0,s.P1)(O,(e=>{const t=[];return e.forEach((e=>t.push({key:"@".concat(e.name)}))),t}))},84827:(e,t,n)=>{"use strict";n.d(t,{M6:()=>o,xV:()=>l,cq:()=>c}),n(64765);var s=n(22222),a=n(16146),i=n(89980),r=n(22558);const o=(0,s.P1)((e=>e.entities.search.current),a.ev,((e,t)=>e[t])),l=(0,s.P1)((e=>e.entities.search.currentFlagged),a.ev,((e,t)=>e[t])),c=(0,s.P1)(i.b7,r._,((e,t)=>e.concat(t)))},91150:(e,t,n)=>{"use strict";n.d(t,{S:()=>m}),n(85827);var s=n(22222),a=n(70493),i=n(89980),r=n(71816),o=n(74650);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(0,s.P1)(i.rc,a.h4,a.IU,((e,t)=>t),((e,t,n,s)=>{const a=Object.values(n).reduce(((e,t)=>t.type===o.LQ.DM_CHANNEL?c(c({},e),{},{[t.name]:t}):e),{});return s.map((n=>{const s=(0,r.T8)(e,n.id),i=a[s],o=i?t[i.id]:null;return c(c({},n),{},{last_viewed_at:i&&o?o.last_viewed_at:0})}))}))}},76279:(e,t,n)=>{"use strict";n.d(t,{qm:()=>i,gN:()=>r,Ag:()=>o,iY:()=>l,Vi:()=>c}),n(23123);var s=n(74650),a=n(11106);function i(e){return a.je.getFileRoute(e)}function r(e){return"".concat(a.je.getFileRoute(e),"?download=1")}function o(e){return"".concat(a.je.getFileRoute(e),"/thumbnail")}function l(e){return"".concat(a.je.getFileRoute(e),"/preview")}function c(e=[],t=s.LQ.DEFAULT_LOCALE){return e.sort(((e,n)=>e.create_at!==n.create_at?e.create_at-n.create_at:e.name.localeCompare(n.name,t,{numeric:!0})))}n(55234)},84319:(e,t,n)=>{"use strict";function s(e,t){if(!t&&!e.optional)return{id:"interactive_dialog.error.required",defaultMessage:"This field is required."};const n=e.type;if("text"===n||"textarea"===n){if(t&&t.length<e.min_length)return{id:"interactive_dialog.error.too_short",defaultMessage:"Minimum input length is {minLength}.",values:{minLength:e.min_length}};if("email"===e.subtype&&t&&!t.includes("@"))return{id:"interactive_dialog.error.bad_email",defaultMessage:"Must be a valid email address."};if("number"===e.subtype&&t&&isNaN(t))return{id:"interactive_dialog.error.bad_number",defaultMessage:"Must be a number."};if("url"===e.subtype&&t&&!t.includes("http://")&&!t.includes("https://"))return{id:"interactive_dialog.error.bad_url",defaultMessage:"URL must include http:// or https://."}}else if("radio"===n){const n=e.options;if(void 0!==t&&Array.isArray(n)&&!n.some((e=>e.value===t)))return{id:"interactive_dialog.error.invalid_option",defaultMessage:"Must be a valid option"}}return null}function a(e={},t=[]){for(const n in e)if(e.hasOwnProperty(n))for(const e of t)if(e.name===n)return!0;return!1}n.d(t,{c:()=>s,T:()=>a}),n(32023),n(33948)},14788:(e,t,n)=>{"use strict";n.d(t,{bP:()=>v,Os:()=>P,HC:()=>N,JS:()=>M}),n(88674),n(33948),n(32023),n(15306);var s=n(35666),a=n.n(s),i=n(11106),r=n(72009),o=n(92337),l=n(12266),c=(n(73210),n(67294)),d=n(63555),m=n(58008),u=n(53497),p=n(47566),h=n(85163),g=n(74935);function f(e,t,n,s=(0,g.Ox)()){return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:e,data:{id:s,pluginId:t,component:n}}),s}const b=e=>e&&!c.isValidElement(e)&&"string"!=typeof e?c.createElement(e):e;class _{constructor(e){this.id=e}registerRootComponent(e){return f("Root",this.id,e)}registerPopoverUserAttributesComponent(e){return f("PopoverUserAttributes",this.id,e)}registerPopoverUserActionsComponent(e){return f("PopoverUserActions",this.id,e)}registerLeftSidebarHeaderComponent(e){return f("LeftSidebarHeader",this.id,e)}registerBottomTeamSidebarComponent(e){return f("BottomTeamSidebar",this.id,e)}registerPostMessageAttachmentComponent(e){return f("PostMessageAttachment",this.id,e)}registerLinkTooltipComponent(e){return f("LinkTooltip",this.id,e)}registerChannelHeaderButtonAction(e,t,n,s){const a=(0,g.Ox)(),i={id:a,pluginId:this.id,icon:b(e),action:t,dropdownText:b(n),tooltipText:s};return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"ChannelHeaderButton",data:i}),r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"MobileChannelHeaderButton",data:i}),a}registerCallButtonAction(e,t,n,s){const a=(0,g.Ox)(),i={id:a,pluginId:this.id,icon:b(e),action:t,dropdownText:b(n),tooltipText:s};return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"CallButton",data:i}),r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"MobileChannelHeaderButton",data:i}),a}registerPostTypeComponent(e,t){const n=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_POST_COMPONENT,data:{id:n,pluginId:this.id,type:e,component:t}}),n}registerPostCardTypeComponent(e,t){const n=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_POST_CARD_COMPONENT,data:{id:n,pluginId:this.id,type:e,component:t}}),n}registerPostWillRenderEmbedComponent(e,t,n){const s=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"PostWillRenderEmbedComponent",data:{id:s,pluginId:this.id,component:t,match:e,toggleable:n}}),s}registerMainMenuAction(e,t,n){const s=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"MainMenu",data:{id:s,pluginId:this.id,text:b(e),action:t,mobileIcon:b(n)}}),s}registerChannelHeaderMenuAction(e,t){const n=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"ChannelHeader",data:{id:n,pluginId:this.id,text:b(e),action:t}}),n}registerPostDropdownMenuAction(e,t,n){const s=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"PostDropdownMenu",data:{id:s,pluginId:this.id,text:b(e),action:t,filter:n}}),s}registerPostDropdownSubMenuAction(e,t,n){const s=(0,g.Ox)();return{id:s,rootRegisterMenuItem:function e(t,n,s,a,i,l){return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"PostDropdownMenu",data:{id:n,parentMenuId:s,pluginId:t,text:b(a),subMenu:[],action:i,filter:l}}),function(a,i,r){if(s)throw new Error("Submenus are currently limited to a single level.");return e(t,(0,g.Ox)(),n,a,i,r)}}(this.id,s,null,e,t,n)}}registerPostDropdownMenuComponent(e){return f("PostDropdownMenuItem",this.id,e)}registerFileUploadMethod(e,t,n){const s=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"FileUploadMethod",data:{id:s,pluginId:this.id,text:n,action:t,icon:e}}),s}registerFilesWillUploadHook(e){const t=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"FilesWillUploadHook",data:{id:t,pluginId:this.id,hook:e}}),t}unregisterComponent(e){r.Z.dispatch({type:o.MF.REMOVED_PLUGIN_COMPONENT,id:e})}unregisterPostTypeComponent(e){r.Z.dispatch({type:o.MF.REMOVED_PLUGIN_POST_COMPONENT,id:e})}registerReducer(e){d.Z.register("plugins-"+this.id,e)}registerWebSocketEventHandler(e,t){(0,m.DC)(this.id,e,t)}unregisterWebSocketEventHandler(e){(0,m.Jk)(this.id,e)}registerReconnectHandler(e){(0,m.QI)(this.id,e)}unregisterReconnectHandler(){(0,m.Hb)(this.id)}registerMessageWillBePostedHook(e){const t=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"MessageWillBePosted",data:{id:t,pluginId:this.id,hook:e}}),t}registerSlashCommandWillBePostedHook(e){const t=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"SlashCommandWillBePosted",data:{id:t,pluginId:this.id,hook:e}}),t}registerMessageWillFormatHook(e){const t=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"MessageWillFormat",data:{id:t,pluginId:this.id,hook:e}}),t}registerFilePreviewComponent(e,t){const n=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"FilePreview",data:{id:n,pluginId:this.id,override:e,component:t}}),n}registerTranslations(e){r.Z.dispatch((0,p.UU)(this.id,e))}registerAdminConsolePlugin(e){r.Z.dispatch((0,h.Md)(this.id,e))}registerAdminConsoleCustomSetting(e,t,{showTitle:n}={}){r.Z.dispatch((0,h.K6)(this.id,e,t,{showTitle:n}))}unregisterAdminConsolePlugin(){r.Z.dispatch((0,h.Sm)(this.id))}registerRightHandSidebarComponent(e,t){const n=(0,g.Ox)();return r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"RightHandSidebarComponent",data:{id:n,pluginId:this.id,component:e,title:t}}),{id:n,showRHSPlugin:(0,u.fm)(n),hideRHSPlugin:(0,u.Os)(n),toggleRHSPlugin:(0,u.x)(n)}}registerNeedsTeamRoute(e,t){const n=(0,g.Ox)();let s=e.trim();return"/"===s[0]&&(s=s.substring(1)),s=this.id+"/"+s,r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"NeedsTeamComponent",data:{id:n,pluginId:this.id,component:t,route:s}}),n}registerCustomRoute(e,t){const n=(0,g.Ox)();let s=e.trim();return"/"===s[0]&&(s=s.substring(1)),s=this.id+"/"+s,r.Z.dispatch({type:o.MF.RECEIVED_PLUGIN_COMPONENT,name:"CustomRouteComponent",data:{id:n,pluginId:this.id,component:t,route:s}}),n}}var E=n(67844);const C=e=>t=>{t(y(e.id)),t({type:o.MF.REMOVED_WEBAPP_PLUGIN,data:e})},y=e=>(t,n)=>{const s=n(),a=s.plugins.components.RightHandSidebarComponent||[],i=(0,E.n_)(s);a.find((t=>t.id===i&&t.pluginId===e))&&t((0,u.Os)(i))};async function v(){if("true"!==r.Z.getState().entities.general.config.PluginsEnabled)return;const{data:e,error:t}=await w()(r.Z.dispatch);t?console.error(t):null!=e&&0!==e.length&&await Promise.all(e.map((e=>P(e).catch((e=>{console.error(e.message)})))))}function w(){return async e=>{let t;try{t=await i.je.getWebappPlugins()}catch(e){return{error:e}}return e({type:o.MF.RECEIVED_WEBAPP_PLUGINS,data:t}),{data:t}}}window.regeneratorRuntime=a(),window.plugins={},window.registerPlugin=function(e,t){window.plugins[e]=t};const S={},T=e=>"plugin "+e.id+", version "+e.version;function P(e){return new Promise(((t,n)=>{const s=S[e.id];if(s&&s.webapp.bundle_path===e.webapp.bundle_path)return void t();s&&r.Z.dispatch(C(e));let a=e.webapp.bundle_path;a.includes("/static/")&&!a.includes("/static/plugins/")&&(a=a.replace("/static/","/static/plugins/")),console.log("Loading "+T(e));const i=document.createElement("script");i.id="plugin_"+e.id,i.type="text/javascript",i.src=(0,l.fO)()+a,i.onload=function(){!function(e){const t=window.plugins[e.id],n=new _(e.id);t&&t.initialize&&t.initialize(n,r.Z)}(e),console.log("Loaded "+T(e)),t()},i.onerror=function(){n(new Error("Unable to load bundle for "+T(e)))},document.getElementsByTagName("head")[0].appendChild(i),S[e.id]=e}))}function M(e){if(!S[e.id])return;console.log("Removing "+T(e)),delete S[e.id],r.Z.dispatch(C(e));const t=window.plugins[e.id];t&&t.uninitialize?t.uninitialize():t&&t.deinitialize&&t.deinitialize(),(0,m.x9)(e.id),(0,m.Hb)(e.id),r.Z.dispatch((0,h.Sm)(e.id)),(0,p.z)(e.id);const n=document.getElementById("plugin_"+e.id);n&&(n.parentNode.removeChild(n),console.log("Removed "+T(e)))}async function N(){if("true"!==r.Z.getState().entities.general.config.PluginsEnabled)return;const e=r.Z.getState().plugins.plugins,{error:t}=await w()(r.Z.dispatch);if(t)return void console.error(t);const n=r.Z.getState().plugins.plugins;Object.values(n).forEach((t=>{const n=e[t.id];n&&n.version===t.version||P(t).catch((e=>{console.error(e.message)}))})),Object.keys(e).forEach((t=>{n.hasOwnProperty(t)||M(e[t])}))}},94741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(37703),a=n(26961),i=(n(19601),n(45697)),r=n.n(i),o=n(67294);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{render(){const e=this.props.pluggableName;let t;if(this.props.children)t=o.Children.only(this.props.children).type;else if(!e)return null;const n=this.props.components,s=t?this.props.children.props:{},a=e||t.getComponentName();let i=c({},this.props);if(Reflect.deleteProperty(i,"children"),Reflect.deleteProperty(i,"components"),Reflect.deleteProperty(i,"pluggableName"),i=c(c({},i),s),n.hasOwnProperty(a)){let e=n[a];this.props.pluggableId&&(e=e.filter((e=>e.id===this.props.pluggableId)));const t=e.map((e=>{const t=e.component;return o.createElement(t,Object.assign({},i,{theme:this.props.theme,key:a+e.id}))}));return o.createElement(o.Fragment,null,t)}return null==t?null:o.cloneElement(this.props.children,c({},i))}}d(m,"propTypes",{children:r().element,pluggableName:r().string,components:r().object.isRequired,theme:r().object.isRequired,pluggableId:r().string});const u=(0,s.connect)((function(e){return{components:e.plugins.components,theme:(0,a.gh)(e)}}))(m)},2354:(e,t,n)=>{"use strict";n.d(t,{IM:()=>i,sV:()=>r,id:()=>o});var s=n(42560),a=n(89980);let i,r;function o(e,t,n){const i=(0,s.iE)(e).CWSUrl,r=(0,a.ts)(e),o="".concat(r.first_name," ").concat(r.last_name),l=n?"&inquiry-issue=".concat(n):"";return"".concat(i,"/cloud/contact-us?email=").concat(encodeURIComponent(r.email),"&name=").concat(encodeURIComponent(o),"&inquiry=").concat(t).concat(l)}!function(e){e.Technical="technical",e.Sales="sales",e.Billing="billing"}(i||(i={})),function(e){e.CancelAccount="cancel_account",e.TrialQuestions="trial_questions"}(r||(r={}))},12083:(e,t,n)=>{"use strict";n.d(t,{fj:()=>r,TS:()=>o,nX:()=>l,x_:()=>c});var s=n(16146),a=n(89980),i=n(24493);const r=e=>{const t=(0,a.rc)(e),n=(0,s.ev)(e);return i.Z.getPreviousChannelName(t,n)},o=e=>{const t=(0,a.rc)(e),n=(0,s.ev)(e);return i.Z.getPenultimateChannelName(t,n)},l=(e,t)=>{const n=(0,a.rc)(e),r=(0,s.Xv)(e,t),o=r&&r.id;return i.Z.getPreviousChannelName(n,o)},c=e=>{const t=(0,a.rc)(e);return i.Z.getPreviousTeamId(t)}},56775:(e,t,n)=>{"use strict";function s(e){return e.views.admin.navigationBlock.blocked}function a(e){return e.views.admin.navigationBlock.showNavigationPrompt}function i(e){return e.views.admin.navigationBlock.onNavigationConfirmed}n.d(t,{C:()=>s,A6:()=>a,zJ:()=>i})},33693:(e,t,n)=>{"use strict";function s(e){return e.views.announcementBar.announcementBarState.announcementBarCount}n.d(t,{b:()=>s})},76908:(e,t,n)=>{"use strict";n.d(t,{b:()=>s,E:()=>a});const s=(e,t)=>e.views.channel.lastGetPosts[t],a=e=>e.views.channel.toastStatus},5445:(e,t,n)=>{"use strict";n.d(t,{yC:()=>l,Yr:()=>c,uD:()=>d,Ed:()=>u,bo:()=>p});var s=n(22222),a=n(89980),i=n(42560),r=n(26961),o=n(74650);function l(){return(0,s.P1)(((e,t)=>t?(0,a.PR)(e,t):(0,a.ts)(e)),(e=>{const t=(null==e?void 0:e.props)||{};return t.customStatus?JSON.parse(t.customStatus):void 0}))}const c=(0,s.P1)((e=>(0,r.U2)(e,o.uP.CATEGORY_CUSTOM_STATUS,o.uP.NAME_RECENT_CUSTOM_STATUSES)),(e=>e?JSON.parse(e):[]));function d(e){const t=(0,i.iE)(e);return t&&"true"===t.EnableCustomUserStatuses}function m(e){const t=(0,r.U2)(e,o.uP.CATEGORY_CUSTOM_STATUS,o.uP.NAME_CUSTOM_STATUS_TUTORIAL_STATE);return!(t&&JSON.parse(t)[o.uP.CUSTOM_STATUS_MODAL_VIEWED])}function u(e){return m(e)}function p(e){return m(e)}},3598:(e,t,n)=>{"use strict";function s(e,t){return e.views.modals.modalState[t]&&e.views.modals.modalState[t].open}n.d(t,{g:()=>s})},27640:(e,t,n)=>{"use strict";function s(e){return e.views.system.websocketConnectionErrorCount}n.d(t,{S:()=>s})},28645:(e,t,n)=>{"use strict";function s(e){return e.views.textbox.shouldShowPreviewOnCreateComment}function a(e){return e.views.textbox.shouldShowPreviewOnCreatePost}function i(e){return e.views.textbox.shouldShowPreviewOnEditChannelHeaderModal}function r(e){return e.views.textbox.shouldShowPreviewOnEditPostModal}n.d(t,{xI:()=>s,QH:()=>a,a7:()=>i,fM:()=>r})},16403:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});const s=e=>e.websocket},91384:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(89262),a=n(3695),i=n(99206),r=n(72009),o=n(92337),l=n(74935);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=r.Z.dispatch,m=r.Z.getState,u=new class{constructor(){c(this,"hasCheckedLocalStorage",void 0),c(this,"localStorageSupported",void 0)}setItem(e,t){d(i.LS(e,t))}getItem(e,t){return a.UK(e,t)(m())}removeItem(e){d(i.cl(e))}setGlobalItem(e,t){d(i.Bc(e,t))}getGlobalItem(e,t=null){return a.bd(e,t)(m())}removeGlobalItem(e){d(i.ul(e))}signalLogout(){if(this.isLocalStorageSupported()){const e=l.Ox();l.hw(o.hC.ANNOUNCEMENT),sessionStorage.setItem(o.hC.LOGOUT,e),localStorage.setItem(o.hC.LOGOUT,e),localStorage.removeItem(o.hC.LOGOUT)}}isSignallingLogout(e){return e===sessionStorage.getItem(o.hC.LOGOUT)}signalLogin(){if(this.isLocalStorageSupported()){const e=l.Ox();sessionStorage.setItem(o.hC.LOGIN,e),localStorage.setItem(o.hC.LOGIN,e),localStorage.removeItem(o.hC.LOGIN)}}isSignallingLogin(e){return e===sessionStorage.getItem(o.hC.LOGIN)}clear(e){d(i.ZH(e))}isLocalStorageSupported(){if(this.hasCheckedLocalStorage)return this.localStorageSupported;this.localStorageSupported=!1;try{localStorage.setItem("__testLocal__","1"),"1"===localStorage.getItem("__testLocal__")&&(this.localStorageSupported=!0),localStorage.removeItem("__testLocal__")}catch(e){this.localStorageSupported=!1}try{sessionStorage.setItem("__testSession__","1"),sessionStorage.removeItem("__testSession__")}catch(e){s.m.push("/error?type="+o.vU.LOCAL_STORAGE)}return this.hasCheckedLocalStorage=!0,this.localStorageSupported}hasSeenLandingPage(){return localStorage.getItem(o.hC.LANDING_PAGE_SEEN)}setLandingPageSeen(e){localStorage.setItem(o.hC.LANDING_PAGE_SEEN,String(e))}getLandingPreference(e){return localStorage.getItem(o.hC.LANDING_PREFERENCE+String(e))}setLandingPreferenceToMattermostApp(e){localStorage.setItem(o.hC.LANDING_PREFERENCE+String(e),o.PH.MATTERMOSTAPP)}setLandingPreferenceToBrowser(e){localStorage.setItem(o.hC.LANDING_PREFERENCE+String(e),o.PH.BROWSER)}clearLandingPreference(e){localStorage.removeItem(o.hC.LANDING_PREFERENCE+String(e))}}},63614:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});const s=e=>null!=e&&Boolean(e.address&&e.city&&e.state&&e.country&&e.postalCode&&e.name)},93183:(e,t,n)=>{"use strict";n.d(t,{gT:()=>o,r:()=>l,qM:()=>c,Zw:()=>d,ts:()=>m});var s=n(50766);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o="com.mattermost.apps";function l(e){var t,n,s,a,i;e&&(null===(t=e.bindings)||void 0===t||t.forEach((t=>{t.app_id||(t.app_id=e.app_id),t.location=e.location+"/"+t.location,t.call||(t.call=e.call),l(t)})),e.app_id||(e.bindings=null===(a=e.bindings)||void 0===a?void 0:a.filter((e=>e.app_id))),e.call||(e.bindings=null===(i=e.bindings)||void 0===i?void 0:i.filter((e=>e.call))),null!==(n=e.bindings)&&void 0!==n&&n.length&&!e.app_id&&(e.app_id=e.bindings[0].app_id),null!==(s=e.bindings)&&void 0!==s&&s.length&&!e.call&&(e.call=e.bindings[0].call))}function c(e,t,n,s,a,i){return{app_id:e,location:t,channel_id:n,team_id:s,post_id:a,root_id:i}}function d(e,t,n={},s,a,r,o){return i(i({},e),{},{context:t,values:s,expand:i(i({},n),e.expand),raw_command:a,query:r,selected_field:o})}const m=e=>({type:s.Bp.ERROR,error:e})},85769:(e,t,n)=>{"use strict";function s(e){if(!e)return!1;const t=e.payment_method.exp_year;return!!t&&new Date(t,e.payment_method.exp_month,1)<=new Date}n.d(t,{s:()=>s})},66331:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});const s=(0,n(35018).Yu)().sort(((e,t)=>e.name>t.name?1:-1))},85175:(e,t,n)=>{"use strict";n.d(t,{LO:()=>r,Xy:()=>o,ad:()=>l,FT:()=>c,zk:()=>d,J5:()=>m}),n(33948);var s=n(80008),a=n.n(s);const i=new Map([["year",!0],["quarter",!0],["month",!0],["week",!0],["day",!0],["hour",!1],["minute",!1],["second",!0]]);function r(e,t,n=(new Intl.DateTimeFormat).resolvedOptions().timeZone,s,a=1,r=i.get(s)||!1){const o=l(e,t,n,s,r);return a>=0?o<=a&&o>=0:o>=a&&o<=0}function o(e,t,n=(new Intl.DateTimeFormat).resolvedOptions().timeZone,s,a=1,r=i.get(s)||!1){return a===l(e,t,n,s,r)}function l(e,t,n=(new Intl.DateTimeFormat).resolvedOptions().timeZone,s,r=i.get(s)||!1){const o=a().utc(e.getTime()),l=a().utc(t.getTime());return n&&(o.tz(n),l.tz(n)),r?o.startOf(s).diff(l.startOf(s),s):o.diff(t,s,!0)}function c(e,t=new Date){return e.getFullYear()===t.getFullYear()}function d(e){return function(e,t=new Date){return e.getDate()===t.getDate()&&function(e,t=new Date){return e.getMonth()===t.getMonth()&&c(e,t)}(e,t)}(e)}function m(e){return Math.round(new Date(e.toISOString()).getTime()/1e3)}},8142:(e,t,n)=>{"use strict";function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});class a{constructor(e){s(this,"action",void 0),s(this,"timer",void 0),this.action=e,this.timer=-1,this.fire=this.fire.bind(this)}fire(){this.action(),this.timer=-1}fireAfter(e){this.timer>=0&&window.clearTimeout(this.timer),this.timer=window.setTimeout(this.fire,e)}cancel(){window.clearTimeout(this.timer)}}},62831:(e,t,n)=>{"use strict";n.d(t,{v:()=>d,Y:()=>m}),n(23157),n(33948),n(13728);var s=n(60809),a=n.n(s),i=n(67294);const r=e=>"thumbsup"===e||"+1"===e?1:0,o=e=>"thumbsdown"===e||"-1"===e?-1:0,l={thumbsdown:r,"-1":r,thumbsup:o,"+1":o},c=(e,t)=>e?"name"in e?e.name:t&&e.aliases.find((e=>e.startsWith(t)))||e.aliases[0]:"";function d(e,t,n){const s=c(e,n),a=c(t,n),i=s.startsWith(n);return i===a.startsWith(n)?s in l&&l[s](a)||((e,t,n,s)=>"custom"===n.category&&"custom"!==s.category?1:"custom"===s.category&&"custom"!==n.category?-1:e.localeCompare(t))(s,a,e,t):i?-1:1}function m(e){const t=[];let n=0;for(const s of e.matchAll(a()())){const a=s[0],r=s.index;s.index!==n&&t.push(e.substring(n,r)),t.push(i.createElement("span",{key:r,className:"emoji"},a)),n=r+a.length}return n<e.length&&t.push(e.substring(n)),1===t.length?t[0]:t}},60291:(e,t,n)=>{"use strict";n.d(t,{SI:()=>r,qL:()=>o,eE:()=>l,s1:()=>c,Ii:()=>d,vl:()=>m}),n(23123),n(32023),n(39575);var s=n(72557),a=n(92337),i=n(47470);function r(e){const t="true"===e.EnableFileAttachments,n="true"===e.EnableMobileFileUpload;return!!t&&(!i.k()||n)}function o(e){return!i.k()||"true"===e.EnableMobileFileDownload}function l(e){let t=e;return e.length>a.ZP.MAX_FILENAME_LENGTH&&(t=e.substring(0,Math.min(a.ZP.MAX_FILENAME_LENGTH,e.length))+"..."),t}function c(e){const t=e.split("/"),n=t[0],s=t[1];if("video"===n)return"video";if("audio"===n)return"audio";if("image"===n)return"image";if(s){if("pdf"===s)return"pdf";if(s.includes("vnd.ms-excel")||s.includes("spreadsheetml")||s.includes("vnd.sun.xml.calc")||s.includes("opendocument.spreadsheet"))return"spreadsheet";if(s.includes("vnd.ms-powerpoint")||s.includes("presentationml")||s.includes("vnd.sun.xml.impress")||s.includes("opendocument.presentation"))return"presentation";if("msword"===s||s.includes("vnd.ms-word")||s.includes("officedocument.wordprocessingml")||s.includes("application/x-mswrite"))return"word"}return"other"}function d(e){var t=new DataView(e);if(65496!==t.getUint16(0,!1))return-2;for(var n=t.byteLength,s=2;s<n;){var a=t.getUint16(s,!1);if(s+=2,65505===a){if(1165519206!==t.getUint32(s+=2,!1))return-1;var i=18761===t.getUint16(s+=6,!1);s+=t.getUint32(s+4,i);var r=t.getUint16(s,i);s+=2;for(var o=0;o<r;o++)if(274===t.getUint16(s+12*o,i))return t.getUint16(s+12*o+8,i)}else{if(65280!=(65280&a))break;s+=t.getUint16(s,!1)}}return-1}function m(e){const{transform:t,"transform-origin":n}=(0,s.Z)(e);return{transform:t,transformOrigin:n}}},46195:(e,t,n)=>{"use strict";n.d(t,{yq:()=>i,fv:()=>r,CH:()=>o,Ez:()=>l,h$:()=>c});var s=n(30381),a=n.n(s);function i(e){return"true"===e.IsLicensed&&parseInt(e.ExpiresAt,10)-Date.now()<=5184e6}function r(e){if("true"!==e.IsLicensed)return;const t=new Date(parseInt(null==e?void 0:e.ExpiresAt,10));return a()(t).startOf("day").diff(a()().startOf("day"),"days")}function o(e){if("true"!==e.IsLicensed)return!1;const t=new Date(parseInt(null==e?void 0:e.ExpiresAt,10));return a()(t).startOf("day").diff(a()().startOf("day"),"days")<0}function l(e){return"true"===e.IsLicensed&&Date.now()-parseInt(e.ExpiresAt,10)>864e6}function c(e){return"true"===e.IsLicensed&&parseInt(e.ExpiresAt,10)-parseInt(e.StartsAt,10)<=26208e5}},79979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G}),n(19601);var s,a,i,r=n(67294),o=n(38086),l=n(21293),c=n(37703),d=n(42560),m=(n(88674),n(33948),n(45697)),u=n.n(m),p=n(44012);class h extends r.PureComponent{constructor(e){super(e),this.state={katex:null}}componentDidMount(){n.e(527).then(n.t.bind(n,20527,23)).then((e=>{this.setState({katex:e})}))}render(){if(null==this.state.katex||!this.props.enableLatex)return r.createElement("div",{className:"post-body--code tex"},this.props.content);try{const e={throwOnError:!1,displayMode:!0,maxSize:200,maxExpand:100,fleqn:!0},t=this.state.katex.renderToString(this.props.content,e);return r.createElement("div",{className:"post-body--code tex",dangerouslySetInnerHTML:{__html:t}})}catch(e){return r.createElement("div",{className:"post-body--code tex"},r.createElement(p.Z,{id:"katex.error",defaultMessage:"Couldn't compile your Latex code. Please review the syntax and try again."}))}}}s=h,a="propTypes",i={content:u().string.isRequired,enableLatex:u().bool.isRequired},a in s?Object.defineProperty(s,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[a]=i,h.defaultProps={enableLatex:!1};const g=(0,c.connect)((function(e){return{enableLatex:"true"===(0,d.iE)(e).EnableLatex}}))(h);var f=n(17211),b=n(73935),_=n(92337),E=n(94741),C=n(4002);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={display:"flex",flexDirection:"column",alignItems:"center",zIndex:1070,position:"absolute",top:-1e3,left:-1e3};class w extends r.PureComponent{constructor(e){super(e),y(this,"tooltipContainerRef",void 0),y(this,"hideTimeout",void 0),y(this,"showTimeout",void 0),y(this,"popper",void 0),y(this,"showTooltip",(e=>{if(window.clearTimeout(this.hideTimeout),!this.state.show){const t=C(e.target).get(0),n=C(this.tooltipContainerRef.current),s=n.get(0);window.clearTimeout(this.showTimeout),this.showTimeout=window.setTimeout((()=>{this.setState({show:!0}),n.show(),n.children().on("mouseover",(()=>clearTimeout(this.hideTimeout))),n.children().on("mouseleave",(e=>{null!==e.relatedTarget&&this.hideTooltip()})),this.popper=(0,f.fi)(t,s,{placement:"bottom",modifiers:[{name:"preventOverflow",enabled:!0},{name:"hide",enabled:!0}]})}),_.gT.OVERLAY_TIME_DELAY)}})),y(this,"hideTooltip",(()=>{window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout((()=>{this.setState({show:!1}),clearTimeout(this.showTimeout),C(this.tooltipContainerRef.current).hide()}),_.gT.OVERLAY_TIME_DELAY_SMALL)})),this.tooltipContainerRef=r.createRef(),this.showTimeout=-1,this.hideTimeout=-1,this.state={show:!1}}render(){const{href:e,children:t,attributes:n}=this.props,s={"data-hashtag":n["data-hashtag"],"data-link":n["data-link"],"data-channel-mention":n["data-channel-mention"]};return r.createElement(r.Fragment,null,b.createPortal(r.createElement("div",{style:v,ref:this.tooltipContainerRef},r.createElement(E.Z,{href:e,show:this.state.show,pluggableName:"LinkTooltip"})),document.getElementById("root")),r.createElement("span",Object.assign({onMouseOver:this.showTooltip,onMouseLeave:this.hideTooltip},s),t))}}y(w,"propTypes",{href:u().string.isRequired,attributes:u().objectOf(u().string).isRequired});var S=n(14890),T=n(34959),P=n(51);const M=({children:e,alt:t,isExpanded:n,postId:s,actions:a,onToggle:i,imageKey:o})=>{const{toggleInlineImageVisibility:l}=a;(0,r.useEffect)((()=>{i(n)}),[n]);const c=()=>{l(s,o)},d="markdown-image-expand ".concat(n?"markdown-image-expand--expanded":"");return r.createElement("div",{className:d},n&&r.createElement(r.Fragment,null,r.createElement("button",{className:"markdown-image-expand__collapse-button",type:"button",onClick:c},r.createElement("span",{className:"icon icon-menu-down"})),e),!n&&r.createElement("button",{className:"markdown-image-expand__expand-button",type:"button",onClick:c},r.createElement("span",{className:"icon icon-menu-right markdown-image-expand__expand-icon"}),r.createElement("span",{className:"markdown-image-expand__alt-text"},t)))};M.propTypes={alt:u().string.isRequired,imageKey:u().string.isRequired,children:u().node.isRequired,isExpanded:u().bool.isRequired,postId:u().string.isRequired,onToggle:u().func.isRequired,actions:u().shape({toggleInlineImageVisibility:u().func.isRequired}).isRequired};const N=M,I=(0,c.connect)(((e,{postId:t,imageKey:n})=>({isExpanded:(0,P.Ug)(e,t,n)})),(e=>({actions:(0,S.bindActionCreators)({toggleInlineImageVisibility:T.d},e)})))(N);var R=n(56039),A=n(42329),O=n(78335);const L=n.p+"files/82c53ca565ed83a033dfb4284740873d.png";function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends r.PureComponent{constructor(e){super(e),D(this,"showModal",(e=>{this.props.imageIsLink||(e.preventDefault(),this.setState({showModal:!0}))})),D(this,"hideModal",(()=>{this.setState({showModal:!1})})),D(this,"handleLoadFail",(()=>{this.setState({loadFailed:!0})})),D(this,"isHeaderChangeMessage",(()=>this.props.postType&&this.props.postType===_.ZP.PostTypes.HEADER_CHANGE)),D(this,"onUpdated",(e=>{this.props.src&&this.props.src!==e&&this.setState({loadFailed:!1})})),D(this,"handleImageLoaded",(({height:e,width:t})=>{this.setState({loaded:!0},(()=>{this.props.onImageLoaded&&this.props.onImageLoaded({height:e,width:t})}))})),this.state={showModal:!1,loadFailed:!1,loaded:!1}}componentDidUpdate(e){this.onUpdated(e.src)}render(){const{imageMetadata:e,src:t,alt:n,imageIsLink:s}=this.props;if(""===t||this.state.loadFailed){let e="markdown-inline-img broken-image";return this.isHeaderChangeMessage()&&(e+=" broken-image--scaled-down"),r.createElement("div",{style:{display:"inline-block"}},r.createElement("img",{className:e,alt:n,src:L}))}return r.createElement(R.Z,{src:t,imageMetadata:e},(a=>{if(!a)return r.createElement("a",{className:"theme markdown__link",href:t,rel:"noopener noreferrer",target:"_blank",title:this.props.title},n);const i=(e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1):null})(a);let o="";if(this.state.loaded)o="".concat(this.props.className,s||!i?" markdown-inline-img--hover markdown-inline-img--no-border":" markdown-inline-img--hover cursor--pointer a11y--active"),this.isHeaderChangeMessage()&&(o+=" markdown-inline-img--scaled-down");else{const e=this.isHeaderChangeMessage()?"markdown-inline-img--scaled-down-loading":"markdown-inline-img--loading";o="".concat(this.props.className," ").concat(e)}const{height:l,width:c,title:d,postId:m,onImageHeightChanged:u}=this.props,p=r.createElement(r.Fragment,null,r.createElement(A.Z,{alt:n,className:o,src:a,height:l,width:c,title:d,dimensions:e,showLoader:!1,onClick:this.showModal,onImageLoadFail:this.handleLoadFail,onImageLoaded:this.handleImageLoaded}),!s&&i&&r.createElement(O.Z,{show:this.state.showModal,onModalDismissed:this.hideModal,postId:this.props.postId,startIndex:0,fileInfos:[{has_preview_image:!1,link:a,extension:e.format||i,name:n}]}));return(null!=l?l:e.height)>=_.ZP.EXPANDABLE_INLINE_IMAGE_MIN_HEIGHT?r.createElement(I,{alt:n||a,postId:m,imageKey:a,onToggle:u},p):p}))}}D(k,"defaultProps",{imageMetadata:{}}),D(k,"propTypes",{alt:u().string,imageMetadata:u().object,src:u().string.isRequired,height:u().number,width:u().number,title:u().string,className:u().string.isRequired,postId:u().string.isRequired,imageIsLink:u().bool.isRequired,onImageLoaded:u().func,onImageHeightChanged:u().func,postType:u().string});var x=n(3601),U=n(21226),Z=n(94184),j=n.n(Z);class F extends r.PureComponent{render(){const e=":"+this.props.name+":";return this.props.imageUrl?r.createElement("span",{alt:e,className:j()("emoticon",{"emoticon-big":"custom"===this.props.category}),title:e,style:{backgroundImage:"url("+this.props.imageUrl+")"}},e):e}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(F,"propTypes",{name:u().string.isRequired,imageUrl:u().string.isRequired,category:u().string.isRequired});const H=(0,c.connect)((function(e,t){const n=(0,U.kM)(e).get(t.name);return{imageUrl:n?(0,x.UK)(n):"",category:n?n.category:""}}))(F);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const G=function(e,t,n={}){if(!e)return null;const s=new o.Parser,a=new o.ProcessNodeDefinitions(r),i=[{replaceChildren:!1,shouldProcessNode:e=>"tag"===e.type&&"input"===e.name&&"checkbox"===e.attribs.type,processNode:e=>{const t=e.attribs||{};return e.attribs.checked=Boolean(t.checked),r.createElement("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.attribs))}}];if(n.hasPluginTooltips){const e="href";i.push({replaceChildren:!0,shouldProcessNode:t=>"tag"===t.type&&"a"===t.name&&t.attribs[e],processNode:(t,n)=>r.createElement(w,{href:t.attribs[e],attributes:t.attribs},n)})}if(!("mentions"in n)||n.mentions){const e=!("mentionHighlight"in n)||n.mentionHighlight,s="disableGroupHighlight"in n&&!0===n.disableGroupHighlight,a="data-mention";i.push({replaceChildren:!0,shouldProcessNode:e=>e.attribs&&e.attribs[a],processNode:(i,o)=>{const c=i.attribs[a];return r.createElement(l.Z,{mentionName:c,isRHS:t,hasMention:!0,disableHighlight:!e,disableGroupHighlight:s,channelId:n.channelId},o)}})}if(!("emoji"in n)||n.emoji){const e="data-emoticon";i.push({replaceChildren:!0,shouldProcessNode:t=>t.attribs&&t.attribs[e],processNode:t=>{const n=t.attribs[e];return r.createElement(H,{name:n})}})}return"images"in n&&!n.images||i.push({shouldProcessNode:e=>"tag"===e.type&&"img"===e.name,processNode:e=>{const t=e.attribs,{class:s}=t,a=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["class"]);return r.createElement(k,Object.assign({className:s,imageMetadata:n.imagesMetadata&&n.imagesMetadata[a.src]},a,n.imageProps,{postId:n.postId,imageIsLink:(i=e.parentNode,!(!i||"tag"!==i.type||"a"!==i.name)),postType:n.postType}));var i}}),"latex"in n&&!n.latex||i.push({shouldProcessNode:e=>e.attribs&&e.attribs["data-latex"],processNode:e=>r.createElement(g,{content:e.attribs["data-latex"]})}),i.push({shouldProcessNode:()=>!0,processNode:a.processDefaultNode}),s.parseWithInstructions(e,(function(){return!0}),i)}},14906:(e,t,n)=>{"use strict";n.d(t,{hC:()=>a,lw:()=>i,Kt:()=>o,fB:()=>l}),n(15306),n(73210);var s=n(85174);function a(e){if(-1===Array.from(e.types).indexOf("text/html"))return!1;const t=e.getData("text/html");if(!/<table/i.test(t))return!1;return function(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelector("table")}(t)||!1}function i(e){return/\b(js|blob|diff)-./.test(e)}function r(e){return null==e.textContent?" ":e.textContent.trim().replace(/\|/g,"\\|").replace(/\n/g," ")}function o(e,t,n){const s=Array.from(e.querySelectorAll("tr")),a=s.shift(),i=a?(o=a,Array.from(o.querySelectorAll("td, th")).map(r)):[];var o;const l=i.map((()=>"---")),c="|".concat(i.join(" | "),"|\n|").concat(l.join(" | "),"|\n"),d=s.map((e=>"|".concat(Array.from(e.querySelectorAll("td")).map(r).join(" | "),"|"))).join("\n"),m="".concat(c).concat(d,"\n");return t?void 0===n?"".concat(t,"\n\n").concat(m):[t.slice(0,n),m,t.slice(n)].join("\n"):m}function l(e,t,n){const{firstPiece:a,lastPiece:i}=(0,s.Nn)(e,t),r=""===i?"":"\n",o=(""===a?"":"\n")+"```\n"+function(e){return-1!==Array.from(e.types).indexOf("text/plain")&&e.getData("text/plain")}(n)+"\n```"+r;return{formattedMessage:"".concat(a).concat(o).concat(i),formattedCodeBlock:o}}},56546:(e,t,n)=>{"use strict";function s(e,t,n,s,a){let i;return i=e.top>n?"top":t-e.bottom>(s||n)?"bottom":a||"left",i}n.d(t,{b:()=>s})},72654:(e,t,n)=>{"use strict";n.d(t,{gm:()=>d});var s=n(45697),a=n.n(s);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={locale:a().string,timeZone:a().string,formats:a().object,messages:a().object,textComponent:a().any,defaultLocale:a().string,defaultFormats:a().object,wrapRichTextChunksInFragment:a().bool,onError:a().func},c={formatDate:a().func.isRequired,formatTime:a().func.isRequired,formatRelativeTime:a().func.isRequired,formatNumber:a().func.isRequired,formatPlural:a().func.isRequired,formatMessage:a().func.isRequired},d=a().shape(r(r(r({},l),c),{},{formatters:a().object}))},59930:(e,t,n)=>{"use strict";n.d(t,{b2:()=>o});var s=n(92337),a=n(74935);s.vU.PAGE_NOT_FOUND;const i=["/mfa/setup","/mfa/confirm"],r=["","email","ldap"];function o(e,t,n,s){if("true"===t.MFA&&"true"===n.EnableMultifactorAuthentication&&"true"===n.EnforceMultifactorAuthentication&&-1===i.indexOf(s)){if((0,a.a_)(e)&&"true"!==n.GuestAccountsEnforceMultifactorAuthentication)return!1;if(e&&!e.mfa_active&&-1!==r.indexOf(e.auth_service))return!0}return!1}},52952:(e,t,n)=>{"use strict";function s(e,t){return e===t||(e||"").split(".").slice(0,-2).join(".")===(t||"").split(".").slice(0,-2).join(".")}function a(e,t){if(e===t)return!0;const n=(e||"").split(".").filter((e=>null!==/^[0-9]+$/.exec(e))),s=(t||"").split(".").filter((e=>null!==/^[0-9]+$/.exec(e)));for(let e=0;e<Math.max(n.length,s.length);e++){if((n[e]||0)>(s[e]||0))return!0;if((n[e]||0)<(s[e]||0))return!1}return!0}n.d(t,{p:()=>s,l:()=>a}),n(23123)},88136:(e,t,n)=>{"use strict";function s(e,t,n=""){if(!e)return[];const s=n.split(",");return[...e.filter((e=>null!==e&&s.includes(e.id))).sort(((e,t)=>s.indexOf(e.id)-s.indexOf(t.id))),...e.filter((e=>null!==e&&!s.includes(e.id))).sort(((e,n)=>function(e,t,n){return null!==t.display_name&&t.display_name!==n.display_name?t.display_name.localeCompare(n.display_name,e,{numeric:!0}):t.name.localeCompare(n.name,e,{numeric:!0})}(t,e,n)))].filter((e=>e&&!e.delete_at>0&&null!=e.display_name))}n.d(t,{Z:()=>s}),n(23123),n(32023),n(33948)},56417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=n.p+"files/228bff4301724dfe4fdc5bfc15e84f43.svg"},43610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=n.p+"files/63ee9f55a9acf5209476b0e0e97de80b.svg"},43163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=n.p+"files/52fd1c66da2cc4e23dfa5a212c645db2.svg"},24654:()=>{}}]);